(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}})();function IN(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var jh={exports:{}},Ec={},wh={exports:{}},Kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function m4(){if(nv)return Kt;nv=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),D=Symbol.iterator;function A(he){return he===null||typeof he!="object"?null:(he=D&&he[D]||he["@@iterator"],typeof he=="function"?he:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,W={};function V(he,be,Ee){this.props=he,this.context=be,this.refs=W,this.updater=Ee||O}V.prototype.isReactComponent={},V.prototype.setState=function(he,be){if(typeof he!="object"&&typeof he!="function"&&he!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,he,be,"setState")},V.prototype.forceUpdate=function(he){this.updater.enqueueForceUpdate(this,he,"forceUpdate")};function Y(){}Y.prototype=V.prototype;function ie(he,be,Ee){this.props=he,this.context=be,this.refs=W,this.updater=Ee||O}var ce=ie.prototype=new Y;ce.constructor=ie,k(ce,V.prototype),ce.isPureReactComponent=!0;var pe=Array.isArray,X=Object.prototype.hasOwnProperty,ne={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function h(he,be,Ee){var We,Re={},Ge=null,Le=null;if(be!=null)for(We in be.ref!==void 0&&(Le=be.ref),be.key!==void 0&&(Ge=""+be.key),be)X.call(be,We)&&!F.hasOwnProperty(We)&&(Re[We]=be[We]);var a=arguments.length-2;if(a===1)Re.children=Ee;else if(1<a){for(var C=Array(a),g=0;g<a;g++)C[g]=arguments[g+2];Re.children=C}if(he&&he.defaultProps)for(We in a=he.defaultProps,a)Re[We]===void 0&&(Re[We]=a[We]);return{$$typeof:r,type:he,key:Ge,ref:Le,props:Re,_owner:ne.current}}function Z(he,be){return{$$typeof:r,type:he.type,key:be,ref:he.ref,props:he.props,_owner:he._owner}}function Q(he){return typeof he=="object"&&he!==null&&he.$$typeof===r}function ae(he){var be={"=":"=0",":":"=2"};return"$"+he.replace(/[=:]/g,function(Ee){return be[Ee]})}var oe=/\/+/g;function ee(he,be){return typeof he=="object"&&he!==null&&he.key!=null?ae(""+he.key):be.toString(36)}function K(he,be,Ee,We,Re){var Ge=typeof he;(Ge==="undefined"||Ge==="boolean")&&(he=null);var Le=!1;if(he===null)Le=!0;else switch(Ge){case"string":case"number":Le=!0;break;case"object":switch(he.$$typeof){case r:case t:Le=!0}}if(Le)return Le=he,Re=Re(Le),he=We===""?"."+ee(Le,0):We,pe(Re)?(Ee="",he!=null&&(Ee=he.replace(oe,"$&/")+"/"),K(Re,be,Ee,"",function(g){return g})):Re!=null&&(Q(Re)&&(Re=Z(Re,Ee+(!Re.key||Le&&Le.key===Re.key?"":(""+Re.key).replace(oe,"$&/")+"/")+he)),be.push(Re)),1;if(Le=0,We=We===""?".":We+":",pe(he))for(var a=0;a<he.length;a++){Ge=he[a];var C=We+ee(Ge,a);Le+=K(Ge,be,Ee,C,Re)}else if(C=A(he),typeof C=="function")for(he=C.call(he),a=0;!(Ge=he.next()).done;)Ge=Ge.value,C=We+ee(Ge,a++),Le+=K(Ge,be,Ee,C,Re);else if(Ge==="object")throw be=String(he),Error("Objects are not valid as a React child (found: "+(be==="[object Object]"?"object with keys {"+Object.keys(he).join(", ")+"}":be)+"). If you meant to render a collection of children, use an array instead.");return Le}function i(he,be,Ee){if(he==null)return he;var We=[],Re=0;return K(he,We,"","",function(Ge){return be.call(Ee,Ge,Re++)}),We}function He(he){if(he._status===-1){var be=he._result;be=be(),be.then(function(Ee){(he._status===0||he._status===-1)&&(he._status=1,he._result=Ee)},function(Ee){(he._status===0||he._status===-1)&&(he._status=2,he._result=Ee)}),he._status===-1&&(he._status=0,he._result=be)}if(he._status===1)return he._result.default;throw he._result}var je={current:null},Ne={transition:null},Ae={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:Ne,ReactCurrentOwner:ne};function Ie(){throw Error("act(...) is not supported in production builds of React.")}return Kt.Children={map:i,forEach:function(he,be,Ee){i(he,function(){be.apply(this,arguments)},Ee)},count:function(he){var be=0;return i(he,function(){be++}),be},toArray:function(he){return i(he,function(be){return be})||[]},only:function(he){if(!Q(he))throw Error("React.Children.only expected to receive a single React element child.");return he}},Kt.Component=V,Kt.Fragment=s,Kt.Profiler=o,Kt.PureComponent=ie,Kt.StrictMode=n,Kt.Suspense=p,Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ae,Kt.act=Ie,Kt.cloneElement=function(he,be,Ee){if(he==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+he+".");var We=k({},he.props),Re=he.key,Ge=he.ref,Le=he._owner;if(be!=null){if(be.ref!==void 0&&(Ge=be.ref,Le=ne.current),be.key!==void 0&&(Re=""+be.key),he.type&&he.type.defaultProps)var a=he.type.defaultProps;for(C in be)X.call(be,C)&&!F.hasOwnProperty(C)&&(We[C]=be[C]===void 0&&a!==void 0?a[C]:be[C])}var C=arguments.length-2;if(C===1)We.children=Ee;else if(1<C){a=Array(C);for(var g=0;g<C;g++)a[g]=arguments[g+2];We.children=a}return{$$typeof:r,type:he.type,key:Re,ref:Ge,props:We,_owner:Le}},Kt.createContext=function(he){return he={$$typeof:c,_currentValue:he,_currentValue2:he,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},he.Provider={$$typeof:u,_context:he},he.Consumer=he},Kt.createElement=h,Kt.createFactory=function(he){var be=h.bind(null,he);return be.type=he,be},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(he){return{$$typeof:x,render:he}},Kt.isValidElement=Q,Kt.lazy=function(he){return{$$typeof:T,_payload:{_status:-1,_result:he},_init:He}},Kt.memo=function(he,be){return{$$typeof:w,type:he,compare:be===void 0?null:be}},Kt.startTransition=function(he){var be=Ne.transition;Ne.transition={};try{he()}finally{Ne.transition=be}},Kt.unstable_act=Ie,Kt.useCallback=function(he,be){return je.current.useCallback(he,be)},Kt.useContext=function(he){return je.current.useContext(he)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(he){return je.current.useDeferredValue(he)},Kt.useEffect=function(he,be){return je.current.useEffect(he,be)},Kt.useId=function(){return je.current.useId()},Kt.useImperativeHandle=function(he,be,Ee){return je.current.useImperativeHandle(he,be,Ee)},Kt.useInsertionEffect=function(he,be){return je.current.useInsertionEffect(he,be)},Kt.useLayoutEffect=function(he,be){return je.current.useLayoutEffect(he,be)},Kt.useMemo=function(he,be){return je.current.useMemo(he,be)},Kt.useReducer=function(he,be,Ee){return je.current.useReducer(he,be,Ee)},Kt.useRef=function(he){return je.current.useRef(he)},Kt.useState=function(he){return je.current.useState(he)},Kt.useSyncExternalStore=function(he,be,Ee){return je.current.useSyncExternalStore(he,be,Ee)},Kt.useTransition=function(){return je.current.useTransition()},Kt.version="18.3.1",Kt}var iv;function ef(){return iv||(iv=1,wh.exports=m4()),wh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function x4(){if(ov)return Ec;ov=1;var r=ef(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(x,p,w){var T,D={},A=null,O=null;w!==void 0&&(A=""+w),p.key!==void 0&&(A=""+p.key),p.ref!==void 0&&(O=p.ref);for(T in p)n.call(p,T)&&!u.hasOwnProperty(T)&&(D[T]=p[T]);if(x&&x.defaultProps)for(T in p=x.defaultProps,p)D[T]===void 0&&(D[T]=p[T]);return{$$typeof:t,type:x,key:A,ref:O,props:D,_owner:o.current}}return Ec.Fragment=s,Ec.jsx=c,Ec.jsxs=c,Ec}var lv;function h4(){return lv||(lv=1,jh.exports=x4()),jh.exports}var e=h4(),N=ef();const gi=IN(N);var ru={},Nh={exports:{}},Os={},kh={exports:{}},Sh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function p4(){return cv||(cv=1,(function(r){function t(Ne,Ae){var Ie=Ne.length;Ne.push(Ae);e:for(;0<Ie;){var he=Ie-1>>>1,be=Ne[he];if(0<o(be,Ae))Ne[he]=Ae,Ne[Ie]=be,Ie=he;else break e}}function s(Ne){return Ne.length===0?null:Ne[0]}function n(Ne){if(Ne.length===0)return null;var Ae=Ne[0],Ie=Ne.pop();if(Ie!==Ae){Ne[0]=Ie;e:for(var he=0,be=Ne.length,Ee=be>>>1;he<Ee;){var We=2*(he+1)-1,Re=Ne[We],Ge=We+1,Le=Ne[Ge];if(0>o(Re,Ie))Ge<be&&0>o(Le,Re)?(Ne[he]=Le,Ne[Ge]=Ie,he=Ge):(Ne[he]=Re,Ne[We]=Ie,he=We);else if(Ge<be&&0>o(Le,Ie))Ne[he]=Le,Ne[Ge]=Ie,he=Ge;else break e}}return Ae}function o(Ne,Ae){var Ie=Ne.sortIndex-Ae.sortIndex;return Ie!==0?Ie:Ne.id-Ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var c=Date,x=c.now();r.unstable_now=function(){return c.now()-x}}var p=[],w=[],T=1,D=null,A=3,O=!1,k=!1,W=!1,V=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ce(Ne){for(var Ae=s(w);Ae!==null;){if(Ae.callback===null)n(w);else if(Ae.startTime<=Ne)n(w),Ae.sortIndex=Ae.expirationTime,t(p,Ae);else break;Ae=s(w)}}function pe(Ne){if(W=!1,ce(Ne),!k)if(s(p)!==null)k=!0,He(X);else{var Ae=s(w);Ae!==null&&je(pe,Ae.startTime-Ne)}}function X(Ne,Ae){k=!1,W&&(W=!1,Y(h),h=-1),O=!0;var Ie=A;try{for(ce(Ae),D=s(p);D!==null&&(!(D.expirationTime>Ae)||Ne&&!ae());){var he=D.callback;if(typeof he=="function"){D.callback=null,A=D.priorityLevel;var be=he(D.expirationTime<=Ae);Ae=r.unstable_now(),typeof be=="function"?D.callback=be:D===s(p)&&n(p),ce(Ae)}else n(p);D=s(p)}if(D!==null)var Ee=!0;else{var We=s(w);We!==null&&je(pe,We.startTime-Ae),Ee=!1}return Ee}finally{D=null,A=Ie,O=!1}}var ne=!1,F=null,h=-1,Z=5,Q=-1;function ae(){return!(r.unstable_now()-Q<Z)}function oe(){if(F!==null){var Ne=r.unstable_now();Q=Ne;var Ae=!0;try{Ae=F(!0,Ne)}finally{Ae?ee():(ne=!1,F=null)}}else ne=!1}var ee;if(typeof ie=="function")ee=function(){ie(oe)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,i=K.port2;K.port1.onmessage=oe,ee=function(){i.postMessage(null)}}else ee=function(){V(oe,0)};function He(Ne){F=Ne,ne||(ne=!0,ee())}function je(Ne,Ae){h=V(function(){Ne(r.unstable_now())},Ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Ne){Ne.callback=null},r.unstable_continueExecution=function(){k||O||(k=!0,He(X))},r.unstable_forceFrameRate=function(Ne){0>Ne||125<Ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<Ne?Math.floor(1e3/Ne):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_getFirstCallbackNode=function(){return s(p)},r.unstable_next=function(Ne){switch(A){case 1:case 2:case 3:var Ae=3;break;default:Ae=A}var Ie=A;A=Ae;try{return Ne()}finally{A=Ie}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Ne,Ae){switch(Ne){case 1:case 2:case 3:case 4:case 5:break;default:Ne=3}var Ie=A;A=Ne;try{return Ae()}finally{A=Ie}},r.unstable_scheduleCallback=function(Ne,Ae,Ie){var he=r.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?he+Ie:he):Ie=he,Ne){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=Ie+be,Ne={id:T++,callback:Ae,priorityLevel:Ne,startTime:Ie,expirationTime:be,sortIndex:-1},Ie>he?(Ne.sortIndex=Ie,t(w,Ne),s(p)===null&&Ne===s(w)&&(W?(Y(h),h=-1):W=!0,je(pe,Ie-he))):(Ne.sortIndex=be,t(p,Ne),k||O||(k=!0,He(X))),Ne},r.unstable_shouldYield=ae,r.unstable_wrapCallback=function(Ne){var Ae=A;return function(){var Ie=A;A=Ae;try{return Ne.apply(this,arguments)}finally{A=Ie}}}})(Sh)),Sh}var dv;function f4(){return dv||(dv=1,kh.exports=p4()),kh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function g4(){if(uv)return Os;uv=1;var r=ef(),t=f4();function s(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function u(l,d){c(l,d),c(l+"Capture",d)}function c(l,d){for(o[l]=d,l=0;l<d.length;l++)n.add(d[l])}var x=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},D={};function A(l){return p.call(D,l)?!0:p.call(T,l)?!1:w.test(l)?D[l]=!0:(T[l]=!0,!1)}function O(l,d,m,j){if(m!==null&&m.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return j?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function k(l,d,m,j){if(d===null||typeof d>"u"||O(l,d,m,j))return!0;if(j)return!1;if(m!==null)switch(m.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function W(l,d,m,j,P,L,G){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=j,this.attributeNamespace=P,this.mustUseProperty=m,this.propertyName=l,this.type=d,this.sanitizeURL=L,this.removeEmptyString=G}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){V[l]=new W(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];V[d]=new W(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){V[l]=new W(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){V[l]=new W(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){V[l]=new W(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){V[l]=new W(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){V[l]=new W(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){V[l]=new W(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){V[l]=new W(l,5,!1,l.toLowerCase(),null,!1,!1)});var Y=/[\-:]([a-z])/g;function ie(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(Y,ie);V[d]=new W(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(Y,ie);V[d]=new W(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(Y,ie);V[d]=new W(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){V[l]=new W(l,1,!1,l.toLowerCase(),null,!1,!1)}),V.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){V[l]=new W(l,1,!1,l.toLowerCase(),null,!0,!0)});function ce(l,d,m,j){var P=V.hasOwnProperty(d)?V[d]:null;(P!==null?P.type!==0:j||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(k(d,m,P,j)&&(m=null),j||P===null?A(d)&&(m===null?l.removeAttribute(d):l.setAttribute(d,""+m)):P.mustUseProperty?l[P.propertyName]=m===null?P.type===3?!1:"":m:(d=P.attributeName,j=P.attributeNamespace,m===null?l.removeAttribute(d):(P=P.type,m=P===3||P===4&&m===!0?"":""+m,j?l.setAttributeNS(j,d,m):l.setAttribute(d,m))))}var pe=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),ne=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),ae=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),i=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),Ne=Symbol.iterator;function Ae(l){return l===null||typeof l!="object"?null:(l=Ne&&l[Ne]||l["@@iterator"],typeof l=="function"?l:null)}var Ie=Object.assign,he;function be(l){if(he===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);he=d&&d[1]||""}return`
`+he+l}var Ee=!1;function We(l,d){if(!l||Ee)return"";Ee=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(De){var j=De}Reflect.construct(l,[],d)}else{try{d.call()}catch(De){j=De}l.call(d.prototype)}else{try{throw Error()}catch(De){j=De}l()}}catch(De){if(De&&j&&typeof De.stack=="string"){for(var P=De.stack.split(`
`),L=j.stack.split(`
`),G=P.length-1,me=L.length-1;1<=G&&0<=me&&P[G]!==L[me];)me--;for(;1<=G&&0<=me;G--,me--)if(P[G]!==L[me]){if(G!==1||me!==1)do if(G--,me--,0>me||P[G]!==L[me]){var ve=`
`+P[G].replace(" at new "," at ");return l.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",l.displayName)),ve}while(1<=G&&0<=me);break}}}finally{Ee=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?be(l):""}function Re(l){switch(l.tag){case 5:return be(l.type);case 16:return be("Lazy");case 13:return be("Suspense");case 19:return be("SuspenseList");case 0:case 2:case 15:return l=We(l.type,!1),l;case 11:return l=We(l.type.render,!1),l;case 1:return l=We(l.type,!0),l;default:return""}}function Ge(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case F:return"Fragment";case ne:return"Portal";case Z:return"Profiler";case h:return"StrictMode";case ee:return"Suspense";case K:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case ae:return(l.displayName||"Context")+".Consumer";case Q:return(l._context.displayName||"Context")+".Provider";case oe:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case i:return d=l.displayName||null,d!==null?d:Ge(l.type)||"Memo";case He:d=l._payload,l=l._init;try{return Ge(l(d))}catch{}}return null}function Le(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ge(d);case 8:return d===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function a(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function C(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function g(l){var d=C(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),j=""+l[d];if(!l.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var P=m.get,L=m.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return P.call(this)},set:function(G){j=""+G,L.call(this,G)}}),Object.defineProperty(l,d,{enumerable:m.enumerable}),{getValue:function(){return j},setValue:function(G){j=""+G},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function z(l){l._valueTracker||(l._valueTracker=g(l))}function U(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var m=d.getValue(),j="";return l&&(j=C(l)?l.checked?"true":"false":l.value),l=j,l!==m?(d.setValue(l),!0):!1}function q(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function de(l,d){var m=d.checked;return Ie({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function ue(l,d){var m=d.defaultValue==null?"":d.defaultValue,j=d.checked!=null?d.checked:d.defaultChecked;m=a(d.value!=null?d.value:m),l._wrapperState={initialChecked:j,initialValue:m,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function E(l,d){d=d.checked,d!=null&&ce(l,"checked",d,!1)}function M(l,d){E(l,d);var m=a(d.value),j=d.type;if(m!=null)j==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(j==="submit"||j==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?f(l,d.type,m):d.hasOwnProperty("defaultValue")&&f(l,d.type,a(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function _(l,d,m){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var j=d.type;if(!(j!=="submit"&&j!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,m||d===l.value||(l.value=d),l.defaultValue=d}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function f(l,d,m){(d!=="number"||q(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var b=Array.isArray;function I(l,d,m,j){if(l=l.options,d){d={};for(var P=0;P<m.length;P++)d["$"+m[P]]=!0;for(m=0;m<l.length;m++)P=d.hasOwnProperty("$"+l[m].value),l[m].selected!==P&&(l[m].selected=P),P&&j&&(l[m].defaultSelected=!0)}else{for(m=""+a(m),d=null,P=0;P<l.length;P++){if(l[P].value===m){l[P].selected=!0,j&&(l[P].defaultSelected=!0);return}d!==null||l[P].disabled||(d=l[P])}d!==null&&(d.selected=!0)}}function J(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(s(91));return Ie({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function te(l,d){var m=d.value;if(m==null){if(m=d.children,d=d.defaultValue,m!=null){if(d!=null)throw Error(s(92));if(b(m)){if(1<m.length)throw Error(s(93));m=m[0]}d=m}d==null&&(d=""),m=d}l._wrapperState={initialValue:a(m)}}function xe(l,d){var m=a(d.value),j=a(d.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),d.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),j!=null&&(l.defaultValue=""+j)}function ye(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function fe(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?fe(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Ce,qe=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,m,j,P){MSApp.execUnsafeLocalFunction(function(){return l(d,m,j,P)})}:l})(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(Ce=Ce||document.createElement("div"),Ce.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Ce.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function at(l,d){if(d){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=d;return}}l.textContent=d}var ze={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$t=["Webkit","ms","Moz","O"];Object.keys(ze).forEach(function(l){$t.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),ze[d]=ze[l]})});function ct(l,d,m){return d==null||typeof d=="boolean"||d===""?"":m||typeof d!="number"||d===0||ze.hasOwnProperty(l)&&ze[l]?(""+d).trim():d+"px"}function dt(l,d){l=l.style;for(var m in d)if(d.hasOwnProperty(m)){var j=m.indexOf("--")===0,P=ct(m,d[m],j);m==="float"&&(m="cssFloat"),j?l.setProperty(m,P):l[m]=P}}var Qe=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ut(l,d){if(d){if(Qe[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(s(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(s(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(s(61))}if(d.style!=null&&typeof d.style!="object")throw Error(s(62))}}function pt(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ue=null;function Xe(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Dt=null,xt=null,Xt=null;function Ar(l){if(l=hc(l)){if(typeof Dt!="function")throw Error(s(280));var d=l.stateNode;d&&(d=g0(d),Dt(l.stateNode,l.type,d))}}function xr(l){xt?Xt?Xt.push(l):Xt=[l]:xt=l}function Wt(){if(xt){var l=xt,d=Xt;if(Xt=xt=null,Ar(l),d)for(l=0;l<d.length;l++)Ar(d[l])}}function Oa(l,d){return l(d)}function Fs(){}var ws=!1;function aa(l,d,m){if(ws)return l(d,m);ws=!0;try{return Oa(l,d,m)}finally{ws=!1,(xt!==null||Xt!==null)&&(Fs(),Wt())}}function vr(l,d){var m=l.stateNode;if(m===null)return null;var j=g0(m);if(j===null)return null;m=j[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(l=l.type,j=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!j;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(s(231,d,typeof m));return m}var La=!1;if(x)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){La=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{La=!1}function Va(l,d,m,j,P,L,G,me,ve){var De=Array.prototype.slice.call(arguments,3);try{d.apply(m,De)}catch(Ze){this.onError(Ze)}}var dn=!1,Vn=null,Hs=!1,un=null,Ql={onError:function(l){dn=!0,Vn=l}};function zn(l,d,m,j,P,L,G,me,ve){dn=!1,Vn=null,Va.apply(Ql,arguments)}function Eo(l,d,m,j,P,L,G,me,ve){if(zn.apply(this,arguments),dn){if(dn){var De=Vn;dn=!1,Vn=null}else throw Error(s(198));Hs||(Hs=!0,un=De)}}function Ws(l){var d=l,m=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(m=d.return),l=d.return;while(l)}return d.tag===3?m:null}function Oi(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function ba(l){if(Ws(l)!==l)throw Error(s(188))}function Fd(l){var d=l.alternate;if(!d){if(d=Ws(l),d===null)throw Error(s(188));return d!==l?null:l}for(var m=l,j=d;;){var P=m.return;if(P===null)break;var L=P.alternate;if(L===null){if(j=P.return,j!==null){m=j;continue}break}if(P.child===L.child){for(L=P.child;L;){if(L===m)return ba(P),l;if(L===j)return ba(P),d;L=L.sibling}throw Error(s(188))}if(m.return!==j.return)m=P,j=L;else{for(var G=!1,me=P.child;me;){if(me===m){G=!0,m=P,j=L;break}if(me===j){G=!0,j=P,m=L;break}me=me.sibling}if(!G){for(me=L.child;me;){if(me===m){G=!0,m=L,j=P;break}if(me===j){G=!0,j=L,m=P;break}me=me.sibling}if(!G)throw Error(s(189))}}if(m.alternate!==j)throw Error(s(190))}if(m.tag!==3)throw Error(s(188));return m.stateNode.current===m?l:d}function Kl(l){return l=Fd(l),l!==null?Co(l):null}function Co(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=Co(l);if(d!==null)return d;l=l.sibling}return null}var Do=t.unstable_scheduleCallback,Zl=t.unstable_cancelCallback,Hd=t.unstable_shouldYield,Zm=t.unstable_requestPaint,jr=t.unstable_now,Wd=t.unstable_getCurrentPriorityLevel,Li=t.unstable_ImmediatePriority,Bn=t.unstable_UserBlockingPriority,na=t.unstable_NormalPriority,Yl=t.unstable_LowPriority,qd=t.unstable_IdlePriority,Vi=null,qs=null;function Gd(l){if(qs&&typeof qs.onCommitFiberRoot=="function")try{qs.onCommitFiberRoot(Vi,l,void 0,(l.current.flags&128)===128)}catch{}}var Ns=Math.clz32?Math.clz32:Kd,Xl=Math.log,Qd=Math.LN2;function Kd(l){return l>>>=0,l===0?32:31-(Xl(l)/Qd|0)|0}var _o=64,$o=4194304;function Un(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function zi(l,d){var m=l.pendingLanes;if(m===0)return 0;var j=0,P=l.suspendedLanes,L=l.pingedLanes,G=m&268435455;if(G!==0){var me=G&~P;me!==0?j=Un(me):(L&=G,L!==0&&(j=Un(L)))}else G=m&~P,G!==0?j=Un(G):L!==0&&(j=Un(L));if(j===0)return 0;if(d!==0&&d!==j&&(d&P)===0&&(P=j&-j,L=d&-d,P>=L||P===16&&(L&4194240)!==0))return d;if((j&4)!==0&&(j|=m&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=j;0<d;)m=31-Ns(d),P=1<<m,j|=l[m],d&=~P;return j}function Ym(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mn(l,d){for(var m=l.suspendedLanes,j=l.pingedLanes,P=l.expirationTimes,L=l.pendingLanes;0<L;){var G=31-Ns(L),me=1<<G,ve=P[G];ve===-1?((me&m)===0||(me&j)!==0)&&(P[G]=Ym(me,d)):ve<=d&&(l.expiredLanes|=me),L&=~me}}function Gs(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Bi(){var l=_o;return _o<<=1,(_o&4194240)===0&&(_o=64),l}function Fn(l){for(var d=[],m=0;31>m;m++)d.push(l);return d}function Hn(l,d,m){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-Ns(d),l[d]=m}function gr(l,d){var m=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var j=l.eventTimes;for(l=l.expirationTimes;0<m;){var P=31-Ns(m),L=1<<P;d[P]=0,j[P]=-1,l[P]=-1,m&=~L}}function Wn(l,d){var m=l.entangledLanes|=d;for(l=l.entanglements;m;){var j=31-Ns(m),P=1<<j;P&d|l[j]&d&&(l[j]|=d),m&=~P}}var rr=0;function qn(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Zd,Ao,Yd,Xd,Jd,Jl=!1,za=[],ss=null,va=null,ja=null,Gn=new Map,ia=new Map,Ba=[],Xm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function e0(l,d){switch(l){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":Gn.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":ia.delete(d.pointerId)}}function Cs(l,d,m,j,P,L){return l===null||l.nativeEvent!==L?(l={blockedOn:d,domEventName:m,eventSystemFlags:j,nativeEvent:L,targetContainers:[P]},d!==null&&(d=hc(d),d!==null&&Ao(d)),l):(l.eventSystemFlags|=j,d=l.targetContainers,P!==null&&d.indexOf(P)===-1&&d.push(P),l)}function Jm(l,d,m,j,P){switch(d){case"focusin":return ss=Cs(ss,l,d,m,j,P),!0;case"dragenter":return va=Cs(va,l,d,m,j,P),!0;case"mouseover":return ja=Cs(ja,l,d,m,j,P),!0;case"pointerover":var L=P.pointerId;return Gn.set(L,Cs(Gn.get(L)||null,l,d,m,j,P)),!0;case"gotpointercapture":return L=P.pointerId,ia.set(L,Cs(ia.get(L)||null,l,d,m,j,P)),!0}return!1}function t0(l){var d=qi(l.target);if(d!==null){var m=Ws(d);if(m!==null){if(d=m.tag,d===13){if(d=Oi(m),d!==null){l.blockedOn=d,Jd(l.priority,function(){Yd(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function xn(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var m=Ro(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var j=new m.constructor(m.type,m);Ue=j,m.target.dispatchEvent(j),Ue=null}else return d=hc(m),d!==null&&Ao(d),l.blockedOn=m,!1;d.shift()}return!0}function Ui(l,d,m){xn(l)&&m.delete(d)}function r0(){Jl=!1,ss!==null&&xn(ss)&&(ss=null),va!==null&&xn(va)&&(va=null),ja!==null&&xn(ja)&&(ja=null),Gn.forEach(Ui),ia.forEach(Ui)}function wa(l,d){l.blockedOn===d&&(l.blockedOn=null,Jl||(Jl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,r0)))}function Na(l){function d(P){return wa(P,l)}if(0<za.length){wa(za[0],l);for(var m=1;m<za.length;m++){var j=za[m];j.blockedOn===l&&(j.blockedOn=null)}}for(ss!==null&&wa(ss,l),va!==null&&wa(va,l),ja!==null&&wa(ja,l),Gn.forEach(d),ia.forEach(d),m=0;m<Ba.length;m++)j=Ba[m],j.blockedOn===l&&(j.blockedOn=null);for(;0<Ba.length&&(m=Ba[0],m.blockedOn===null);)t0(m),m.blockedOn===null&&Ba.shift()}var hn=pe.ReactCurrentBatchConfig,Qn=!0;function Tr(l,d,m,j){var P=rr,L=hn.transition;hn.transition=null;try{rr=1,ec(l,d,m,j)}finally{rr=P,hn.transition=L}}function ex(l,d,m,j){var P=rr,L=hn.transition;hn.transition=null;try{rr=4,ec(l,d,m,j)}finally{rr=P,hn.transition=L}}function ec(l,d,m,j){if(Qn){var P=Ro(l,d,m,j);if(P===null)ux(l,d,j,Fi,m),e0(l,j);else if(Jm(P,l,d,m,j))j.stopPropagation();else if(e0(l,j),d&4&&-1<Xm.indexOf(l)){for(;P!==null;){var L=hc(P);if(L!==null&&Zd(L),L=Ro(l,d,m,j),L===null&&ux(l,d,j,Fi,m),L===P)break;P=L}P!==null&&j.stopPropagation()}else ux(l,d,j,null,m)}}var Fi=null;function Ro(l,d,m,j){if(Fi=null,l=Xe(j),l=qi(l),l!==null)if(d=Ws(l),d===null)l=null;else if(m=d.tag,m===13){if(l=Oi(d),l!==null)return l;l=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return Fi=l,null}function tc(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wd()){case Li:return 1;case Bn:return 4;case na:case Yl:return 16;case qd:return 536870912;default:return 16}default:return 16}}var Qs=null,Mo=null,Ds=null;function rc(){if(Ds)return Ds;var l,d=Mo,m=d.length,j,P="value"in Qs?Qs.value:Qs.textContent,L=P.length;for(l=0;l<m&&d[l]===P[l];l++);var G=m-l;for(j=1;j<=G&&d[m-j]===P[L-j];j++);return Ds=P.slice(l,1<j?1-j:void 0)}function Oo(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Ua(){return!0}function sc(){return!1}function as(l){function d(m,j,P,L,G){this._reactName=m,this._targetInst=P,this.type=j,this.nativeEvent=L,this.target=G,this.currentTarget=null;for(var me in l)l.hasOwnProperty(me)&&(m=l[me],this[me]=m?m(L):L[me]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?Ua:sc,this.isPropagationStopped=sc,this}return Ie(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),d}var ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lo=as(ka),Fa=Ie({},ka,{view:0,detail:0}),tx=as(Fa),Vo,pn,Kn,Hi=Ie({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Kn&&(Kn&&l.type==="mousemove"?(Vo=l.screenX-Kn.screenX,pn=l.screenY-Kn.screenY):pn=Vo=0,Kn=l),Vo)},movementY:function(l){return"movementY"in l?l.movementY:pn}}),zo=as(Hi),ac=Ie({},Hi,{dataTransfer:0}),s0=as(ac),Bo=Ie({},Fa,{relatedTarget:0}),Uo=as(Bo),a0=Ie({},ka,{animationName:0,elapsedTime:0,pseudoElement:0}),fn=as(a0),n0=Ie({},ka,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),i0=as(n0),o0=Ie({},ka,{data:0}),nc=as(o0),Fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ks={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c0(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=l0[l])?!!d[l]:!1}function Ha(){return c0}var y=Ie({},Fa,{key:function(l){if(l.key){var d=Fo[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=Oo(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?ks[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(l){return l.type==="keypress"?Oo(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Oo(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),R=as(y),B=Ie({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),re=as(B),Se=Ie({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),Oe=as(Se),nt=Ie({},ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),pr=as(nt),Wr=Ie({},Hi,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),sr=as(Wr),Zr=[9,13,27,32],zr=x&&"CompositionEvent"in window,oa=null;x&&"documentMode"in document&&(oa=document.documentMode);var Ks=x&&"TextEvent"in window&&!oa,Wi=x&&(!zr||oa&&8<oa&&11>=oa),Ho=" ",Jg=!1;function ey(l,d){switch(l){case"keyup":return Zr.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ty(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Wo=!1;function c3(l,d){switch(l){case"compositionend":return ty(d);case"keypress":return d.which!==32?null:(Jg=!0,Ho);case"textInput":return l=d.data,l===Ho&&Jg?null:l;default:return null}}function d3(l,d){if(Wo)return l==="compositionend"||!zr&&ey(l,d)?(l=rc(),Ds=Mo=Qs=null,Wo=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Wi&&d.locale!=="ko"?null:d.data;default:return null}}var u3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ry(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!u3[l.type]:d==="textarea"}function sy(l,d,m,j){xr(j),d=h0(d,"onChange"),0<d.length&&(m=new Lo("onChange","change",null,m,j),l.push({event:m,listeners:d}))}var ic=null,oc=null;function m3(l){jy(l,0)}function d0(l){var d=Zo(l);if(U(d))return l}function x3(l,d){if(l==="change")return d}var ay=!1;if(x){var rx;if(x){var sx="oninput"in document;if(!sx){var ny=document.createElement("div");ny.setAttribute("oninput","return;"),sx=typeof ny.oninput=="function"}rx=sx}else rx=!1;ay=rx&&(!document.documentMode||9<document.documentMode)}function iy(){ic&&(ic.detachEvent("onpropertychange",oy),oc=ic=null)}function oy(l){if(l.propertyName==="value"&&d0(oc)){var d=[];sy(d,oc,l,Xe(l)),aa(m3,d)}}function h3(l,d,m){l==="focusin"?(iy(),ic=d,oc=m,ic.attachEvent("onpropertychange",oy)):l==="focusout"&&iy()}function p3(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return d0(oc)}function f3(l,d){if(l==="click")return d0(d)}function g3(l,d){if(l==="input"||l==="change")return d0(d)}function y3(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var Sa=typeof Object.is=="function"?Object.is:y3;function lc(l,d){if(Sa(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var m=Object.keys(l),j=Object.keys(d);if(m.length!==j.length)return!1;for(j=0;j<m.length;j++){var P=m[j];if(!p.call(d,P)||!Sa(l[P],d[P]))return!1}return!0}function ly(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function cy(l,d){var m=ly(l);l=0;for(var j;m;){if(m.nodeType===3){if(j=l+m.textContent.length,l<=d&&j>=d)return{node:m,offset:d-l};l=j}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=ly(m)}}function dy(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?dy(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function uy(){for(var l=window,d=q();d instanceof l.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)l=d.contentWindow;else break;d=q(l.document)}return d}function ax(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function b3(l){var d=uy(),m=l.focusedElem,j=l.selectionRange;if(d!==m&&m&&m.ownerDocument&&dy(m.ownerDocument.documentElement,m)){if(j!==null&&ax(m)){if(d=j.start,l=j.end,l===void 0&&(l=d),"selectionStart"in m)m.selectionStart=d,m.selectionEnd=Math.min(l,m.value.length);else if(l=(d=m.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var P=m.textContent.length,L=Math.min(j.start,P);j=j.end===void 0?L:Math.min(j.end,P),!l.extend&&L>j&&(P=j,j=L,L=P),P=cy(m,L);var G=cy(m,j);P&&G&&(l.rangeCount!==1||l.anchorNode!==P.node||l.anchorOffset!==P.offset||l.focusNode!==G.node||l.focusOffset!==G.offset)&&(d=d.createRange(),d.setStart(P.node,P.offset),l.removeAllRanges(),L>j?(l.addRange(d),l.extend(G.node,G.offset)):(d.setEnd(G.node,G.offset),l.addRange(d)))}}for(d=[],l=m;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<d.length;m++)l=d[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var v3=x&&"documentMode"in document&&11>=document.documentMode,qo=null,nx=null,cc=null,ix=!1;function my(l,d,m){var j=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;ix||qo==null||qo!==q(j)||(j=qo,"selectionStart"in j&&ax(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),cc&&lc(cc,j)||(cc=j,j=h0(nx,"onSelect"),0<j.length&&(d=new Lo("onSelect","select",null,d,m),l.push({event:d,listeners:j}),d.target=qo)))}function u0(l,d){var m={};return m[l.toLowerCase()]=d.toLowerCase(),m["Webkit"+l]="webkit"+d,m["Moz"+l]="moz"+d,m}var Go={animationend:u0("Animation","AnimationEnd"),animationiteration:u0("Animation","AnimationIteration"),animationstart:u0("Animation","AnimationStart"),transitionend:u0("Transition","TransitionEnd")},ox={},xy={};x&&(xy=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function m0(l){if(ox[l])return ox[l];if(!Go[l])return l;var d=Go[l],m;for(m in d)if(d.hasOwnProperty(m)&&m in xy)return ox[l]=d[m];return l}var hy=m0("animationend"),py=m0("animationiteration"),fy=m0("animationstart"),gy=m0("transitionend"),yy=new Map,by="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zn(l,d){yy.set(l,d),u(d,[l])}for(var lx=0;lx<by.length;lx++){var cx=by[lx],j3=cx.toLowerCase(),w3=cx[0].toUpperCase()+cx.slice(1);Zn(j3,"on"+w3)}Zn(hy,"onAnimationEnd"),Zn(py,"onAnimationIteration"),Zn(fy,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(gy,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N3=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function vy(l,d,m){var j=l.type||"unknown-event";l.currentTarget=m,Eo(j,d,void 0,l),l.currentTarget=null}function jy(l,d){d=(d&4)!==0;for(var m=0;m<l.length;m++){var j=l[m],P=j.event;j=j.listeners;e:{var L=void 0;if(d)for(var G=j.length-1;0<=G;G--){var me=j[G],ve=me.instance,De=me.currentTarget;if(me=me.listener,ve!==L&&P.isPropagationStopped())break e;vy(P,me,De),L=ve}else for(G=0;G<j.length;G++){if(me=j[G],ve=me.instance,De=me.currentTarget,me=me.listener,ve!==L&&P.isPropagationStopped())break e;vy(P,me,De),L=ve}}}if(Hs)throw l=un,Hs=!1,un=null,l}function Nr(l,d){var m=d[gx];m===void 0&&(m=d[gx]=new Set);var j=l+"__bubble";m.has(j)||(wy(d,l,2,!1),m.add(j))}function dx(l,d,m){var j=0;d&&(j|=4),wy(m,l,j,d)}var x0="_reactListening"+Math.random().toString(36).slice(2);function uc(l){if(!l[x0]){l[x0]=!0,n.forEach(function(m){m!=="selectionchange"&&(N3.has(m)||dx(m,!1,l),dx(m,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[x0]||(d[x0]=!0,dx("selectionchange",!1,d))}}function wy(l,d,m,j){switch(tc(d)){case 1:var P=Tr;break;case 4:P=ex;break;default:P=ec}m=P.bind(null,d,m,l),P=void 0,!La||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(P=!0),j?P!==void 0?l.addEventListener(d,m,{capture:!0,passive:P}):l.addEventListener(d,m,!0):P!==void 0?l.addEventListener(d,m,{passive:P}):l.addEventListener(d,m,!1)}function ux(l,d,m,j,P){var L=j;if((d&1)===0&&(d&2)===0&&j!==null)e:for(;;){if(j===null)return;var G=j.tag;if(G===3||G===4){var me=j.stateNode.containerInfo;if(me===P||me.nodeType===8&&me.parentNode===P)break;if(G===4)for(G=j.return;G!==null;){var ve=G.tag;if((ve===3||ve===4)&&(ve=G.stateNode.containerInfo,ve===P||ve.nodeType===8&&ve.parentNode===P))return;G=G.return}for(;me!==null;){if(G=qi(me),G===null)return;if(ve=G.tag,ve===5||ve===6){j=L=G;continue e}me=me.parentNode}}j=j.return}aa(function(){var De=L,Ze=Xe(m),Ye=[];e:{var Ke=yy.get(l);if(Ke!==void 0){var ht=Lo,bt=l;switch(l){case"keypress":if(Oo(m)===0)break e;case"keydown":case"keyup":ht=R;break;case"focusin":bt="focus",ht=Uo;break;case"focusout":bt="blur",ht=Uo;break;case"beforeblur":case"afterblur":ht=Uo;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=s0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=Oe;break;case hy:case py:case fy:ht=fn;break;case gy:ht=pr;break;case"scroll":ht=tx;break;case"wheel":ht=sr;break;case"copy":case"cut":case"paste":ht=i0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=re}var wt=(d&4)!==0,Or=!wt&&l==="scroll",Te=wt?Ke!==null?Ke+"Capture":null:Ke;wt=[];for(var we=De,Pe;we!==null;){Pe=we;var Je=Pe.stateNode;if(Pe.tag===5&&Je!==null&&(Pe=Je,Te!==null&&(Je=vr(we,Te),Je!=null&&wt.push(mc(we,Je,Pe)))),Or)break;we=we.return}0<wt.length&&(Ke=new ht(Ke,bt,null,m,Ze),Ye.push({event:Ke,listeners:wt}))}}if((d&7)===0){e:{if(Ke=l==="mouseover"||l==="pointerover",ht=l==="mouseout"||l==="pointerout",Ke&&m!==Ue&&(bt=m.relatedTarget||m.fromElement)&&(qi(bt)||bt[gn]))break e;if((ht||Ke)&&(Ke=Ze.window===Ze?Ze:(Ke=Ze.ownerDocument)?Ke.defaultView||Ke.parentWindow:window,ht?(bt=m.relatedTarget||m.toElement,ht=De,bt=bt?qi(bt):null,bt!==null&&(Or=Ws(bt),bt!==Or||bt.tag!==5&&bt.tag!==6)&&(bt=null)):(ht=null,bt=De),ht!==bt)){if(wt=zo,Je="onMouseLeave",Te="onMouseEnter",we="mouse",(l==="pointerout"||l==="pointerover")&&(wt=re,Je="onPointerLeave",Te="onPointerEnter",we="pointer"),Or=ht==null?Ke:Zo(ht),Pe=bt==null?Ke:Zo(bt),Ke=new wt(Je,we+"leave",ht,m,Ze),Ke.target=Or,Ke.relatedTarget=Pe,Je=null,qi(Ze)===De&&(wt=new wt(Te,we+"enter",bt,m,Ze),wt.target=Pe,wt.relatedTarget=Or,Je=wt),Or=Je,ht&&bt)t:{for(wt=ht,Te=bt,we=0,Pe=wt;Pe;Pe=Qo(Pe))we++;for(Pe=0,Je=Te;Je;Je=Qo(Je))Pe++;for(;0<we-Pe;)wt=Qo(wt),we--;for(;0<Pe-we;)Te=Qo(Te),Pe--;for(;we--;){if(wt===Te||Te!==null&&wt===Te.alternate)break t;wt=Qo(wt),Te=Qo(Te)}wt=null}else wt=null;ht!==null&&Ny(Ye,Ke,ht,wt,!1),bt!==null&&Or!==null&&Ny(Ye,Or,bt,wt,!0)}}e:{if(Ke=De?Zo(De):window,ht=Ke.nodeName&&Ke.nodeName.toLowerCase(),ht==="select"||ht==="input"&&Ke.type==="file")var Nt=x3;else if(ry(Ke))if(ay)Nt=g3;else{Nt=p3;var At=h3}else(ht=Ke.nodeName)&&ht.toLowerCase()==="input"&&(Ke.type==="checkbox"||Ke.type==="radio")&&(Nt=f3);if(Nt&&(Nt=Nt(l,De))){sy(Ye,Nt,m,Ze);break e}At&&At(l,Ke,De),l==="focusout"&&(At=Ke._wrapperState)&&At.controlled&&Ke.type==="number"&&f(Ke,"number",Ke.value)}switch(At=De?Zo(De):window,l){case"focusin":(ry(At)||At.contentEditable==="true")&&(qo=At,nx=De,cc=null);break;case"focusout":cc=nx=qo=null;break;case"mousedown":ix=!0;break;case"contextmenu":case"mouseup":case"dragend":ix=!1,my(Ye,m,Ze);break;case"selectionchange":if(v3)break;case"keydown":case"keyup":my(Ye,m,Ze)}var Rt;if(zr)e:{switch(l){case"compositionstart":var Bt="onCompositionStart";break e;case"compositionend":Bt="onCompositionEnd";break e;case"compositionupdate":Bt="onCompositionUpdate";break e}Bt=void 0}else Wo?ey(l,m)&&(Bt="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(Bt="onCompositionStart");Bt&&(Wi&&m.locale!=="ko"&&(Wo||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&Wo&&(Rt=rc()):(Qs=Ze,Mo="value"in Qs?Qs.value:Qs.textContent,Wo=!0)),At=h0(De,Bt),0<At.length&&(Bt=new nc(Bt,l,null,m,Ze),Ye.push({event:Bt,listeners:At}),Rt?Bt.data=Rt:(Rt=ty(m),Rt!==null&&(Bt.data=Rt)))),(Rt=Ks?c3(l,m):d3(l,m))&&(De=h0(De,"onBeforeInput"),0<De.length&&(Ze=new nc("onBeforeInput","beforeinput",null,m,Ze),Ye.push({event:Ze,listeners:De}),Ze.data=Rt))}jy(Ye,d)})}function mc(l,d,m){return{instance:l,listener:d,currentTarget:m}}function h0(l,d){for(var m=d+"Capture",j=[];l!==null;){var P=l,L=P.stateNode;P.tag===5&&L!==null&&(P=L,L=vr(l,m),L!=null&&j.unshift(mc(l,L,P)),L=vr(l,d),L!=null&&j.push(mc(l,L,P))),l=l.return}return j}function Qo(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function Ny(l,d,m,j,P){for(var L=d._reactName,G=[];m!==null&&m!==j;){var me=m,ve=me.alternate,De=me.stateNode;if(ve!==null&&ve===j)break;me.tag===5&&De!==null&&(me=De,P?(ve=vr(m,L),ve!=null&&G.unshift(mc(m,ve,me))):P||(ve=vr(m,L),ve!=null&&G.push(mc(m,ve,me)))),m=m.return}G.length!==0&&l.push({event:d,listeners:G})}var k3=/\r\n?/g,S3=/\u0000|\uFFFD/g;function ky(l){return(typeof l=="string"?l:""+l).replace(k3,`
`).replace(S3,"")}function p0(l,d,m){if(d=ky(d),ky(l)!==d&&m)throw Error(s(425))}function f0(){}var mx=null,xx=null;function hx(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var px=typeof setTimeout=="function"?setTimeout:void 0,T3=typeof clearTimeout=="function"?clearTimeout:void 0,Sy=typeof Promise=="function"?Promise:void 0,I3=typeof queueMicrotask=="function"?queueMicrotask:typeof Sy<"u"?function(l){return Sy.resolve(null).then(l).catch(P3)}:px;function P3(l){setTimeout(function(){throw l})}function fx(l,d){var m=d,j=0;do{var P=m.nextSibling;if(l.removeChild(m),P&&P.nodeType===8)if(m=P.data,m==="/$"){if(j===0){l.removeChild(P),Na(d);return}j--}else m!=="$"&&m!=="$?"&&m!=="$!"||j++;m=P}while(m);Na(d)}function Yn(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function Ty(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return l;d--}else m==="/$"&&d++}l=l.previousSibling}return null}var Ko=Math.random().toString(36).slice(2),Wa="__reactFiber$"+Ko,xc="__reactProps$"+Ko,gn="__reactContainer$"+Ko,gx="__reactEvents$"+Ko,E3="__reactListeners$"+Ko,C3="__reactHandles$"+Ko;function qi(l){var d=l[Wa];if(d)return d;for(var m=l.parentNode;m;){if(d=m[gn]||m[Wa]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(l=Ty(l);l!==null;){if(m=l[Wa])return m;l=Ty(l)}return d}l=m,m=l.parentNode}return null}function hc(l){return l=l[Wa]||l[gn],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Zo(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(s(33))}function g0(l){return l[xc]||null}var yx=[],Yo=-1;function Xn(l){return{current:l}}function kr(l){0>Yo||(l.current=yx[Yo],yx[Yo]=null,Yo--)}function wr(l,d){Yo++,yx[Yo]=l.current,l.current=d}var Jn={},xs=Xn(Jn),_s=Xn(!1),Gi=Jn;function Xo(l,d){var m=l.type.contextTypes;if(!m)return Jn;var j=l.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===d)return j.__reactInternalMemoizedMaskedChildContext;var P={},L;for(L in m)P[L]=d[L];return j&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=P),P}function $s(l){return l=l.childContextTypes,l!=null}function y0(){kr(_s),kr(xs)}function Iy(l,d,m){if(xs.current!==Jn)throw Error(s(168));wr(xs,d),wr(_s,m)}function Py(l,d,m){var j=l.stateNode;if(d=d.childContextTypes,typeof j.getChildContext!="function")return m;j=j.getChildContext();for(var P in j)if(!(P in d))throw Error(s(108,Le(l)||"Unknown",P));return Ie({},m,j)}function b0(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Jn,Gi=xs.current,wr(xs,l),wr(_s,_s.current),!0}function Ey(l,d,m){var j=l.stateNode;if(!j)throw Error(s(169));m?(l=Py(l,d,Gi),j.__reactInternalMemoizedMergedChildContext=l,kr(_s),kr(xs),wr(xs,l)):kr(_s),wr(_s,m)}var yn=null,v0=!1,bx=!1;function Cy(l){yn===null?yn=[l]:yn.push(l)}function D3(l){v0=!0,Cy(l)}function ei(){if(!bx&&yn!==null){bx=!0;var l=0,d=rr;try{var m=yn;for(rr=1;l<m.length;l++){var j=m[l];do j=j(!0);while(j!==null)}yn=null,v0=!1}catch(P){throw yn!==null&&(yn=yn.slice(l+1)),Do(Li,ei),P}finally{rr=d,bx=!1}}return null}var Jo=[],el=0,j0=null,w0=0,la=[],ca=0,Qi=null,bn=1,vn="";function Ki(l,d){Jo[el++]=w0,Jo[el++]=j0,j0=l,w0=d}function Dy(l,d,m){la[ca++]=bn,la[ca++]=vn,la[ca++]=Qi,Qi=l;var j=bn;l=vn;var P=32-Ns(j)-1;j&=~(1<<P),m+=1;var L=32-Ns(d)+P;if(30<L){var G=P-P%5;L=(j&(1<<G)-1).toString(32),j>>=G,P-=G,bn=1<<32-Ns(d)+P|m<<P|j,vn=L+l}else bn=1<<L|m<<P|j,vn=l}function vx(l){l.return!==null&&(Ki(l,1),Dy(l,1,0))}function jx(l){for(;l===j0;)j0=Jo[--el],Jo[el]=null,w0=Jo[--el],Jo[el]=null;for(;l===Qi;)Qi=la[--ca],la[ca]=null,vn=la[--ca],la[ca]=null,bn=la[--ca],la[ca]=null}var Zs=null,Ys=null,Ir=!1,Ta=null;function _y(l,d){var m=xa(5,null,null,0);m.elementType="DELETED",m.stateNode=d,m.return=l,d=l.deletions,d===null?(l.deletions=[m],l.flags|=16):d.push(m)}function $y(l,d){switch(l.tag){case 5:var m=l.type;return d=d.nodeType!==1||m.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,Zs=l,Ys=Yn(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,Zs=l,Ys=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(m=Qi!==null?{id:bn,overflow:vn}:null,l.memoizedState={dehydrated:d,treeContext:m,retryLane:1073741824},m=xa(18,null,null,0),m.stateNode=d,m.return=l,l.child=m,Zs=l,Ys=null,!0):!1;default:return!1}}function wx(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Nx(l){if(Ir){var d=Ys;if(d){var m=d;if(!$y(l,d)){if(wx(l))throw Error(s(418));d=Yn(m.nextSibling);var j=Zs;d&&$y(l,d)?_y(j,m):(l.flags=l.flags&-4097|2,Ir=!1,Zs=l)}}else{if(wx(l))throw Error(s(418));l.flags=l.flags&-4097|2,Ir=!1,Zs=l}}}function Ay(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Zs=l}function N0(l){if(l!==Zs)return!1;if(!Ir)return Ay(l),Ir=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!hx(l.type,l.memoizedProps)),d&&(d=Ys)){if(wx(l))throw Ry(),Error(s(418));for(;d;)_y(l,d),d=Yn(d.nextSibling)}if(Ay(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(s(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(d===0){Ys=Yn(l.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++}l=l.nextSibling}Ys=null}}else Ys=Zs?Yn(l.stateNode.nextSibling):null;return!0}function Ry(){for(var l=Ys;l;)l=Yn(l.nextSibling)}function tl(){Ys=Zs=null,Ir=!1}function kx(l){Ta===null?Ta=[l]:Ta.push(l)}var _3=pe.ReactCurrentBatchConfig;function pc(l,d,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(s(309));var j=m.stateNode}if(!j)throw Error(s(147,l));var P=j,L=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===L?d.ref:(d=function(G){var me=P.refs;G===null?delete me[L]:me[L]=G},d._stringRef=L,d)}if(typeof l!="string")throw Error(s(284));if(!m._owner)throw Error(s(290,l))}return l}function k0(l,d){throw l=Object.prototype.toString.call(d),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function My(l){var d=l._init;return d(l._payload)}function Oy(l){function d(Te,we){if(l){var Pe=Te.deletions;Pe===null?(Te.deletions=[we],Te.flags|=16):Pe.push(we)}}function m(Te,we){if(!l)return null;for(;we!==null;)d(Te,we),we=we.sibling;return null}function j(Te,we){for(Te=new Map;we!==null;)we.key!==null?Te.set(we.key,we):Te.set(we.index,we),we=we.sibling;return Te}function P(Te,we){return Te=li(Te,we),Te.index=0,Te.sibling=null,Te}function L(Te,we,Pe){return Te.index=Pe,l?(Pe=Te.alternate,Pe!==null?(Pe=Pe.index,Pe<we?(Te.flags|=2,we):Pe):(Te.flags|=2,we)):(Te.flags|=1048576,we)}function G(Te){return l&&Te.alternate===null&&(Te.flags|=2),Te}function me(Te,we,Pe,Je){return we===null||we.tag!==6?(we=ph(Pe,Te.mode,Je),we.return=Te,we):(we=P(we,Pe),we.return=Te,we)}function ve(Te,we,Pe,Je){var Nt=Pe.type;return Nt===F?Ze(Te,we,Pe.props.children,Je,Pe.key):we!==null&&(we.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===He&&My(Nt)===we.type)?(Je=P(we,Pe.props),Je.ref=pc(Te,we,Pe),Je.return=Te,Je):(Je=Q0(Pe.type,Pe.key,Pe.props,null,Te.mode,Je),Je.ref=pc(Te,we,Pe),Je.return=Te,Je)}function De(Te,we,Pe,Je){return we===null||we.tag!==4||we.stateNode.containerInfo!==Pe.containerInfo||we.stateNode.implementation!==Pe.implementation?(we=fh(Pe,Te.mode,Je),we.return=Te,we):(we=P(we,Pe.children||[]),we.return=Te,we)}function Ze(Te,we,Pe,Je,Nt){return we===null||we.tag!==7?(we=so(Pe,Te.mode,Je,Nt),we.return=Te,we):(we=P(we,Pe),we.return=Te,we)}function Ye(Te,we,Pe){if(typeof we=="string"&&we!==""||typeof we=="number")return we=ph(""+we,Te.mode,Pe),we.return=Te,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case X:return Pe=Q0(we.type,we.key,we.props,null,Te.mode,Pe),Pe.ref=pc(Te,null,we),Pe.return=Te,Pe;case ne:return we=fh(we,Te.mode,Pe),we.return=Te,we;case He:var Je=we._init;return Ye(Te,Je(we._payload),Pe)}if(b(we)||Ae(we))return we=so(we,Te.mode,Pe,null),we.return=Te,we;k0(Te,we)}return null}function Ke(Te,we,Pe,Je){var Nt=we!==null?we.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return Nt!==null?null:me(Te,we,""+Pe,Je);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case X:return Pe.key===Nt?ve(Te,we,Pe,Je):null;case ne:return Pe.key===Nt?De(Te,we,Pe,Je):null;case He:return Nt=Pe._init,Ke(Te,we,Nt(Pe._payload),Je)}if(b(Pe)||Ae(Pe))return Nt!==null?null:Ze(Te,we,Pe,Je,null);k0(Te,Pe)}return null}function ht(Te,we,Pe,Je,Nt){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return Te=Te.get(Pe)||null,me(we,Te,""+Je,Nt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case X:return Te=Te.get(Je.key===null?Pe:Je.key)||null,ve(we,Te,Je,Nt);case ne:return Te=Te.get(Je.key===null?Pe:Je.key)||null,De(we,Te,Je,Nt);case He:var At=Je._init;return ht(Te,we,Pe,At(Je._payload),Nt)}if(b(Je)||Ae(Je))return Te=Te.get(Pe)||null,Ze(we,Te,Je,Nt,null);k0(we,Je)}return null}function bt(Te,we,Pe,Je){for(var Nt=null,At=null,Rt=we,Bt=we=0,Jr=null;Rt!==null&&Bt<Pe.length;Bt++){Rt.index>Bt?(Jr=Rt,Rt=null):Jr=Rt.sibling;var ur=Ke(Te,Rt,Pe[Bt],Je);if(ur===null){Rt===null&&(Rt=Jr);break}l&&Rt&&ur.alternate===null&&d(Te,Rt),we=L(ur,we,Bt),At===null?Nt=ur:At.sibling=ur,At=ur,Rt=Jr}if(Bt===Pe.length)return m(Te,Rt),Ir&&Ki(Te,Bt),Nt;if(Rt===null){for(;Bt<Pe.length;Bt++)Rt=Ye(Te,Pe[Bt],Je),Rt!==null&&(we=L(Rt,we,Bt),At===null?Nt=Rt:At.sibling=Rt,At=Rt);return Ir&&Ki(Te,Bt),Nt}for(Rt=j(Te,Rt);Bt<Pe.length;Bt++)Jr=ht(Rt,Te,Bt,Pe[Bt],Je),Jr!==null&&(l&&Jr.alternate!==null&&Rt.delete(Jr.key===null?Bt:Jr.key),we=L(Jr,we,Bt),At===null?Nt=Jr:At.sibling=Jr,At=Jr);return l&&Rt.forEach(function(ci){return d(Te,ci)}),Ir&&Ki(Te,Bt),Nt}function wt(Te,we,Pe,Je){var Nt=Ae(Pe);if(typeof Nt!="function")throw Error(s(150));if(Pe=Nt.call(Pe),Pe==null)throw Error(s(151));for(var At=Nt=null,Rt=we,Bt=we=0,Jr=null,ur=Pe.next();Rt!==null&&!ur.done;Bt++,ur=Pe.next()){Rt.index>Bt?(Jr=Rt,Rt=null):Jr=Rt.sibling;var ci=Ke(Te,Rt,ur.value,Je);if(ci===null){Rt===null&&(Rt=Jr);break}l&&Rt&&ci.alternate===null&&d(Te,Rt),we=L(ci,we,Bt),At===null?Nt=ci:At.sibling=ci,At=ci,Rt=Jr}if(ur.done)return m(Te,Rt),Ir&&Ki(Te,Bt),Nt;if(Rt===null){for(;!ur.done;Bt++,ur=Pe.next())ur=Ye(Te,ur.value,Je),ur!==null&&(we=L(ur,we,Bt),At===null?Nt=ur:At.sibling=ur,At=ur);return Ir&&Ki(Te,Bt),Nt}for(Rt=j(Te,Rt);!ur.done;Bt++,ur=Pe.next())ur=ht(Rt,Te,Bt,ur.value,Je),ur!==null&&(l&&ur.alternate!==null&&Rt.delete(ur.key===null?Bt:ur.key),we=L(ur,we,Bt),At===null?Nt=ur:At.sibling=ur,At=ur);return l&&Rt.forEach(function(u4){return d(Te,u4)}),Ir&&Ki(Te,Bt),Nt}function Or(Te,we,Pe,Je){if(typeof Pe=="object"&&Pe!==null&&Pe.type===F&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case X:e:{for(var Nt=Pe.key,At=we;At!==null;){if(At.key===Nt){if(Nt=Pe.type,Nt===F){if(At.tag===7){m(Te,At.sibling),we=P(At,Pe.props.children),we.return=Te,Te=we;break e}}else if(At.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===He&&My(Nt)===At.type){m(Te,At.sibling),we=P(At,Pe.props),we.ref=pc(Te,At,Pe),we.return=Te,Te=we;break e}m(Te,At);break}else d(Te,At);At=At.sibling}Pe.type===F?(we=so(Pe.props.children,Te.mode,Je,Pe.key),we.return=Te,Te=we):(Je=Q0(Pe.type,Pe.key,Pe.props,null,Te.mode,Je),Je.ref=pc(Te,we,Pe),Je.return=Te,Te=Je)}return G(Te);case ne:e:{for(At=Pe.key;we!==null;){if(we.key===At)if(we.tag===4&&we.stateNode.containerInfo===Pe.containerInfo&&we.stateNode.implementation===Pe.implementation){m(Te,we.sibling),we=P(we,Pe.children||[]),we.return=Te,Te=we;break e}else{m(Te,we);break}else d(Te,we);we=we.sibling}we=fh(Pe,Te.mode,Je),we.return=Te,Te=we}return G(Te);case He:return At=Pe._init,Or(Te,we,At(Pe._payload),Je)}if(b(Pe))return bt(Te,we,Pe,Je);if(Ae(Pe))return wt(Te,we,Pe,Je);k0(Te,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"?(Pe=""+Pe,we!==null&&we.tag===6?(m(Te,we.sibling),we=P(we,Pe),we.return=Te,Te=we):(m(Te,we),we=ph(Pe,Te.mode,Je),we.return=Te,Te=we),G(Te)):m(Te,we)}return Or}var rl=Oy(!0),Ly=Oy(!1),S0=Xn(null),T0=null,sl=null,Sx=null;function Tx(){Sx=sl=T0=null}function Ix(l){var d=S0.current;kr(S0),l._currentValue=d}function Px(l,d,m){for(;l!==null;){var j=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,j!==null&&(j.childLanes|=d)):j!==null&&(j.childLanes&d)!==d&&(j.childLanes|=d),l===m)break;l=l.return}}function al(l,d){T0=l,Sx=sl=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(As=!0),l.firstContext=null)}function da(l){var d=l._currentValue;if(Sx!==l)if(l={context:l,memoizedValue:d,next:null},sl===null){if(T0===null)throw Error(s(308));sl=l,T0.dependencies={lanes:0,firstContext:l}}else sl=sl.next=l;return d}var Zi=null;function Ex(l){Zi===null?Zi=[l]:Zi.push(l)}function Vy(l,d,m,j){var P=d.interleaved;return P===null?(m.next=m,Ex(d)):(m.next=P.next,P.next=m),d.interleaved=m,jn(l,j)}function jn(l,d){l.lanes|=d;var m=l.alternate;for(m!==null&&(m.lanes|=d),m=l,l=l.return;l!==null;)l.childLanes|=d,m=l.alternate,m!==null&&(m.childLanes|=d),m=l,l=l.return;return m.tag===3?m.stateNode:null}var ti=!1;function Cx(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zy(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function wn(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function ri(l,d,m){var j=l.updateQueue;if(j===null)return null;if(j=j.shared,(ir&2)!==0){var P=j.pending;return P===null?d.next=d:(d.next=P.next,P.next=d),j.pending=d,jn(l,m)}return P=j.interleaved,P===null?(d.next=d,Ex(j)):(d.next=P.next,P.next=d),j.interleaved=d,jn(l,m)}function I0(l,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194240)!==0)){var j=d.lanes;j&=l.pendingLanes,m|=j,d.lanes=m,Wn(l,m)}}function By(l,d){var m=l.updateQueue,j=l.alternate;if(j!==null&&(j=j.updateQueue,m===j)){var P=null,L=null;if(m=m.firstBaseUpdate,m!==null){do{var G={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};L===null?P=L=G:L=L.next=G,m=m.next}while(m!==null);L===null?P=L=d:L=L.next=d}else P=L=d;m={baseState:j.baseState,firstBaseUpdate:P,lastBaseUpdate:L,shared:j.shared,effects:j.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=d:l.next=d,m.lastBaseUpdate=d}function P0(l,d,m,j){var P=l.updateQueue;ti=!1;var L=P.firstBaseUpdate,G=P.lastBaseUpdate,me=P.shared.pending;if(me!==null){P.shared.pending=null;var ve=me,De=ve.next;ve.next=null,G===null?L=De:G.next=De,G=ve;var Ze=l.alternate;Ze!==null&&(Ze=Ze.updateQueue,me=Ze.lastBaseUpdate,me!==G&&(me===null?Ze.firstBaseUpdate=De:me.next=De,Ze.lastBaseUpdate=ve))}if(L!==null){var Ye=P.baseState;G=0,Ze=De=ve=null,me=L;do{var Ke=me.lane,ht=me.eventTime;if((j&Ke)===Ke){Ze!==null&&(Ze=Ze.next={eventTime:ht,lane:0,tag:me.tag,payload:me.payload,callback:me.callback,next:null});e:{var bt=l,wt=me;switch(Ke=d,ht=m,wt.tag){case 1:if(bt=wt.payload,typeof bt=="function"){Ye=bt.call(ht,Ye,Ke);break e}Ye=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=wt.payload,Ke=typeof bt=="function"?bt.call(ht,Ye,Ke):bt,Ke==null)break e;Ye=Ie({},Ye,Ke);break e;case 2:ti=!0}}me.callback!==null&&me.lane!==0&&(l.flags|=64,Ke=P.effects,Ke===null?P.effects=[me]:Ke.push(me))}else ht={eventTime:ht,lane:Ke,tag:me.tag,payload:me.payload,callback:me.callback,next:null},Ze===null?(De=Ze=ht,ve=Ye):Ze=Ze.next=ht,G|=Ke;if(me=me.next,me===null){if(me=P.shared.pending,me===null)break;Ke=me,me=Ke.next,Ke.next=null,P.lastBaseUpdate=Ke,P.shared.pending=null}}while(!0);if(Ze===null&&(ve=Ye),P.baseState=ve,P.firstBaseUpdate=De,P.lastBaseUpdate=Ze,d=P.shared.interleaved,d!==null){P=d;do G|=P.lane,P=P.next;while(P!==d)}else L===null&&(P.shared.lanes=0);Ji|=G,l.lanes=G,l.memoizedState=Ye}}function Uy(l,d,m){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var j=l[d],P=j.callback;if(P!==null){if(j.callback=null,j=m,typeof P!="function")throw Error(s(191,P));P.call(j)}}}var fc={},qa=Xn(fc),gc=Xn(fc),yc=Xn(fc);function Yi(l){if(l===fc)throw Error(s(174));return l}function Dx(l,d){switch(wr(yc,d),wr(gc,l),wr(qa,fc),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:le(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=le(d,l)}kr(qa),wr(qa,d)}function nl(){kr(qa),kr(gc),kr(yc)}function Fy(l){Yi(yc.current);var d=Yi(qa.current),m=le(d,l.type);d!==m&&(wr(gc,l),wr(qa,m))}function _x(l){gc.current===l&&(kr(qa),kr(gc))}var Pr=Xn(0);function E0(l){for(var d=l;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var $x=[];function Ax(){for(var l=0;l<$x.length;l++)$x[l]._workInProgressVersionPrimary=null;$x.length=0}var C0=pe.ReactCurrentDispatcher,Rx=pe.ReactCurrentBatchConfig,Xi=0,Er=null,qr=null,Yr=null,D0=!1,bc=!1,vc=0,$3=0;function hs(){throw Error(s(321))}function Mx(l,d){if(d===null)return!1;for(var m=0;m<d.length&&m<l.length;m++)if(!Sa(l[m],d[m]))return!1;return!0}function Ox(l,d,m,j,P,L){if(Xi=L,Er=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,C0.current=l===null||l.memoizedState===null?O3:L3,l=m(j,P),bc){L=0;do{if(bc=!1,vc=0,25<=L)throw Error(s(301));L+=1,Yr=qr=null,d.updateQueue=null,C0.current=V3,l=m(j,P)}while(bc)}if(C0.current=A0,d=qr!==null&&qr.next!==null,Xi=0,Yr=qr=Er=null,D0=!1,d)throw Error(s(300));return l}function Lx(){var l=vc!==0;return vc=0,l}function Ga(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yr===null?Er.memoizedState=Yr=l:Yr=Yr.next=l,Yr}function ua(){if(qr===null){var l=Er.alternate;l=l!==null?l.memoizedState:null}else l=qr.next;var d=Yr===null?Er.memoizedState:Yr.next;if(d!==null)Yr=d,qr=l;else{if(l===null)throw Error(s(310));qr=l,l={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},Yr===null?Er.memoizedState=Yr=l:Yr=Yr.next=l}return Yr}function jc(l,d){return typeof d=="function"?d(l):d}function Vx(l){var d=ua(),m=d.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=l;var j=qr,P=j.baseQueue,L=m.pending;if(L!==null){if(P!==null){var G=P.next;P.next=L.next,L.next=G}j.baseQueue=P=L,m.pending=null}if(P!==null){L=P.next,j=j.baseState;var me=G=null,ve=null,De=L;do{var Ze=De.lane;if((Xi&Ze)===Ze)ve!==null&&(ve=ve.next={lane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),j=De.hasEagerState?De.eagerState:l(j,De.action);else{var Ye={lane:Ze,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null};ve===null?(me=ve=Ye,G=j):ve=ve.next=Ye,Er.lanes|=Ze,Ji|=Ze}De=De.next}while(De!==null&&De!==L);ve===null?G=j:ve.next=me,Sa(j,d.memoizedState)||(As=!0),d.memoizedState=j,d.baseState=G,d.baseQueue=ve,m.lastRenderedState=j}if(l=m.interleaved,l!==null){P=l;do L=P.lane,Er.lanes|=L,Ji|=L,P=P.next;while(P!==l)}else P===null&&(m.lanes=0);return[d.memoizedState,m.dispatch]}function zx(l){var d=ua(),m=d.queue;if(m===null)throw Error(s(311));m.lastRenderedReducer=l;var j=m.dispatch,P=m.pending,L=d.memoizedState;if(P!==null){m.pending=null;var G=P=P.next;do L=l(L,G.action),G=G.next;while(G!==P);Sa(L,d.memoizedState)||(As=!0),d.memoizedState=L,d.baseQueue===null&&(d.baseState=L),m.lastRenderedState=L}return[L,j]}function Hy(){}function Wy(l,d){var m=Er,j=ua(),P=d(),L=!Sa(j.memoizedState,P);if(L&&(j.memoizedState=P,As=!0),j=j.queue,Bx(Qy.bind(null,m,j,l),[l]),j.getSnapshot!==d||L||Yr!==null&&Yr.memoizedState.tag&1){if(m.flags|=2048,wc(9,Gy.bind(null,m,j,P,d),void 0,null),Xr===null)throw Error(s(349));(Xi&30)!==0||qy(m,d,P)}return P}function qy(l,d,m){l.flags|=16384,l={getSnapshot:d,value:m},d=Er.updateQueue,d===null?(d={lastEffect:null,stores:null},Er.updateQueue=d,d.stores=[l]):(m=d.stores,m===null?d.stores=[l]:m.push(l))}function Gy(l,d,m,j){d.value=m,d.getSnapshot=j,Ky(d)&&Zy(l)}function Qy(l,d,m){return m(function(){Ky(d)&&Zy(l)})}function Ky(l){var d=l.getSnapshot;l=l.value;try{var m=d();return!Sa(l,m)}catch{return!0}}function Zy(l){var d=jn(l,1);d!==null&&Ca(d,l,1,-1)}function Yy(l){var d=Ga();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jc,lastRenderedState:l},d.queue=l,l=l.dispatch=M3.bind(null,Er,l),[d.memoizedState,l]}function wc(l,d,m,j){return l={tag:l,create:d,destroy:m,deps:j,next:null},d=Er.updateQueue,d===null?(d={lastEffect:null,stores:null},Er.updateQueue=d,d.lastEffect=l.next=l):(m=d.lastEffect,m===null?d.lastEffect=l.next=l:(j=m.next,m.next=l,l.next=j,d.lastEffect=l)),l}function Xy(){return ua().memoizedState}function _0(l,d,m,j){var P=Ga();Er.flags|=l,P.memoizedState=wc(1|d,m,void 0,j===void 0?null:j)}function $0(l,d,m,j){var P=ua();j=j===void 0?null:j;var L=void 0;if(qr!==null){var G=qr.memoizedState;if(L=G.destroy,j!==null&&Mx(j,G.deps)){P.memoizedState=wc(d,m,L,j);return}}Er.flags|=l,P.memoizedState=wc(1|d,m,L,j)}function Jy(l,d){return _0(8390656,8,l,d)}function Bx(l,d){return $0(2048,8,l,d)}function eb(l,d){return $0(4,2,l,d)}function tb(l,d){return $0(4,4,l,d)}function rb(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function sb(l,d,m){return m=m!=null?m.concat([l]):null,$0(4,4,rb.bind(null,d,l),m)}function Ux(){}function ab(l,d){var m=ua();d=d===void 0?null:d;var j=m.memoizedState;return j!==null&&d!==null&&Mx(d,j[1])?j[0]:(m.memoizedState=[l,d],l)}function nb(l,d){var m=ua();d=d===void 0?null:d;var j=m.memoizedState;return j!==null&&d!==null&&Mx(d,j[1])?j[0]:(l=l(),m.memoizedState=[l,d],l)}function ib(l,d,m){return(Xi&21)===0?(l.baseState&&(l.baseState=!1,As=!0),l.memoizedState=m):(Sa(m,d)||(m=Bi(),Er.lanes|=m,Ji|=m,l.baseState=!0),d)}function A3(l,d){var m=rr;rr=m!==0&&4>m?m:4,l(!0);var j=Rx.transition;Rx.transition={};try{l(!1),d()}finally{rr=m,Rx.transition=j}}function ob(){return ua().memoizedState}function R3(l,d,m){var j=ii(l);if(m={lane:j,action:m,hasEagerState:!1,eagerState:null,next:null},lb(l))cb(d,m);else if(m=Vy(l,d,m,j),m!==null){var P=Ts();Ca(m,l,j,P),db(m,d,j)}}function M3(l,d,m){var j=ii(l),P={lane:j,action:m,hasEagerState:!1,eagerState:null,next:null};if(lb(l))cb(d,P);else{var L=l.alternate;if(l.lanes===0&&(L===null||L.lanes===0)&&(L=d.lastRenderedReducer,L!==null))try{var G=d.lastRenderedState,me=L(G,m);if(P.hasEagerState=!0,P.eagerState=me,Sa(me,G)){var ve=d.interleaved;ve===null?(P.next=P,Ex(d)):(P.next=ve.next,ve.next=P),d.interleaved=P;return}}catch{}finally{}m=Vy(l,d,P,j),m!==null&&(P=Ts(),Ca(m,l,j,P),db(m,d,j))}}function lb(l){var d=l.alternate;return l===Er||d!==null&&d===Er}function cb(l,d){bc=D0=!0;var m=l.pending;m===null?d.next=d:(d.next=m.next,m.next=d),l.pending=d}function db(l,d,m){if((m&4194240)!==0){var j=d.lanes;j&=l.pendingLanes,m|=j,d.lanes=m,Wn(l,m)}}var A0={readContext:da,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useInsertionEffect:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useSyncExternalStore:hs,useId:hs,unstable_isNewReconciler:!1},O3={readContext:da,useCallback:function(l,d){return Ga().memoizedState=[l,d===void 0?null:d],l},useContext:da,useEffect:Jy,useImperativeHandle:function(l,d,m){return m=m!=null?m.concat([l]):null,_0(4194308,4,rb.bind(null,d,l),m)},useLayoutEffect:function(l,d){return _0(4194308,4,l,d)},useInsertionEffect:function(l,d){return _0(4,2,l,d)},useMemo:function(l,d){var m=Ga();return d=d===void 0?null:d,l=l(),m.memoizedState=[l,d],l},useReducer:function(l,d,m){var j=Ga();return d=m!==void 0?m(d):d,j.memoizedState=j.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},j.queue=l,l=l.dispatch=R3.bind(null,Er,l),[j.memoizedState,l]},useRef:function(l){var d=Ga();return l={current:l},d.memoizedState=l},useState:Yy,useDebugValue:Ux,useDeferredValue:function(l){return Ga().memoizedState=l},useTransition:function(){var l=Yy(!1),d=l[0];return l=A3.bind(null,l[1]),Ga().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,m){var j=Er,P=Ga();if(Ir){if(m===void 0)throw Error(s(407));m=m()}else{if(m=d(),Xr===null)throw Error(s(349));(Xi&30)!==0||qy(j,d,m)}P.memoizedState=m;var L={value:m,getSnapshot:d};return P.queue=L,Jy(Qy.bind(null,j,L,l),[l]),j.flags|=2048,wc(9,Gy.bind(null,j,L,m,d),void 0,null),m},useId:function(){var l=Ga(),d=Xr.identifierPrefix;if(Ir){var m=vn,j=bn;m=(j&~(1<<32-Ns(j)-1)).toString(32)+m,d=":"+d+"R"+m,m=vc++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=$3++,d=":"+d+"r"+m.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},L3={readContext:da,useCallback:ab,useContext:da,useEffect:Bx,useImperativeHandle:sb,useInsertionEffect:eb,useLayoutEffect:tb,useMemo:nb,useReducer:Vx,useRef:Xy,useState:function(){return Vx(jc)},useDebugValue:Ux,useDeferredValue:function(l){var d=ua();return ib(d,qr.memoizedState,l)},useTransition:function(){var l=Vx(jc)[0],d=ua().memoizedState;return[l,d]},useMutableSource:Hy,useSyncExternalStore:Wy,useId:ob,unstable_isNewReconciler:!1},V3={readContext:da,useCallback:ab,useContext:da,useEffect:Bx,useImperativeHandle:sb,useInsertionEffect:eb,useLayoutEffect:tb,useMemo:nb,useReducer:zx,useRef:Xy,useState:function(){return zx(jc)},useDebugValue:Ux,useDeferredValue:function(l){var d=ua();return qr===null?d.memoizedState=l:ib(d,qr.memoizedState,l)},useTransition:function(){var l=zx(jc)[0],d=ua().memoizedState;return[l,d]},useMutableSource:Hy,useSyncExternalStore:Wy,useId:ob,unstable_isNewReconciler:!1};function Ia(l,d){if(l&&l.defaultProps){d=Ie({},d),l=l.defaultProps;for(var m in l)d[m]===void 0&&(d[m]=l[m]);return d}return d}function Fx(l,d,m,j){d=l.memoizedState,m=m(j,d),m=m==null?d:Ie({},d,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var R0={isMounted:function(l){return(l=l._reactInternals)?Ws(l)===l:!1},enqueueSetState:function(l,d,m){l=l._reactInternals;var j=Ts(),P=ii(l),L=wn(j,P);L.payload=d,m!=null&&(L.callback=m),d=ri(l,L,P),d!==null&&(Ca(d,l,P,j),I0(d,l,P))},enqueueReplaceState:function(l,d,m){l=l._reactInternals;var j=Ts(),P=ii(l),L=wn(j,P);L.tag=1,L.payload=d,m!=null&&(L.callback=m),d=ri(l,L,P),d!==null&&(Ca(d,l,P,j),I0(d,l,P))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var m=Ts(),j=ii(l),P=wn(m,j);P.tag=2,d!=null&&(P.callback=d),d=ri(l,P,j),d!==null&&(Ca(d,l,j,m),I0(d,l,j))}};function ub(l,d,m,j,P,L,G){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(j,L,G):d.prototype&&d.prototype.isPureReactComponent?!lc(m,j)||!lc(P,L):!0}function mb(l,d,m){var j=!1,P=Jn,L=d.contextType;return typeof L=="object"&&L!==null?L=da(L):(P=$s(d)?Gi:xs.current,j=d.contextTypes,L=(j=j!=null)?Xo(l,P):Jn),d=new d(m,L),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=R0,l.stateNode=d,d._reactInternals=l,j&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=P,l.__reactInternalMemoizedMaskedChildContext=L),d}function xb(l,d,m,j){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,j),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,j),d.state!==l&&R0.enqueueReplaceState(d,d.state,null)}function Hx(l,d,m,j){var P=l.stateNode;P.props=m,P.state=l.memoizedState,P.refs={},Cx(l);var L=d.contextType;typeof L=="object"&&L!==null?P.context=da(L):(L=$s(d)?Gi:xs.current,P.context=Xo(l,L)),P.state=l.memoizedState,L=d.getDerivedStateFromProps,typeof L=="function"&&(Fx(l,d,L,m),P.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(d=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),d!==P.state&&R0.enqueueReplaceState(P,P.state,null),P0(l,m,P,j),P.state=l.memoizedState),typeof P.componentDidMount=="function"&&(l.flags|=4194308)}function il(l,d){try{var m="",j=d;do m+=Re(j),j=j.return;while(j);var P=m}catch(L){P=`
Error generating stack: `+L.message+`
`+L.stack}return{value:l,source:d,stack:P,digest:null}}function Wx(l,d,m){return{value:l,source:null,stack:m??null,digest:d??null}}function qx(l,d){try{console.error(d.value)}catch(m){setTimeout(function(){throw m})}}var z3=typeof WeakMap=="function"?WeakMap:Map;function hb(l,d,m){m=wn(-1,m),m.tag=3,m.payload={element:null};var j=d.value;return m.callback=function(){U0||(U0=!0,oh=j),qx(l,d)},m}function pb(l,d,m){m=wn(-1,m),m.tag=3;var j=l.type.getDerivedStateFromError;if(typeof j=="function"){var P=d.value;m.payload=function(){return j(P)},m.callback=function(){qx(l,d)}}var L=l.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(m.callback=function(){qx(l,d),typeof j!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var G=d.stack;this.componentDidCatch(d.value,{componentStack:G!==null?G:""})}),m}function fb(l,d,m){var j=l.pingCache;if(j===null){j=l.pingCache=new z3;var P=new Set;j.set(d,P)}else P=j.get(d),P===void 0&&(P=new Set,j.set(d,P));P.has(m)||(P.add(m),l=e4.bind(null,l,d,m),d.then(l,l))}function gb(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function yb(l,d,m,j,P){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(d=wn(-1,1),d.tag=2,ri(m,d,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=P,l)}var B3=pe.ReactCurrentOwner,As=!1;function Ss(l,d,m,j){d.child=l===null?Ly(d,null,m,j):rl(d,l.child,m,j)}function bb(l,d,m,j,P){m=m.render;var L=d.ref;return al(d,P),j=Ox(l,d,m,j,L,P),m=Lx(),l!==null&&!As?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~P,Nn(l,d,P)):(Ir&&m&&vx(d),d.flags|=1,Ss(l,d,j,P),d.child)}function vb(l,d,m,j,P){if(l===null){var L=m.type;return typeof L=="function"&&!hh(L)&&L.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(d.tag=15,d.type=L,jb(l,d,L,j,P)):(l=Q0(m.type,null,j,d,d.mode,P),l.ref=d.ref,l.return=d,d.child=l)}if(L=l.child,(l.lanes&P)===0){var G=L.memoizedProps;if(m=m.compare,m=m!==null?m:lc,m(G,j)&&l.ref===d.ref)return Nn(l,d,P)}return d.flags|=1,l=li(L,j),l.ref=d.ref,l.return=d,d.child=l}function jb(l,d,m,j,P){if(l!==null){var L=l.memoizedProps;if(lc(L,j)&&l.ref===d.ref)if(As=!1,d.pendingProps=j=L,(l.lanes&P)!==0)(l.flags&131072)!==0&&(As=!0);else return d.lanes=l.lanes,Nn(l,d,P)}return Gx(l,d,m,j,P)}function wb(l,d,m){var j=d.pendingProps,P=j.children,L=l!==null?l.memoizedState:null;if(j.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},wr(ll,Xs),Xs|=m;else{if((m&1073741824)===0)return l=L!==null?L.baseLanes|m:m,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,wr(ll,Xs),Xs|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=L!==null?L.baseLanes:m,wr(ll,Xs),Xs|=j}else L!==null?(j=L.baseLanes|m,d.memoizedState=null):j=m,wr(ll,Xs),Xs|=j;return Ss(l,d,P,m),d.child}function Nb(l,d){var m=d.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(d.flags|=512,d.flags|=2097152)}function Gx(l,d,m,j,P){var L=$s(m)?Gi:xs.current;return L=Xo(d,L),al(d,P),m=Ox(l,d,m,j,L,P),j=Lx(),l!==null&&!As?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~P,Nn(l,d,P)):(Ir&&j&&vx(d),d.flags|=1,Ss(l,d,m,P),d.child)}function kb(l,d,m,j,P){if($s(m)){var L=!0;b0(d)}else L=!1;if(al(d,P),d.stateNode===null)O0(l,d),mb(d,m,j),Hx(d,m,j,P),j=!0;else if(l===null){var G=d.stateNode,me=d.memoizedProps;G.props=me;var ve=G.context,De=m.contextType;typeof De=="object"&&De!==null?De=da(De):(De=$s(m)?Gi:xs.current,De=Xo(d,De));var Ze=m.getDerivedStateFromProps,Ye=typeof Ze=="function"||typeof G.getSnapshotBeforeUpdate=="function";Ye||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(me!==j||ve!==De)&&xb(d,G,j,De),ti=!1;var Ke=d.memoizedState;G.state=Ke,P0(d,j,G,P),ve=d.memoizedState,me!==j||Ke!==ve||_s.current||ti?(typeof Ze=="function"&&(Fx(d,m,Ze,j),ve=d.memoizedState),(me=ti||ub(d,m,me,j,Ke,ve,De))?(Ye||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(d.flags|=4194308)):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=j,d.memoizedState=ve),G.props=j,G.state=ve,G.context=De,j=me):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),j=!1)}else{G=d.stateNode,zy(l,d),me=d.memoizedProps,De=d.type===d.elementType?me:Ia(d.type,me),G.props=De,Ye=d.pendingProps,Ke=G.context,ve=m.contextType,typeof ve=="object"&&ve!==null?ve=da(ve):(ve=$s(m)?Gi:xs.current,ve=Xo(d,ve));var ht=m.getDerivedStateFromProps;(Ze=typeof ht=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(me!==Ye||Ke!==ve)&&xb(d,G,j,ve),ti=!1,Ke=d.memoizedState,G.state=Ke,P0(d,j,G,P);var bt=d.memoizedState;me!==Ye||Ke!==bt||_s.current||ti?(typeof ht=="function"&&(Fx(d,m,ht,j),bt=d.memoizedState),(De=ti||ub(d,m,De,j,Ke,bt,ve)||!1)?(Ze||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(j,bt,ve),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(j,bt,ve)),typeof G.componentDidUpdate=="function"&&(d.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof G.componentDidUpdate!="function"||me===l.memoizedProps&&Ke===l.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||me===l.memoizedProps&&Ke===l.memoizedState||(d.flags|=1024),d.memoizedProps=j,d.memoizedState=bt),G.props=j,G.state=bt,G.context=ve,j=De):(typeof G.componentDidUpdate!="function"||me===l.memoizedProps&&Ke===l.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||me===l.memoizedProps&&Ke===l.memoizedState||(d.flags|=1024),j=!1)}return Qx(l,d,m,j,L,P)}function Qx(l,d,m,j,P,L){Nb(l,d);var G=(d.flags&128)!==0;if(!j&&!G)return P&&Ey(d,m,!1),Nn(l,d,L);j=d.stateNode,B3.current=d;var me=G&&typeof m.getDerivedStateFromError!="function"?null:j.render();return d.flags|=1,l!==null&&G?(d.child=rl(d,l.child,null,L),d.child=rl(d,null,me,L)):Ss(l,d,me,L),d.memoizedState=j.state,P&&Ey(d,m,!0),d.child}function Sb(l){var d=l.stateNode;d.pendingContext?Iy(l,d.pendingContext,d.pendingContext!==d.context):d.context&&Iy(l,d.context,!1),Dx(l,d.containerInfo)}function Tb(l,d,m,j,P){return tl(),kx(P),d.flags|=256,Ss(l,d,m,j),d.child}var Kx={dehydrated:null,treeContext:null,retryLane:0};function Zx(l){return{baseLanes:l,cachePool:null,transitions:null}}function Ib(l,d,m){var j=d.pendingProps,P=Pr.current,L=!1,G=(d.flags&128)!==0,me;if((me=G)||(me=l!==null&&l.memoizedState===null?!1:(P&2)!==0),me?(L=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(P|=1),wr(Pr,P&1),l===null)return Nx(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(G=j.children,l=j.fallback,L?(j=d.mode,L=d.child,G={mode:"hidden",children:G},(j&1)===0&&L!==null?(L.childLanes=0,L.pendingProps=G):L=K0(G,j,0,null),l=so(l,j,m,null),L.return=d,l.return=d,L.sibling=l,d.child=L,d.child.memoizedState=Zx(m),d.memoizedState=Kx,l):Yx(d,G));if(P=l.memoizedState,P!==null&&(me=P.dehydrated,me!==null))return U3(l,d,G,j,me,P,m);if(L){L=j.fallback,G=d.mode,P=l.child,me=P.sibling;var ve={mode:"hidden",children:j.children};return(G&1)===0&&d.child!==P?(j=d.child,j.childLanes=0,j.pendingProps=ve,d.deletions=null):(j=li(P,ve),j.subtreeFlags=P.subtreeFlags&14680064),me!==null?L=li(me,L):(L=so(L,G,m,null),L.flags|=2),L.return=d,j.return=d,j.sibling=L,d.child=j,j=L,L=d.child,G=l.child.memoizedState,G=G===null?Zx(m):{baseLanes:G.baseLanes|m,cachePool:null,transitions:G.transitions},L.memoizedState=G,L.childLanes=l.childLanes&~m,d.memoizedState=Kx,j}return L=l.child,l=L.sibling,j=li(L,{mode:"visible",children:j.children}),(d.mode&1)===0&&(j.lanes=m),j.return=d,j.sibling=null,l!==null&&(m=d.deletions,m===null?(d.deletions=[l],d.flags|=16):m.push(l)),d.child=j,d.memoizedState=null,j}function Yx(l,d){return d=K0({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function M0(l,d,m,j){return j!==null&&kx(j),rl(d,l.child,null,m),l=Yx(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function U3(l,d,m,j,P,L,G){if(m)return d.flags&256?(d.flags&=-257,j=Wx(Error(s(422))),M0(l,d,G,j)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(L=j.fallback,P=d.mode,j=K0({mode:"visible",children:j.children},P,0,null),L=so(L,P,G,null),L.flags|=2,j.return=d,L.return=d,j.sibling=L,d.child=j,(d.mode&1)!==0&&rl(d,l.child,null,G),d.child.memoizedState=Zx(G),d.memoizedState=Kx,L);if((d.mode&1)===0)return M0(l,d,G,null);if(P.data==="$!"){if(j=P.nextSibling&&P.nextSibling.dataset,j)var me=j.dgst;return j=me,L=Error(s(419)),j=Wx(L,j,void 0),M0(l,d,G,j)}if(me=(G&l.childLanes)!==0,As||me){if(j=Xr,j!==null){switch(G&-G){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(j.suspendedLanes|G))!==0?0:P,P!==0&&P!==L.retryLane&&(L.retryLane=P,jn(l,P),Ca(j,l,P,-1))}return xh(),j=Wx(Error(s(421))),M0(l,d,G,j)}return P.data==="$?"?(d.flags|=128,d.child=l.child,d=t4.bind(null,l),P._reactRetry=d,null):(l=L.treeContext,Ys=Yn(P.nextSibling),Zs=d,Ir=!0,Ta=null,l!==null&&(la[ca++]=bn,la[ca++]=vn,la[ca++]=Qi,bn=l.id,vn=l.overflow,Qi=d),d=Yx(d,j.children),d.flags|=4096,d)}function Pb(l,d,m){l.lanes|=d;var j=l.alternate;j!==null&&(j.lanes|=d),Px(l.return,d,m)}function Xx(l,d,m,j,P){var L=l.memoizedState;L===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:j,tail:m,tailMode:P}:(L.isBackwards=d,L.rendering=null,L.renderingStartTime=0,L.last=j,L.tail=m,L.tailMode=P)}function Eb(l,d,m){var j=d.pendingProps,P=j.revealOrder,L=j.tail;if(Ss(l,d,j.children,m),j=Pr.current,(j&2)!==0)j=j&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Pb(l,m,d);else if(l.tag===19)Pb(l,m,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}j&=1}if(wr(Pr,j),(d.mode&1)===0)d.memoizedState=null;else switch(P){case"forwards":for(m=d.child,P=null;m!==null;)l=m.alternate,l!==null&&E0(l)===null&&(P=m),m=m.sibling;m=P,m===null?(P=d.child,d.child=null):(P=m.sibling,m.sibling=null),Xx(d,!1,P,m,L);break;case"backwards":for(m=null,P=d.child,d.child=null;P!==null;){if(l=P.alternate,l!==null&&E0(l)===null){d.child=P;break}l=P.sibling,P.sibling=m,m=P,P=l}Xx(d,!0,m,null,L);break;case"together":Xx(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function O0(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function Nn(l,d,m){if(l!==null&&(d.dependencies=l.dependencies),Ji|=d.lanes,(m&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(s(153));if(d.child!==null){for(l=d.child,m=li(l,l.pendingProps),d.child=m,m.return=d;l.sibling!==null;)l=l.sibling,m=m.sibling=li(l,l.pendingProps),m.return=d;m.sibling=null}return d.child}function F3(l,d,m){switch(d.tag){case 3:Sb(d),tl();break;case 5:Fy(d);break;case 1:$s(d.type)&&b0(d);break;case 4:Dx(d,d.stateNode.containerInfo);break;case 10:var j=d.type._context,P=d.memoizedProps.value;wr(S0,j._currentValue),j._currentValue=P;break;case 13:if(j=d.memoizedState,j!==null)return j.dehydrated!==null?(wr(Pr,Pr.current&1),d.flags|=128,null):(m&d.child.childLanes)!==0?Ib(l,d,m):(wr(Pr,Pr.current&1),l=Nn(l,d,m),l!==null?l.sibling:null);wr(Pr,Pr.current&1);break;case 19:if(j=(m&d.childLanes)!==0,(l.flags&128)!==0){if(j)return Eb(l,d,m);d.flags|=128}if(P=d.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),wr(Pr,Pr.current),j)break;return null;case 22:case 23:return d.lanes=0,wb(l,d,m)}return Nn(l,d,m)}var Cb,Jx,Db,_b;Cb=function(l,d){for(var m=d.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Jx=function(){},Db=function(l,d,m,j){var P=l.memoizedProps;if(P!==j){l=d.stateNode,Yi(qa.current);var L=null;switch(m){case"input":P=de(l,P),j=de(l,j),L=[];break;case"select":P=Ie({},P,{value:void 0}),j=Ie({},j,{value:void 0}),L=[];break;case"textarea":P=J(l,P),j=J(l,j),L=[];break;default:typeof P.onClick!="function"&&typeof j.onClick=="function"&&(l.onclick=f0)}ut(m,j);var G;m=null;for(De in P)if(!j.hasOwnProperty(De)&&P.hasOwnProperty(De)&&P[De]!=null)if(De==="style"){var me=P[De];for(G in me)me.hasOwnProperty(G)&&(m||(m={}),m[G]="")}else De!=="dangerouslySetInnerHTML"&&De!=="children"&&De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&De!=="autoFocus"&&(o.hasOwnProperty(De)?L||(L=[]):(L=L||[]).push(De,null));for(De in j){var ve=j[De];if(me=P?.[De],j.hasOwnProperty(De)&&ve!==me&&(ve!=null||me!=null))if(De==="style")if(me){for(G in me)!me.hasOwnProperty(G)||ve&&ve.hasOwnProperty(G)||(m||(m={}),m[G]="");for(G in ve)ve.hasOwnProperty(G)&&me[G]!==ve[G]&&(m||(m={}),m[G]=ve[G])}else m||(L||(L=[]),L.push(De,m)),m=ve;else De==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,me=me?me.__html:void 0,ve!=null&&me!==ve&&(L=L||[]).push(De,ve)):De==="children"?typeof ve!="string"&&typeof ve!="number"||(L=L||[]).push(De,""+ve):De!=="suppressContentEditableWarning"&&De!=="suppressHydrationWarning"&&(o.hasOwnProperty(De)?(ve!=null&&De==="onScroll"&&Nr("scroll",l),L||me===ve||(L=[])):(L=L||[]).push(De,ve))}m&&(L=L||[]).push("style",m);var De=L;(d.updateQueue=De)&&(d.flags|=4)}},_b=function(l,d,m,j){m!==j&&(d.flags|=4)};function Nc(l,d){if(!Ir)switch(l.tailMode){case"hidden":d=l.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var j=null;m!==null;)m.alternate!==null&&(j=m),m=m.sibling;j===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:j.sibling=null}}function ps(l){var d=l.alternate!==null&&l.alternate.child===l.child,m=0,j=0;if(d)for(var P=l.child;P!==null;)m|=P.lanes|P.childLanes,j|=P.subtreeFlags&14680064,j|=P.flags&14680064,P.return=l,P=P.sibling;else for(P=l.child;P!==null;)m|=P.lanes|P.childLanes,j|=P.subtreeFlags,j|=P.flags,P.return=l,P=P.sibling;return l.subtreeFlags|=j,l.childLanes=m,d}function H3(l,d,m){var j=d.pendingProps;switch(jx(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ps(d),null;case 1:return $s(d.type)&&y0(),ps(d),null;case 3:return j=d.stateNode,nl(),kr(_s),kr(xs),Ax(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(l===null||l.child===null)&&(N0(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Ta!==null&&(dh(Ta),Ta=null))),Jx(l,d),ps(d),null;case 5:_x(d);var P=Yi(yc.current);if(m=d.type,l!==null&&d.stateNode!=null)Db(l,d,m,j,P),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!j){if(d.stateNode===null)throw Error(s(166));return ps(d),null}if(l=Yi(qa.current),N0(d)){j=d.stateNode,m=d.type;var L=d.memoizedProps;switch(j[Wa]=d,j[xc]=L,l=(d.mode&1)!==0,m){case"dialog":Nr("cancel",j),Nr("close",j);break;case"iframe":case"object":case"embed":Nr("load",j);break;case"video":case"audio":for(P=0;P<dc.length;P++)Nr(dc[P],j);break;case"source":Nr("error",j);break;case"img":case"image":case"link":Nr("error",j),Nr("load",j);break;case"details":Nr("toggle",j);break;case"input":ue(j,L),Nr("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!L.multiple},Nr("invalid",j);break;case"textarea":te(j,L),Nr("invalid",j)}ut(m,L),P=null;for(var G in L)if(L.hasOwnProperty(G)){var me=L[G];G==="children"?typeof me=="string"?j.textContent!==me&&(L.suppressHydrationWarning!==!0&&p0(j.textContent,me,l),P=["children",me]):typeof me=="number"&&j.textContent!==""+me&&(L.suppressHydrationWarning!==!0&&p0(j.textContent,me,l),P=["children",""+me]):o.hasOwnProperty(G)&&me!=null&&G==="onScroll"&&Nr("scroll",j)}switch(m){case"input":z(j),_(j,L,!0);break;case"textarea":z(j),ye(j);break;case"select":case"option":break;default:typeof L.onClick=="function"&&(j.onclick=f0)}j=P,d.updateQueue=j,j!==null&&(d.flags|=4)}else{G=P.nodeType===9?P:P.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=fe(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=G.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof j.is=="string"?l=G.createElement(m,{is:j.is}):(l=G.createElement(m),m==="select"&&(G=l,j.multiple?G.multiple=!0:j.size&&(G.size=j.size))):l=G.createElementNS(l,m),l[Wa]=d,l[xc]=j,Cb(l,d,!1,!1),d.stateNode=l;e:{switch(G=pt(m,j),m){case"dialog":Nr("cancel",l),Nr("close",l),P=j;break;case"iframe":case"object":case"embed":Nr("load",l),P=j;break;case"video":case"audio":for(P=0;P<dc.length;P++)Nr(dc[P],l);P=j;break;case"source":Nr("error",l),P=j;break;case"img":case"image":case"link":Nr("error",l),Nr("load",l),P=j;break;case"details":Nr("toggle",l),P=j;break;case"input":ue(l,j),P=de(l,j),Nr("invalid",l);break;case"option":P=j;break;case"select":l._wrapperState={wasMultiple:!!j.multiple},P=Ie({},j,{value:void 0}),Nr("invalid",l);break;case"textarea":te(l,j),P=J(l,j),Nr("invalid",l);break;default:P=j}ut(m,P),me=P;for(L in me)if(me.hasOwnProperty(L)){var ve=me[L];L==="style"?dt(l,ve):L==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&qe(l,ve)):L==="children"?typeof ve=="string"?(m!=="textarea"||ve!=="")&&at(l,ve):typeof ve=="number"&&at(l,""+ve):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(o.hasOwnProperty(L)?ve!=null&&L==="onScroll"&&Nr("scroll",l):ve!=null&&ce(l,L,ve,G))}switch(m){case"input":z(l),_(l,j,!1);break;case"textarea":z(l),ye(l);break;case"option":j.value!=null&&l.setAttribute("value",""+a(j.value));break;case"select":l.multiple=!!j.multiple,L=j.value,L!=null?I(l,!!j.multiple,L,!1):j.defaultValue!=null&&I(l,!!j.multiple,j.defaultValue,!0);break;default:typeof P.onClick=="function"&&(l.onclick=f0)}switch(m){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return ps(d),null;case 6:if(l&&d.stateNode!=null)_b(l,d,l.memoizedProps,j);else{if(typeof j!="string"&&d.stateNode===null)throw Error(s(166));if(m=Yi(yc.current),Yi(qa.current),N0(d)){if(j=d.stateNode,m=d.memoizedProps,j[Wa]=d,(L=j.nodeValue!==m)&&(l=Zs,l!==null))switch(l.tag){case 3:p0(j.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&p0(j.nodeValue,m,(l.mode&1)!==0)}L&&(d.flags|=4)}else j=(m.nodeType===9?m:m.ownerDocument).createTextNode(j),j[Wa]=d,d.stateNode=j}return ps(d),null;case 13:if(kr(Pr),j=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Ir&&Ys!==null&&(d.mode&1)!==0&&(d.flags&128)===0)Ry(),tl(),d.flags|=98560,L=!1;else if(L=N0(d),j!==null&&j.dehydrated!==null){if(l===null){if(!L)throw Error(s(318));if(L=d.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(s(317));L[Wa]=d}else tl(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;ps(d),L=!1}else Ta!==null&&(dh(Ta),Ta=null),L=!0;if(!L)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=m,d):(j=j!==null,j!==(l!==null&&l.memoizedState!==null)&&j&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(Pr.current&1)!==0?Gr===0&&(Gr=3):xh())),d.updateQueue!==null&&(d.flags|=4),ps(d),null);case 4:return nl(),Jx(l,d),l===null&&uc(d.stateNode.containerInfo),ps(d),null;case 10:return Ix(d.type._context),ps(d),null;case 17:return $s(d.type)&&y0(),ps(d),null;case 19:if(kr(Pr),L=d.memoizedState,L===null)return ps(d),null;if(j=(d.flags&128)!==0,G=L.rendering,G===null)if(j)Nc(L,!1);else{if(Gr!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(G=E0(l),G!==null){for(d.flags|=128,Nc(L,!1),j=G.updateQueue,j!==null&&(d.updateQueue=j,d.flags|=4),d.subtreeFlags=0,j=m,m=d.child;m!==null;)L=m,l=j,L.flags&=14680066,G=L.alternate,G===null?(L.childLanes=0,L.lanes=l,L.child=null,L.subtreeFlags=0,L.memoizedProps=null,L.memoizedState=null,L.updateQueue=null,L.dependencies=null,L.stateNode=null):(L.childLanes=G.childLanes,L.lanes=G.lanes,L.child=G.child,L.subtreeFlags=0,L.deletions=null,L.memoizedProps=G.memoizedProps,L.memoizedState=G.memoizedState,L.updateQueue=G.updateQueue,L.type=G.type,l=G.dependencies,L.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return wr(Pr,Pr.current&1|2),d.child}l=l.sibling}L.tail!==null&&jr()>cl&&(d.flags|=128,j=!0,Nc(L,!1),d.lanes=4194304)}else{if(!j)if(l=E0(G),l!==null){if(d.flags|=128,j=!0,m=l.updateQueue,m!==null&&(d.updateQueue=m,d.flags|=4),Nc(L,!0),L.tail===null&&L.tailMode==="hidden"&&!G.alternate&&!Ir)return ps(d),null}else 2*jr()-L.renderingStartTime>cl&&m!==1073741824&&(d.flags|=128,j=!0,Nc(L,!1),d.lanes=4194304);L.isBackwards?(G.sibling=d.child,d.child=G):(m=L.last,m!==null?m.sibling=G:d.child=G,L.last=G)}return L.tail!==null?(d=L.tail,L.rendering=d,L.tail=d.sibling,L.renderingStartTime=jr(),d.sibling=null,m=Pr.current,wr(Pr,j?m&1|2:m&1),d):(ps(d),null);case 22:case 23:return mh(),j=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==j&&(d.flags|=8192),j&&(d.mode&1)!==0?(Xs&1073741824)!==0&&(ps(d),d.subtreeFlags&6&&(d.flags|=8192)):ps(d),null;case 24:return null;case 25:return null}throw Error(s(156,d.tag))}function W3(l,d){switch(jx(d),d.tag){case 1:return $s(d.type)&&y0(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return nl(),kr(_s),kr(xs),Ax(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return _x(d),null;case 13:if(kr(Pr),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(s(340));tl()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return kr(Pr),null;case 4:return nl(),null;case 10:return Ix(d.type._context),null;case 22:case 23:return mh(),null;case 24:return null;default:return null}}var L0=!1,fs=!1,q3=typeof WeakSet=="function"?WeakSet:Set,gt=null;function ol(l,d){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(j){Rr(l,d,j)}else m.current=null}function eh(l,d,m){try{m()}catch(j){Rr(l,d,j)}}var $b=!1;function G3(l,d){if(mx=Qn,l=uy(),ax(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var j=m.getSelection&&m.getSelection();if(j&&j.rangeCount!==0){m=j.anchorNode;var P=j.anchorOffset,L=j.focusNode;j=j.focusOffset;try{m.nodeType,L.nodeType}catch{m=null;break e}var G=0,me=-1,ve=-1,De=0,Ze=0,Ye=l,Ke=null;t:for(;;){for(var ht;Ye!==m||P!==0&&Ye.nodeType!==3||(me=G+P),Ye!==L||j!==0&&Ye.nodeType!==3||(ve=G+j),Ye.nodeType===3&&(G+=Ye.nodeValue.length),(ht=Ye.firstChild)!==null;)Ke=Ye,Ye=ht;for(;;){if(Ye===l)break t;if(Ke===m&&++De===P&&(me=G),Ke===L&&++Ze===j&&(ve=G),(ht=Ye.nextSibling)!==null)break;Ye=Ke,Ke=Ye.parentNode}Ye=ht}m=me===-1||ve===-1?null:{start:me,end:ve}}else m=null}m=m||{start:0,end:0}}else m=null;for(xx={focusedElem:l,selectionRange:m},Qn=!1,gt=d;gt!==null;)if(d=gt,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,gt=l;else for(;gt!==null;){d=gt;try{var bt=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(bt!==null){var wt=bt.memoizedProps,Or=bt.memoizedState,Te=d.stateNode,we=Te.getSnapshotBeforeUpdate(d.elementType===d.type?wt:Ia(d.type,wt),Or);Te.__reactInternalSnapshotBeforeUpdate=we}break;case 3:var Pe=d.stateNode.containerInfo;Pe.nodeType===1?Pe.textContent="":Pe.nodeType===9&&Pe.documentElement&&Pe.removeChild(Pe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Je){Rr(d,d.return,Je)}if(l=d.sibling,l!==null){l.return=d.return,gt=l;break}gt=d.return}return bt=$b,$b=!1,bt}function kc(l,d,m){var j=d.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var P=j=j.next;do{if((P.tag&l)===l){var L=P.destroy;P.destroy=void 0,L!==void 0&&eh(d,m,L)}P=P.next}while(P!==j)}}function V0(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&l)===l){var j=m.create;m.destroy=j()}m=m.next}while(m!==d)}}function th(l){var d=l.ref;if(d!==null){var m=l.stateNode;switch(l.tag){case 5:l=m;break;default:l=m}typeof d=="function"?d(l):d.current=l}}function Ab(l){var d=l.alternate;d!==null&&(l.alternate=null,Ab(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[Wa],delete d[xc],delete d[gx],delete d[E3],delete d[C3])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Rb(l){return l.tag===5||l.tag===3||l.tag===4}function Mb(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Rb(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function rh(l,d,m){var j=l.tag;if(j===5||j===6)l=l.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(l,d):m.insertBefore(l,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(l,m)):(d=m,d.appendChild(l)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=f0));else if(j!==4&&(l=l.child,l!==null))for(rh(l,d,m),l=l.sibling;l!==null;)rh(l,d,m),l=l.sibling}function sh(l,d,m){var j=l.tag;if(j===5||j===6)l=l.stateNode,d?m.insertBefore(l,d):m.appendChild(l);else if(j!==4&&(l=l.child,l!==null))for(sh(l,d,m),l=l.sibling;l!==null;)sh(l,d,m),l=l.sibling}var ns=null,Pa=!1;function si(l,d,m){for(m=m.child;m!==null;)Ob(l,d,m),m=m.sibling}function Ob(l,d,m){if(qs&&typeof qs.onCommitFiberUnmount=="function")try{qs.onCommitFiberUnmount(Vi,m)}catch{}switch(m.tag){case 5:fs||ol(m,d);case 6:var j=ns,P=Pa;ns=null,si(l,d,m),ns=j,Pa=P,ns!==null&&(Pa?(l=ns,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):ns.removeChild(m.stateNode));break;case 18:ns!==null&&(Pa?(l=ns,m=m.stateNode,l.nodeType===8?fx(l.parentNode,m):l.nodeType===1&&fx(l,m),Na(l)):fx(ns,m.stateNode));break;case 4:j=ns,P=Pa,ns=m.stateNode.containerInfo,Pa=!0,si(l,d,m),ns=j,Pa=P;break;case 0:case 11:case 14:case 15:if(!fs&&(j=m.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){P=j=j.next;do{var L=P,G=L.destroy;L=L.tag,G!==void 0&&((L&2)!==0||(L&4)!==0)&&eh(m,d,G),P=P.next}while(P!==j)}si(l,d,m);break;case 1:if(!fs&&(ol(m,d),j=m.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=m.memoizedProps,j.state=m.memoizedState,j.componentWillUnmount()}catch(me){Rr(m,d,me)}si(l,d,m);break;case 21:si(l,d,m);break;case 22:m.mode&1?(fs=(j=fs)||m.memoizedState!==null,si(l,d,m),fs=j):si(l,d,m);break;default:si(l,d,m)}}function Lb(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new q3),d.forEach(function(j){var P=r4.bind(null,l,j);m.has(j)||(m.add(j),j.then(P,P))})}}function Ea(l,d){var m=d.deletions;if(m!==null)for(var j=0;j<m.length;j++){var P=m[j];try{var L=l,G=d,me=G;e:for(;me!==null;){switch(me.tag){case 5:ns=me.stateNode,Pa=!1;break e;case 3:ns=me.stateNode.containerInfo,Pa=!0;break e;case 4:ns=me.stateNode.containerInfo,Pa=!0;break e}me=me.return}if(ns===null)throw Error(s(160));Ob(L,G,P),ns=null,Pa=!1;var ve=P.alternate;ve!==null&&(ve.return=null),P.return=null}catch(De){Rr(P,d,De)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)Vb(d,l),d=d.sibling}function Vb(l,d){var m=l.alternate,j=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Ea(d,l),Qa(l),j&4){try{kc(3,l,l.return),V0(3,l)}catch(wt){Rr(l,l.return,wt)}try{kc(5,l,l.return)}catch(wt){Rr(l,l.return,wt)}}break;case 1:Ea(d,l),Qa(l),j&512&&m!==null&&ol(m,m.return);break;case 5:if(Ea(d,l),Qa(l),j&512&&m!==null&&ol(m,m.return),l.flags&32){var P=l.stateNode;try{at(P,"")}catch(wt){Rr(l,l.return,wt)}}if(j&4&&(P=l.stateNode,P!=null)){var L=l.memoizedProps,G=m!==null?m.memoizedProps:L,me=l.type,ve=l.updateQueue;if(l.updateQueue=null,ve!==null)try{me==="input"&&L.type==="radio"&&L.name!=null&&E(P,L),pt(me,G);var De=pt(me,L);for(G=0;G<ve.length;G+=2){var Ze=ve[G],Ye=ve[G+1];Ze==="style"?dt(P,Ye):Ze==="dangerouslySetInnerHTML"?qe(P,Ye):Ze==="children"?at(P,Ye):ce(P,Ze,Ye,De)}switch(me){case"input":M(P,L);break;case"textarea":xe(P,L);break;case"select":var Ke=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!L.multiple;var ht=L.value;ht!=null?I(P,!!L.multiple,ht,!1):Ke!==!!L.multiple&&(L.defaultValue!=null?I(P,!!L.multiple,L.defaultValue,!0):I(P,!!L.multiple,L.multiple?[]:"",!1))}P[xc]=L}catch(wt){Rr(l,l.return,wt)}}break;case 6:if(Ea(d,l),Qa(l),j&4){if(l.stateNode===null)throw Error(s(162));P=l.stateNode,L=l.memoizedProps;try{P.nodeValue=L}catch(wt){Rr(l,l.return,wt)}}break;case 3:if(Ea(d,l),Qa(l),j&4&&m!==null&&m.memoizedState.isDehydrated)try{Na(d.containerInfo)}catch(wt){Rr(l,l.return,wt)}break;case 4:Ea(d,l),Qa(l);break;case 13:Ea(d,l),Qa(l),P=l.child,P.flags&8192&&(L=P.memoizedState!==null,P.stateNode.isHidden=L,!L||P.alternate!==null&&P.alternate.memoizedState!==null||(ih=jr())),j&4&&Lb(l);break;case 22:if(Ze=m!==null&&m.memoizedState!==null,l.mode&1?(fs=(De=fs)||Ze,Ea(d,l),fs=De):Ea(d,l),Qa(l),j&8192){if(De=l.memoizedState!==null,(l.stateNode.isHidden=De)&&!Ze&&(l.mode&1)!==0)for(gt=l,Ze=l.child;Ze!==null;){for(Ye=gt=Ze;gt!==null;){switch(Ke=gt,ht=Ke.child,Ke.tag){case 0:case 11:case 14:case 15:kc(4,Ke,Ke.return);break;case 1:ol(Ke,Ke.return);var bt=Ke.stateNode;if(typeof bt.componentWillUnmount=="function"){j=Ke,m=Ke.return;try{d=j,bt.props=d.memoizedProps,bt.state=d.memoizedState,bt.componentWillUnmount()}catch(wt){Rr(j,m,wt)}}break;case 5:ol(Ke,Ke.return);break;case 22:if(Ke.memoizedState!==null){Ub(Ye);continue}}ht!==null?(ht.return=Ke,gt=ht):Ub(Ye)}Ze=Ze.sibling}e:for(Ze=null,Ye=l;;){if(Ye.tag===5){if(Ze===null){Ze=Ye;try{P=Ye.stateNode,De?(L=P.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none"):(me=Ye.stateNode,ve=Ye.memoizedProps.style,G=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,me.style.display=ct("display",G))}catch(wt){Rr(l,l.return,wt)}}}else if(Ye.tag===6){if(Ze===null)try{Ye.stateNode.nodeValue=De?"":Ye.memoizedProps}catch(wt){Rr(l,l.return,wt)}}else if((Ye.tag!==22&&Ye.tag!==23||Ye.memoizedState===null||Ye===l)&&Ye.child!==null){Ye.child.return=Ye,Ye=Ye.child;continue}if(Ye===l)break e;for(;Ye.sibling===null;){if(Ye.return===null||Ye.return===l)break e;Ze===Ye&&(Ze=null),Ye=Ye.return}Ze===Ye&&(Ze=null),Ye.sibling.return=Ye.return,Ye=Ye.sibling}}break;case 19:Ea(d,l),Qa(l),j&4&&Lb(l);break;case 21:break;default:Ea(d,l),Qa(l)}}function Qa(l){var d=l.flags;if(d&2){try{e:{for(var m=l.return;m!==null;){if(Rb(m)){var j=m;break e}m=m.return}throw Error(s(160))}switch(j.tag){case 5:var P=j.stateNode;j.flags&32&&(at(P,""),j.flags&=-33);var L=Mb(l);sh(l,L,P);break;case 3:case 4:var G=j.stateNode.containerInfo,me=Mb(l);rh(l,me,G);break;default:throw Error(s(161))}}catch(ve){Rr(l,l.return,ve)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function Q3(l,d,m){gt=l,zb(l)}function zb(l,d,m){for(var j=(l.mode&1)!==0;gt!==null;){var P=gt,L=P.child;if(P.tag===22&&j){var G=P.memoizedState!==null||L0;if(!G){var me=P.alternate,ve=me!==null&&me.memoizedState!==null||fs;me=L0;var De=fs;if(L0=G,(fs=ve)&&!De)for(gt=P;gt!==null;)G=gt,ve=G.child,G.tag===22&&G.memoizedState!==null?Fb(P):ve!==null?(ve.return=G,gt=ve):Fb(P);for(;L!==null;)gt=L,zb(L),L=L.sibling;gt=P,L0=me,fs=De}Bb(l)}else(P.subtreeFlags&8772)!==0&&L!==null?(L.return=P,gt=L):Bb(l)}}function Bb(l){for(;gt!==null;){var d=gt;if((d.flags&8772)!==0){var m=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:fs||V0(5,d);break;case 1:var j=d.stateNode;if(d.flags&4&&!fs)if(m===null)j.componentDidMount();else{var P=d.elementType===d.type?m.memoizedProps:Ia(d.type,m.memoizedProps);j.componentDidUpdate(P,m.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var L=d.updateQueue;L!==null&&Uy(d,L,j);break;case 3:var G=d.updateQueue;if(G!==null){if(m=null,d.child!==null)switch(d.child.tag){case 5:m=d.child.stateNode;break;case 1:m=d.child.stateNode}Uy(d,G,m)}break;case 5:var me=d.stateNode;if(m===null&&d.flags&4){m=me;var ve=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&m.focus();break;case"img":ve.src&&(m.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var De=d.alternate;if(De!==null){var Ze=De.memoizedState;if(Ze!==null){var Ye=Ze.dehydrated;Ye!==null&&Na(Ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}fs||d.flags&512&&th(d)}catch(Ke){Rr(d,d.return,Ke)}}if(d===l){gt=null;break}if(m=d.sibling,m!==null){m.return=d.return,gt=m;break}gt=d.return}}function Ub(l){for(;gt!==null;){var d=gt;if(d===l){gt=null;break}var m=d.sibling;if(m!==null){m.return=d.return,gt=m;break}gt=d.return}}function Fb(l){for(;gt!==null;){var d=gt;try{switch(d.tag){case 0:case 11:case 15:var m=d.return;try{V0(4,d)}catch(ve){Rr(d,m,ve)}break;case 1:var j=d.stateNode;if(typeof j.componentDidMount=="function"){var P=d.return;try{j.componentDidMount()}catch(ve){Rr(d,P,ve)}}var L=d.return;try{th(d)}catch(ve){Rr(d,L,ve)}break;case 5:var G=d.return;try{th(d)}catch(ve){Rr(d,G,ve)}}}catch(ve){Rr(d,d.return,ve)}if(d===l){gt=null;break}var me=d.sibling;if(me!==null){me.return=d.return,gt=me;break}gt=d.return}}var K3=Math.ceil,z0=pe.ReactCurrentDispatcher,ah=pe.ReactCurrentOwner,ma=pe.ReactCurrentBatchConfig,ir=0,Xr=null,Br=null,is=0,Xs=0,ll=Xn(0),Gr=0,Sc=null,Ji=0,B0=0,nh=0,Tc=null,Rs=null,ih=0,cl=1/0,kn=null,U0=!1,oh=null,ai=null,F0=!1,ni=null,H0=0,Ic=0,lh=null,W0=-1,q0=0;function Ts(){return(ir&6)!==0?jr():W0!==-1?W0:W0=jr()}function ii(l){return(l.mode&1)===0?1:(ir&2)!==0&&is!==0?is&-is:_3.transition!==null?(q0===0&&(q0=Bi()),q0):(l=rr,l!==0||(l=window.event,l=l===void 0?16:tc(l.type)),l)}function Ca(l,d,m,j){if(50<Ic)throw Ic=0,lh=null,Error(s(185));Hn(l,m,j),((ir&2)===0||l!==Xr)&&(l===Xr&&((ir&2)===0&&(B0|=m),Gr===4&&oi(l,is)),Ms(l,j),m===1&&ir===0&&(d.mode&1)===0&&(cl=jr()+500,v0&&ei()))}function Ms(l,d){var m=l.callbackNode;mn(l,d);var j=zi(l,l===Xr?is:0);if(j===0)m!==null&&Zl(m),l.callbackNode=null,l.callbackPriority=0;else if(d=j&-j,l.callbackPriority!==d){if(m!=null&&Zl(m),d===1)l.tag===0?D3(Wb.bind(null,l)):Cy(Wb.bind(null,l)),I3(function(){(ir&6)===0&&ei()}),m=null;else{switch(qn(j)){case 1:m=Li;break;case 4:m=Bn;break;case 16:m=na;break;case 536870912:m=qd;break;default:m=na}m=Jb(m,Hb.bind(null,l))}l.callbackPriority=d,l.callbackNode=m}}function Hb(l,d){if(W0=-1,q0=0,(ir&6)!==0)throw Error(s(327));var m=l.callbackNode;if(dl()&&l.callbackNode!==m)return null;var j=zi(l,l===Xr?is:0);if(j===0)return null;if((j&30)!==0||(j&l.expiredLanes)!==0||d)d=G0(l,j);else{d=j;var P=ir;ir|=2;var L=Gb();(Xr!==l||is!==d)&&(kn=null,cl=jr()+500,to(l,d));do try{X3();break}catch(me){qb(l,me)}while(!0);Tx(),z0.current=L,ir=P,Br!==null?d=0:(Xr=null,is=0,d=Gr)}if(d!==0){if(d===2&&(P=Gs(l),P!==0&&(j=P,d=ch(l,P))),d===1)throw m=Sc,to(l,0),oi(l,j),Ms(l,jr()),m;if(d===6)oi(l,j);else{if(P=l.current.alternate,(j&30)===0&&!Z3(P)&&(d=G0(l,j),d===2&&(L=Gs(l),L!==0&&(j=L,d=ch(l,L))),d===1))throw m=Sc,to(l,0),oi(l,j),Ms(l,jr()),m;switch(l.finishedWork=P,l.finishedLanes=j,d){case 0:case 1:throw Error(s(345));case 2:ro(l,Rs,kn);break;case 3:if(oi(l,j),(j&130023424)===j&&(d=ih+500-jr(),10<d)){if(zi(l,0)!==0)break;if(P=l.suspendedLanes,(P&j)!==j){Ts(),l.pingedLanes|=l.suspendedLanes&P;break}l.timeoutHandle=px(ro.bind(null,l,Rs,kn),d);break}ro(l,Rs,kn);break;case 4:if(oi(l,j),(j&4194240)===j)break;for(d=l.eventTimes,P=-1;0<j;){var G=31-Ns(j);L=1<<G,G=d[G],G>P&&(P=G),j&=~L}if(j=P,j=jr()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*K3(j/1960))-j,10<j){l.timeoutHandle=px(ro.bind(null,l,Rs,kn),j);break}ro(l,Rs,kn);break;case 5:ro(l,Rs,kn);break;default:throw Error(s(329))}}}return Ms(l,jr()),l.callbackNode===m?Hb.bind(null,l):null}function ch(l,d){var m=Tc;return l.current.memoizedState.isDehydrated&&(to(l,d).flags|=256),l=G0(l,d),l!==2&&(d=Rs,Rs=m,d!==null&&dh(d)),l}function dh(l){Rs===null?Rs=l:Rs.push.apply(Rs,l)}function Z3(l){for(var d=l;;){if(d.flags&16384){var m=d.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var j=0;j<m.length;j++){var P=m[j],L=P.getSnapshot;P=P.value;try{if(!Sa(L(),P))return!1}catch{return!1}}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function oi(l,d){for(d&=~nh,d&=~B0,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var m=31-Ns(d),j=1<<m;l[m]=-1,d&=~j}}function Wb(l){if((ir&6)!==0)throw Error(s(327));dl();var d=zi(l,0);if((d&1)===0)return Ms(l,jr()),null;var m=G0(l,d);if(l.tag!==0&&m===2){var j=Gs(l);j!==0&&(d=j,m=ch(l,j))}if(m===1)throw m=Sc,to(l,0),oi(l,d),Ms(l,jr()),m;if(m===6)throw Error(s(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,ro(l,Rs,kn),Ms(l,jr()),null}function uh(l,d){var m=ir;ir|=1;try{return l(d)}finally{ir=m,ir===0&&(cl=jr()+500,v0&&ei())}}function eo(l){ni!==null&&ni.tag===0&&(ir&6)===0&&dl();var d=ir;ir|=1;var m=ma.transition,j=rr;try{if(ma.transition=null,rr=1,l)return l()}finally{rr=j,ma.transition=m,ir=d,(ir&6)===0&&ei()}}function mh(){Xs=ll.current,kr(ll)}function to(l,d){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,T3(m)),Br!==null)for(m=Br.return;m!==null;){var j=m;switch(jx(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&y0();break;case 3:nl(),kr(_s),kr(xs),Ax();break;case 5:_x(j);break;case 4:nl();break;case 13:kr(Pr);break;case 19:kr(Pr);break;case 10:Ix(j.type._context);break;case 22:case 23:mh()}m=m.return}if(Xr=l,Br=l=li(l.current,null),is=Xs=d,Gr=0,Sc=null,nh=B0=Ji=0,Rs=Tc=null,Zi!==null){for(d=0;d<Zi.length;d++)if(m=Zi[d],j=m.interleaved,j!==null){m.interleaved=null;var P=j.next,L=m.pending;if(L!==null){var G=L.next;L.next=P,j.next=G}m.pending=j}Zi=null}return l}function qb(l,d){do{var m=Br;try{if(Tx(),C0.current=A0,D0){for(var j=Er.memoizedState;j!==null;){var P=j.queue;P!==null&&(P.pending=null),j=j.next}D0=!1}if(Xi=0,Yr=qr=Er=null,bc=!1,vc=0,ah.current=null,m===null||m.return===null){Gr=1,Sc=d,Br=null;break}e:{var L=l,G=m.return,me=m,ve=d;if(d=is,me.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var De=ve,Ze=me,Ye=Ze.tag;if((Ze.mode&1)===0&&(Ye===0||Ye===11||Ye===15)){var Ke=Ze.alternate;Ke?(Ze.updateQueue=Ke.updateQueue,Ze.memoizedState=Ke.memoizedState,Ze.lanes=Ke.lanes):(Ze.updateQueue=null,Ze.memoizedState=null)}var ht=gb(G);if(ht!==null){ht.flags&=-257,yb(ht,G,me,L,d),ht.mode&1&&fb(L,De,d),d=ht,ve=De;var bt=d.updateQueue;if(bt===null){var wt=new Set;wt.add(ve),d.updateQueue=wt}else bt.add(ve);break e}else{if((d&1)===0){fb(L,De,d),xh();break e}ve=Error(s(426))}}else if(Ir&&me.mode&1){var Or=gb(G);if(Or!==null){(Or.flags&65536)===0&&(Or.flags|=256),yb(Or,G,me,L,d),kx(il(ve,me));break e}}L=ve=il(ve,me),Gr!==4&&(Gr=2),Tc===null?Tc=[L]:Tc.push(L),L=G;do{switch(L.tag){case 3:L.flags|=65536,d&=-d,L.lanes|=d;var Te=hb(L,ve,d);By(L,Te);break e;case 1:me=ve;var we=L.type,Pe=L.stateNode;if((L.flags&128)===0&&(typeof we.getDerivedStateFromError=="function"||Pe!==null&&typeof Pe.componentDidCatch=="function"&&(ai===null||!ai.has(Pe)))){L.flags|=65536,d&=-d,L.lanes|=d;var Je=pb(L,me,d);By(L,Je);break e}}L=L.return}while(L!==null)}Kb(m)}catch(Nt){d=Nt,Br===m&&m!==null&&(Br=m=m.return);continue}break}while(!0)}function Gb(){var l=z0.current;return z0.current=A0,l===null?A0:l}function xh(){(Gr===0||Gr===3||Gr===2)&&(Gr=4),Xr===null||(Ji&268435455)===0&&(B0&268435455)===0||oi(Xr,is)}function G0(l,d){var m=ir;ir|=2;var j=Gb();(Xr!==l||is!==d)&&(kn=null,to(l,d));do try{Y3();break}catch(P){qb(l,P)}while(!0);if(Tx(),ir=m,z0.current=j,Br!==null)throw Error(s(261));return Xr=null,is=0,Gr}function Y3(){for(;Br!==null;)Qb(Br)}function X3(){for(;Br!==null&&!Hd();)Qb(Br)}function Qb(l){var d=Xb(l.alternate,l,Xs);l.memoizedProps=l.pendingProps,d===null?Kb(l):Br=d,ah.current=null}function Kb(l){var d=l;do{var m=d.alternate;if(l=d.return,(d.flags&32768)===0){if(m=H3(m,d,Xs),m!==null){Br=m;return}}else{if(m=W3(m,d),m!==null){m.flags&=32767,Br=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Gr=6,Br=null;return}}if(d=d.sibling,d!==null){Br=d;return}Br=d=l}while(d!==null);Gr===0&&(Gr=5)}function ro(l,d,m){var j=rr,P=ma.transition;try{ma.transition=null,rr=1,J3(l,d,m,j)}finally{ma.transition=P,rr=j}return null}function J3(l,d,m,j){do dl();while(ni!==null);if((ir&6)!==0)throw Error(s(327));m=l.finishedWork;var P=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(s(177));l.callbackNode=null,l.callbackPriority=0;var L=m.lanes|m.childLanes;if(gr(l,L),l===Xr&&(Br=Xr=null,is=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||F0||(F0=!0,Jb(na,function(){return dl(),null})),L=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||L){L=ma.transition,ma.transition=null;var G=rr;rr=1;var me=ir;ir|=4,ah.current=null,G3(l,m),Vb(m,l),b3(xx),Qn=!!mx,xx=mx=null,l.current=m,Q3(m),Zm(),ir=me,rr=G,ma.transition=L}else l.current=m;if(F0&&(F0=!1,ni=l,H0=P),L=l.pendingLanes,L===0&&(ai=null),Gd(m.stateNode),Ms(l,jr()),d!==null)for(j=l.onRecoverableError,m=0;m<d.length;m++)P=d[m],j(P.value,{componentStack:P.stack,digest:P.digest});if(U0)throw U0=!1,l=oh,oh=null,l;return(H0&1)!==0&&l.tag!==0&&dl(),L=l.pendingLanes,(L&1)!==0?l===lh?Ic++:(Ic=0,lh=l):Ic=0,ei(),null}function dl(){if(ni!==null){var l=qn(H0),d=ma.transition,m=rr;try{if(ma.transition=null,rr=16>l?16:l,ni===null)var j=!1;else{if(l=ni,ni=null,H0=0,(ir&6)!==0)throw Error(s(331));var P=ir;for(ir|=4,gt=l.current;gt!==null;){var L=gt,G=L.child;if((gt.flags&16)!==0){var me=L.deletions;if(me!==null){for(var ve=0;ve<me.length;ve++){var De=me[ve];for(gt=De;gt!==null;){var Ze=gt;switch(Ze.tag){case 0:case 11:case 15:kc(8,Ze,L)}var Ye=Ze.child;if(Ye!==null)Ye.return=Ze,gt=Ye;else for(;gt!==null;){Ze=gt;var Ke=Ze.sibling,ht=Ze.return;if(Ab(Ze),Ze===De){gt=null;break}if(Ke!==null){Ke.return=ht,gt=Ke;break}gt=ht}}}var bt=L.alternate;if(bt!==null){var wt=bt.child;if(wt!==null){bt.child=null;do{var Or=wt.sibling;wt.sibling=null,wt=Or}while(wt!==null)}}gt=L}}if((L.subtreeFlags&2064)!==0&&G!==null)G.return=L,gt=G;else e:for(;gt!==null;){if(L=gt,(L.flags&2048)!==0)switch(L.tag){case 0:case 11:case 15:kc(9,L,L.return)}var Te=L.sibling;if(Te!==null){Te.return=L.return,gt=Te;break e}gt=L.return}}var we=l.current;for(gt=we;gt!==null;){G=gt;var Pe=G.child;if((G.subtreeFlags&2064)!==0&&Pe!==null)Pe.return=G,gt=Pe;else e:for(G=we;gt!==null;){if(me=gt,(me.flags&2048)!==0)try{switch(me.tag){case 0:case 11:case 15:V0(9,me)}}catch(Nt){Rr(me,me.return,Nt)}if(me===G){gt=null;break e}var Je=me.sibling;if(Je!==null){Je.return=me.return,gt=Je;break e}gt=me.return}}if(ir=P,ei(),qs&&typeof qs.onPostCommitFiberRoot=="function")try{qs.onPostCommitFiberRoot(Vi,l)}catch{}j=!0}return j}finally{rr=m,ma.transition=d}}return!1}function Zb(l,d,m){d=il(m,d),d=hb(l,d,1),l=ri(l,d,1),d=Ts(),l!==null&&(Hn(l,1,d),Ms(l,d))}function Rr(l,d,m){if(l.tag===3)Zb(l,l,m);else for(;d!==null;){if(d.tag===3){Zb(d,l,m);break}else if(d.tag===1){var j=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(ai===null||!ai.has(j))){l=il(m,l),l=pb(d,l,1),d=ri(d,l,1),l=Ts(),d!==null&&(Hn(d,1,l),Ms(d,l));break}}d=d.return}}function e4(l,d,m){var j=l.pingCache;j!==null&&j.delete(d),d=Ts(),l.pingedLanes|=l.suspendedLanes&m,Xr===l&&(is&m)===m&&(Gr===4||Gr===3&&(is&130023424)===is&&500>jr()-ih?to(l,0):nh|=m),Ms(l,d)}function Yb(l,d){d===0&&((l.mode&1)===0?d=1:(d=$o,$o<<=1,($o&130023424)===0&&($o=4194304)));var m=Ts();l=jn(l,d),l!==null&&(Hn(l,d,m),Ms(l,m))}function t4(l){var d=l.memoizedState,m=0;d!==null&&(m=d.retryLane),Yb(l,m)}function r4(l,d){var m=0;switch(l.tag){case 13:var j=l.stateNode,P=l.memoizedState;P!==null&&(m=P.retryLane);break;case 19:j=l.stateNode;break;default:throw Error(s(314))}j!==null&&j.delete(d),Yb(l,m)}var Xb;Xb=function(l,d,m){if(l!==null)if(l.memoizedProps!==d.pendingProps||_s.current)As=!0;else{if((l.lanes&m)===0&&(d.flags&128)===0)return As=!1,F3(l,d,m);As=(l.flags&131072)!==0}else As=!1,Ir&&(d.flags&1048576)!==0&&Dy(d,w0,d.index);switch(d.lanes=0,d.tag){case 2:var j=d.type;O0(l,d),l=d.pendingProps;var P=Xo(d,xs.current);al(d,m),P=Ox(null,d,j,l,P,m);var L=Lx();return d.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,$s(j)?(L=!0,b0(d)):L=!1,d.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Cx(d),P.updater=R0,d.stateNode=P,P._reactInternals=d,Hx(d,j,l,m),d=Qx(null,d,j,!0,L,m)):(d.tag=0,Ir&&L&&vx(d),Ss(null,d,P,m),d=d.child),d;case 16:j=d.elementType;e:{switch(O0(l,d),l=d.pendingProps,P=j._init,j=P(j._payload),d.type=j,P=d.tag=a4(j),l=Ia(j,l),P){case 0:d=Gx(null,d,j,l,m);break e;case 1:d=kb(null,d,j,l,m);break e;case 11:d=bb(null,d,j,l,m);break e;case 14:d=vb(null,d,j,Ia(j.type,l),m);break e}throw Error(s(306,j,""))}return d;case 0:return j=d.type,P=d.pendingProps,P=d.elementType===j?P:Ia(j,P),Gx(l,d,j,P,m);case 1:return j=d.type,P=d.pendingProps,P=d.elementType===j?P:Ia(j,P),kb(l,d,j,P,m);case 3:e:{if(Sb(d),l===null)throw Error(s(387));j=d.pendingProps,L=d.memoizedState,P=L.element,zy(l,d),P0(d,j,null,m);var G=d.memoizedState;if(j=G.element,L.isDehydrated)if(L={element:j,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},d.updateQueue.baseState=L,d.memoizedState=L,d.flags&256){P=il(Error(s(423)),d),d=Tb(l,d,j,m,P);break e}else if(j!==P){P=il(Error(s(424)),d),d=Tb(l,d,j,m,P);break e}else for(Ys=Yn(d.stateNode.containerInfo.firstChild),Zs=d,Ir=!0,Ta=null,m=Ly(d,null,j,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(tl(),j===P){d=Nn(l,d,m);break e}Ss(l,d,j,m)}d=d.child}return d;case 5:return Fy(d),l===null&&Nx(d),j=d.type,P=d.pendingProps,L=l!==null?l.memoizedProps:null,G=P.children,hx(j,P)?G=null:L!==null&&hx(j,L)&&(d.flags|=32),Nb(l,d),Ss(l,d,G,m),d.child;case 6:return l===null&&Nx(d),null;case 13:return Ib(l,d,m);case 4:return Dx(d,d.stateNode.containerInfo),j=d.pendingProps,l===null?d.child=rl(d,null,j,m):Ss(l,d,j,m),d.child;case 11:return j=d.type,P=d.pendingProps,P=d.elementType===j?P:Ia(j,P),bb(l,d,j,P,m);case 7:return Ss(l,d,d.pendingProps,m),d.child;case 8:return Ss(l,d,d.pendingProps.children,m),d.child;case 12:return Ss(l,d,d.pendingProps.children,m),d.child;case 10:e:{if(j=d.type._context,P=d.pendingProps,L=d.memoizedProps,G=P.value,wr(S0,j._currentValue),j._currentValue=G,L!==null)if(Sa(L.value,G)){if(L.children===P.children&&!_s.current){d=Nn(l,d,m);break e}}else for(L=d.child,L!==null&&(L.return=d);L!==null;){var me=L.dependencies;if(me!==null){G=L.child;for(var ve=me.firstContext;ve!==null;){if(ve.context===j){if(L.tag===1){ve=wn(-1,m&-m),ve.tag=2;var De=L.updateQueue;if(De!==null){De=De.shared;var Ze=De.pending;Ze===null?ve.next=ve:(ve.next=Ze.next,Ze.next=ve),De.pending=ve}}L.lanes|=m,ve=L.alternate,ve!==null&&(ve.lanes|=m),Px(L.return,m,d),me.lanes|=m;break}ve=ve.next}}else if(L.tag===10)G=L.type===d.type?null:L.child;else if(L.tag===18){if(G=L.return,G===null)throw Error(s(341));G.lanes|=m,me=G.alternate,me!==null&&(me.lanes|=m),Px(G,m,d),G=L.sibling}else G=L.child;if(G!==null)G.return=L;else for(G=L;G!==null;){if(G===d){G=null;break}if(L=G.sibling,L!==null){L.return=G.return,G=L;break}G=G.return}L=G}Ss(l,d,P.children,m),d=d.child}return d;case 9:return P=d.type,j=d.pendingProps.children,al(d,m),P=da(P),j=j(P),d.flags|=1,Ss(l,d,j,m),d.child;case 14:return j=d.type,P=Ia(j,d.pendingProps),P=Ia(j.type,P),vb(l,d,j,P,m);case 15:return jb(l,d,d.type,d.pendingProps,m);case 17:return j=d.type,P=d.pendingProps,P=d.elementType===j?P:Ia(j,P),O0(l,d),d.tag=1,$s(j)?(l=!0,b0(d)):l=!1,al(d,m),mb(d,j,P),Hx(d,j,P,m),Qx(null,d,j,!0,l,m);case 19:return Eb(l,d,m);case 22:return wb(l,d,m)}throw Error(s(156,d.tag))};function Jb(l,d){return Do(l,d)}function s4(l,d,m,j){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xa(l,d,m,j){return new s4(l,d,m,j)}function hh(l){return l=l.prototype,!(!l||!l.isReactComponent)}function a4(l){if(typeof l=="function")return hh(l)?1:0;if(l!=null){if(l=l.$$typeof,l===oe)return 11;if(l===i)return 14}return 2}function li(l,d){var m=l.alternate;return m===null?(m=xa(l.tag,d,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=d,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,d=l.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function Q0(l,d,m,j,P,L){var G=2;if(j=l,typeof l=="function")hh(l)&&(G=1);else if(typeof l=="string")G=5;else e:switch(l){case F:return so(m.children,P,L,d);case h:G=8,P|=8;break;case Z:return l=xa(12,m,d,P|2),l.elementType=Z,l.lanes=L,l;case ee:return l=xa(13,m,d,P),l.elementType=ee,l.lanes=L,l;case K:return l=xa(19,m,d,P),l.elementType=K,l.lanes=L,l;case je:return K0(m,P,L,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case Q:G=10;break e;case ae:G=9;break e;case oe:G=11;break e;case i:G=14;break e;case He:G=16,j=null;break e}throw Error(s(130,l==null?l:typeof l,""))}return d=xa(G,m,d,P),d.elementType=l,d.type=j,d.lanes=L,d}function so(l,d,m,j){return l=xa(7,l,j,d),l.lanes=m,l}function K0(l,d,m,j){return l=xa(22,l,j,d),l.elementType=je,l.lanes=m,l.stateNode={isHidden:!1},l}function ph(l,d,m){return l=xa(6,l,null,d),l.lanes=m,l}function fh(l,d,m){return d=xa(4,l.children!==null?l.children:[],l.key,d),d.lanes=m,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function n4(l,d,m,j,P){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fn(0),this.expirationTimes=Fn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fn(0),this.identifierPrefix=j,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function gh(l,d,m,j,P,L,G,me,ve){return l=new n4(l,d,m,me,ve),d===1?(d=1,L===!0&&(d|=8)):d=0,L=xa(3,null,null,d),l.current=L,L.stateNode=l,L.memoizedState={element:j,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cx(L),l}function i4(l,d,m){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:j==null?null:""+j,children:l,containerInfo:d,implementation:m}}function ev(l){if(!l)return Jn;l=l._reactInternals;e:{if(Ws(l)!==l||l.tag!==1)throw Error(s(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if($s(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(s(171))}if(l.tag===1){var m=l.type;if($s(m))return Py(l,m,d)}return d}function tv(l,d,m,j,P,L,G,me,ve){return l=gh(m,j,!0,l,P,L,G,me,ve),l.context=ev(null),m=l.current,j=Ts(),P=ii(m),L=wn(j,P),L.callback=d??null,ri(m,L,P),l.current.lanes=P,Hn(l,P,j),Ms(l,j),l}function Z0(l,d,m,j){var P=d.current,L=Ts(),G=ii(P);return m=ev(m),d.context===null?d.context=m:d.pendingContext=m,d=wn(L,G),d.payload={element:l},j=j===void 0?null:j,j!==null&&(d.callback=j),l=ri(P,d,G),l!==null&&(Ca(l,P,G,L),I0(l,P,G)),G}function Y0(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function rv(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<d?m:d}}function yh(l,d){rv(l,d),(l=l.alternate)&&rv(l,d)}function o4(){return null}var sv=typeof reportError=="function"?reportError:function(l){console.error(l)};function bh(l){this._internalRoot=l}X0.prototype.render=bh.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(s(409));Z0(l,d,null,null)},X0.prototype.unmount=bh.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;eo(function(){Z0(null,l,null,null)}),d[gn]=null}};function X0(l){this._internalRoot=l}X0.prototype.unstable_scheduleHydration=function(l){if(l){var d=Xd();l={blockedOn:null,target:l,priority:d};for(var m=0;m<Ba.length&&d!==0&&d<Ba[m].priority;m++);Ba.splice(m,0,l),m===0&&t0(l)}};function vh(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function J0(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function av(){}function l4(l,d,m,j,P){if(P){if(typeof j=="function"){var L=j;j=function(){var De=Y0(G);L.call(De)}}var G=tv(d,j,l,0,null,!1,!1,"",av);return l._reactRootContainer=G,l[gn]=G.current,uc(l.nodeType===8?l.parentNode:l),eo(),G}for(;P=l.lastChild;)l.removeChild(P);if(typeof j=="function"){var me=j;j=function(){var De=Y0(ve);me.call(De)}}var ve=gh(l,0,!1,null,null,!1,!1,"",av);return l._reactRootContainer=ve,l[gn]=ve.current,uc(l.nodeType===8?l.parentNode:l),eo(function(){Z0(d,ve,m,j)}),ve}function eu(l,d,m,j,P){var L=m._reactRootContainer;if(L){var G=L;if(typeof P=="function"){var me=P;P=function(){var ve=Y0(G);me.call(ve)}}Z0(d,G,l,P)}else G=l4(m,d,l,P,j);return Y0(G)}Zd=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var m=Un(d.pendingLanes);m!==0&&(Wn(d,m|1),Ms(d,jr()),(ir&6)===0&&(cl=jr()+500,ei()))}break;case 13:eo(function(){var j=jn(l,1);if(j!==null){var P=Ts();Ca(j,l,1,P)}}),yh(l,1)}},Ao=function(l){if(l.tag===13){var d=jn(l,134217728);if(d!==null){var m=Ts();Ca(d,l,134217728,m)}yh(l,134217728)}},Yd=function(l){if(l.tag===13){var d=ii(l),m=jn(l,d);if(m!==null){var j=Ts();Ca(m,l,d,j)}yh(l,d)}},Xd=function(){return rr},Jd=function(l,d){var m=rr;try{return rr=l,d()}finally{rr=m}},Dt=function(l,d,m){switch(d){case"input":if(M(l,m),d=m.name,m.type==="radio"&&d!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<m.length;d++){var j=m[d];if(j!==l&&j.form===l.form){var P=g0(j);if(!P)throw Error(s(90));U(j),M(j,P)}}}break;case"textarea":xe(l,m);break;case"select":d=m.value,d!=null&&I(l,!!m.multiple,d,!1)}},Oa=uh,Fs=eo;var c4={usingClientEntryPoint:!1,Events:[hc,Zo,g0,xr,Wt,uh]},Pc={findFiberByHostInstance:qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d4={bundleType:Pc.bundleType,version:Pc.version,rendererPackageName:Pc.rendererPackageName,rendererConfig:Pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pe.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Kl(l),l===null?null:l.stateNode},findFiberByHostInstance:Pc.findFiberByHostInstance||o4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{Vi=tu.inject(d4),qs=tu}catch{}}return Os.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c4,Os.createPortal=function(l,d){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vh(d))throw Error(s(200));return i4(l,d,null,m)},Os.createRoot=function(l,d){if(!vh(l))throw Error(s(299));var m=!1,j="",P=sv;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(j=d.identifierPrefix),d.onRecoverableError!==void 0&&(P=d.onRecoverableError)),d=gh(l,1,!1,null,null,m,!1,j,P),l[gn]=d.current,uc(l.nodeType===8?l.parentNode:l),new bh(d)},Os.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return l=Kl(d),l=l===null?null:l.stateNode,l},Os.flushSync=function(l){return eo(l)},Os.hydrate=function(l,d,m){if(!J0(d))throw Error(s(200));return eu(null,l,d,!0,m)},Os.hydrateRoot=function(l,d,m){if(!vh(l))throw Error(s(405));var j=m!=null&&m.hydratedSources||null,P=!1,L="",G=sv;if(m!=null&&(m.unstable_strictMode===!0&&(P=!0),m.identifierPrefix!==void 0&&(L=m.identifierPrefix),m.onRecoverableError!==void 0&&(G=m.onRecoverableError)),d=tv(d,null,l,1,m??null,P,!1,L,G),l[gn]=d.current,uc(l),j)for(l=0;l<j.length;l++)m=j[l],P=m._getVersion,P=P(m._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[m,P]:d.mutableSourceEagerHydrationData.push(m,P);return new X0(d)},Os.render=function(l,d,m){if(!J0(d))throw Error(s(200));return eu(null,l,d,!1,m)},Os.unmountComponentAtNode=function(l){if(!J0(l))throw Error(s(40));return l._reactRootContainer?(eo(function(){eu(null,null,l,!1,function(){l._reactRootContainer=null,l[gn]=null})}),!0):!1},Os.unstable_batchedUpdates=uh,Os.unstable_renderSubtreeIntoContainer=function(l,d,m,j){if(!J0(m))throw Error(s(200));if(l==null||l._reactInternals===void 0)throw Error(s(38));return eu(l,d,m,!1,j)},Os.version="18.3.1-next-f1338f8080-20240426",Os}var mv;function y4(){if(mv)return Nh.exports;mv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nh.exports=g4(),Nh.exports}var xv;function b4(){if(xv)return ru;xv=1;var r=y4();return ru.createRoot=r.createRoot,ru.hydrateRoot=r.hydrateRoot,ru}var v4=b4();const j4=IN(v4);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hv="popstate";function w4(r={}){function t(n,o){let{pathname:u,search:c,hash:x}=n.location;return rp("",{pathname:u,search:c,hash:x},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(n,o){return typeof o=="string"?o:Jc(o)}return k4(t,s,null,r)}function Dr(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function sn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function N4(){return Math.random().toString(36).substring(2,10)}function pv(r,t){return{usr:r.state,key:r.key,idx:t}}function rp(r,t,s=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ol(t):t,state:s,key:t&&t.key||n||N4()}}function Jc({pathname:r="/",search:t="",hash:s=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Ol(r){let t={};if(r){let s=r.indexOf("#");s>=0&&(t.hash=r.substring(s),r=r.substring(0,s));let n=r.indexOf("?");n>=0&&(t.search=r.substring(n),r=r.substring(0,n)),r&&(t.pathname=r)}return t}function k4(r,t,s,n={}){let{window:o=document.defaultView,v5Compat:u=!1}=n,c=o.history,x="POP",p=null,w=T();w==null&&(w=0,c.replaceState({...c.state,idx:w},""));function T(){return(c.state||{idx:null}).idx}function D(){x="POP";let V=T(),Y=V==null?null:V-w;w=V,p&&p({action:x,location:W.location,delta:Y})}function A(V,Y){x="PUSH";let ie=rp(W.location,V,Y);w=T()+1;let ce=pv(ie,w),pe=W.createHref(ie);try{c.pushState(ce,"",pe)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;o.location.assign(pe)}u&&p&&p({action:x,location:W.location,delta:1})}function O(V,Y){x="REPLACE";let ie=rp(W.location,V,Y);w=T();let ce=pv(ie,w),pe=W.createHref(ie);c.replaceState(ce,"",pe),u&&p&&p({action:x,location:W.location,delta:0})}function k(V){return S4(V)}let W={get action(){return x},get location(){return r(o,c)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(hv,D),p=V,()=>{o.removeEventListener(hv,D),p=null}},createHref(V){return t(o,V)},createURL:k,encodeLocation(V){let Y=k(V);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:A,replace:O,go(V){return c.go(V)}};return W}function S4(r,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Dr(s,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:Jc(r);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=s+n),new URL(n,s)}function PN(r,t,s="/"){return T4(r,t,s,!1)}function T4(r,t,s,n){let o=typeof t=="string"?Ol(t):t,u=En(o.pathname||"/",s);if(u==null)return null;let c=EN(r);I4(c);let x=null;for(let p=0;x==null&&p<c.length;++p){let w=L4(u);x=M4(c[p],w,n)}return x}function EN(r,t=[],s=[],n="",o=!1){let u=(c,x,p=o,w)=>{let T={relativePath:w===void 0?c.path||"":w,caseSensitive:c.caseSensitive===!0,childrenIndex:x,route:c};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(n)&&p)return;Dr(T.relativePath.startsWith(n),`Absolute route path "${T.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(n.length)}let D=In([n,T.relativePath]),A=s.concat(T);c.children&&c.children.length>0&&(Dr(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${D}".`),EN(c.children,t,A,D,p)),!(c.path==null&&!c.index)&&t.push({path:D,score:A4(D,c.index),routesMeta:A})};return r.forEach((c,x)=>{if(c.path===""||!c.path?.includes("?"))u(c,x);else for(let p of CN(c.path))u(c,x,!0,p)}),t}function CN(r){let t=r.split("/");if(t.length===0)return[];let[s,...n]=t,o=s.endsWith("?"),u=s.replace(/\?$/,"");if(n.length===0)return o?[u,""]:[u];let c=CN(n.join("/")),x=[];return x.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&x.push(...c),x.map(p=>r.startsWith("/")&&p===""?"/":p)}function I4(r){r.sort((t,s)=>t.score!==s.score?s.score-t.score:R4(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}var P4=/^:[\w-]+$/,E4=3,C4=2,D4=1,_4=10,$4=-2,fv=r=>r==="*";function A4(r,t){let s=r.split("/"),n=s.length;return s.some(fv)&&(n+=$4),t&&(n+=C4),s.filter(o=>!fv(o)).reduce((o,u)=>o+(P4.test(u)?E4:u===""?D4:_4),n)}function R4(r,t){return r.length===t.length&&r.slice(0,-1).every((n,o)=>n===t[o])?r[r.length-1]-t[t.length-1]:0}function M4(r,t,s=!1){let{routesMeta:n}=r,o={},u="/",c=[];for(let x=0;x<n.length;++x){let p=n[x],w=x===n.length-1,T=u==="/"?t:t.slice(u.length)||"/",D=_u({path:p.relativePath,caseSensitive:p.caseSensitive,end:w},T),A=p.route;if(!D&&w&&s&&!n[n.length-1].route.index&&(D=_u({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!D)return null;Object.assign(o,D.params),c.push({params:o,pathname:In([u,D.pathname]),pathnameBase:U4(In([u,D.pathnameBase])),route:A}),D.pathnameBase!=="/"&&(u=In([u,D.pathnameBase]))}return c}function _u(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,n]=O4(r.path,r.caseSensitive,r.end),o=t.match(s);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),x=o.slice(1);return{params:n.reduce((w,{paramName:T,isOptional:D},A)=>{if(T==="*"){let k=x[A]||"";c=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const O=x[A];return D&&!O?w[T]=void 0:w[T]=(O||"").replace(/%2F/g,"/"),w},{}),pathname:u,pathnameBase:c,pattern:r}}function O4(r,t=!1,s=!0){sn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,x,p)=>(n.push({paramName:x,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function L4(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function En(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=r.charAt(s);return n&&n!=="/"?null:r.slice(s)||"/"}function V4(r,t="/"){let{pathname:s,search:n="",hash:o=""}=typeof r=="string"?Ol(r):r;return{pathname:s?s.startsWith("/")?s:z4(s,t):t,search:F4(n),hash:H4(o)}}function z4(r,t){let s=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function Th(r,t,s,n){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B4(r){return r.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function DN(r){let t=B4(r);return t.map((s,n)=>n===t.length-1?s.pathname:s.pathnameBase)}function _N(r,t,s,n=!1){let o;typeof r=="string"?o=Ol(r):(o={...r},Dr(!o.pathname||!o.pathname.includes("?"),Th("?","pathname","search",o)),Dr(!o.pathname||!o.pathname.includes("#"),Th("#","pathname","hash",o)),Dr(!o.search||!o.search.includes("#"),Th("#","search","hash",o)));let u=r===""||o.pathname==="",c=u?"/":o.pathname,x;if(c==null)x=s;else{let D=t.length-1;if(!n&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),D-=1;o.pathname=A.join("/")}x=D>=0?t[D]:"/"}let p=V4(o,x),w=c&&c!=="/"&&c.endsWith("/"),T=(u||c===".")&&s.endsWith("/");return!p.pathname.endsWith("/")&&(w||T)&&(p.pathname+="/"),p}var In=r=>r.join("/").replace(/\/\/+/g,"/"),U4=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),F4=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,H4=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function W4(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var $N=["POST","PUT","PATCH","DELETE"];new Set($N);var q4=["GET",...$N];new Set(q4);var Ll=N.createContext(null);Ll.displayName="DataRouter";var hm=N.createContext(null);hm.displayName="DataRouterState";N.createContext(!1);var AN=N.createContext({isTransitioning:!1});AN.displayName="ViewTransition";var G4=N.createContext(new Map);G4.displayName="Fetchers";var Q4=N.createContext(null);Q4.displayName="Await";var ln=N.createContext(null);ln.displayName="Navigation";var bd=N.createContext(null);bd.displayName="Location";var Mn=N.createContext({outlet:null,matches:[],isDataRoute:!1});Mn.displayName="Route";var tf=N.createContext(null);tf.displayName="RouteError";function K4(r,{relative:t}={}){Dr(vd(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:n}=N.useContext(ln),{hash:o,pathname:u,search:c}=jd(r,{relative:t}),x=u;return s!=="/"&&(x=u==="/"?s:In([s,u])),n.createHref({pathname:x,search:c,hash:o})}function vd(){return N.useContext(bd)!=null}function No(){return Dr(vd(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(bd).location}var RN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function MN(r){N.useContext(ln).static||N.useLayoutEffect(r)}function Qt(){let{isDataRoute:r}=N.useContext(Mn);return r?lS():Z4()}function Z4(){Dr(vd(),"useNavigate() may be used only in the context of a <Router> component.");let r=N.useContext(Ll),{basename:t,navigator:s}=N.useContext(ln),{matches:n}=N.useContext(Mn),{pathname:o}=No(),u=JSON.stringify(DN(n)),c=N.useRef(!1);return MN(()=>{c.current=!0}),N.useCallback((p,w={})=>{if(sn(c.current,RN),!c.current)return;if(typeof p=="number"){s.go(p);return}let T=_N(p,JSON.parse(u),o,w.relative==="path");r==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:In([t,T.pathname])),(w.replace?s.replace:s.push)(T,w.state,w)},[t,s,u,o,r])}N.createContext(null);function jd(r,{relative:t}={}){let{matches:s}=N.useContext(Mn),{pathname:n}=No(),o=JSON.stringify(DN(s));return N.useMemo(()=>_N(r,JSON.parse(o),n,t==="path"),[r,o,n,t])}function Y4(r,t){return ON(r,t)}function ON(r,t,s,n,o){Dr(vd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=N.useContext(ln),{matches:c}=N.useContext(Mn),x=c[c.length-1],p=x?x.params:{},w=x?x.pathname:"/",T=x?x.pathnameBase:"/",D=x&&x.route;{let ie=D&&D.path||"";LN(w,!D||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${w}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let A=No(),O;if(t){let ie=typeof t=="string"?Ol(t):t;Dr(T==="/"||ie.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),O=ie}else O=A;let k=O.pathname||"/",W=k;if(T!=="/"){let ie=T.replace(/^\//,"").split("/");W="/"+k.replace(/^\//,"").split("/").slice(ie.length).join("/")}let V=PN(r,{pathname:W});sn(D||V!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),sn(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=rS(V&&V.map(ie=>Object.assign({},ie,{params:Object.assign({},p,ie.params),pathname:In([T,u.encodeLocation?u.encodeLocation(ie.pathname).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?T:In([T,u.encodeLocation?u.encodeLocation(ie.pathnameBase).pathname:ie.pathnameBase])})),c,s,n,o);return t&&Y?N.createElement(bd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},Y):Y}function X4(){let r=oS(),t=W4(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:n},u={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),s?N.createElement("pre",{style:o},s):null,c)}var J4=N.createElement(X4,null),eS=class extends N.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.unstable_onError?this.props.unstable_onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?N.createElement(Mn.Provider,{value:this.props.routeContext},N.createElement(tf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tS({routeContext:r,match:t,children:s}){let n=N.useContext(Ll);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Mn.Provider,{value:r},s)}function rS(r,t=[],s=null,n=null,o=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let u=r,c=s?.errors;if(c!=null){let w=u.findIndex(T=>T.route.id&&c?.[T.route.id]!==void 0);Dr(w>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,w+1))}let x=!1,p=-1;if(s)for(let w=0;w<u.length;w++){let T=u[w];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=w),T.route.id){let{loaderData:D,errors:A}=s,O=T.route.loader&&!D.hasOwnProperty(T.route.id)&&(!A||A[T.route.id]===void 0);if(T.route.lazy||O){x=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((w,T,D)=>{let A,O=!1,k=null,W=null;s&&(A=c&&T.route.id?c[T.route.id]:void 0,k=T.route.errorElement||J4,x&&(p<0&&D===0?(LN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,W=null):p===D&&(O=!0,W=T.route.hydrateFallbackElement||null)));let V=t.concat(u.slice(0,D+1)),Y=()=>{let ie;return A?ie=k:O?ie=W:T.route.Component?ie=N.createElement(T.route.Component,null):T.route.element?ie=T.route.element:ie=w,N.createElement(tS,{match:T,routeContext:{outlet:w,matches:V,isDataRoute:s!=null},children:ie})};return s&&(T.route.ErrorBoundary||T.route.errorElement||D===0)?N.createElement(eS,{location:s.location,revalidation:s.revalidation,component:k,error:A,children:Y(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:n}):Y()},null)}function rf(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sS(r){let t=N.useContext(Ll);return Dr(t,rf(r)),t}function aS(r){let t=N.useContext(hm);return Dr(t,rf(r)),t}function nS(r){let t=N.useContext(Mn);return Dr(t,rf(r)),t}function sf(r){let t=nS(r),s=t.matches[t.matches.length-1];return Dr(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function iS(){return sf("useRouteId")}function oS(){let r=N.useContext(tf),t=aS("useRouteError"),s=sf("useRouteError");return r!==void 0?r:t.errors?.[s]}function lS(){let{router:r}=sS("useNavigate"),t=sf("useNavigate"),s=N.useRef(!1);return MN(()=>{s.current=!0}),N.useCallback(async(o,u={})=>{sn(s.current,RN),s.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var gv={};function LN(r,t,s){!t&&!gv[r]&&(gv[r]=!0,sn(!1,s))}N.memo(cS);function cS({routes:r,future:t,state:s,unstable_onError:n}){return ON(r,void 0,s,n,t)}function Yt(r){Dr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dS({basename:r="/",children:t=null,location:s,navigationType:n="POP",navigator:o,static:u=!1}){Dr(!vd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),x=N.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof s=="string"&&(s=Ol(s));let{pathname:p="/",search:w="",hash:T="",state:D=null,key:A="default"}=s,O=N.useMemo(()=>{let k=En(p,c);return k==null?null:{location:{pathname:k,search:w,hash:T,state:D,key:A},navigationType:n}},[c,p,w,T,D,A,n]);return sn(O!=null,`<Router basename="${c}"> is not able to match the URL "${p}${w}${T}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:N.createElement(ln.Provider,{value:x},N.createElement(bd.Provider,{children:t,value:O}))}function uS({children:r,location:t}){return Y4(sp(r),t)}function sp(r,t=[]){let s=[];return N.Children.forEach(r,(n,o)=>{if(!N.isValidElement(n))return;let u=[...t,o];if(n.type===N.Fragment){s.push.apply(s,sp(n.props.children,u));return}Dr(n.type===Yt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||u.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=sp(n.props.children,u)),s.push(c)}),s}var pu="get",fu="application/x-www-form-urlencoded";function pm(r){return r!=null&&typeof r.tagName=="string"}function mS(r){return pm(r)&&r.tagName.toLowerCase()==="button"}function xS(r){return pm(r)&&r.tagName.toLowerCase()==="form"}function hS(r){return pm(r)&&r.tagName.toLowerCase()==="input"}function pS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function fS(r,t){return r.button===0&&(!t||t==="_self")&&!pS(r)}var su=null;function gS(){if(su===null)try{new FormData(document.createElement("form"),0),su=!1}catch{su=!0}return su}var yS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ih(r){return r!=null&&!yS.has(r)?(sn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fu}"`),null):r}function bS(r,t){let s,n,o,u,c;if(xS(r)){let x=r.getAttribute("action");n=x?En(x,t):null,s=r.getAttribute("method")||pu,o=Ih(r.getAttribute("enctype"))||fu,u=new FormData(r)}else if(mS(r)||hS(r)&&(r.type==="submit"||r.type==="image")){let x=r.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||x.getAttribute("action");if(n=p?En(p,t):null,s=r.getAttribute("formmethod")||x.getAttribute("method")||pu,o=Ih(r.getAttribute("formenctype"))||Ih(x.getAttribute("enctype"))||fu,u=new FormData(x,r),!gS()){let{name:w,type:T,value:D}=r;if(T==="image"){let A=w?`${w}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else w&&u.append(w,D)}}else{if(pm(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=pu,n=null,o=fu,c=r}return u&&o==="text/plain"&&(c=u,u=void 0),{action:n,method:s.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function af(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function vS(r,t,s){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${s}`:t&&En(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${s}`,n}async function jS(r,t){if(r.id in t)return t[r.id];try{let s=await import(r.module);return t[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function NS(r,t,s){let n=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let c=await jS(u,s);return c.links?c.links():[]}return[]}));return IS(n.flat(1).filter(wS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function yv(r,t,s,n,o,u){let c=(p,w)=>s[w]?p.route.id!==s[w].route.id:!0,x=(p,w)=>s[w].pathname!==p.pathname||s[w].route.path?.endsWith("*")&&s[w].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,w)=>c(p,w)||x(p,w)):u==="data"?t.filter((p,w)=>{let T=n.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(c(p,w)||x(p,w))return!0;if(p.route.shouldRevalidate){let D=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof D=="boolean")return D}return!0}):[]}function kS(r,t,{includeHydrateFallback:s}={}){return SS(r.map(n=>{let o=t.routes[n.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function SS(r){return[...new Set(r)]}function TS(r){let t={},s=Object.keys(r).sort();for(let n of s)t[n]=r[n];return t}function IS(r,t){let s=new Set;return new Set(t),r.reduce((n,o)=>{let u=JSON.stringify(TS(o));return s.has(u)||(s.add(u),n.push({key:u,link:o})),n},[])}function VN(){let r=N.useContext(Ll);return af(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function PS(){let r=N.useContext(hm);return af(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var nf=N.createContext(void 0);nf.displayName="FrameworkContext";function zN(){let r=N.useContext(nf);return af(r,"You must render this element inside a <HydratedRouter> element"),r}function ES(r,t){let s=N.useContext(nf),[n,o]=N.useState(!1),[u,c]=N.useState(!1),{onFocus:x,onBlur:p,onMouseEnter:w,onMouseLeave:T,onTouchStart:D}=t,A=N.useRef(null);N.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let W=Y=>{Y.forEach(ie=>{c(ie.isIntersecting)})},V=new IntersectionObserver(W,{threshold:.5});return A.current&&V.observe(A.current),()=>{V.disconnect()}}},[r]),N.useEffect(()=>{if(n){let W=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(W)}}},[n]);let O=()=>{o(!0)},k=()=>{o(!1),c(!1)};return s?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Cc(x,O),onBlur:Cc(p,k),onMouseEnter:Cc(w,O),onMouseLeave:Cc(T,k),onTouchStart:Cc(D,O)}]:[!1,A,{}]}function Cc(r,t){return s=>{r&&r(s),s.defaultPrevented||t(s)}}function CS({page:r,...t}){let{router:s}=VN(),n=N.useMemo(()=>PN(s.routes,r,s.basename),[s.routes,r,s.basename]);return n?N.createElement(_S,{page:r,matches:n,...t}):null}function DS(r){let{manifest:t,routeModules:s}=zN(),[n,o]=N.useState([]);return N.useEffect(()=>{let u=!1;return NS(r,t,s).then(c=>{u||o(c)}),()=>{u=!0}},[r,t,s]),n}function _S({page:r,matches:t,...s}){let n=No(),{manifest:o,routeModules:u}=zN(),{basename:c}=VN(),{loaderData:x,matches:p}=PS(),w=N.useMemo(()=>yv(r,t,p,o,n,"data"),[r,t,p,o,n]),T=N.useMemo(()=>yv(r,t,p,o,n,"assets"),[r,t,p,o,n]),D=N.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let k=new Set,W=!1;if(t.forEach(Y=>{let ie=o.routes[Y.route.id];!ie||!ie.hasLoader||(!w.some(ce=>ce.route.id===Y.route.id)&&Y.route.id in x&&u[Y.route.id]?.shouldRevalidate||ie.hasClientLoader?W=!0:k.add(Y.route.id))}),k.size===0)return[];let V=vS(r,c,"data");return W&&k.size>0&&V.searchParams.set("_routes",t.filter(Y=>k.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[V.pathname+V.search]},[c,x,n,o,w,t,r,u]),A=N.useMemo(()=>kS(T,o),[T,o]),O=DS(T);return N.createElement(N.Fragment,null,D.map(k=>N.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...s})),A.map(k=>N.createElement("link",{key:k,rel:"modulepreload",href:k,...s})),O.map(({key:k,link:W})=>N.createElement("link",{key:k,nonce:s.nonce,...W})))}function $S(...r){return t=>{r.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var BN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BN&&(window.__reactRouterVersion="7.8.2")}catch{}function AS({basename:r,children:t,window:s}){let n=N.useRef();n.current==null&&(n.current=w4({window:s,v5Compat:!0}));let o=n.current,[u,c]=N.useState({action:o.action,location:o.location}),x=N.useCallback(p=>{N.startTransition(()=>c(p))},[c]);return N.useLayoutEffect(()=>o.listen(x),[o,x]),N.createElement(dS,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var UN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,S=N.forwardRef(function({onClick:t,discover:s="render",prefetch:n="none",relative:o,reloadDocument:u,replace:c,state:x,target:p,to:w,preventScrollReset:T,viewTransition:D,...A},O){let{basename:k}=N.useContext(ln),W=typeof w=="string"&&UN.test(w),V,Y=!1;if(typeof w=="string"&&W&&(V=w,BN))try{let Z=new URL(window.location.href),Q=w.startsWith("//")?new URL(Z.protocol+w):new URL(w),ae=En(Q.pathname,k);Q.origin===Z.origin&&ae!=null?w=ae+Q.search+Q.hash:Y=!0}catch{sn(!1,`<Link to="${w}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=K4(w,{relative:o}),[ce,pe,X]=ES(n,A),ne=LS(w,{replace:c,state:x,target:p,preventScrollReset:T,relative:o,viewTransition:D});function F(Z){t&&t(Z),Z.defaultPrevented||ne(Z)}let h=N.createElement("a",{...A,...X,href:V||ie,onClick:Y||u?t:F,ref:$S(O,pe),target:p,"data-discover":!W&&s==="render"?"true":void 0});return ce&&!W?N.createElement(N.Fragment,null,h,N.createElement(CS,{page:ie})):h});S.displayName="Link";var RS=N.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:n="",end:o=!1,style:u,to:c,viewTransition:x,children:p,...w},T){let D=jd(c,{relative:w.relative}),A=No(),O=N.useContext(hm),{navigator:k,basename:W}=N.useContext(ln),V=O!=null&&FS(D)&&x===!0,Y=k.encodeLocation?k.encodeLocation(D).pathname:D.pathname,ie=A.pathname,ce=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;s||(ie=ie.toLowerCase(),ce=ce?ce.toLowerCase():null,Y=Y.toLowerCase()),ce&&W&&(ce=En(ce,W)||ce);const pe=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let X=ie===Y||!o&&ie.startsWith(Y)&&ie.charAt(pe)==="/",ne=ce!=null&&(ce===Y||!o&&ce.startsWith(Y)&&ce.charAt(Y.length)==="/"),F={isActive:X,isPending:ne,isTransitioning:V},h=X?t:void 0,Z;typeof n=="function"?Z=n(F):Z=[n,X?"active":null,ne?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let Q=typeof u=="function"?u(F):u;return N.createElement(S,{...w,"aria-current":h,className:Z,ref:T,style:Q,to:c,viewTransition:x},typeof p=="function"?p(F):p)});RS.displayName="NavLink";var MS=N.forwardRef(({discover:r="render",fetcherKey:t,navigate:s,reloadDocument:n,replace:o,state:u,method:c=pu,action:x,onSubmit:p,relative:w,preventScrollReset:T,viewTransition:D,...A},O)=>{let k=BS(),W=US(x,{relative:w}),V=c.toLowerCase()==="get"?"get":"post",Y=typeof x=="string"&&UN.test(x),ie=ce=>{if(p&&p(ce),ce.defaultPrevented)return;ce.preventDefault();let pe=ce.nativeEvent.submitter,X=pe?.getAttribute("formmethod")||c;k(pe||ce.currentTarget,{fetcherKey:t,method:X,navigate:s,replace:o,state:u,relative:w,preventScrollReset:T,viewTransition:D})};return N.createElement("form",{ref:O,method:V,action:W,onSubmit:n?p:ie,...A,"data-discover":!Y&&r==="render"?"true":void 0})});MS.displayName="Form";function OS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FN(r){let t=N.useContext(Ll);return Dr(t,OS(r)),t}function LS(r,{target:t,replace:s,state:n,preventScrollReset:o,relative:u,viewTransition:c}={}){let x=Qt(),p=No(),w=jd(r,{relative:u});return N.useCallback(T=>{if(fS(T,t)){T.preventDefault();let D=s!==void 0?s:Jc(p)===Jc(w);x(r,{replace:D,state:n,preventScrollReset:o,relative:u,viewTransition:c})}},[p,x,w,s,n,t,r,o,u,c])}var VS=0,zS=()=>`__${String(++VS)}__`;function BS(){let{router:r}=FN("useSubmit"),{basename:t}=N.useContext(ln),s=iS();return N.useCallback(async(n,o={})=>{let{action:u,method:c,encType:x,formData:p,body:w}=bS(n,t);if(o.navigate===!1){let T=o.fetcherKey||zS();await r.fetch(T,s,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:w,formMethod:o.method||c,formEncType:o.encType||x,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:w,formMethod:o.method||c,formEncType:o.encType||x,replace:o.replace,state:o.state,fromRouteId:s,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,s])}function US(r,{relative:t}={}){let{basename:s}=N.useContext(ln),n=N.useContext(Mn);Dr(n,"useFormAction must be used inside a RouteContext");let[o]=n.matches.slice(-1),u={...jd(r||".",{relative:t})},c=No();if(r==null){u.search=c.search;let x=new URLSearchParams(u.search),p=x.getAll("index");if(p.some(T=>T==="")){x.delete("index"),p.filter(D=>D).forEach(D=>x.append("index",D));let T=x.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:In([s,u.pathname])),Jc(u)}function FS(r,{relative:t}={}){let s=N.useContext(AN);Dr(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=FN("useViewTransitionState"),o=jd(r,{relative:t});if(!s.isTransitioning)return!1;let u=En(s.currentLocation.pathname,n)||s.currentLocation.pathname,c=En(s.nextLocation.pathname,n)||s.nextLocation.pathname;return _u(o.pathname,c)!=null||_u(o.pathname,u)!=null}const HS=()=>{};var bv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=function(r){const t=[];let s=0;for(let n=0;n<r.length;n++){let o=r.charCodeAt(n);o<128?t[s++]=o:o<2048?(t[s++]=o>>6|192,t[s++]=o&63|128):(o&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++n)&1023),t[s++]=o>>18|240,t[s++]=o>>12&63|128,t[s++]=o>>6&63|128,t[s++]=o&63|128):(t[s++]=o>>12|224,t[s++]=o>>6&63|128,t[s++]=o&63|128)}return t},WS=function(r){const t=[];let s=0,n=0;for(;s<r.length;){const o=r[s++];if(o<128)t[n++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[s++];t[n++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[s++],c=r[s++],x=r[s++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|x&63)-65536;t[n++]=String.fromCharCode(55296+(p>>10)),t[n++]=String.fromCharCode(56320+(p&1023))}else{const u=r[s++],c=r[s++];t[n++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},WN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let o=0;o<r.length;o+=3){const u=r[o],c=o+1<r.length,x=c?r[o+1]:0,p=o+2<r.length,w=p?r[o+2]:0,T=u>>2,D=(u&3)<<4|x>>4;let A=(x&15)<<2|w>>6,O=w&63;p||(O=64,c||(A=64)),n.push(s[T],s[D],s[A],s[O])}return n.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(HN(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):WS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const s=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let o=0;o<r.length;){const u=s[r.charAt(o++)],x=o<r.length?s[r.charAt(o)]:0;++o;const w=o<r.length?s[r.charAt(o)]:64;++o;const D=o<r.length?s[r.charAt(o)]:64;if(++o,u==null||x==null||w==null||D==null)throw new qS;const A=u<<2|x>>4;if(n.push(A),w!==64){const O=x<<4&240|w>>2;if(n.push(O),D!==64){const k=w<<6&192|D;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class qS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GS=function(r){const t=HN(r);return WN.encodeByteArray(t,!0)},$u=function(r){return GS(r).replace(/\./g,"")},qN=function(r){try{return WN.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS=()=>QS().__FIREBASE_DEFAULTS__,ZS=()=>{if(typeof process>"u"||typeof bv>"u")return;const r=bv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},YS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&qN(r[1]);return t&&JSON.parse(t)},fm=()=>{try{return HS()||KS()||ZS()||YS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},GN=r=>{var t,s;return(s=(t=fm())===null||t===void 0?void 0:t.emulatorHosts)===null||s===void 0?void 0:s[r]},QN=r=>{const t=GN(r);if(!t)return;const s=t.lastIndexOf(":");if(s<=0||s+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(s+1),10);return t[0]==="["?[t.substring(1,s-1),n]:[t.substring(0,s),n]},KN=()=>{var r;return(r=fm())===null||r===void 0?void 0:r.config},ZN=r=>{var t;return(t=fm())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}wrapCallback(t){return(s,n)=>{s?this.reject(s):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(s):t(s,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},n=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[$u(JSON.stringify(s)),$u(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(js())}function eT(){var r;const t=(r=fm())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XN(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function rT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sT(){const r=js();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function aT(){return!eT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JN(){try{return typeof indexedDB=="object"}catch{return!1}}function e5(){return new Promise((r,t)=>{try{let s=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(n),r(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(s){t(s)}})}function nT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="FirebaseError";class ya extends Error{constructor(t,s,n){super(s),this.code=t,this.customData=n,this.name=iT,Object.setPrototypeOf(this,ya.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ko.prototype.create)}}class ko{constructor(t,s,n){this.service=t,this.serviceName=s,this.errors=n}create(t,...s){const n=s[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?oT(u,n):"Error",x=`${this.serviceName}: ${c} (${o}).`;return new ya(o,x,n)}}function oT(r,t){return r.replace(lT,(s,n)=>{const o=t[n];return o!=null?String(o):`<${n}?>`})}const lT=/\{\$([^}]+)}/g;function cT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ni(r,t){if(r===t)return!0;const s=Object.keys(r),n=Object.keys(t);for(const o of s){if(!n.includes(o))return!1;const u=r[o],c=t[o];if(vv(u)&&vv(c)){if(!Ni(u,c))return!1}else if(u!==c)return!1}for(const o of n)if(!s.includes(o))return!1;return!0}function vv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(r){const t=[];for(const[s,n]of Object.entries(r))Array.isArray(n)?n.forEach(o=>{t.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(s)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function _c(r){const t={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[o,u]=n.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function $c(r){const t=r.indexOf("?");if(!t)return"";const s=r.indexOf("#",t);return r.substring(t,s>0?s:void 0)}function dT(r,t){const s=new uT(r,t);return s.subscribe.bind(s)}class uT{constructor(t,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(s=>{s.next(t)})}error(t){this.forEachObserver(s=>{s.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,s,n){let o;if(t===void 0&&s===void 0&&n===void 0)throw new Error("Missing Observer.");mT(t,["next","error","complete"])?o=t:o={next:t,error:s,complete:n},o.next===void 0&&(o.next=Ph),o.error===void 0&&(o.error=Ph),o.complete===void 0&&(o.complete=Ph);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,t)}sendOne(t,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{s(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mT(r,t){if(typeof r!="object"||r===null)return!1;for(const s of t)if(s in r&&typeof r[s]=="function")return!0;return!1}function Ph(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=1e3,hT=2,pT=14400*1e3,fT=.5;function jv(r,t=xT,s=hT){const n=t*Math.pow(s,r),o=Math.round(fT*n*(Math.random()-.5)*2);return Math.min(pT,n+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(r){return r&&r._delegate?r._delegate:r}class ga{constructor(t,s,n){this.name=t,this.instanceFactory=s,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(t,s){this.name=t,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const s=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(s)){const n=new XS;if(this.instancesDeferred.set(s,n),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&n.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(t){var s;const n=this.normalizeInstanceIdentifier(t?.identifier),o=(s=t?.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(bT(t))try{this.getOrInitializeService({instanceIdentifier:no})}catch{}for(const[s,n]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const u=this.getOrInitializeService({instanceIdentifier:o});n.resolve(u)}catch{}}}}clearInstance(t=no){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...t.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=no){return this.instances.has(t)}getOptions(t=no){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:s={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:n,options:s});for(const[u,c]of this.instancesDeferred.entries()){const x=this.normalizeInstanceIdentifier(u);n===x&&c.resolve(o)}return o}onInit(t,s){var n;const o=this.normalizeInstanceIdentifier(s),u=(n=this.onInitCallbacks.get(o))!==null&&n!==void 0?n:new Set;u.add(t),this.onInitCallbacks.set(o,u);const c=this.instances.get(o);return c&&t(c,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,s){const n=this.onInitCallbacks.get(s);if(n)for(const o of n)try{o(t,s)}catch{}}getOrInitializeService({instanceIdentifier:t,options:s={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:yT(t),options:s}),this.instances.set(t,n),this.instancesOptions.set(t,s),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=no){return this.component?this.component.multipleInstances?t:no:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yT(r){return r===no?void 0:r}function bT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const s=this.getProvider(t.name);if(s.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);s.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const s=new gT(t,this);return this.providers.set(t,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Jt||(Jt={}));const jT={debug:Jt.DEBUG,verbose:Jt.VERBOSE,info:Jt.INFO,warn:Jt.WARN,error:Jt.ERROR,silent:Jt.SILENT},wT=Jt.INFO,NT={[Jt.DEBUG]:"log",[Jt.VERBOSE]:"log",[Jt.INFO]:"info",[Jt.WARN]:"warn",[Jt.ERROR]:"error"},kT=(r,t,...s)=>{if(t<r.logLevel)return;const n=new Date().toISOString(),o=NT[t];if(o)console[o](`[${n}]  ${r.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gm{constructor(t){this.name=t,this._logLevel=wT,this._logHandler=kT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?jT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Jt.DEBUG,...t),this._logHandler(this,Jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Jt.VERBOSE,...t),this._logHandler(this,Jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Jt.INFO,...t),this._logHandler(this,Jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Jt.WARN,...t),this._logHandler(this,Jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Jt.ERROR,...t),this._logHandler(this,Jt.ERROR,...t)}}const ST=(r,t)=>t.some(s=>r instanceof s);let wv,Nv;function TT(){return wv||(wv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IT(){return Nv||(Nv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t5=new WeakMap,ap=new WeakMap,r5=new WeakMap,Eh=new WeakMap,of=new WeakMap;function PT(r){const t=new Promise((s,n)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",c)},u=()=>{s(yi(r.result)),o()},c=()=>{n(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",c)});return t.then(s=>{s instanceof IDBCursor&&t5.set(s,r)}).catch(()=>{}),of.set(t,r),t}function ET(r){if(ap.has(r))return;const t=new Promise((s,n)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",c),r.removeEventListener("abort",c)},u=()=>{s(),o()},c=()=>{n(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",c),r.addEventListener("abort",c)});ap.set(r,t)}let np={get(r,t,s){if(r instanceof IDBTransaction){if(t==="done")return ap.get(r);if(t==="objectStoreNames")return r.objectStoreNames||r5.get(r);if(t==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return yi(r[t])},set(r,t,s){return r[t]=s,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function CT(r){np=r(np)}function DT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...s){const n=r.call(Ch(this),t,...s);return r5.set(n,t.sort?t.sort():[t]),yi(n)}:IT().includes(r)?function(...t){return r.apply(Ch(this),t),yi(t5.get(this))}:function(...t){return yi(r.apply(Ch(this),t))}}function _T(r){return typeof r=="function"?DT(r):(r instanceof IDBTransaction&&ET(r),ST(r,TT())?new Proxy(r,np):r)}function yi(r){if(r instanceof IDBRequest)return PT(r);if(Eh.has(r))return Eh.get(r);const t=_T(r);return t!==r&&(Eh.set(r,t),of.set(t,r)),t}const Ch=r=>of.get(r);function s5(r,t,{blocked:s,upgrade:n,blocking:o,terminated:u}={}){const c=indexedDB.open(r,t),x=yi(c);return n&&c.addEventListener("upgradeneeded",p=>{n(yi(c.result),p.oldVersion,p.newVersion,yi(c.transaction),p)}),s&&c.addEventListener("blocked",p=>s(p.oldVersion,p.newVersion,p)),x.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",w=>o(w.oldVersion,w.newVersion,w))}).catch(()=>{}),x}const $T=["get","getKey","getAll","getAllKeys","count"],AT=["put","add","delete","clear"],Dh=new Map;function kv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Dh.get(t))return Dh.get(t);const s=t.replace(/FromIndex$/,""),n=t!==s,o=AT.includes(s);if(!(s in(n?IDBIndex:IDBObjectStore).prototype)||!(o||$T.includes(s)))return;const u=async function(c,...x){const p=this.transaction(c,o?"readwrite":"readonly");let w=p.store;return n&&(w=w.index(x.shift())),(await Promise.all([w[s](...x),o&&p.done]))[0]};return Dh.set(t,u),u}CT(r=>({...r,get:(t,s,n)=>kv(t,s)||r.get(t,s,n),has:(t,s)=>!!kv(t,s)||r.has(t,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(MT(s)){const n=s.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(s=>s).join(" ")}}function MT(r){const t=r.getComponent();return t?.type==="VERSION"}const ip="@firebase/app",Sv="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn=new gm("@firebase/app"),OT="@firebase/app-compat",LT="@firebase/analytics-compat",VT="@firebase/analytics",zT="@firebase/app-check-compat",BT="@firebase/app-check",UT="@firebase/auth",FT="@firebase/auth-compat",HT="@firebase/database",WT="@firebase/data-connect",qT="@firebase/database-compat",GT="@firebase/functions",QT="@firebase/functions-compat",KT="@firebase/installations",ZT="@firebase/installations-compat",YT="@firebase/messaging",XT="@firebase/messaging-compat",JT="@firebase/performance",eI="@firebase/performance-compat",tI="@firebase/remote-config",rI="@firebase/remote-config-compat",sI="@firebase/storage",aI="@firebase/storage-compat",nI="@firebase/firestore",iI="@firebase/vertexai",oI="@firebase/firestore-compat",lI="firebase",cI="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="[DEFAULT]",dI={[ip]:"fire-core",[OT]:"fire-core-compat",[VT]:"fire-analytics",[LT]:"fire-analytics-compat",[BT]:"fire-app-check",[zT]:"fire-app-check-compat",[UT]:"fire-auth",[FT]:"fire-auth-compat",[HT]:"fire-rtdb",[WT]:"fire-data-connect",[qT]:"fire-rtdb-compat",[GT]:"fire-fn",[QT]:"fire-fn-compat",[KT]:"fire-iid",[ZT]:"fire-iid-compat",[YT]:"fire-fcm",[XT]:"fire-fcm-compat",[JT]:"fire-perf",[eI]:"fire-perf-compat",[tI]:"fire-rc",[rI]:"fire-rc-compat",[sI]:"fire-gcs",[aI]:"fire-gcs-compat",[nI]:"fire-fst",[oI]:"fire-fst-compat",[iI]:"fire-vertex","fire-js":"fire-js",[lI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=new Map,uI=new Map,lp=new Map;function Tv(r,t){try{r.container.addComponent(t)}catch(s){Cn.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,s)}}function Aa(r){const t=r.name;if(lp.has(t))return Cn.debug(`There were multiple attempts to register component ${t}.`),!1;lp.set(t,r);for(const s of Au.values())Tv(s,r);for(const s of uI.values())Tv(s,r);return!0}function _i(r,t){const s=r.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),r.container.getProvider(t)}function ea(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bi=new ko("app","Firebase",mI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t,s,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=cI;function a5(r,t={}){let s=r;typeof t!="object"&&(t={name:t});const n=Object.assign({name:op,automaticDataCollectionEnabled:!1},t),o=n.name;if(typeof o!="string"||!o)throw bi.create("bad-app-name",{appName:String(o)});if(s||(s=KN()),!s)throw bi.create("no-options");const u=Au.get(o);if(u){if(Ni(s,u.options)&&Ni(n,u.config))return u;throw bi.create("duplicate-app",{appName:o})}const c=new vT(o);for(const p of lp.values())c.addComponent(p);const x=new xI(s,n,c);return Au.set(o,x),x}function ym(r=op){const t=Au.get(r);if(!t&&r===op&&KN())return a5();if(!t)throw bi.create("no-app",{appName:r});return t}function Bs(r,t,s){var n;let o=(n=dI[r])!==null&&n!==void 0?n:r;s&&(o+=`-${s}`);const u=o.match(/\s|\//),c=t.match(/\s|\//);if(u||c){const x=[`Unable to register library "${o}" with version "${t}":`];u&&x.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&c&&x.push("and"),c&&x.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Cn.warn(x.join(" "));return}Aa(new ga(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="firebase-heartbeat-database",pI=1,ed="firebase-heartbeat-store";let _h=null;function n5(){return _h||(_h=s5(hI,pI,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(ed)}catch(s){console.warn(s)}}}}).catch(r=>{throw bi.create("idb-open",{originalErrorMessage:r.message})})),_h}async function fI(r){try{const s=(await n5()).transaction(ed),n=await s.objectStore(ed).get(i5(r));return await s.done,n}catch(t){if(t instanceof ya)Cn.warn(t.message);else{const s=bi.create("idb-get",{originalErrorMessage:t?.message});Cn.warn(s.message)}}}async function Iv(r,t){try{const n=(await n5()).transaction(ed,"readwrite");await n.objectStore(ed).put(t,i5(r)),await n.done}catch(s){if(s instanceof ya)Cn.warn(s.message);else{const n=bi.create("idb-set",{originalErrorMessage:s?.message});Cn.warn(n.message)}}}function i5(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=1024,yI=30;class bI{constructor(t){this.container=t,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new jI(s),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,s;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Pv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>yI){const c=wI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Cn.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=Pv(),{heartbeatsToSend:n,unsentEntries:o}=vI(this._heartbeatsCache.heartbeats),u=$u(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=s,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(s){return Cn.warn(s),""}}}function Pv(){return new Date().toISOString().substring(0,10)}function vI(r,t=gI){const s=[];let n=r.slice();for(const o of r){const u=s.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),Ev(s)>t){u.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),Ev(s)>t){s.pop();break}n=n.slice(1)}return{heartbeatsToSend:s,unsentEntries:n}}class jI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JN()?e5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await fI(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var s;if(await this._canUseIndexedDBPromise){const o=await this.read();return Iv(this.app,{lastSentHeartbeatDate:(s=t.lastSentHeartbeatDate)!==null&&s!==void 0?s:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var s;if(await this._canUseIndexedDBPromise){const o=await this.read();return Iv(this.app,{lastSentHeartbeatDate:(s=t.lastSentHeartbeatDate)!==null&&s!==void 0?s:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Ev(r){return $u(JSON.stringify({version:2,heartbeats:r})).length}function wI(r){if(r.length===0)return-1;let t=0,s=r[0].date;for(let n=1;n<r.length;n++)r[n].date<s&&(s=r[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(r){Aa(new ga("platform-logger",t=>new RT(t),"PRIVATE")),Aa(new ga("heartbeat",t=>new bI(t),"PRIVATE")),Bs(ip,Sv,r),Bs(ip,Sv,"esm2017"),Bs("fire-js","")}NI("");var Cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vi,o5;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(F,h){function Z(){}Z.prototype=h.prototype,F.D=h.prototype,F.prototype=new Z,F.prototype.constructor=F,F.C=function(Q,ae,oe){for(var ee=Array(arguments.length-2),K=2;K<arguments.length;K++)ee[K-2]=arguments[K];return h.prototype[ae].apply(Q,ee)}}function s(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,s),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(F,h,Z){Z||(Z=0);var Q=Array(16);if(typeof h=="string")for(var ae=0;16>ae;++ae)Q[ae]=h.charCodeAt(Z++)|h.charCodeAt(Z++)<<8|h.charCodeAt(Z++)<<16|h.charCodeAt(Z++)<<24;else for(ae=0;16>ae;++ae)Q[ae]=h[Z++]|h[Z++]<<8|h[Z++]<<16|h[Z++]<<24;h=F.g[0],Z=F.g[1],ae=F.g[2];var oe=F.g[3],ee=h+(oe^Z&(ae^oe))+Q[0]+3614090360&4294967295;h=Z+(ee<<7&4294967295|ee>>>25),ee=oe+(ae^h&(Z^ae))+Q[1]+3905402710&4294967295,oe=h+(ee<<12&4294967295|ee>>>20),ee=ae+(Z^oe&(h^Z))+Q[2]+606105819&4294967295,ae=oe+(ee<<17&4294967295|ee>>>15),ee=Z+(h^ae&(oe^h))+Q[3]+3250441966&4294967295,Z=ae+(ee<<22&4294967295|ee>>>10),ee=h+(oe^Z&(ae^oe))+Q[4]+4118548399&4294967295,h=Z+(ee<<7&4294967295|ee>>>25),ee=oe+(ae^h&(Z^ae))+Q[5]+1200080426&4294967295,oe=h+(ee<<12&4294967295|ee>>>20),ee=ae+(Z^oe&(h^Z))+Q[6]+2821735955&4294967295,ae=oe+(ee<<17&4294967295|ee>>>15),ee=Z+(h^ae&(oe^h))+Q[7]+4249261313&4294967295,Z=ae+(ee<<22&4294967295|ee>>>10),ee=h+(oe^Z&(ae^oe))+Q[8]+1770035416&4294967295,h=Z+(ee<<7&4294967295|ee>>>25),ee=oe+(ae^h&(Z^ae))+Q[9]+2336552879&4294967295,oe=h+(ee<<12&4294967295|ee>>>20),ee=ae+(Z^oe&(h^Z))+Q[10]+4294925233&4294967295,ae=oe+(ee<<17&4294967295|ee>>>15),ee=Z+(h^ae&(oe^h))+Q[11]+2304563134&4294967295,Z=ae+(ee<<22&4294967295|ee>>>10),ee=h+(oe^Z&(ae^oe))+Q[12]+1804603682&4294967295,h=Z+(ee<<7&4294967295|ee>>>25),ee=oe+(ae^h&(Z^ae))+Q[13]+4254626195&4294967295,oe=h+(ee<<12&4294967295|ee>>>20),ee=ae+(Z^oe&(h^Z))+Q[14]+2792965006&4294967295,ae=oe+(ee<<17&4294967295|ee>>>15),ee=Z+(h^ae&(oe^h))+Q[15]+1236535329&4294967295,Z=ae+(ee<<22&4294967295|ee>>>10),ee=h+(ae^oe&(Z^ae))+Q[1]+4129170786&4294967295,h=Z+(ee<<5&4294967295|ee>>>27),ee=oe+(Z^ae&(h^Z))+Q[6]+3225465664&4294967295,oe=h+(ee<<9&4294967295|ee>>>23),ee=ae+(h^Z&(oe^h))+Q[11]+643717713&4294967295,ae=oe+(ee<<14&4294967295|ee>>>18),ee=Z+(oe^h&(ae^oe))+Q[0]+3921069994&4294967295,Z=ae+(ee<<20&4294967295|ee>>>12),ee=h+(ae^oe&(Z^ae))+Q[5]+3593408605&4294967295,h=Z+(ee<<5&4294967295|ee>>>27),ee=oe+(Z^ae&(h^Z))+Q[10]+38016083&4294967295,oe=h+(ee<<9&4294967295|ee>>>23),ee=ae+(h^Z&(oe^h))+Q[15]+3634488961&4294967295,ae=oe+(ee<<14&4294967295|ee>>>18),ee=Z+(oe^h&(ae^oe))+Q[4]+3889429448&4294967295,Z=ae+(ee<<20&4294967295|ee>>>12),ee=h+(ae^oe&(Z^ae))+Q[9]+568446438&4294967295,h=Z+(ee<<5&4294967295|ee>>>27),ee=oe+(Z^ae&(h^Z))+Q[14]+3275163606&4294967295,oe=h+(ee<<9&4294967295|ee>>>23),ee=ae+(h^Z&(oe^h))+Q[3]+4107603335&4294967295,ae=oe+(ee<<14&4294967295|ee>>>18),ee=Z+(oe^h&(ae^oe))+Q[8]+1163531501&4294967295,Z=ae+(ee<<20&4294967295|ee>>>12),ee=h+(ae^oe&(Z^ae))+Q[13]+2850285829&4294967295,h=Z+(ee<<5&4294967295|ee>>>27),ee=oe+(Z^ae&(h^Z))+Q[2]+4243563512&4294967295,oe=h+(ee<<9&4294967295|ee>>>23),ee=ae+(h^Z&(oe^h))+Q[7]+1735328473&4294967295,ae=oe+(ee<<14&4294967295|ee>>>18),ee=Z+(oe^h&(ae^oe))+Q[12]+2368359562&4294967295,Z=ae+(ee<<20&4294967295|ee>>>12),ee=h+(Z^ae^oe)+Q[5]+4294588738&4294967295,h=Z+(ee<<4&4294967295|ee>>>28),ee=oe+(h^Z^ae)+Q[8]+2272392833&4294967295,oe=h+(ee<<11&4294967295|ee>>>21),ee=ae+(oe^h^Z)+Q[11]+1839030562&4294967295,ae=oe+(ee<<16&4294967295|ee>>>16),ee=Z+(ae^oe^h)+Q[14]+4259657740&4294967295,Z=ae+(ee<<23&4294967295|ee>>>9),ee=h+(Z^ae^oe)+Q[1]+2763975236&4294967295,h=Z+(ee<<4&4294967295|ee>>>28),ee=oe+(h^Z^ae)+Q[4]+1272893353&4294967295,oe=h+(ee<<11&4294967295|ee>>>21),ee=ae+(oe^h^Z)+Q[7]+4139469664&4294967295,ae=oe+(ee<<16&4294967295|ee>>>16),ee=Z+(ae^oe^h)+Q[10]+3200236656&4294967295,Z=ae+(ee<<23&4294967295|ee>>>9),ee=h+(Z^ae^oe)+Q[13]+681279174&4294967295,h=Z+(ee<<4&4294967295|ee>>>28),ee=oe+(h^Z^ae)+Q[0]+3936430074&4294967295,oe=h+(ee<<11&4294967295|ee>>>21),ee=ae+(oe^h^Z)+Q[3]+3572445317&4294967295,ae=oe+(ee<<16&4294967295|ee>>>16),ee=Z+(ae^oe^h)+Q[6]+76029189&4294967295,Z=ae+(ee<<23&4294967295|ee>>>9),ee=h+(Z^ae^oe)+Q[9]+3654602809&4294967295,h=Z+(ee<<4&4294967295|ee>>>28),ee=oe+(h^Z^ae)+Q[12]+3873151461&4294967295,oe=h+(ee<<11&4294967295|ee>>>21),ee=ae+(oe^h^Z)+Q[15]+530742520&4294967295,ae=oe+(ee<<16&4294967295|ee>>>16),ee=Z+(ae^oe^h)+Q[2]+3299628645&4294967295,Z=ae+(ee<<23&4294967295|ee>>>9),ee=h+(ae^(Z|~oe))+Q[0]+4096336452&4294967295,h=Z+(ee<<6&4294967295|ee>>>26),ee=oe+(Z^(h|~ae))+Q[7]+1126891415&4294967295,oe=h+(ee<<10&4294967295|ee>>>22),ee=ae+(h^(oe|~Z))+Q[14]+2878612391&4294967295,ae=oe+(ee<<15&4294967295|ee>>>17),ee=Z+(oe^(ae|~h))+Q[5]+4237533241&4294967295,Z=ae+(ee<<21&4294967295|ee>>>11),ee=h+(ae^(Z|~oe))+Q[12]+1700485571&4294967295,h=Z+(ee<<6&4294967295|ee>>>26),ee=oe+(Z^(h|~ae))+Q[3]+2399980690&4294967295,oe=h+(ee<<10&4294967295|ee>>>22),ee=ae+(h^(oe|~Z))+Q[10]+4293915773&4294967295,ae=oe+(ee<<15&4294967295|ee>>>17),ee=Z+(oe^(ae|~h))+Q[1]+2240044497&4294967295,Z=ae+(ee<<21&4294967295|ee>>>11),ee=h+(ae^(Z|~oe))+Q[8]+1873313359&4294967295,h=Z+(ee<<6&4294967295|ee>>>26),ee=oe+(Z^(h|~ae))+Q[15]+4264355552&4294967295,oe=h+(ee<<10&4294967295|ee>>>22),ee=ae+(h^(oe|~Z))+Q[6]+2734768916&4294967295,ae=oe+(ee<<15&4294967295|ee>>>17),ee=Z+(oe^(ae|~h))+Q[13]+1309151649&4294967295,Z=ae+(ee<<21&4294967295|ee>>>11),ee=h+(ae^(Z|~oe))+Q[4]+4149444226&4294967295,h=Z+(ee<<6&4294967295|ee>>>26),ee=oe+(Z^(h|~ae))+Q[11]+3174756917&4294967295,oe=h+(ee<<10&4294967295|ee>>>22),ee=ae+(h^(oe|~Z))+Q[2]+718787259&4294967295,ae=oe+(ee<<15&4294967295|ee>>>17),ee=Z+(oe^(ae|~h))+Q[9]+3951481745&4294967295,F.g[0]=F.g[0]+h&4294967295,F.g[1]=F.g[1]+(ae+(ee<<21&4294967295|ee>>>11))&4294967295,F.g[2]=F.g[2]+ae&4294967295,F.g[3]=F.g[3]+oe&4294967295}n.prototype.u=function(F,h){h===void 0&&(h=F.length);for(var Z=h-this.blockSize,Q=this.B,ae=this.h,oe=0;oe<h;){if(ae==0)for(;oe<=Z;)o(this,F,oe),oe+=this.blockSize;if(typeof F=="string"){for(;oe<h;)if(Q[ae++]=F.charCodeAt(oe++),ae==this.blockSize){o(this,Q),ae=0;break}}else for(;oe<h;)if(Q[ae++]=F[oe++],ae==this.blockSize){o(this,Q),ae=0;break}}this.h=ae,this.o+=h},n.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var h=1;h<F.length-8;++h)F[h]=0;var Z=8*this.o;for(h=F.length-8;h<F.length;++h)F[h]=Z&255,Z/=256;for(this.u(F),F=Array(16),h=Z=0;4>h;++h)for(var Q=0;32>Q;Q+=8)F[Z++]=this.g[h]>>>Q&255;return F};function u(F,h){var Z=x;return Object.prototype.hasOwnProperty.call(Z,F)?Z[F]:Z[F]=h(F)}function c(F,h){this.h=h;for(var Z=[],Q=!0,ae=F.length-1;0<=ae;ae--){var oe=F[ae]|0;Q&&oe==h||(Z[ae]=oe,Q=!1)}this.g=Z}var x={};function p(F){return-128<=F&&128>F?u(F,function(h){return new c([h|0],0>h?-1:0)}):new c([F|0],0>F?-1:0)}function w(F){if(isNaN(F)||!isFinite(F))return D;if(0>F)return V(w(-F));for(var h=[],Z=1,Q=0;F>=Z;Q++)h[Q]=F/Z|0,Z*=4294967296;return new c(h,0)}function T(F,h){if(F.length==0)throw Error("number format error: empty string");if(h=h||10,2>h||36<h)throw Error("radix out of range: "+h);if(F.charAt(0)=="-")return V(T(F.substring(1),h));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var Z=w(Math.pow(h,8)),Q=D,ae=0;ae<F.length;ae+=8){var oe=Math.min(8,F.length-ae),ee=parseInt(F.substring(ae,ae+oe),h);8>oe?(oe=w(Math.pow(h,oe)),Q=Q.j(oe).add(w(ee))):(Q=Q.j(Z),Q=Q.add(w(ee)))}return Q}var D=p(0),A=p(1),O=p(16777216);r=c.prototype,r.m=function(){if(W(this))return-V(this).m();for(var F=0,h=1,Z=0;Z<this.g.length;Z++){var Q=this.i(Z);F+=(0<=Q?Q:4294967296+Q)*h,h*=4294967296}return F},r.toString=function(F){if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(k(this))return"0";if(W(this))return"-"+V(this).toString(F);for(var h=w(Math.pow(F,6)),Z=this,Q="";;){var ae=pe(Z,h).g;Z=Y(Z,ae.j(h));var oe=((0<Z.g.length?Z.g[0]:Z.h)>>>0).toString(F);if(Z=ae,k(Z))return oe+Q;for(;6>oe.length;)oe="0"+oe;Q=oe+Q}},r.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h};function k(F){if(F.h!=0)return!1;for(var h=0;h<F.g.length;h++)if(F.g[h]!=0)return!1;return!0}function W(F){return F.h==-1}r.l=function(F){return F=Y(this,F),W(F)?-1:k(F)?0:1};function V(F){for(var h=F.g.length,Z=[],Q=0;Q<h;Q++)Z[Q]=~F.g[Q];return new c(Z,~F.h).add(A)}r.abs=function(){return W(this)?V(this):this},r.add=function(F){for(var h=Math.max(this.g.length,F.g.length),Z=[],Q=0,ae=0;ae<=h;ae++){var oe=Q+(this.i(ae)&65535)+(F.i(ae)&65535),ee=(oe>>>16)+(this.i(ae)>>>16)+(F.i(ae)>>>16);Q=ee>>>16,oe&=65535,ee&=65535,Z[ae]=ee<<16|oe}return new c(Z,Z[Z.length-1]&-2147483648?-1:0)};function Y(F,h){return F.add(V(h))}r.j=function(F){if(k(this)||k(F))return D;if(W(this))return W(F)?V(this).j(V(F)):V(V(this).j(F));if(W(F))return V(this.j(V(F)));if(0>this.l(O)&&0>F.l(O))return w(this.m()*F.m());for(var h=this.g.length+F.g.length,Z=[],Q=0;Q<2*h;Q++)Z[Q]=0;for(Q=0;Q<this.g.length;Q++)for(var ae=0;ae<F.g.length;ae++){var oe=this.i(Q)>>>16,ee=this.i(Q)&65535,K=F.i(ae)>>>16,i=F.i(ae)&65535;Z[2*Q+2*ae]+=ee*i,ie(Z,2*Q+2*ae),Z[2*Q+2*ae+1]+=oe*i,ie(Z,2*Q+2*ae+1),Z[2*Q+2*ae+1]+=ee*K,ie(Z,2*Q+2*ae+1),Z[2*Q+2*ae+2]+=oe*K,ie(Z,2*Q+2*ae+2)}for(Q=0;Q<h;Q++)Z[Q]=Z[2*Q+1]<<16|Z[2*Q];for(Q=h;Q<2*h;Q++)Z[Q]=0;return new c(Z,0)};function ie(F,h){for(;(F[h]&65535)!=F[h];)F[h+1]+=F[h]>>>16,F[h]&=65535,h++}function ce(F,h){this.g=F,this.h=h}function pe(F,h){if(k(h))throw Error("division by zero");if(k(F))return new ce(D,D);if(W(F))return h=pe(V(F),h),new ce(V(h.g),V(h.h));if(W(h))return h=pe(F,V(h)),new ce(V(h.g),h.h);if(30<F.g.length){if(W(F)||W(h))throw Error("slowDivide_ only works with positive integers.");for(var Z=A,Q=h;0>=Q.l(F);)Z=X(Z),Q=X(Q);var ae=ne(Z,1),oe=ne(Q,1);for(Q=ne(Q,2),Z=ne(Z,2);!k(Q);){var ee=oe.add(Q);0>=ee.l(F)&&(ae=ae.add(Z),oe=ee),Q=ne(Q,1),Z=ne(Z,1)}return h=Y(F,ae.j(h)),new ce(ae,h)}for(ae=D;0<=F.l(h);){for(Z=Math.max(1,Math.floor(F.m()/h.m())),Q=Math.ceil(Math.log(Z)/Math.LN2),Q=48>=Q?1:Math.pow(2,Q-48),oe=w(Z),ee=oe.j(h);W(ee)||0<ee.l(F);)Z-=Q,oe=w(Z),ee=oe.j(h);k(oe)&&(oe=A),ae=ae.add(oe),F=Y(F,ee)}return new ce(ae,F)}r.A=function(F){return pe(this,F).h},r.and=function(F){for(var h=Math.max(this.g.length,F.g.length),Z=[],Q=0;Q<h;Q++)Z[Q]=this.i(Q)&F.i(Q);return new c(Z,this.h&F.h)},r.or=function(F){for(var h=Math.max(this.g.length,F.g.length),Z=[],Q=0;Q<h;Q++)Z[Q]=this.i(Q)|F.i(Q);return new c(Z,this.h|F.h)},r.xor=function(F){for(var h=Math.max(this.g.length,F.g.length),Z=[],Q=0;Q<h;Q++)Z[Q]=this.i(Q)^F.i(Q);return new c(Z,this.h^F.h)};function X(F){for(var h=F.g.length+1,Z=[],Q=0;Q<h;Q++)Z[Q]=F.i(Q)<<1|F.i(Q-1)>>>31;return new c(Z,F.h)}function ne(F,h){var Z=h>>5;h%=32;for(var Q=F.g.length-Z,ae=[],oe=0;oe<Q;oe++)ae[oe]=0<h?F.i(oe+Z)>>>h|F.i(oe+Z+1)<<32-h:F.i(oe+Z);return new c(ae,F.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,o5=n,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=w,c.fromString=T,vi=c}).apply(typeof Cv<"u"?Cv:typeof self<"u"?self:typeof window<"u"?window:{});var au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var l5,Ac,c5,gu,cp,d5,u5,m5;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,R,B){return y==Array.prototype||y==Object.prototype||(y[R]=B.value),y};function s(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof au=="object"&&au];for(var R=0;R<y.length;++R){var B=y[R];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var n=s(this);function o(y,R){if(R)e:{var B=n;y=y.split(".");for(var re=0;re<y.length-1;re++){var Se=y[re];if(!(Se in B))break e;B=B[Se]}y=y[y.length-1],re=B[y],R=R(re),R!=re&&R!=null&&t(B,y,{configurable:!0,writable:!0,value:R})}}function u(y,R){y instanceof String&&(y+="");var B=0,re=!1,Se={next:function(){if(!re&&B<y.length){var Oe=B++;return{value:R(Oe,y[Oe]),done:!1}}return re=!0,{done:!0,value:void 0}}};return Se[Symbol.iterator]=function(){return Se},Se}o("Array.prototype.values",function(y){return y||function(){return u(this,function(R,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},x=this||self;function p(y){var R=typeof y;return R=R!="object"?R:y?Array.isArray(y)?"array":R:"null",R=="array"||R=="object"&&typeof y.length=="number"}function w(y){var R=typeof y;return R=="object"&&y!=null||R=="function"}function T(y,R,B){return y.call.apply(y.bind,arguments)}function D(y,R,B){if(!y)throw Error();if(2<arguments.length){var re=Array.prototype.slice.call(arguments,2);return function(){var Se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Se,re),y.apply(R,Se)}}return function(){return y.apply(R,arguments)}}function A(y,R,B){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:D,A.apply(null,arguments)}function O(y,R){var B=Array.prototype.slice.call(arguments,1);return function(){var re=B.slice();return re.push.apply(re,arguments),y.apply(this,re)}}function k(y,R){function B(){}B.prototype=R.prototype,y.aa=R.prototype,y.prototype=new B,y.prototype.constructor=y,y.Qb=function(re,Se,Oe){for(var nt=Array(arguments.length-2),pr=2;pr<arguments.length;pr++)nt[pr-2]=arguments[pr];return R.prototype[Se].apply(re,nt)}}function W(y){const R=y.length;if(0<R){const B=Array(R);for(let re=0;re<R;re++)B[re]=y[re];return B}return[]}function V(y,R){for(let B=1;B<arguments.length;B++){const re=arguments[B];if(p(re)){const Se=y.length||0,Oe=re.length||0;y.length=Se+Oe;for(let nt=0;nt<Oe;nt++)y[Se+nt]=re[nt]}else y.push(re)}}class Y{constructor(R,B){this.i=R,this.j=B,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function ie(y){return/^[\s\xa0]*$/.test(y)}function ce(){var y=x.navigator;return y&&(y=y.userAgent)?y:""}function pe(y){return pe[" "](y),y}pe[" "]=function(){};var X=ce().indexOf("Gecko")!=-1&&!(ce().toLowerCase().indexOf("webkit")!=-1&&ce().indexOf("Edge")==-1)&&!(ce().indexOf("Trident")!=-1||ce().indexOf("MSIE")!=-1)&&ce().indexOf("Edge")==-1;function ne(y,R,B){for(const re in y)R.call(B,y[re],re,y)}function F(y,R){for(const B in y)R.call(void 0,y[B],B,y)}function h(y){const R={};for(const B in y)R[B]=y[B];return R}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(y,R){let B,re;for(let Se=1;Se<arguments.length;Se++){re=arguments[Se];for(B in re)y[B]=re[B];for(let Oe=0;Oe<Z.length;Oe++)B=Z[Oe],Object.prototype.hasOwnProperty.call(re,B)&&(y[B]=re[B])}}function ae(y){var R=1;y=y.split(":");const B=[];for(;0<R&&y.length;)B.push(y.shift()),R--;return y.length&&B.push(y.join(":")),B}function oe(y){x.setTimeout(()=>{throw y},0)}function ee(){var y=Ae;let R=null;return y.g&&(R=y.g,y.g=y.g.next,y.g||(y.h=null),R.next=null),R}class K{constructor(){this.h=this.g=null}add(R,B){const re=i.get();re.set(R,B),this.h?this.h.next=re:this.g=re,this.h=re}}var i=new Y(()=>new He,y=>y.reset());class He{constructor(){this.next=this.g=this.h=null}set(R,B){this.h=R,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let je,Ne=!1,Ae=new K,Ie=()=>{const y=x.Promise.resolve(void 0);je=()=>{y.then(he)}};var he=()=>{for(var y;y=ee();){try{y.h.call(y.g)}catch(B){oe(B)}var R=i;R.j(y),100>R.h&&(R.h++,y.next=R.g,R.g=y)}Ne=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(y,R){this.type=y,this.g=this.target=R,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var We=(function(){if(!x.addEventListener||!Object.defineProperty)return!1;var y=!1,R=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const B=()=>{};x.addEventListener("test",B,R),x.removeEventListener("test",B,R)}catch{}return y})();function Re(y,R){if(Ee.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var B=this.type=y.type,re=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=R,R=y.relatedTarget){if(X){e:{try{pe(R.nodeName);var Se=!0;break e}catch{}Se=!1}Se||(R=null)}}else B=="mouseover"?R=y.fromElement:B=="mouseout"&&(R=y.toElement);this.relatedTarget=R,re?(this.clientX=re.clientX!==void 0?re.clientX:re.pageX,this.clientY=re.clientY!==void 0?re.clientY:re.pageY,this.screenX=re.screenX||0,this.screenY=re.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:Ge[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&Re.aa.h.call(this)}}k(Re,Ee);var Ge={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),a=0;function C(y,R,B,re,Se){this.listener=y,this.proxy=null,this.src=R,this.type=B,this.capture=!!re,this.ha=Se,this.key=++a,this.da=this.fa=!1}function g(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function z(y){this.src=y,this.g={},this.h=0}z.prototype.add=function(y,R,B,re,Se){var Oe=y.toString();y=this.g[Oe],y||(y=this.g[Oe]=[],this.h++);var nt=q(y,R,re,Se);return-1<nt?(R=y[nt],B||(R.fa=!1)):(R=new C(R,this.src,Oe,!!re,Se),R.fa=B,y.push(R)),R};function U(y,R){var B=R.type;if(B in y.g){var re=y.g[B],Se=Array.prototype.indexOf.call(re,R,void 0),Oe;(Oe=0<=Se)&&Array.prototype.splice.call(re,Se,1),Oe&&(g(R),y.g[B].length==0&&(delete y.g[B],y.h--))}}function q(y,R,B,re){for(var Se=0;Se<y.length;++Se){var Oe=y[Se];if(!Oe.da&&Oe.listener==R&&Oe.capture==!!B&&Oe.ha==re)return Se}return-1}var de="closure_lm_"+(1e6*Math.random()|0),ue={};function E(y,R,B,re,Se){if(Array.isArray(R)){for(var Oe=0;Oe<R.length;Oe++)E(y,R[Oe],B,re,Se);return null}return B=ye(B),y&&y[Le]?y.K(R,B,w(re)?!!re.capture:!1,Se):M(y,R,B,!1,re,Se)}function M(y,R,B,re,Se,Oe){if(!R)throw Error("Invalid event type");var nt=w(Se)?!!Se.capture:!!Se,pr=te(y);if(pr||(y[de]=pr=new z(y)),B=pr.add(R,B,re,nt,Oe),B.proxy)return B;if(re=_(),B.proxy=re,re.src=y,re.listener=B,y.addEventListener)We||(Se=nt),Se===void 0&&(Se=!1),y.addEventListener(R.toString(),re,Se);else if(y.attachEvent)y.attachEvent(I(R.toString()),re);else if(y.addListener&&y.removeListener)y.addListener(re);else throw Error("addEventListener and attachEvent are unavailable.");return B}function _(){function y(B){return R.call(y.src,y.listener,B)}const R=J;return y}function f(y,R,B,re,Se){if(Array.isArray(R))for(var Oe=0;Oe<R.length;Oe++)f(y,R[Oe],B,re,Se);else re=w(re)?!!re.capture:!!re,B=ye(B),y&&y[Le]?(y=y.i,R=String(R).toString(),R in y.g&&(Oe=y.g[R],B=q(Oe,B,re,Se),-1<B&&(g(Oe[B]),Array.prototype.splice.call(Oe,B,1),Oe.length==0&&(delete y.g[R],y.h--)))):y&&(y=te(y))&&(R=y.g[R.toString()],y=-1,R&&(y=q(R,B,re,Se)),(B=-1<y?R[y]:null)&&b(B))}function b(y){if(typeof y!="number"&&y&&!y.da){var R=y.src;if(R&&R[Le])U(R.i,y);else{var B=y.type,re=y.proxy;R.removeEventListener?R.removeEventListener(B,re,y.capture):R.detachEvent?R.detachEvent(I(B),re):R.addListener&&R.removeListener&&R.removeListener(re),(B=te(R))?(U(B,y),B.h==0&&(B.src=null,R[de]=null)):g(y)}}}function I(y){return y in ue?ue[y]:ue[y]="on"+y}function J(y,R){if(y.da)y=!0;else{R=new Re(R,this);var B=y.listener,re=y.ha||y.src;y.fa&&b(y),y=B.call(re,R)}return y}function te(y){return y=y[de],y instanceof z?y:null}var xe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ye(y){return typeof y=="function"?y:(y[xe]||(y[xe]=function(R){return y.handleEvent(R)}),y[xe])}function fe(){be.call(this),this.i=new z(this),this.M=this,this.F=null}k(fe,be),fe.prototype[Le]=!0,fe.prototype.removeEventListener=function(y,R,B,re){f(this,y,R,B,re)};function le(y,R){var B,re=y.F;if(re)for(B=[];re;re=re.F)B.push(re);if(y=y.M,re=R.type||R,typeof R=="string")R=new Ee(R,y);else if(R instanceof Ee)R.target=R.target||y;else{var Se=R;R=new Ee(re,y),Q(R,Se)}if(Se=!0,B)for(var Oe=B.length-1;0<=Oe;Oe--){var nt=R.g=B[Oe];Se=Ce(nt,re,!0,R)&&Se}if(nt=R.g=y,Se=Ce(nt,re,!0,R)&&Se,Se=Ce(nt,re,!1,R)&&Se,B)for(Oe=0;Oe<B.length;Oe++)nt=R.g=B[Oe],Se=Ce(nt,re,!1,R)&&Se}fe.prototype.N=function(){if(fe.aa.N.call(this),this.i){var y=this.i,R;for(R in y.g){for(var B=y.g[R],re=0;re<B.length;re++)g(B[re]);delete y.g[R],y.h--}}this.F=null},fe.prototype.K=function(y,R,B,re){return this.i.add(String(y),R,!1,B,re)},fe.prototype.L=function(y,R,B,re){return this.i.add(String(y),R,!0,B,re)};function Ce(y,R,B,re){if(R=y.i.g[String(R)],!R)return!0;R=R.concat();for(var Se=!0,Oe=0;Oe<R.length;++Oe){var nt=R[Oe];if(nt&&!nt.da&&nt.capture==B){var pr=nt.listener,Wr=nt.ha||nt.src;nt.fa&&U(y.i,nt),Se=pr.call(Wr,re)!==!1&&Se}}return Se&&!re.defaultPrevented}function qe(y,R,B){if(typeof y=="function")B&&(y=A(y,B));else if(y&&typeof y.handleEvent=="function")y=A(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:x.setTimeout(y,R||0)}function at(y){y.g=qe(()=>{y.g=null,y.i&&(y.i=!1,at(y))},y.l);const R=y.h;y.h=null,y.m.apply(null,R)}class ze extends be{constructor(R,B){super(),this.m=R,this.l=B,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:at(this)}N(){super.N(),this.g&&(x.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $t(y){be.call(this),this.h=y,this.g={}}k($t,be);var ct=[];function dt(y){ne(y.g,function(R,B){this.g.hasOwnProperty(B)&&b(R)},y),y.g={}}$t.prototype.N=function(){$t.aa.N.call(this),dt(this)},$t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qe=x.JSON.stringify,ut=x.JSON.parse,pt=class{stringify(y){return x.JSON.stringify(y,void 0)}parse(y){return x.JSON.parse(y,void 0)}};function Ue(){}Ue.prototype.h=null;function Xe(y){return y.h||(y.h=y.i())}function Dt(){}var xt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xt(){Ee.call(this,"d")}k(Xt,Ee);function Ar(){Ee.call(this,"c")}k(Ar,Ee);var xr={},Wt=null;function Oa(){return Wt=Wt||new fe}xr.La="serverreachability";function Fs(y){Ee.call(this,xr.La,y)}k(Fs,Ee);function ws(y){const R=Oa();le(R,new Fs(R))}xr.STAT_EVENT="statevent";function aa(y,R){Ee.call(this,xr.STAT_EVENT,y),this.stat=R}k(aa,Ee);function vr(y){const R=Oa();le(R,new aa(R,y))}xr.Ma="timingevent";function La(y,R){Ee.call(this,xr.Ma,y),this.size=R}k(La,Ee);function Kr(y,R){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return x.setTimeout(function(){y()},R)}function Va(){this.g=!0}Va.prototype.xa=function(){this.g=!1};function dn(y,R,B,re,Se,Oe){y.info(function(){if(y.g)if(Oe)for(var nt="",pr=Oe.split("&"),Wr=0;Wr<pr.length;Wr++){var sr=pr[Wr].split("=");if(1<sr.length){var Zr=sr[0];sr=sr[1];var zr=Zr.split("_");nt=2<=zr.length&&zr[1]=="type"?nt+(Zr+"="+sr+"&"):nt+(Zr+"=redacted&")}}else nt=null;else nt=Oe;return"XMLHTTP REQ ("+re+") [attempt "+Se+"]: "+R+`
`+B+`
`+nt})}function Vn(y,R,B,re,Se,Oe,nt){y.info(function(){return"XMLHTTP RESP ("+re+") [ attempt "+Se+"]: "+R+`
`+B+`
`+Oe+" "+nt})}function Hs(y,R,B,re){y.info(function(){return"XMLHTTP TEXT ("+R+"): "+Ql(y,B)+(re?" "+re:"")})}function un(y,R){y.info(function(){return"TIMEOUT: "+R})}Va.prototype.info=function(){};function Ql(y,R){if(!y.g)return R;if(!R)return null;try{var B=JSON.parse(R);if(B){for(y=0;y<B.length;y++)if(Array.isArray(B[y])){var re=B[y];if(!(2>re.length)){var Se=re[1];if(Array.isArray(Se)&&!(1>Se.length)){var Oe=Se[0];if(Oe!="noop"&&Oe!="stop"&&Oe!="close")for(var nt=1;nt<Se.length;nt++)Se[nt]=""}}}}return Qe(B)}catch{return R}}var zn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Eo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ws;function Oi(){}k(Oi,Ue),Oi.prototype.g=function(){return new XMLHttpRequest},Oi.prototype.i=function(){return{}},Ws=new Oi;function ba(y,R,B,re){this.j=y,this.i=R,this.l=B,this.R=re||1,this.U=new $t(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fd}function Fd(){this.i=null,this.g="",this.h=!1}var Kl={},Co={};function Do(y,R,B){y.L=1,y.v=Wn(Gs(R)),y.m=B,y.P=!0,Zl(y,null)}function Zl(y,R){y.F=Date.now(),jr(y),y.A=Gs(y.v);var B=y.A,re=y.R;Array.isArray(re)||(re=[String(re)]),Gn(B.i,"t",re),y.C=0,B=y.j.J,y.h=new Fd,y.g=o0(y.j,B?R:null,!y.m),0<y.O&&(y.M=new ze(A(y.Y,y,y.g),y.O)),R=y.U,B=y.g,re=y.ca;var Se="readystatechange";Array.isArray(Se)||(Se&&(ct[0]=Se.toString()),Se=ct);for(var Oe=0;Oe<Se.length;Oe++){var nt=E(B,Se[Oe],re||R.handleEvent,!1,R.h||R);if(!nt)break;R.g[nt.key]=nt}R=y.H?h(y.H):{},y.m?(y.u||(y.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,R)):(y.u="GET",y.g.ea(y.A,y.u,null,R)),ws(),dn(y.i,y.u,y.A,y.l,y.R,y.m)}ba.prototype.ca=function(y){y=y.target;const R=this.M;R&&Ds(y)==3?R.j():this.Y(y)},ba.prototype.Y=function(y){try{if(y==this.g)e:{const zr=Ds(this.g);var R=this.g.Ba();const oa=this.g.Z();if(!(3>zr)&&(zr!=3||this.g&&(this.h.h||this.g.oa()||rc(this.g)))){this.J||zr!=4||R==7||(R==8||0>=oa?ws(3):ws(2)),Li(this);var B=this.g.Z();this.X=B;t:if(Hd(this)){var re=rc(this.g);y="";var Se=re.length,Oe=Ds(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){na(this),Bn(this);var nt="";break t}this.h.i=new x.TextDecoder}for(R=0;R<Se;R++)this.h.h=!0,y+=this.h.i.decode(re[R],{stream:!(Oe&&R==Se-1)});re.length=0,this.h.g+=y,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=B==200,Vn(this.i,this.u,this.A,this.l,this.R,zr,B),this.o){if(this.T&&!this.K){t:{if(this.g){var pr,Wr=this.g;if((pr=Wr.g?Wr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(pr)){var sr=pr;break t}}sr=null}if(B=sr)Hs(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yl(this,B);else{this.o=!1,this.s=3,vr(12),na(this),Bn(this);break e}}if(this.P){B=!0;let Ks;for(;!this.J&&this.C<nt.length;)if(Ks=Zm(this,nt),Ks==Co){zr==4&&(this.s=4,vr(14),B=!1),Hs(this.i,this.l,null,"[Incomplete Response]");break}else if(Ks==Kl){this.s=4,vr(15),Hs(this.i,this.l,nt,"[Invalid Chunk]"),B=!1;break}else Hs(this.i,this.l,Ks,null),Yl(this,Ks);if(Hd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zr!=4||nt.length!=0||this.h.h||(this.s=1,vr(16),B=!1),this.o=this.o&&B,!B)Hs(this.i,this.l,nt,"[Invalid Chunked Response]"),na(this),Bn(this);else if(0<nt.length&&!this.W){this.W=!0;var Zr=this.j;Zr.g==this&&Zr.ba&&!Zr.M&&(Zr.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),ac(Zr),Zr.M=!0,vr(11))}}else Hs(this.i,this.l,nt,null),Yl(this,nt);zr==4&&na(this),this.o&&!this.J&&(zr==4?Uo(this.j,this):(this.o=!1,jr(this)))}else Oo(this.g),B==400&&0<nt.indexOf("Unknown SID")?(this.s=3,vr(12)):(this.s=0,vr(13)),na(this),Bn(this)}}}catch{}finally{}};function Hd(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function Zm(y,R){var B=y.C,re=R.indexOf(`
`,B);return re==-1?Co:(B=Number(R.substring(B,re)),isNaN(B)?Kl:(re+=1,re+B>R.length?Co:(R=R.slice(re,re+B),y.C=re+B,R)))}ba.prototype.cancel=function(){this.J=!0,na(this)};function jr(y){y.S=Date.now()+y.I,Wd(y,y.I)}function Wd(y,R){if(y.B!=null)throw Error("WatchDog timer not null");y.B=Kr(A(y.ba,y),R)}function Li(y){y.B&&(x.clearTimeout(y.B),y.B=null)}ba.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(un(this.i,this.A),this.L!=2&&(ws(),vr(17)),na(this),this.s=2,Bn(this)):Wd(this,this.S-y)};function Bn(y){y.j.G==0||y.J||Uo(y.j,y)}function na(y){Li(y);var R=y.M;R&&typeof R.ma=="function"&&R.ma(),y.M=null,dt(y.U),y.g&&(R=y.g,y.g=null,R.abort(),R.ma())}function Yl(y,R){try{var B=y.j;if(B.G!=0&&(B.g==y||Ns(B.h,y))){if(!y.K&&Ns(B.h,y)&&B.G==3){try{var re=B.Da.g.parse(R)}catch{re=null}if(Array.isArray(re)&&re.length==3){var Se=re;if(Se[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<y.F)Bo(B),ka(B);else break e;zo(B),vr(18)}}else B.za=Se[1],0<B.za-B.T&&37500>Se[2]&&B.F&&B.v==0&&!B.C&&(B.C=Kr(A(B.Za,B),6e3));if(1>=Gd(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else fn(B,11)}else if((y.K||B.g==y)&&Bo(B),!ie(R))for(Se=B.Da.g.parse(R),R=0;R<Se.length;R++){let sr=Se[R];if(B.T=sr[0],sr=sr[1],B.G==2)if(sr[0]=="c"){B.K=sr[1],B.ia=sr[2];const Zr=sr[3];Zr!=null&&(B.la=Zr,B.j.info("VER="+B.la));const zr=sr[4];zr!=null&&(B.Aa=zr,B.j.info("SVER="+B.Aa));const oa=sr[5];oa!=null&&typeof oa=="number"&&0<oa&&(re=1.5*oa,B.L=re,B.j.info("backChannelRequestTimeoutMs_="+re)),re=B;const Ks=y.g;if(Ks){const Wi=Ks.g?Ks.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wi){var Oe=re.h;Oe.g||Wi.indexOf("spdy")==-1&&Wi.indexOf("quic")==-1&&Wi.indexOf("h2")==-1||(Oe.j=Oe.l,Oe.g=new Set,Oe.h&&(Xl(Oe,Oe.h),Oe.h=null))}if(re.D){const Ho=Ks.g?Ks.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(re.ya=Ho,gr(re.I,re.D,Ho))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-y.F,B.j.info("Handshake RTT: "+B.R+"ms")),re=B;var nt=y;if(re.qa=i0(re,re.J?re.ia:null,re.W),nt.K){Qd(re.h,nt);var pr=nt,Wr=re.L;Wr&&(pr.I=Wr),pr.B&&(Li(pr),jr(pr)),re.g=nt}else Hi(re);0<B.i.length&&Fa(B)}else sr[0]!="stop"&&sr[0]!="close"||fn(B,7);else B.G==3&&(sr[0]=="stop"||sr[0]=="close"?sr[0]=="stop"?fn(B,7):as(B):sr[0]!="noop"&&B.l&&B.l.ta(sr),B.v=0)}}ws(4)}catch{}}var qd=class{constructor(y,R){this.g=y,this.map=R}};function Vi(y){this.l=y||10,x.PerformanceNavigationTiming?(y=x.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(x.chrome&&x.chrome.loadTimes&&x.chrome.loadTimes()&&x.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qs(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Gd(y){return y.h?1:y.g?y.g.size:0}function Ns(y,R){return y.h?y.h==R:y.g?y.g.has(R):!1}function Xl(y,R){y.g?y.g.add(R):y.h=R}function Qd(y,R){y.h&&y.h==R?y.h=null:y.g&&y.g.has(R)&&y.g.delete(R)}Vi.prototype.cancel=function(){if(this.i=Kd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Kd(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let R=y.i;for(const B of y.g.values())R=R.concat(B.D);return R}return W(y.i)}function _o(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(p(y)){for(var R=[],B=y.length,re=0;re<B;re++)R.push(y[re]);return R}R=[],B=0;for(re in y)R[B++]=y[re];return R}function $o(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(p(y)||typeof y=="string"){var R=[];y=y.length;for(var B=0;B<y;B++)R.push(B);return R}R=[],B=0;for(const re in y)R[B++]=re;return R}}}function Un(y,R){if(y.forEach&&typeof y.forEach=="function")y.forEach(R,void 0);else if(p(y)||typeof y=="string")Array.prototype.forEach.call(y,R,void 0);else for(var B=$o(y),re=_o(y),Se=re.length,Oe=0;Oe<Se;Oe++)R.call(void 0,re[Oe],B&&B[Oe],y)}var zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ym(y,R){if(y){y=y.split("&");for(var B=0;B<y.length;B++){var re=y[B].indexOf("="),Se=null;if(0<=re){var Oe=y[B].substring(0,re);Se=y[B].substring(re+1)}else Oe=y[B];R(Oe,Se?decodeURIComponent(Se.replace(/\+/g," ")):"")}}}function mn(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof mn){this.h=y.h,Bi(this,y.j),this.o=y.o,this.g=y.g,Fn(this,y.s),this.l=y.l;var R=y.i,B=new za;B.i=R.i,R.g&&(B.g=new Map(R.g),B.h=R.h),Hn(this,B),this.m=y.m}else y&&(R=String(y).match(zi))?(this.h=!1,Bi(this,R[1]||"",!0),this.o=rr(R[2]||""),this.g=rr(R[3]||"",!0),Fn(this,R[4]),this.l=rr(R[5]||"",!0),Hn(this,R[6]||"",!0),this.m=rr(R[7]||"")):(this.h=!1,this.i=new za(null,this.h))}mn.prototype.toString=function(){var y=[],R=this.j;R&&y.push(qn(R,Ao,!0),":");var B=this.g;return(B||R=="file")&&(y.push("//"),(R=this.o)&&y.push(qn(R,Ao,!0),"@"),y.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&y.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&y.push("/"),y.push(qn(B,B.charAt(0)=="/"?Xd:Yd,!0))),(B=this.i.toString())&&y.push("?",B),(B=this.m)&&y.push("#",qn(B,Jl)),y.join("")};function Gs(y){return new mn(y)}function Bi(y,R,B){y.j=B?rr(R,!0):R,y.j&&(y.j=y.j.replace(/:$/,""))}function Fn(y,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);y.s=R}else y.s=null}function Hn(y,R,B){R instanceof za?(y.i=R,Ba(y.i,y.h)):(B||(R=qn(R,Jd)),y.i=new za(R,y.h))}function gr(y,R,B){y.i.set(R,B)}function Wn(y){return gr(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function rr(y,R){return y?R?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function qn(y,R,B){return typeof y=="string"?(y=encodeURI(y).replace(R,Zd),B&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Zd(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Ao=/[#\/\?@]/g,Yd=/[#\?:]/g,Xd=/[#\?]/g,Jd=/[#\?@]/g,Jl=/#/g;function za(y,R){this.h=this.g=null,this.i=y||null,this.j=!!R}function ss(y){y.g||(y.g=new Map,y.h=0,y.i&&Ym(y.i,function(R,B){y.add(decodeURIComponent(R.replace(/\+/g," ")),B)}))}r=za.prototype,r.add=function(y,R){ss(this),this.i=null,y=ia(this,y);var B=this.g.get(y);return B||this.g.set(y,B=[]),B.push(R),this.h+=1,this};function va(y,R){ss(y),R=ia(y,R),y.g.has(R)&&(y.i=null,y.h-=y.g.get(R).length,y.g.delete(R))}function ja(y,R){return ss(y),R=ia(y,R),y.g.has(R)}r.forEach=function(y,R){ss(this),this.g.forEach(function(B,re){B.forEach(function(Se){y.call(R,Se,re,this)},this)},this)},r.na=function(){ss(this);const y=Array.from(this.g.values()),R=Array.from(this.g.keys()),B=[];for(let re=0;re<R.length;re++){const Se=y[re];for(let Oe=0;Oe<Se.length;Oe++)B.push(R[re])}return B},r.V=function(y){ss(this);let R=[];if(typeof y=="string")ja(this,y)&&(R=R.concat(this.g.get(ia(this,y))));else{y=Array.from(this.g.values());for(let B=0;B<y.length;B++)R=R.concat(y[B])}return R},r.set=function(y,R){return ss(this),this.i=null,y=ia(this,y),ja(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[R]),this.h+=1,this},r.get=function(y,R){return y?(y=this.V(y),0<y.length?String(y[0]):R):R};function Gn(y,R,B){va(y,R),0<B.length&&(y.i=null,y.g.set(ia(y,R),W(B)),y.h+=B.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],R=Array.from(this.g.keys());for(var B=0;B<R.length;B++){var re=R[B];const Oe=encodeURIComponent(String(re)),nt=this.V(re);for(re=0;re<nt.length;re++){var Se=Oe;nt[re]!==""&&(Se+="="+encodeURIComponent(String(nt[re]))),y.push(Se)}}return this.i=y.join("&")};function ia(y,R){return R=String(R),y.j&&(R=R.toLowerCase()),R}function Ba(y,R){R&&!y.j&&(ss(y),y.i=null,y.g.forEach(function(B,re){var Se=re.toLowerCase();re!=Se&&(va(this,re),Gn(this,Se,B))},y)),y.j=R}function Xm(y,R){const B=new Va;if(x.Image){const re=new Image;re.onload=O(Cs,B,"TestLoadImage: loaded",!0,R,re),re.onerror=O(Cs,B,"TestLoadImage: error",!1,R,re),re.onabort=O(Cs,B,"TestLoadImage: abort",!1,R,re),re.ontimeout=O(Cs,B,"TestLoadImage: timeout",!1,R,re),x.setTimeout(function(){re.ontimeout&&re.ontimeout()},1e4),re.src=y}else R(!1)}function e0(y,R){const B=new Va,re=new AbortController,Se=setTimeout(()=>{re.abort(),Cs(B,"TestPingServer: timeout",!1,R)},1e4);fetch(y,{signal:re.signal}).then(Oe=>{clearTimeout(Se),Oe.ok?Cs(B,"TestPingServer: ok",!0,R):Cs(B,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(Se),Cs(B,"TestPingServer: error",!1,R)})}function Cs(y,R,B,re,Se){try{Se&&(Se.onload=null,Se.onerror=null,Se.onabort=null,Se.ontimeout=null),re(B)}catch{}}function Jm(){this.g=new pt}function t0(y,R,B){const re=B||"";try{Un(y,function(Se,Oe){let nt=Se;w(Se)&&(nt=Qe(Se)),R.push(re+Oe+"="+encodeURIComponent(nt))})}catch(Se){throw R.push(re+"type="+encodeURIComponent("_badmap")),Se}}function xn(y){this.l=y.Ub||null,this.j=y.eb||!1}k(xn,Ue),xn.prototype.g=function(){return new Ui(this.l,this.j)},xn.prototype.i=(function(y){return function(){return y}})({});function Ui(y,R){fe.call(this),this.D=y,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ui,fe),r=Ui.prototype,r.open=function(y,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=R,this.readyState=1,Na(this)},r.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(R.body=y),(this.D||x).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wa(this)),this.readyState=0},r.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Na(this)),this.g&&(this.readyState=3,Na(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof x.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;r0(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function r0(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}r.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var R=y.value?y.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!y.done}))&&(this.response=this.responseText+=R)}y.done?wa(this):Na(this),this.readyState==3&&r0(this)}},r.Ra=function(y){this.g&&(this.response=this.responseText=y,wa(this))},r.Qa=function(y){this.g&&(this.response=y,wa(this))},r.ga=function(){this.g&&wa(this)};function wa(y){y.readyState=4,y.l=null,y.j=null,y.v=null,Na(y)}r.setRequestHeader=function(y,R){this.u.append(y,R)},r.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],R=this.h.entries();for(var B=R.next();!B.done;)B=B.value,y.push(B[0]+": "+B[1]),B=R.next();return y.join(`\r
`)};function Na(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function hn(y){let R="";return ne(y,function(B,re){R+=re,R+=":",R+=B,R+=`\r
`}),R}function Qn(y,R,B){e:{for(re in B){var re=!1;break e}re=!0}re||(B=hn(B),typeof y=="string"?B!=null&&encodeURIComponent(String(B)):gr(y,R,B))}function Tr(y){fe.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Tr,fe);var ex=/^https?$/i,ec=["POST","PUT"];r=Tr.prototype,r.Ha=function(y){this.J=y},r.ea=function(y,R,B,re){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);R=R?R.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ws.g(),this.v=this.o?Xe(this.o):Xe(Ws),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(R,String(y),!0),this.B=!1}catch(Oe){Fi(this,Oe);return}if(y=B||"",B=new Map(this.headers),re)if(Object.getPrototypeOf(re)===Object.prototype)for(var Se in re)B.set(Se,re[Se]);else if(typeof re.keys=="function"&&typeof re.get=="function")for(const Oe of re.keys())B.set(Oe,re.get(Oe));else throw Error("Unknown input type for opt_headers: "+String(re));re=Array.from(B.keys()).find(Oe=>Oe.toLowerCase()=="content-type"),Se=x.FormData&&y instanceof x.FormData,!(0<=Array.prototype.indexOf.call(ec,R,void 0))||re||Se||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Oe,nt]of B)this.g.setRequestHeader(Oe,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mo(this),this.u=!0,this.g.send(y),this.u=!1}catch(Oe){Fi(this,Oe)}};function Fi(y,R){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=R,y.m=5,Ro(y),Qs(y)}function Ro(y){y.A||(y.A=!0,le(y,"complete"),le(y,"error"))}r.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,le(this,"complete"),le(this,"abort"),Qs(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qs(this,!0)),Tr.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?tc(this):this.bb())},r.bb=function(){tc(this)};function tc(y){if(y.h&&typeof c<"u"&&(!y.v[1]||Ds(y)!=4||y.Z()!=2)){if(y.u&&Ds(y)==4)qe(y.Ea,0,y);else if(le(y,"readystatechange"),Ds(y)==4){y.h=!1;try{const nt=y.Z();e:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var B;if(!(B=R)){var re;if(re=nt===0){var Se=String(y.D).match(zi)[1]||null;!Se&&x.self&&x.self.location&&(Se=x.self.location.protocol.slice(0,-1)),re=!ex.test(Se?Se.toLowerCase():"")}B=re}if(B)le(y,"complete"),le(y,"success");else{y.m=6;try{var Oe=2<Ds(y)?y.g.statusText:""}catch{Oe=""}y.l=Oe+" ["+y.Z()+"]",Ro(y)}}finally{Qs(y)}}}}function Qs(y,R){if(y.g){Mo(y);const B=y.g,re=y.v[0]?()=>{}:null;y.g=null,y.v=null,R||le(y,"ready");try{B.onreadystatechange=re}catch{}}}function Mo(y){y.I&&(x.clearTimeout(y.I),y.I=null)}r.isActive=function(){return!!this.g};function Ds(y){return y.g?y.g.readyState:0}r.Z=function(){try{return 2<Ds(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(y){if(this.g){var R=this.g.responseText;return y&&R.indexOf(y)==0&&(R=R.substring(y.length)),ut(R)}};function rc(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Oo(y){const R={};y=(y.g&&2<=Ds(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let re=0;re<y.length;re++){if(ie(y[re]))continue;var B=ae(y[re]);const Se=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const Oe=R[Se]||[];R[Se]=Oe,Oe.push(B)}F(R,function(re){return re.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(y,R,B){return B&&B.internalChannelParams&&B.internalChannelParams[y]||R}function sc(y){this.Aa=0,this.i=[],this.j=new Va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ua("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ua("baseRetryDelayMs",5e3,y),this.cb=Ua("retryDelaySeedMs",1e4,y),this.Wa=Ua("forwardChannelMaxRetries",2,y),this.wa=Ua("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new Vi(y&&y.concurrentRequestLimit),this.Da=new Jm,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=sc.prototype,r.la=8,r.G=1,r.connect=function(y,R,B,re){vr(0),this.W=y,this.H=R||{},B&&re!==void 0&&(this.H.OSID=B,this.H.OAID=re),this.F=this.X,this.I=i0(this,null,this.W),Fa(this)};function as(y){if(Lo(y),y.G==3){var R=y.U++,B=Gs(y.I);if(gr(B,"SID",y.K),gr(B,"RID",R),gr(B,"TYPE","terminate"),pn(y,B),R=new ba(y,y.j,R),R.L=2,R.v=Wn(Gs(B)),B=!1,x.navigator&&x.navigator.sendBeacon)try{B=x.navigator.sendBeacon(R.v.toString(),"")}catch{}!B&&x.Image&&(new Image().src=R.v,B=!0),B||(R.g=o0(R.j,null),R.g.ea(R.v)),R.F=Date.now(),jr(R)}n0(y)}function ka(y){y.g&&(ac(y),y.g.cancel(),y.g=null)}function Lo(y){ka(y),y.u&&(x.clearTimeout(y.u),y.u=null),Bo(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&x.clearTimeout(y.s),y.s=null)}function Fa(y){if(!qs(y.h)&&!y.s){y.s=!0;var R=y.Ga;je||Ie(),Ne||(je(),Ne=!0),Ae.add(R,y),y.B=0}}function tx(y,R){return Gd(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=R.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=Kr(A(y.Ga,y,R),a0(y,y.B)),y.B++,!0)}r.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const Se=new ba(this,this.j,y);let Oe=this.o;if(this.S&&(Oe?(Oe=h(Oe),Q(Oe,this.S)):Oe=this.S),this.m!==null||this.O||(Se.H=Oe,Oe=null),this.P)e:{for(var R=0,B=0;B<this.i.length;B++){t:{var re=this.i[B];if("__data__"in re.map&&(re=re.map.__data__,typeof re=="string")){re=re.length;break t}re=void 0}if(re===void 0)break;if(R+=re,4096<R){R=B;break e}if(R===4096||B===this.i.length-1){R=B+1;break e}}R=1e3}else R=1e3;R=Kn(this,Se,R),B=Gs(this.I),gr(B,"RID",y),gr(B,"CVER",22),this.D&&gr(B,"X-HTTP-Session-Id",this.D),pn(this,B),Oe&&(this.O?R="headers="+encodeURIComponent(String(hn(Oe)))+"&"+R:this.m&&Qn(B,this.m,Oe)),Xl(this.h,Se),this.Ua&&gr(B,"TYPE","init"),this.P?(gr(B,"$req",R),gr(B,"SID","null"),Se.T=!0,Do(Se,B,null)):Do(Se,B,R),this.G=2}}else this.G==3&&(y?Vo(this,y):this.i.length==0||qs(this.h)||Vo(this))};function Vo(y,R){var B;R?B=R.l:B=y.U++;const re=Gs(y.I);gr(re,"SID",y.K),gr(re,"RID",B),gr(re,"AID",y.T),pn(y,re),y.m&&y.o&&Qn(re,y.m,y.o),B=new ba(y,y.j,B,y.B+1),y.m===null&&(B.H=y.o),R&&(y.i=R.D.concat(y.i)),R=Kn(y,B,1e3),B.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),Xl(y.h,B),Do(B,re,R)}function pn(y,R){y.H&&ne(y.H,function(B,re){gr(R,re,B)}),y.l&&Un({},function(B,re){gr(R,re,B)})}function Kn(y,R,B){B=Math.min(y.i.length,B);var re=y.l?A(y.l.Na,y.l,y):null;e:{var Se=y.i;let Oe=-1;for(;;){const nt=["count="+B];Oe==-1?0<B?(Oe=Se[0].g,nt.push("ofs="+Oe)):Oe=0:nt.push("ofs="+Oe);let pr=!0;for(let Wr=0;Wr<B;Wr++){let sr=Se[Wr].g;const Zr=Se[Wr].map;if(sr-=Oe,0>sr)Oe=Math.max(0,Se[Wr].g-100),pr=!1;else try{t0(Zr,nt,"req"+sr+"_")}catch{re&&re(Zr)}}if(pr){re=nt.join("&");break e}}}return y=y.i.splice(0,B),R.D=y,re}function Hi(y){if(!y.g&&!y.u){y.Y=1;var R=y.Fa;je||Ie(),Ne||(je(),Ne=!0),Ae.add(R,y),y.v=0}}function zo(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=Kr(A(y.Fa,y),a0(y,y.v)),y.v++,!0)}r.Fa=function(){if(this.u=null,s0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=Kr(A(this.ab,this),y)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vr(10),ka(this),s0(this))};function ac(y){y.A!=null&&(x.clearTimeout(y.A),y.A=null)}function s0(y){y.g=new ba(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var R=Gs(y.qa);gr(R,"RID","rpc"),gr(R,"SID",y.K),gr(R,"AID",y.T),gr(R,"CI",y.F?"0":"1"),!y.F&&y.ja&&gr(R,"TO",y.ja),gr(R,"TYPE","xmlhttp"),pn(y,R),y.m&&y.o&&Qn(R,y.m,y.o),y.L&&(y.g.I=y.L);var B=y.g;y=y.ia,B.L=1,B.v=Wn(Gs(R)),B.m=null,B.P=!0,Zl(B,y)}r.Za=function(){this.C!=null&&(this.C=null,ka(this),zo(this),vr(19))};function Bo(y){y.C!=null&&(x.clearTimeout(y.C),y.C=null)}function Uo(y,R){var B=null;if(y.g==R){Bo(y),ac(y),y.g=null;var re=2}else if(Ns(y.h,R))B=R.D,Qd(y.h,R),re=1;else return;if(y.G!=0){if(R.o)if(re==1){B=R.m?R.m.length:0,R=Date.now()-R.F;var Se=y.B;re=Oa(),le(re,new La(re,B)),Fa(y)}else Hi(y);else if(Se=R.s,Se==3||Se==0&&0<R.X||!(re==1&&tx(y,R)||re==2&&zo(y)))switch(B&&0<B.length&&(R=y.h,R.i=R.i.concat(B)),Se){case 1:fn(y,5);break;case 4:fn(y,10);break;case 3:fn(y,6);break;default:fn(y,2)}}}function a0(y,R){let B=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(B*=2),B*R}function fn(y,R){if(y.j.info("Error code "+R),R==2){var B=A(y.fb,y),re=y.Xa;const Se=!re;re=new mn(re||"//www.google.com/images/cleardot.gif"),x.location&&x.location.protocol=="http"||Bi(re,"https"),Wn(re),Se?Xm(re.toString(),B):e0(re.toString(),B)}else vr(2);y.G=0,y.l&&y.l.sa(R),n0(y),Lo(y)}r.fb=function(y){y?(this.j.info("Successfully pinged google.com"),vr(2)):(this.j.info("Failed to ping google.com"),vr(1))};function n0(y){if(y.G=0,y.ka=[],y.l){const R=Kd(y.h);(R.length!=0||y.i.length!=0)&&(V(y.ka,R),V(y.ka,y.i),y.h.i.length=0,W(y.i),y.i.length=0),y.l.ra()}}function i0(y,R,B){var re=B instanceof mn?Gs(B):new mn(B);if(re.g!="")R&&(re.g=R+"."+re.g),Fn(re,re.s);else{var Se=x.location;re=Se.protocol,R=R?R+"."+Se.hostname:Se.hostname,Se=+Se.port;var Oe=new mn(null);re&&Bi(Oe,re),R&&(Oe.g=R),Se&&Fn(Oe,Se),B&&(Oe.l=B),re=Oe}return B=y.D,R=y.ya,B&&R&&gr(re,B,R),gr(re,"VER",y.la),pn(y,re),re}function o0(y,R,B){if(R&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=y.Ca&&!y.pa?new Tr(new xn({eb:B})):new Tr(y.pa),R.Ha(y.J),R}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function nc(){}r=nc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Fo(){}Fo.prototype.g=function(y,R){return new ks(y,R)};function ks(y,R){fe.call(this),this.g=new sc(R),this.l=y,this.h=R&&R.messageUrlParams||null,y=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(y?y["X-WebChannel-Content-Type"]=R.messageContentType:y={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(y?y["X-WebChannel-Client-Profile"]=R.va:y={"X-WebChannel-Client-Profile":R.va}),this.g.S=y,(y=R&&R.Sb)&&!ie(y)&&(this.g.m=y),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!ie(R)&&(this.g.D=R,y=this.h,y!==null&&R in y&&(y=this.h,R in y&&delete y[R])),this.j=new Ha(this)}k(ks,fe),ks.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ks.prototype.close=function(){as(this.g)},ks.prototype.o=function(y){var R=this.g;if(typeof y=="string"){var B={};B.__data__=y,y=B}else this.u&&(B={},B.__data__=Qe(y),y=B);R.i.push(new qd(R.Ya++,y)),R.G==3&&Fa(R)},ks.prototype.N=function(){this.g.l=null,delete this.j,as(this.g),delete this.g,ks.aa.N.call(this)};function l0(y){Xt.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var R=y.__sm__;if(R){e:{for(const B in R){y=B;break e}y=void 0}(this.i=y)&&(y=this.i,R=R!==null&&y in R?R[y]:void 0),this.data=R}else this.data=y}k(l0,Xt);function c0(){Ar.call(this),this.status=1}k(c0,Ar);function Ha(y){this.g=y}k(Ha,nc),Ha.prototype.ua=function(){le(this.g,"a")},Ha.prototype.ta=function(y){le(this.g,new l0(y))},Ha.prototype.sa=function(y){le(this.g,new c0)},Ha.prototype.ra=function(){le(this.g,"b")},Fo.prototype.createWebChannel=Fo.prototype.g,ks.prototype.send=ks.prototype.o,ks.prototype.open=ks.prototype.m,ks.prototype.close=ks.prototype.close,m5=function(){return new Fo},u5=function(){return Oa()},d5=xr,cp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zn.NO_ERROR=0,zn.TIMEOUT=8,zn.HTTP_ERROR=6,gu=zn,Eo.COMPLETE="complete",c5=Eo,Dt.EventType=xt,xt.OPEN="a",xt.CLOSE="b",xt.ERROR="c",xt.MESSAGE="d",fe.prototype.listen=fe.prototype.K,Ac=Dt,Tr.prototype.listenOnce=Tr.prototype.L,Tr.prototype.getLastError=Tr.prototype.Ka,Tr.prototype.getLastErrorCode=Tr.prototype.Ba,Tr.prototype.getStatus=Tr.prototype.Z,Tr.prototype.getResponseJson=Tr.prototype.Oa,Tr.prototype.getResponseText=Tr.prototype.oa,Tr.prototype.send=Tr.prototype.ea,Tr.prototype.setWithCredentials=Tr.prototype.Ha,l5=Tr}).apply(typeof au<"u"?au:typeof self<"u"?self:typeof window<"u"?window:{});const Dv="@firebase/firestore",_v="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}bs.UNAUTHENTICATED=new bs(null),bs.GOOGLE_CREDENTIALS=new bs("google-credentials-uid"),bs.FIRST_PARTY=new bs("first-party-uid"),bs.MOCK_USER=new bs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=new gm("@firebase/firestore");function ul(){return fo.logLevel}function ft(r,...t){if(fo.logLevel<=Jt.DEBUG){const s=t.map(lf);fo.debug(`Firestore (${Vl}): ${r}`,...s)}}function Dn(r,...t){if(fo.logLevel<=Jt.ERROR){const s=t.map(lf);fo.error(`Firestore (${Vl}): ${r}`,...s)}}function Tl(r,...t){if(fo.logLevel<=Jt.WARN){const s=t.map(lf);fo.warn(`Firestore (${Vl}): ${r}`,...s)}}function lf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(s){return JSON.stringify(s)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(r="Unexpected state"){const t=`FIRESTORE (${Vl}) INTERNAL ASSERTION FAILED: `+r;throw Dn(t),new Error(t)}function nr(r,t){r||Mt()}function Ut(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ya{constructor(t,s){super(t,s),this.code=t,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.promise=new Promise(((t,s)=>{this.resolve=t,this.reject=s}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(t,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class kI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,s){t.enqueueRetryable((()=>s(bs.UNAUTHENTICATED)))}shutdown(){}}class SI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,s){this.changeListener=s,t.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class TI{constructor(t){this.t=t,this.currentUser=bs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,s){nr(this.o===void 0);let n=this.i;const o=p=>this.i!==n?(n=this.i,s(p)):Promise.resolve();let u=new Za;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Za,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},x=p=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>x(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?x(p):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Za)}}),0),c()}getToken(){const t=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((n=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(nr(typeof n.accessToken=="string"),new x5(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return nr(t===null||typeof t=="string"),new bs(t)}}class II{constructor(t,s,n){this.l=t,this.h=s,this.P=n,this.type="FirstParty",this.user=bs.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class PI{constructor(t,s,n){this.l=t,this.h=s,this.P=n}getToken(){return Promise.resolve(new II(this.l,this.h,this.P))}start(t,s){t.enqueueRetryable((()=>s(bs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $v{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EI{constructor(t,s){this.A=s,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ea(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,s){nr(this.o===void 0);const n=u=>{u.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.R;return this.R=u.token,ft("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?s(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>n(u)))};const o=u=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new $v(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((s=>s?(nr(typeof s.token=="string"),this.R=s.token,new $v(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(s);else for(let n=0;n<r;n++)s[n]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const o=CI(40);for(let u=0;u<o.length;++u)n.length<20&&o[u]<s&&(n+=t.charAt(o[u]%62))}return n}}function Gt(r,t){return r<t?-1:r>t?1:0}function dp(r,t){let s=0;for(;s<r.length&&s<t.length;){const n=r.codePointAt(s),o=t.codePointAt(s);if(n!==o){if(n<128&&o<128)return Gt(n,o);{const u=h5(),c=DI(u.encode(Av(r,s)),u.encode(Av(t,s)));return c!==0?c:Gt(n,o)}}s+=n>65535?2:1}return Gt(r.length,t.length)}function Av(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function DI(r,t){for(let s=0;s<r.length&&s<t.length;++s)if(r[s]!==t[s])return Gt(r[s],t[s]);return Gt(r.length,t.length)}function Il(r,t,s){return r.length===t.length&&r.every(((n,o)=>s(n,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=-62135596800,Mv=1e6;class br{static now(){return br.fromMillis(Date.now())}static fromDate(t){return br.fromMillis(t.getTime())}static fromMillis(t){const s=Math.floor(t/1e3),n=Math.floor((t-1e3*s)*Mv);return new br(s,n)}constructor(t,s){if(this.seconds=t,this.nanoseconds=s,s<0)throw new lt(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new lt(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(t<Rv)throw new lt(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mv}_compareTo(t){return this.seconds===t.seconds?Gt(this.nanoseconds,t.nanoseconds):Gt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Rv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new br(0,0))}static max(){return new Lt(new br(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="__name__";class Ka{constructor(t,s,n){s===void 0?s=0:s>t.length&&Mt(),n===void 0?n=t.length-s:n>t.length-s&&Mt(),this.segments=t,this.offset=s,this.len=n}get length(){return this.len}isEqual(t){return Ka.comparator(this,t)===0}child(t){const s=this.segments.slice(this.offset,this.limit());return t instanceof Ka?t.forEach((n=>{s.push(n)})):s.push(t),this.construct(s)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}forEach(t){for(let s=this.offset,n=this.limit();s<n;s++)t(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,s){const n=Math.min(t.length,s.length);for(let o=0;o<n;o++){const u=Ka.compareSegments(t.get(o),s.get(o));if(u!==0)return u}return Gt(t.length,s.length)}static compareSegments(t,s){const n=Ka.isNumericId(t),o=Ka.isNumericId(s);return n&&!o?-1:!n&&o?1:n&&o?Ka.extractNumericId(t).compare(Ka.extractNumericId(s)):dp(t,s)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return vi.fromString(t.substring(4,t.length-2))}}class yr extends Ka{construct(t,s,n){return new yr(t,s,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const s=[];for(const n of t){if(n.indexOf("//")>=0)throw new lt(Ve.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);s.push(...n.split("/").filter((o=>o.length>0)))}return new yr(s)}static emptyPath(){return new yr([])}}const _I=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cs extends Ka{construct(t,s,n){return new cs(t,s,n)}static isValidIdentifier(t){return _I.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cs.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ov}static keyField(){return new cs([Ov])}static fromServerFormat(t){const s=[];let n="",o=0;const u=()=>{if(n.length===0)throw new lt(Ve.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(n),n=""};let c=!1;for(;o<t.length;){const x=t[o];if(x==="\\"){if(o+1===t.length)throw new lt(Ve.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(Ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=p,o+=2}else x==="`"?(c=!c,o++):x!=="."||c?(n+=x,o++):(u(),o++)}if(u(),c)throw new lt(Ve.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new cs(s)}static emptyPath(){return new cs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(yr.fromString(t))}static fromName(t){return new _t(yr.fromString(t).popFirst(5))}static empty(){return new _t(yr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&yr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,s){return yr.comparator(t.path,s.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new yr(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=-1;function $I(r,t){const s=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,o=Lt.fromTimestamp(n===1e9?new br(s+1,0):new br(s,n));return new ki(o,_t.empty(),t)}function AI(r){return new ki(r.readTime,r.key,td)}class ki{constructor(t,s,n){this.readTime=t,this.documentKey=s,this.largestBatchId=n}static min(){return new ki(Lt.min(),_t.empty(),td)}static max(){return new ki(Lt.max(),_t.empty(),td)}}function RI(r,t){let s=r.readTime.compareTo(t.readTime);return s!==0?s:(s=_t.comparator(r.documentKey,t.documentKey),s!==0?s:Gt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(r){if(r.code!==Ve.FAILED_PRECONDITION||r.message!==MI)throw r;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(t){return this.next(void 0,t)}next(t,s){return this.callbackAttached&&Mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(t,this.result):new Fe(((n,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(n,o)},this.catchCallback=u=>{this.wrapFailure(s,u).next(n,o)}}))}toPromise(){return new Promise(((t,s)=>{this.next(t,s)}))}wrapUserFunction(t){try{const s=t();return s instanceof Fe?s:Fe.resolve(s)}catch(s){return Fe.reject(s)}}wrapSuccess(t,s){return t?this.wrapUserFunction((()=>t(s))):Fe.resolve(s)}wrapFailure(t,s){return t?this.wrapUserFunction((()=>t(s))):Fe.reject(s)}static resolve(t){return new Fe(((s,n)=>{s(t)}))}static reject(t){return new Fe(((s,n)=>{n(t)}))}static waitFor(t){return new Fe(((s,n)=>{let o=0,u=0,c=!1;t.forEach((x=>{++o,x.next((()=>{++u,c&&u===o&&s()}),(p=>n(p)))})),c=!0,u===o&&s()}))}static or(t){let s=Fe.resolve(!1);for(const n of t)s=s.next((o=>o?Fe.resolve(o):n()));return s}static forEach(t,s){const n=[];return t.forEach(((o,u)=>{n.push(s.call(this,o,u))})),this.waitFor(n)}static mapArray(t,s){return new Fe(((n,o)=>{const u=t.length,c=new Array(u);let x=0;for(let p=0;p<u;p++){const w=p;s(t[w]).next((T=>{c[w]=T,++x,x===u&&n(c)}),(T=>o(T)))}}))}static doWhile(t,s){return new Fe(((n,o)=>{const u=()=>{t()===!0?s().next((()=>{u()}),o):n()};u()}))}}function LI(r){const t=r.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function Bl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=n=>this.oe(n),this._e=n=>s.writeSequenceNumber(n))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}bm.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=-1;function Nd(r){return r==null}function Ru(r){return r===0&&1/r==-1/0}function VI(r){return typeof r=="number"&&Number.isInteger(r)&&!Ru(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5="";function zI(r){let t="";for(let s=0;s<r.length;s++)t.length>0&&(t=Lv(t)),t=BI(r.get(s),t);return Lv(t)}function BI(r,t){let s=t;const n=r.length;for(let o=0;o<n;o++){const u=r.charAt(o);switch(u){case"\0":s+="";break;case f5:s+="";break;default:s+=u}}return s}function Lv(r){return r+f5+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(r){let t=0;for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&t++;return t}function $i(r,t){for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&t(s,r[s])}function g5(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(t,s){this.comparator=t,this.root=s||ls.EMPTY}insert(t,s){return new $r(this.comparator,this.root.insert(t,s,this.comparator).copy(null,null,ls.BLACK,null,null))}remove(t){return new $r(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ls.BLACK,null,null))}get(t){let s=this.root;for(;!s.isEmpty();){const n=this.comparator(t,s.key);if(n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}indexOf(t){let s=0,n=this.root;for(;!n.isEmpty();){const o=this.comparator(t,n.key);if(o===0)return s+n.left.size;o<0?n=n.left:(s+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((s,n)=>(t(s,n),!1)))}toString(){const t=[];return this.inorderTraversal(((s,n)=>(t.push(`${s}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nu(this.root,t,this.comparator,!1)}getReverseIterator(){return new nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nu(this.root,t,this.comparator,!0)}}class nu{constructor(t,s,n,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=s?n(t.key,s):1,s&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const s={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ls{constructor(t,s,n,o,u){this.key=t,this.value=s,this.color=n??ls.RED,this.left=o??ls.EMPTY,this.right=u??ls.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,s,n,o,u){return new ls(t??this.key,s??this.value,n??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,s,n){let o=this;const u=n(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,s,n),null):u===0?o.copy(null,s,null,null,null):o.copy(null,null,null,null,o.right.insert(t,s,n)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ls.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,s){let n,o=this;if(s(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,s),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),s(t,o.key)===0){if(o.right.isEmpty())return ls.EMPTY;n=o.right.min(),o=o.copy(n.key,n.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,s))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ls.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ls.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,s)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mt();const t=this.left.check();if(t!==this.right.check())throw Mt();return t+(this.isRed()?0:1)}}ls.EMPTY=null,ls.RED=!0,ls.BLACK=!1;ls.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt()}get value(){throw Mt()}get color(){throw Mt()}get left(){throw Mt()}get right(){throw Mt()}copy(t,s,n,o,u){return this}insert(t,s,n){return new ls(t,s)}remove(t,s){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t){this.comparator=t,this.data=new $r(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((s,n)=>(t(s),!1)))}forEachInRange(t,s){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const o=n.getNext();if(this.comparator(o.key,t[1])>=0)return;s(o.key)}}forEachWhile(t,s){let n;for(n=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const s=this.data.getIteratorFrom(t);return s.hasNext()?s.getNext().key:null}getIterator(){return new zv(this.data.getIterator())}getIteratorFrom(t){return new zv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let s=this;return s.size<t.size&&(s=t,t=this),t.forEach((n=>{s=s.add(n)})),s}isEqual(t){if(!(t instanceof Qr)||this.size!==t.size)return!1;const s=this.data.getIterator(),n=t.data.getIterator();for(;s.hasNext();){const o=s.getNext().key,u=n.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((s=>{t.push(s)})),t}toString(){const t=[];return this.forEach((s=>t.push(s))),"SortedSet("+t.toString()+")"}copy(t){const s=new Qr(this.comparator);return s.data=t,s}}class zv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t){this.fields=t,t.sort(cs.comparator)}static empty(){return new ta([])}unionWith(t){let s=new Qr(cs.comparator);for(const n of this.fields)s=s.add(n);for(const n of t)s=s.add(n);return new ta(s.toArray())}covers(t){for(const s of this.fields)if(s.isPrefixOf(t))return!0;return!1}isEqual(t){return Il(this.fields,t.fields,((s,n)=>s.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(t){this.binaryString=t}static fromBase64String(t){const s=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new y5("Invalid base64 string: "+u):u}})(t);return new ms(s)}static fromUint8Array(t){const s=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new ms(s)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const n=new Uint8Array(s.length);for(let o=0;o<s.length;o++)n[o]=s.charCodeAt(o);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Gt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ms.EMPTY_BYTE_STRING=new ms("");const UI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(r){if(nr(!!r),typeof r=="string"){let t=0;const s=UI.exec(r);if(nr(!!s),s[1]){let o=s[1];o=(o+"000000000").substr(0,9),t=Number(o)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Vr(r.seconds),nanos:Vr(r.nanos)}}function Vr(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ti(r){return typeof r=="string"?ms.fromBase64String(r):ms.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="server_timestamp",v5="__type__",j5="__previous_value__",w5="__local_write_time__";function df(r){var t,s;return((s=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[v5])===null||s===void 0?void 0:s.stringValue)===b5}function vm(r){const t=r.mapValue.fields[j5];return df(t)?vm(t):t}function rd(r){const t=Si(r.mapValue.fields[w5].timestampValue);return new br(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(t,s,n,o,u,c,x,p,w){this.databaseId=t,this.appId=s,this.persistenceKey=n,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=x,this.longPollingOptions=p,this.useFetchStreams=w}}const Mu="(default)";class sd{constructor(t,s){this.projectId=t,this.database=s||Mu}static empty(){return new sd("","")}get isDefaultDatabase(){return this.database===Mu}isEqual(t){return t instanceof sd&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5="__type__",HI="__max__",iu={mapValue:{}},k5="__vector__",Ou="value";function Ii(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?df(r)?4:qI(r)?9007199254740991:WI(r)?10:11:Mt()}function an(r,t){if(r===t)return!0;const s=Ii(r);if(s!==Ii(t))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return rd(r).isEqual(rd(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Si(o.timestampValue),x=Si(u.timestampValue);return c.seconds===x.seconds&&c.nanos===x.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return Ti(o.bytesValue).isEqual(Ti(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return Vr(o.geoPointValue.latitude)===Vr(u.geoPointValue.latitude)&&Vr(o.geoPointValue.longitude)===Vr(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Vr(o.integerValue)===Vr(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Vr(o.doubleValue),x=Vr(u.doubleValue);return c===x?Ru(c)===Ru(x):isNaN(c)&&isNaN(x)}return!1})(r,t);case 9:return Il(r.arrayValue.values||[],t.arrayValue.values||[],an);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},x=u.mapValue.fields||{};if(Vv(c)!==Vv(x))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(x[p]===void 0||!an(c[p],x[p])))return!1;return!0})(r,t);default:return Mt()}}function ad(r,t){return(r.values||[]).find((s=>an(s,t)))!==void 0}function Pl(r,t){if(r===t)return 0;const s=Ii(r),n=Ii(t);if(s!==n)return Gt(s,n);switch(s){case 0:case 9007199254740991:return 0;case 1:return Gt(r.booleanValue,t.booleanValue);case 2:return(function(u,c){const x=Vr(u.integerValue||u.doubleValue),p=Vr(c.integerValue||c.doubleValue);return x<p?-1:x>p?1:x===p?0:isNaN(x)?isNaN(p)?0:-1:1})(r,t);case 3:return Bv(r.timestampValue,t.timestampValue);case 4:return Bv(rd(r),rd(t));case 5:return dp(r.stringValue,t.stringValue);case 6:return(function(u,c){const x=Ti(u),p=Ti(c);return x.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,c){const x=u.split("/"),p=c.split("/");for(let w=0;w<x.length&&w<p.length;w++){const T=Gt(x[w],p[w]);if(T!==0)return T}return Gt(x.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,c){const x=Gt(Vr(u.latitude),Vr(c.latitude));return x!==0?x:Gt(Vr(u.longitude),Vr(c.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Uv(r.arrayValue,t.arrayValue);case 10:return(function(u,c){var x,p,w,T;const D=u.fields||{},A=c.fields||{},O=(x=D[Ou])===null||x===void 0?void 0:x.arrayValue,k=(p=A[Ou])===null||p===void 0?void 0:p.arrayValue,W=Gt(((w=O?.values)===null||w===void 0?void 0:w.length)||0,((T=k?.values)===null||T===void 0?void 0:T.length)||0);return W!==0?W:Uv(O,k)})(r.mapValue,t.mapValue);case 11:return(function(u,c){if(u===iu.mapValue&&c===iu.mapValue)return 0;if(u===iu.mapValue)return 1;if(c===iu.mapValue)return-1;const x=u.fields||{},p=Object.keys(x),w=c.fields||{},T=Object.keys(w);p.sort(),T.sort();for(let D=0;D<p.length&&D<T.length;++D){const A=dp(p[D],T[D]);if(A!==0)return A;const O=Pl(x[p[D]],w[T[D]]);if(O!==0)return O}return Gt(p.length,T.length)})(r.mapValue,t.mapValue);default:throw Mt()}}function Bv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Gt(r,t);const s=Si(r),n=Si(t),o=Gt(s.seconds,n.seconds);return o!==0?o:Gt(s.nanos,n.nanos)}function Uv(r,t){const s=r.values||[],n=t.values||[];for(let o=0;o<s.length&&o<n.length;++o){const u=Pl(s[o],n[o]);if(u)return u}return Gt(s.length,n.length)}function El(r){return up(r)}function up(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(s){const n=Si(s);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(s){return Ti(s).toBase64()})(r.bytesValue):"referenceValue"in r?(function(s){return _t.fromName(s).toString()})(r.referenceValue):"geoPointValue"in r?(function(s){return`geo(${s.latitude},${s.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(s){let n="[",o=!0;for(const u of s.values||[])o?o=!1:n+=",",n+=up(u);return n+"]"})(r.arrayValue):"mapValue"in r?(function(s){const n=Object.keys(s.fields||{}).sort();let o="{",u=!0;for(const c of n)u?u=!1:o+=",",o+=`${c}:${up(s.fields[c])}`;return o+"}"})(r.mapValue):Mt()}function yu(r){switch(Ii(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vm(r);return t?16+yu(t):16;case 5:return 2*r.stringValue.length;case 6:return Ti(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((o,u)=>o+yu(u)),0)})(r.arrayValue);case 10:case 11:return(function(n){let o=0;return $i(n.fields,((u,c)=>{o+=u.length+yu(c)})),o})(r.mapValue);default:throw Mt()}}function Fv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function mp(r){return!!r&&"integerValue"in r}function uf(r){return!!r&&"arrayValue"in r}function Hv(r){return!!r&&"nullValue"in r}function Wv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function bu(r){return!!r&&"mapValue"in r}function WI(r){var t,s;return((s=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[N5])===null||s===void 0?void 0:s.stringValue)===k5}function zc(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return $i(r.mapValue.fields,((s,n)=>t.mapValue.fields[s]=zc(n))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let s=0;s<(r.arrayValue.values||[]).length;++s)t.arrayValue.values[s]=zc(r.arrayValue.values[s]);return t}return Object.assign({},r)}function qI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===HI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(t){this.value=t}static empty(){return new Is({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let s=this.value;for(let n=0;n<t.length-1;++n)if(s=(s.mapValue.fields||{})[t.get(n)],!bu(s))return null;return s=(s.mapValue.fields||{})[t.lastSegment()],s||null}}set(t,s){this.getFieldsMap(t.popLast())[t.lastSegment()]=zc(s)}setAll(t){let s=cs.emptyPath(),n={},o=[];t.forEach(((c,x)=>{if(!s.isImmediateParentOf(x)){const p=this.getFieldsMap(s);this.applyChanges(p,n,o),n={},o=[],s=x.popLast()}c?n[x.lastSegment()]=zc(c):o.push(x.lastSegment())}));const u=this.getFieldsMap(s);this.applyChanges(u,n,o)}delete(t){const s=this.field(t.popLast());bu(s)&&s.mapValue.fields&&delete s.mapValue.fields[t.lastSegment()]}isEqual(t){return an(this.value,t.value)}getFieldsMap(t){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let n=0;n<t.length;++n){let o=s.mapValue.fields[t.get(n)];bu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},s.mapValue.fields[t.get(n)]=o),s=o}return s.mapValue.fields}applyChanges(t,s,n){$i(s,((o,u)=>t[o]=u));for(const o of n)delete t[o]}clone(){return new Is(zc(this.value))}}function S5(r){const t=[];return $i(r.fields,((s,n)=>{const o=new cs([s]);if(bu(n)){const u=S5(n.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new ta(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t,s,n,o,u,c,x){this.key=t,this.documentType=s,this.version=n,this.readTime=o,this.createTime=u,this.data=c,this.documentState=x}static newInvalidDocument(t){return new ts(t,0,Lt.min(),Lt.min(),Lt.min(),Is.empty(),0)}static newFoundDocument(t,s,n,o){return new ts(t,1,s,Lt.min(),n,o,0)}static newNoDocument(t,s){return new ts(t,2,s,Lt.min(),Lt.min(),Is.empty(),0)}static newUnknownDocument(t,s){return new ts(t,3,s,Lt.min(),Lt.min(),Is.empty(),2)}convertToFoundDocument(t,s){return!this.createTime.isEqual(Lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Is.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ts&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ts(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(t,s){this.position=t,this.inclusive=s}}function qv(r,t,s){let n=0;for(let o=0;o<r.position.length;o++){const u=t[o],c=r.position[o];if(u.field.isKeyField()?n=_t.comparator(_t.fromName(c.referenceValue),s.key):n=Pl(c,s.data.field(u.field)),u.dir==="desc"&&(n*=-1),n!==0)break}return n}function Gv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let s=0;s<r.position.length;s++)if(!an(r.position[s],t.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(t,s="asc"){this.field=t,this.dir=s}}function GI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{}class Fr extends T5{constructor(t,s,n){super(),this.field=t,this.op=s,this.value=n}static create(t,s,n){return t.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(t,s,n):new KI(t,s,n):s==="array-contains"?new XI(t,n):s==="in"?new JI(t,n):s==="not-in"?new eP(t,n):s==="array-contains-any"?new tP(t,n):new Fr(t,s,n)}static createKeyFieldInFilter(t,s,n){return s==="in"?new ZI(t,n):new YI(t,n)}matches(t){const s=t.data.field(this.field);return this.op==="!="?s!==null&&this.matchesComparison(Pl(s,this.value)):s!==null&&Ii(this.value)===Ii(s)&&this.matchesComparison(Pl(s,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ra extends T5{constructor(t,s){super(),this.filters=t,this.op=s,this.ce=null}static create(t,s){return new Ra(t,s)}matches(t){return I5(this)?this.filters.find((s=>!s.matches(t)))===void 0:this.filters.find((s=>s.matches(t)))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce(((t,s)=>t.concat(s.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function I5(r){return r.op==="and"}function P5(r){return QI(r)&&I5(r)}function QI(r){for(const t of r.filters)if(t instanceof Ra)return!1;return!0}function xp(r){if(r instanceof Fr)return r.field.canonicalString()+r.op.toString()+El(r.value);if(P5(r))return r.filters.map((t=>xp(t))).join(",");{const t=r.filters.map((s=>xp(s))).join(",");return`${r.op}(${t})`}}function E5(r,t){return r instanceof Fr?(function(n,o){return o instanceof Fr&&n.op===o.op&&n.field.isEqual(o.field)&&an(n.value,o.value)})(r,t):r instanceof Ra?(function(n,o){return o instanceof Ra&&n.op===o.op&&n.filters.length===o.filters.length?n.filters.reduce(((u,c,x)=>u&&E5(c,o.filters[x])),!0):!1})(r,t):void Mt()}function C5(r){return r instanceof Fr?(function(s){return`${s.field.canonicalString()} ${s.op} ${El(s.value)}`})(r):r instanceof Ra?(function(s){return s.op.toString()+" {"+s.getFilters().map(C5).join(" ,")+"}"})(r):"Filter"}class KI extends Fr{constructor(t,s,n){super(t,s,n),this.key=_t.fromName(n.referenceValue)}matches(t){const s=_t.comparator(t.key,this.key);return this.matchesComparison(s)}}class ZI extends Fr{constructor(t,s){super(t,"in",s),this.keys=D5("in",s)}matches(t){return this.keys.some((s=>s.isEqual(t.key)))}}class YI extends Fr{constructor(t,s){super(t,"not-in",s),this.keys=D5("not-in",s)}matches(t){return!this.keys.some((s=>s.isEqual(t.key)))}}function D5(r,t){var s;return(((s=t.arrayValue)===null||s===void 0?void 0:s.values)||[]).map((n=>_t.fromName(n.referenceValue)))}class XI extends Fr{constructor(t,s){super(t,"array-contains",s)}matches(t){const s=t.data.field(this.field);return uf(s)&&ad(s.arrayValue,this.value)}}class JI extends Fr{constructor(t,s){super(t,"in",s)}matches(t){const s=t.data.field(this.field);return s!==null&&ad(this.value.arrayValue,s)}}class eP extends Fr{constructor(t,s){super(t,"not-in",s)}matches(t){if(ad(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=t.data.field(this.field);return s!==null&&!ad(this.value.arrayValue,s)}}class tP extends Fr{constructor(t,s){super(t,"array-contains-any",s)}matches(t){const s=t.data.field(this.field);return!(!uf(s)||!s.arrayValue.values)&&s.arrayValue.values.some((n=>ad(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(t,s=null,n=[],o=[],u=null,c=null,x=null){this.path=t,this.collectionGroup=s,this.orderBy=n,this.filters=o,this.limit=u,this.startAt=c,this.endAt=x,this.le=null}}function Qv(r,t=null,s=[],n=[],o=null,u=null,c=null){return new rP(r,t,s,n,o,u,c)}function mf(r){const t=Ut(r);if(t.le===null){let s=t.path.canonicalString();t.collectionGroup!==null&&(s+="|cg:"+t.collectionGroup),s+="|f:",s+=t.filters.map((n=>xp(n))).join(","),s+="|ob:",s+=t.orderBy.map((n=>(function(u){return u.field.canonicalString()+u.dir})(n))).join(","),Nd(t.limit)||(s+="|l:",s+=t.limit),t.startAt&&(s+="|lb:",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((n=>El(n))).join(",")),t.endAt&&(s+="|ub:",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((n=>El(n))).join(",")),t.le=s}return t.le}function xf(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<r.orderBy.length;s++)if(!GI(r.orderBy[s],t.orderBy[s]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let s=0;s<r.filters.length;s++)if(!E5(r.filters[s],t.filters[s]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Gv(r.startAt,t.startAt)&&Gv(r.endAt,t.endAt)}function hp(r){return _t.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,s=null,n=[],o=[],u=null,c="F",x=null,p=null){this.path=t,this.collectionGroup=s,this.explicitOrderBy=n,this.filters=o,this.limit=u,this.limitType=c,this.startAt=x,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function sP(r,t,s,n,o,u,c,x){return new Ul(r,t,s,n,o,u,c,x)}function jm(r){return new Ul(r)}function Kv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _5(r){return r.collectionGroup!==null}function Bc(r){const t=Ut(r);if(t.he===null){t.he=[];const s=new Set;for(const u of t.explicitOrderBy)t.he.push(u),s.add(u.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let x=new Qr(cs.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((w=>{w.isInequality()&&(x=x.add(w.field))}))})),x})(t).forEach((u=>{s.has(u.canonicalString())||u.isKeyField()||t.he.push(new nd(u,n))})),s.has(cs.keyField().canonicalString())||t.he.push(new nd(cs.keyField(),n))}return t.he}function Ya(r){const t=Ut(r);return t.Pe||(t.Pe=aP(t,Bc(r))),t.Pe}function aP(r,t){if(r.limitType==="F")return Qv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new nd(o.field,u)}));const s=r.endAt?new Lu(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Lu(r.startAt.position,r.startAt.inclusive):null;return Qv(r.path,r.collectionGroup,t,r.filters,r.limit,s,n)}}function pp(r,t){const s=r.filters.concat([t]);return new Ul(r.path,r.collectionGroup,r.explicitOrderBy.slice(),s,r.limit,r.limitType,r.startAt,r.endAt)}function Vu(r,t,s){return new Ul(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,s,r.startAt,r.endAt)}function wm(r,t){return xf(Ya(r),Ya(t))&&r.limitType===t.limitType}function $5(r){return`${mf(Ya(r))}|lt:${r.limitType}`}function ml(r){return`Query(target=${(function(s){let n=s.path.canonicalString();return s.collectionGroup!==null&&(n+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(n+=`, filters: [${s.filters.map((o=>C5(o))).join(", ")}]`),Nd(s.limit)||(n+=", limit: "+s.limit),s.orderBy.length>0&&(n+=`, orderBy: [${s.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),s.startAt&&(n+=", startAt: ",n+=s.startAt.inclusive?"b:":"a:",n+=s.startAt.position.map((o=>El(o))).join(",")),s.endAt&&(n+=", endAt: ",n+=s.endAt.inclusive?"a:":"b:",n+=s.endAt.position.map((o=>El(o))).join(",")),`Target(${n})`})(Ya(r))}; limitType=${r.limitType})`}function Nm(r,t){return t.isFoundDocument()&&(function(n,o){const u=o.key.path;return n.collectionGroup!==null?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):_t.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)})(r,t)&&(function(n,o){for(const u of Bc(n))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(n,o){return!(n.startAt&&!(function(c,x,p){const w=qv(c,x,p);return c.inclusive?w<=0:w<0})(n.startAt,Bc(n),o)||n.endAt&&!(function(c,x,p){const w=qv(c,x,p);return c.inclusive?w>=0:w>0})(n.endAt,Bc(n),o))})(r,t)}function nP(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function A5(r){return(t,s)=>{let n=!1;for(const o of Bc(r)){const u=iP(o,t,s);if(u!==0)return u;n=n||o.field.isKeyField()}return 0}}function iP(r,t,s){const n=r.field.isKeyField()?_t.comparator(t.key,s.key):(function(u,c,x){const p=c.data.field(u),w=x.data.field(u);return p!==null&&w!==null?Pl(p,w):Mt()})(r.field,t,s);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Mt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t,s){this.mapKeyFn=t,this.equalsFn=s,this.inner={},this.innerSize=0}get(t){const s=this.mapKeyFn(t),n=this.inner[s];if(n!==void 0){for(const[o,u]of n)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,s){const n=this.mapKeyFn(t),o=this.inner[n];if(o===void 0)return this.inner[n]=[[t,s]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,s]);o.push([t,s]),this.innerSize++}delete(t){const s=this.mapKeyFn(t),n=this.inner[s];if(n===void 0)return!1;for(let o=0;o<n.length;o++)if(this.equalsFn(n[o][0],t))return n.length===1?delete this.inner[s]:n.splice(o,1),this.innerSize--,!0;return!1}forEach(t){$i(this.inner,((s,n)=>{for(const[o,u]of n)t(o,u)}))}isEmpty(){return g5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=new $r(_t.comparator);function _n(){return oP}const R5=new $r(_t.comparator);function Rc(...r){let t=R5;for(const s of r)t=t.insert(s.key,s);return t}function M5(r){let t=R5;return r.forEach(((s,n)=>t=t.insert(s,n.overlayedDocument))),t}function oo(){return Uc()}function O5(){return Uc()}function Uc(){return new To((r=>r.toString()),((r,t)=>r.isEqual(t)))}const lP=new $r(_t.comparator),cP=new Qr(_t.comparator);function er(...r){let t=cP;for(const s of r)t=t.add(s);return t}const dP=new Qr(Gt);function uP(){return dP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ru(t)?"-0":t}}function L5(r){return{integerValue:""+r}}function V5(r,t){return VI(t)?L5(t):hf(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(){this._=void 0}}function mP(r,t,s){return r instanceof id?(function(o,u){const c={fields:{[v5]:{stringValue:b5},[w5]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&df(u)&&(u=vm(u)),u&&(c.fields[j5]=u),{mapValue:c}})(s,t):r instanceof od?B5(r,t):r instanceof ld?U5(r,t):(function(o,u){const c=z5(o,u),x=Zv(c)+Zv(o.Ie);return mp(c)&&mp(o.Ie)?L5(x):hf(o.serializer,x)})(r,t)}function xP(r,t,s){return r instanceof od?B5(r,t):r instanceof ld?U5(r,t):s}function z5(r,t){return r instanceof cd?(function(n){return mp(n)||(function(u){return!!u&&"doubleValue"in u})(n)})(t)?t:{integerValue:0}:null}class id extends km{}class od extends km{constructor(t){super(),this.elements=t}}function B5(r,t){const s=F5(t);for(const n of r.elements)s.some((o=>an(o,n)))||s.push(n);return{arrayValue:{values:s}}}class ld extends km{constructor(t){super(),this.elements=t}}function U5(r,t){let s=F5(t);for(const n of r.elements)s=s.filter((o=>!an(o,n)));return{arrayValue:{values:s}}}class cd extends km{constructor(t,s){super(),this.serializer=t,this.Ie=s}}function Zv(r){return Vr(r.integerValue||r.doubleValue)}function F5(r){return uf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(t,s){this.field=t,this.transform=s}}function hP(r,t){return r.field.isEqual(t.field)&&(function(n,o){return n instanceof od&&o instanceof od||n instanceof ld&&o instanceof ld?Il(n.elements,o.elements,an):n instanceof cd&&o instanceof cd?an(n.Ie,o.Ie):n instanceof id&&o instanceof id})(r.transform,t.transform)}class pP{constructor(t,s){this.version=t,this.transformResults=s}}class ds{constructor(t,s){this.updateTime=t,this.exists=s}static none(){return new ds}static exists(t){return new ds(void 0,t)}static updateTime(t){return new ds(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vu(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Sm{}function W5(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Tm(r.key,ds.none()):new kd(r.key,r.data,ds.none());{const s=r.data,n=Is.empty();let o=new Qr(cs.comparator);for(let u of t.fields)if(!o.has(u)){let c=s.field(u);c===null&&u.length>1&&(u=u.popLast(),c=s.field(u)),c===null?n.delete(u):n.set(u,c),o=o.add(u)}return new Ai(r.key,n,new ta(o.toArray()),ds.none())}}function fP(r,t,s){r instanceof kd?(function(o,u,c){const x=o.value.clone(),p=Xv(o.fieldTransforms,u,c.transformResults);x.setAll(p),u.convertToFoundDocument(c.version,x).setHasCommittedMutations()})(r,t,s):r instanceof Ai?(function(o,u,c){if(!vu(o.precondition,u))return void u.convertToUnknownDocument(c.version);const x=Xv(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(q5(o)),p.setAll(x),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(r,t,s):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,s)}function Fc(r,t,s,n){return r instanceof kd?(function(u,c,x,p){if(!vu(u.precondition,c))return x;const w=u.value.clone(),T=Jv(u.fieldTransforms,p,c);return w.setAll(T),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),null})(r,t,s,n):r instanceof Ai?(function(u,c,x,p){if(!vu(u.precondition,c))return x;const w=Jv(u.fieldTransforms,p,c),T=c.data;return T.setAll(q5(u)),T.setAll(w),c.convertToFoundDocument(c.version,T).setHasLocalMutations(),x===null?null:x.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((D=>D.field)))})(r,t,s,n):(function(u,c,x){return vu(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):x})(r,t,s)}function gP(r,t){let s=null;for(const n of r.fieldTransforms){const o=t.data.field(n.field),u=z5(n.transform,o||null);u!=null&&(s===null&&(s=Is.empty()),s.set(n.field,u))}return s||null}function Yv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(n,o){return n===void 0&&o===void 0||!(!n||!o)&&Il(n,o,((u,c)=>hP(u,c)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class kd extends Sm{constructor(t,s,n,o=[]){super(),this.key=t,this.value=s,this.precondition=n,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ai extends Sm{constructor(t,s,n,o,u=[]){super(),this.key=t,this.data=s,this.fieldMask=n,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function q5(r){const t=new Map;return r.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const n=r.data.field(s);t.set(s,n)}})),t}function Xv(r,t,s){const n=new Map;nr(r.length===s.length);for(let o=0;o<s.length;o++){const u=r[o],c=u.transform,x=t.data.field(u.field);n.set(u.field,xP(c,x,s[o]))}return n}function Jv(r,t,s){const n=new Map;for(const o of r){const u=o.transform,c=s.data.field(o.field);n.set(o.field,mP(u,c,t))}return n}class Tm extends Sm{constructor(t,s){super(),this.key=t,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G5 extends Sm{constructor(t,s){super(),this.key=t,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(t,s,n,o){this.batchId=t,this.localWriteTime=s,this.baseMutations=n,this.mutations=o}applyToRemoteDocument(t,s){const n=s.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&fP(u,t,n[o])}}applyToLocalView(t,s){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(s=Fc(n,t,s,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(s=Fc(n,t,s,this.localWriteTime));return s}applyToLocalDocumentSet(t,s){const n=O5();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let x=this.applyToLocalView(c,u.mutatedFields);x=s.has(o.key)?null:x;const p=W5(c,x);p!==null&&n.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Lt.min())})),n}keys(){return this.mutations.reduce(((t,s)=>t.add(s.key)),er())}isEqual(t){return this.batchId===t.batchId&&Il(this.mutations,t.mutations,((s,n)=>Yv(s,n)))&&Il(this.baseMutations,t.baseMutations,((s,n)=>Yv(s,n)))}}class pf{constructor(t,s,n,o){this.batch=t,this.commitVersion=s,this.mutationResults=n,this.docVersions=o}static from(t,s,n){nr(t.mutations.length===n.length);let o=(function(){return lP})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,n[c].version);return new pf(t,s,n,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(t,s){this.largestBatchId=t,this.mutation=s}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(t,s){this.count=t,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur,ar;function Q5(r){switch(r){case Ve.OK:return Mt();case Ve.CANCELLED:case Ve.UNKNOWN:case Ve.DEADLINE_EXCEEDED:case Ve.RESOURCE_EXHAUSTED:case Ve.INTERNAL:case Ve.UNAVAILABLE:case Ve.UNAUTHENTICATED:return!1;case Ve.INVALID_ARGUMENT:case Ve.NOT_FOUND:case Ve.ALREADY_EXISTS:case Ve.PERMISSION_DENIED:case Ve.FAILED_PRECONDITION:case Ve.ABORTED:case Ve.OUT_OF_RANGE:case Ve.UNIMPLEMENTED:case Ve.DATA_LOSS:return!0;default:return Mt()}}function K5(r){if(r===void 0)return Dn("GRPC error has no .code"),Ve.UNKNOWN;switch(r){case Ur.OK:return Ve.OK;case Ur.CANCELLED:return Ve.CANCELLED;case Ur.UNKNOWN:return Ve.UNKNOWN;case Ur.DEADLINE_EXCEEDED:return Ve.DEADLINE_EXCEEDED;case Ur.RESOURCE_EXHAUSTED:return Ve.RESOURCE_EXHAUSTED;case Ur.INTERNAL:return Ve.INTERNAL;case Ur.UNAVAILABLE:return Ve.UNAVAILABLE;case Ur.UNAUTHENTICATED:return Ve.UNAUTHENTICATED;case Ur.INVALID_ARGUMENT:return Ve.INVALID_ARGUMENT;case Ur.NOT_FOUND:return Ve.NOT_FOUND;case Ur.ALREADY_EXISTS:return Ve.ALREADY_EXISTS;case Ur.PERMISSION_DENIED:return Ve.PERMISSION_DENIED;case Ur.FAILED_PRECONDITION:return Ve.FAILED_PRECONDITION;case Ur.ABORTED:return Ve.ABORTED;case Ur.OUT_OF_RANGE:return Ve.OUT_OF_RANGE;case Ur.UNIMPLEMENTED:return Ve.UNIMPLEMENTED;case Ur.DATA_LOSS:return Ve.DATA_LOSS;default:return Mt()}}(ar=Ur||(Ur={}))[ar.OK=0]="OK",ar[ar.CANCELLED=1]="CANCELLED",ar[ar.UNKNOWN=2]="UNKNOWN",ar[ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ar[ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ar[ar.NOT_FOUND=5]="NOT_FOUND",ar[ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",ar[ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",ar[ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",ar[ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ar[ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ar[ar.ABORTED=10]="ABORTED",ar[ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",ar[ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",ar[ar.INTERNAL=13]="INTERNAL",ar[ar.UNAVAILABLE=14]="UNAVAILABLE",ar[ar.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=new vi([4294967295,4294967295],0);function ej(r){const t=h5().encode(r),s=new o5;return s.update(t),new Uint8Array(s.digest())}function tj(r){const t=new DataView(r.buffer),s=t.getUint32(0,!0),n=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new vi([s,n],0),new vi([o,u],0)]}class ff{constructor(t,s,n){if(this.bitmap=t,this.padding=s,this.hashCount=n,s<0||s>=8)throw new Mc(`Invalid padding: ${s}`);if(n<0)throw new Mc(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Mc(`Invalid hash count: ${n}`);if(t.length===0&&s!==0)throw new Mc(`Invalid padding when bitmap length is 0: ${s}`);this.Ee=8*t.length-s,this.de=vi.fromNumber(this.Ee)}Ae(t,s,n){let o=t.add(s.multiply(vi.fromNumber(n)));return o.compare(jP)===1&&(o=new vi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const s=ej(t),[n,o]=tj(s);for(let u=0;u<this.hashCount;u++){const c=this.Ae(n,o,u);if(!this.Re(c))return!1}return!0}static create(t,s,n){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new ff(u,o,s);return n.forEach((x=>c.insert(x))),c}insert(t){if(this.Ee===0)return;const s=ej(t),[n,o]=tj(s);for(let u=0;u<this.hashCount;u++){const c=this.Ae(n,o,u);this.Ve(c)}}Ve(t){const s=Math.floor(t/8),n=t%8;this.bitmap[s]|=1<<n}}class Mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t,s,n,o,u){this.snapshotVersion=t,this.targetChanges=s,this.targetMismatches=n,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,s,n){const o=new Map;return o.set(t,Sd.createSynthesizedTargetChangeForCurrentChange(t,s,n)),new Im(Lt.min(),o,new $r(Gt),_n(),er())}}class Sd{constructor(t,s,n,o,u){this.resumeToken=t,this.current=s,this.addedDocuments=n,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,s,n){return new Sd(n,s,er(),er(),er())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(t,s,n,o){this.me=t,this.removedTargetIds=s,this.key=n,this.fe=o}}class Z5{constructor(t,s){this.targetId=t,this.ge=s}}class Y5{constructor(t,s,n=ms.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=s,this.resumeToken=n,this.cause=o}}class rj{constructor(){this.pe=0,this.ye=sj(),this.we=ms.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=er(),s=er(),n=er();return this.ye.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:s=s.add(o);break;case 1:n=n.add(o);break;default:Mt()}})),new Sd(this.we,this.Se,t,s,n)}Me(){this.be=!1,this.ye=sj()}xe(t,s){this.be=!0,this.ye=this.ye.insert(t,s)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,nr(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class wP{constructor(t){this.ke=t,this.qe=new Map,this.Qe=_n(),this.$e=ou(),this.Ue=ou(),this.Ke=new $r(Gt)}We(t){for(const s of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(s,t.fe):this.ze(s,t.key,t.fe);for(const s of t.removedTargetIds)this.ze(s,t.key,t.fe)}je(t){this.forEachTarget(t,(s=>{const n=this.He(s);switch(t.state){case 0:this.Je(s)&&n.Ce(t.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(t.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(s);break;case 3:this.Je(s)&&(n.Le(),n.Ce(t.resumeToken));break;case 4:this.Je(s)&&(this.Ye(s),n.Ce(t.resumeToken));break;default:Mt()}}))}forEachTarget(t,s){t.targetIds.length>0?t.targetIds.forEach(s):this.qe.forEach(((n,o)=>{this.Je(o)&&s(o)}))}Ze(t){const s=t.targetId,n=t.ge.count,o=this.Xe(s);if(o){const u=o.target;if(hp(u))if(n===0){const c=new _t(u.path);this.ze(s,c,ts.newNoDocument(c,Lt.min()))}else nr(n===1);else{const c=this.et(s);if(c!==n){const x=this.tt(t),p=x?this.nt(x,t,c):1;if(p!==0){this.Ye(s);const w=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(s,w)}}}}}tt(t){const s=t.ge.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:n="",padding:o=0},hashCount:u=0}=s;let c,x;try{c=Ti(n).toUint8Array()}catch(p){if(p instanceof y5)return Tl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{x=new ff(c,o,u)}catch(p){return Tl(p instanceof Mc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return x.Ee===0?null:x}nt(t,s,n){return s.ge.count===n-this.st(t,s.targetId)?0:2}st(t,s){const n=this.ke.getRemoteKeysForTarget(s);let o=0;return n.forEach((u=>{const c=this.ke.it(),x=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(x)||(this.ze(s,u,null),o++)})),o}ot(t){const s=new Map;this.qe.forEach(((u,c)=>{const x=this.Xe(c);if(x){if(u.current&&hp(x.target)){const p=new _t(x.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,ts.newNoDocument(p,t))}u.ve&&(s.set(c,u.Fe()),u.Me())}}));let n=er();this.Ue.forEach(((u,c)=>{let x=!0;c.forEachWhile((p=>{const w=this.Xe(p);return!w||w.purpose==="TargetPurposeLimboResolution"||(x=!1,!1)})),x&&(n=n.add(u))})),this.Qe.forEach(((u,c)=>c.setReadTime(t)));const o=new Im(t,s,this.Ke,this.Qe,n);return this.Qe=_n(),this.$e=ou(),this.Ue=ou(),this.Ke=new $r(Gt),o}Ge(t,s){if(!this.Je(t))return;const n=this.ut(t,s.key)?2:0;this.He(t).xe(s.key,n),this.Qe=this.Qe.insert(s.key,s),this.$e=this.$e.insert(s.key,this._t(s.key).add(t)),this.Ue=this.Ue.insert(s.key,this.ct(s.key).add(t))}ze(t,s,n){if(!this.Je(t))return;const o=this.He(t);this.ut(t,s)?o.xe(s,1):o.Oe(s),this.Ue=this.Ue.insert(s,this.ct(s).delete(t)),this.Ue=this.Ue.insert(s,this.ct(s).add(t)),n&&(this.Qe=this.Qe.insert(s,n))}removeTarget(t){this.qe.delete(t)}et(t){const s=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+s.addedDocuments.size-s.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let s=this.qe.get(t);return s||(s=new rj,this.qe.set(t,s)),s}ct(t){let s=this.Ue.get(t);return s||(s=new Qr(Gt),this.Ue=this.Ue.insert(t,s)),s}_t(t){let s=this.$e.get(t);return s||(s=new Qr(Gt),this.$e=this.$e.insert(t,s)),s}Je(t){const s=this.Xe(t)!==null;return s||ft("WatchChangeAggregator","Detected inactive target",t),s}Xe(t){const s=this.qe.get(t);return s&&s.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new rj),this.ke.getRemoteKeysForTarget(t).forEach((s=>{this.ze(t,s,null)}))}ut(t,s){return this.ke.getRemoteKeysForTarget(t).has(s)}}function ou(){return new $r(_t.comparator)}function sj(){return new $r(_t.comparator)}const NP={asc:"ASCENDING",desc:"DESCENDING"},kP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SP={and:"AND",or:"OR"};class TP{constructor(t,s){this.databaseId=t,this.useProto3Json=s}}function fp(r,t){return r.useProto3Json||Nd(t)?t:{value:t}}function zu(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function X5(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function IP(r,t){return zu(r,t.toTimestamp())}function ra(r){return nr(!!r),Lt.fromTimestamp((function(s){const n=Si(s);return new br(n.seconds,n.nanos)})(r))}function gf(r,t){return gp(r,t).canonicalString()}function gp(r,t){const s=(function(o){return new yr(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?s:s.child(t)}function J5(r){const t=yr.fromString(r);return nr(n2(t)),t}function Bu(r,t){return gf(r.databaseId,t.path)}function Hc(r,t){const s=J5(t);if(s.get(1)!==r.databaseId.projectId)throw new lt(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+r.databaseId.projectId);if(s.get(3)!==r.databaseId.database)throw new lt(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+r.databaseId.database);return new _t(t2(s))}function e2(r,t){return gf(r.databaseId,t)}function PP(r){const t=J5(r);return t.length===4?yr.emptyPath():t2(t)}function yp(r){return new yr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function t2(r){return nr(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function aj(r,t,s){return{name:Bu(r,t),fields:s.value.mapValue.fields}}function EP(r,t){return"found"in t?(function(n,o){nr(!!o.found),o.found.name,o.found.updateTime;const u=Hc(n,o.found.name),c=ra(o.found.updateTime),x=o.found.createTime?ra(o.found.createTime):Lt.min(),p=new Is({mapValue:{fields:o.found.fields}});return ts.newFoundDocument(u,c,x,p)})(r,t):"missing"in t?(function(n,o){nr(!!o.missing),nr(!!o.readTime);const u=Hc(n,o.missing),c=ra(o.readTime);return ts.newNoDocument(u,c)})(r,t):Mt()}function CP(r,t){let s;if("targetChange"in t){t.targetChange;const n=(function(w){return w==="NO_CHANGE"?0:w==="ADD"?1:w==="REMOVE"?2:w==="CURRENT"?3:w==="RESET"?4:Mt()})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(w,T){return w.useProto3Json?(nr(T===void 0||typeof T=="string"),ms.fromBase64String(T||"")):(nr(T===void 0||T instanceof Buffer||T instanceof Uint8Array),ms.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),c=t.targetChange.cause,x=c&&(function(w){const T=w.code===void 0?Ve.UNKNOWN:K5(w.code);return new lt(T,w.message||"")})(c);s=new Y5(n,o,u,x||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const o=Hc(r,n.document.name),u=ra(n.document.updateTime),c=n.document.createTime?ra(n.document.createTime):Lt.min(),x=new Is({mapValue:{fields:n.document.fields}}),p=ts.newFoundDocument(o,u,c,x),w=n.targetIds||[],T=n.removedTargetIds||[];s=new ju(w,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const o=Hc(r,n.document),u=n.readTime?ra(n.readTime):Lt.min(),c=ts.newNoDocument(o,u),x=n.removedTargetIds||[];s=new ju([],x,c.key,c)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const o=Hc(r,n.document),u=n.removedTargetIds||[];s=new ju([],u,o,null)}else{if(!("filter"in t))return Mt();{t.filter;const n=t.filter;n.targetId;const{count:o=0,unchangedNames:u}=n,c=new vP(o,u),x=n.targetId;s=new Z5(x,c)}}return s}function r2(r,t){let s;if(t instanceof kd)s={update:aj(r,t.key,t.value)};else if(t instanceof Tm)s={delete:Bu(r,t.key)};else if(t instanceof Ai)s={update:aj(r,t.key,t.data),updateMask:VP(t.fieldMask)};else{if(!(t instanceof G5))return Mt();s={verify:Bu(r,t.key)}}return t.fieldTransforms.length>0&&(s.updateTransforms=t.fieldTransforms.map((n=>(function(u,c){const x=c.transform;if(x instanceof id)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(x instanceof od)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:x.elements}};if(x instanceof ld)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:x.elements}};if(x instanceof cd)return{fieldPath:c.field.canonicalString(),increment:x.Ie};throw Mt()})(0,n)))),t.precondition.isNone||(s.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:IP(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Mt()})(r,t.precondition)),s}function DP(r,t){return r&&r.length>0?(nr(t!==void 0),r.map((s=>(function(o,u){let c=o.updateTime?ra(o.updateTime):ra(u);return c.isEqual(Lt.min())&&(c=ra(u)),new pP(c,o.transformResults||[])})(s,t)))):[]}function _P(r,t){return{documents:[e2(r,t.path)]}}function $P(r,t){const s={structuredQuery:{}},n=t.path;let o;t.collectionGroup!==null?(o=n,s.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=n.popLast(),s.structuredQuery.from=[{collectionId:n.lastSegment()}]),s.parent=e2(r,o);const u=(function(w){if(w.length!==0)return a2(Ra.create(w,"and"))})(t.filters);u&&(s.structuredQuery.where=u);const c=(function(w){if(w.length!==0)return w.map((T=>(function(A){return{field:xl(A.field),direction:MP(A.dir)}})(T)))})(t.orderBy);c&&(s.structuredQuery.orderBy=c);const x=fp(r,t.limit);return x!==null&&(s.structuredQuery.limit=x),t.startAt&&(s.structuredQuery.startAt=(function(w){return{before:w.inclusive,values:w.position}})(t.startAt)),t.endAt&&(s.structuredQuery.endAt=(function(w){return{before:!w.inclusive,values:w.position}})(t.endAt)),{ht:s,parent:o}}function AP(r){let t=PP(r.parent);const s=r.structuredQuery,n=s.from?s.from.length:0;let o=null;if(n>0){nr(n===1);const T=s.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];s.where&&(u=(function(D){const A=s2(D);return A instanceof Ra&&P5(A)?A.getFilters():[A]})(s.where));let c=[];s.orderBy&&(c=(function(D){return D.map((A=>(function(k){return new nd(hl(k.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(A)))})(s.orderBy));let x=null;s.limit&&(x=(function(D){let A;return A=typeof D=="object"?D.value:D,Nd(A)?null:A})(s.limit));let p=null;s.startAt&&(p=(function(D){const A=!!D.before,O=D.values||[];return new Lu(O,A)})(s.startAt));let w=null;return s.endAt&&(w=(function(D){const A=!D.before,O=D.values||[];return new Lu(O,A)})(s.endAt)),sP(t,o,c,u,x,"F",p,w)}function RP(r,t){const s=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt()}})(t.purpose);return s==null?null:{"goog-listen-tags":s}}function s2(r){return r.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const n=hl(s.unaryFilter.field);return Fr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=hl(s.unaryFilter.field);return Fr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=hl(s.unaryFilter.field);return Fr.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=hl(s.unaryFilter.field);return Fr.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Mt()}})(r):r.fieldFilter!==void 0?(function(s){return Fr.create(hl(s.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mt()}})(s.fieldFilter.op),s.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(s){return Ra.create(s.compositeFilter.filters.map((n=>s2(n))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Mt()}})(s.compositeFilter.op))})(r):Mt()}function MP(r){return NP[r]}function OP(r){return kP[r]}function LP(r){return SP[r]}function xl(r){return{fieldPath:r.canonicalString()}}function hl(r){return cs.fromServerFormat(r.fieldPath)}function a2(r){return r instanceof Fr?(function(s){if(s.op==="=="){if(Wv(s.value))return{unaryFilter:{field:xl(s.field),op:"IS_NAN"}};if(Hv(s.value))return{unaryFilter:{field:xl(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(Wv(s.value))return{unaryFilter:{field:xl(s.field),op:"IS_NOT_NAN"}};if(Hv(s.value))return{unaryFilter:{field:xl(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xl(s.field),op:OP(s.op),value:s.value}}})(r):r instanceof Ra?(function(s){const n=s.getFilters().map((o=>a2(o)));return n.length===1?n[0]:{compositeFilter:{op:LP(s.op),filters:n}}})(r):Mt()}function VP(r){const t=[];return r.fields.forEach((s=>t.push(s.canonicalString()))),{fieldPaths:t}}function n2(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t,s,n,o,u=Lt.min(),c=Lt.min(),x=ms.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=s,this.purpose=n,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=x,this.expectedCount=p}withSequenceNumber(t){return new fi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,s){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(t){this.Tt=t}}function BP(r){const t=AP({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Vu(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this.Tn=new FP}addToCollectionParentIndex(t,s){return this.Tn.add(s),Fe.resolve()}getCollectionParents(t,s){return Fe.resolve(this.Tn.getEntries(s))}addFieldIndex(t,s){return Fe.resolve()}deleteFieldIndex(t,s){return Fe.resolve()}deleteAllFieldIndexes(t){return Fe.resolve()}createTargetIndexes(t,s){return Fe.resolve()}getDocumentsMatchingTarget(t,s){return Fe.resolve(null)}getIndexType(t,s){return Fe.resolve(0)}getFieldIndexes(t,s){return Fe.resolve([])}getNextCollectionGroupToUpdate(t){return Fe.resolve(null)}getMinOffset(t,s){return Fe.resolve(ki.min())}getMinOffsetFromCollectionGroup(t,s){return Fe.resolve(ki.min())}updateCollectionGroup(t,s,n){return Fe.resolve()}updateIndexEntries(t,s){return Fe.resolve()}}class FP{constructor(){this.index={}}add(t){const s=t.lastSegment(),n=t.popLast(),o=this.index[s]||new Qr(yr.comparator),u=!o.has(n);return this.index[s]=o.add(n),u}has(t){const s=t.lastSegment(),n=t.popLast(),o=this.index[s];return o&&o.has(n)}getEntries(t){return(this.index[t]||new Qr(yr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i2=41943040;class Ls{static withCacheSize(t){return new Ls(t,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,s,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls.DEFAULT_COLLECTION_PERCENTILE=10,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ls.DEFAULT=new Ls(i2,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ls.DISABLED=new Ls(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Cl(0)}static Kn(){return new Cl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij="LruGarbageCollector",HP=1048576;function oj([r,t],[s,n]){const o=Gt(r,s);return o===0?Gt(t,n):o}class WP{constructor(t){this.Hn=t,this.buffer=new Qr(oj),this.Jn=0}Yn(){return++this.Jn}Zn(t){const s=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(s);else{const n=this.buffer.last();oj(s,n)<0&&(this.buffer=this.buffer.delete(n).add(s))}}get maxValue(){return this.buffer.last()[0]}}class qP{constructor(t,s,n){this.garbageCollector=t,this.asyncQueue=s,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ft(ij,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){Bl(s)?ft(ij,"Ignoring IndexedDB error during garbage collection: ",s):await zl(s)}await this.er(3e5)}))}}class GP{constructor(t,s){this.tr=t,this.params=s}calculateTargetCount(t,s){return this.tr.nr(t).next((n=>Math.floor(s/100*n)))}nthSequenceNumber(t,s){if(s===0)return Fe.resolve(bm.ae);const n=new WP(s);return this.tr.forEachTarget(t,(o=>n.Zn(o.sequenceNumber))).next((()=>this.tr.rr(t,(o=>n.Zn(o))))).next((()=>n.maxValue))}removeTargets(t,s,n){return this.tr.removeTargets(t,s,n)}removeOrphanedDocuments(t,s){return this.tr.removeOrphanedDocuments(t,s)}collect(t,s){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),Fe.resolve(nj)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nj):this.ir(t,s)))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,s){let n,o,u,c,x,p,w;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((D=>(D>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),o=this.params.maximumSequenceNumbersToCollect):o=D,c=Date.now(),this.nthSequenceNumber(t,o)))).next((D=>(n=D,x=Date.now(),this.removeTargets(t,n,s)))).next((D=>(u=D,p=Date.now(),this.removeOrphanedDocuments(t,n)))).next((D=>(w=Date.now(),ul()<=Jt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-T}ms
	Determined least recently used ${o} in `+(x-c)+`ms
	Removed ${u} targets in `+(p-x)+`ms
	Removed ${D} documents in `+(w-p)+`ms
Total Duration: ${w-T}ms`),Fe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:D}))))}}function QP(r,t){return new GP(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this.changes=new To((t=>t.toString()),((t,s)=>t.isEqual(s))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,s){this.assertNotApplied(),this.changes.set(t,ts.newInvalidDocument(t).setReadTime(s))}getEntry(t,s){this.assertNotApplied();const n=this.changes.get(s);return n!==void 0?Fe.resolve(n):this.getFromCache(t,s)}getEntries(t,s){return this.getAllFromCache(t,s)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(t,s){this.overlayedDocument=t,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(t,s,n,o){this.remoteDocumentCache=t,this.mutationQueue=s,this.documentOverlayCache=n,this.indexManager=o}getDocument(t,s){let n=null;return this.documentOverlayCache.getOverlay(t,s).next((o=>(n=o,this.remoteDocumentCache.getEntry(t,s)))).next((o=>(n!==null&&Fc(n.mutation,o,ta.empty(),br.now()),o)))}getDocuments(t,s){return this.remoteDocumentCache.getEntries(t,s).next((n=>this.getLocalViewOfDocuments(t,n,er()).next((()=>n))))}getLocalViewOfDocuments(t,s,n=er()){const o=oo();return this.populateOverlays(t,o,s).next((()=>this.computeViews(t,s,o,n).next((u=>{let c=Rc();return u.forEach(((x,p)=>{c=c.insert(x,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,s){const n=oo();return this.populateOverlays(t,n,s).next((()=>this.computeViews(t,s,n,er())))}populateOverlays(t,s,n){const o=[];return n.forEach((u=>{s.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,x)=>{s.set(c,x)}))}))}computeViews(t,s,n,o){let u=_n();const c=Uc(),x=(function(){return Uc()})();return s.forEach(((p,w)=>{const T=n.get(w.key);o.has(w.key)&&(T===void 0||T.mutation instanceof Ai)?u=u.insert(w.key,w):T!==void 0?(c.set(w.key,T.mutation.getFieldMask()),Fc(T.mutation,w,T.mutation.getFieldMask(),br.now())):c.set(w.key,ta.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((w,T)=>c.set(w,T))),s.forEach(((w,T)=>{var D;return x.set(w,new ZP(T,(D=c.get(w))!==null&&D!==void 0?D:null))})),x)))}recalculateAndSaveOverlays(t,s){const n=Uc();let o=new $r(((c,x)=>c-x)),u=er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,s).next((c=>{for(const x of c)x.keys().forEach((p=>{const w=s.get(p);if(w===null)return;let T=n.get(p)||ta.empty();T=x.applyToLocalView(w,T),n.set(p,T);const D=(o.get(x.batchId)||er()).add(p);o=o.insert(x.batchId,D)}))})).next((()=>{const c=[],x=o.getReverseIterator();for(;x.hasNext();){const p=x.getNext(),w=p.key,T=p.value,D=O5();T.forEach((A=>{if(!u.has(A)){const O=W5(s.get(A),n.get(A));O!==null&&D.set(A,O),u=u.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(t,w,D))}return Fe.waitFor(c)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,s){return this.remoteDocumentCache.getEntries(t,s).next((n=>this.recalculateAndSaveOverlays(t,n)))}getDocumentsMatchingQuery(t,s,n,o){return(function(c){return _t.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(s)?this.getDocumentsMatchingDocumentQuery(t,s.path):_5(s)?this.getDocumentsMatchingCollectionGroupQuery(t,s,n,o):this.getDocumentsMatchingCollectionQuery(t,s,n,o)}getNextDocuments(t,s,n,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,s,n,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,s,n.largestBatchId,o-u.size):Fe.resolve(oo());let x=td,p=u;return c.next((w=>Fe.forEach(w,((T,D)=>(x<D.largestBatchId&&(x=D.largestBatchId),u.get(T)?Fe.resolve():this.remoteDocumentCache.getEntry(t,T).next((A=>{p=p.insert(T,A)}))))).next((()=>this.populateOverlays(t,w,u))).next((()=>this.computeViews(t,p,w,er()))).next((T=>({batchId:x,changes:M5(T)})))))}))}getDocumentsMatchingDocumentQuery(t,s){return this.getDocument(t,new _t(s)).next((n=>{let o=Rc();return n.isFoundDocument()&&(o=o.insert(n.key,n)),o}))}getDocumentsMatchingCollectionGroupQuery(t,s,n,o){const u=s.collectionGroup;let c=Rc();return this.indexManager.getCollectionParents(t,u).next((x=>Fe.forEach(x,(p=>{const w=(function(D,A){return new Ul(A,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)})(s,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,w,n,o).next((T=>{T.forEach(((D,A)=>{c=c.insert(D,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,s,n,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,s.path,n.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,s,n,u,o)))).next((c=>{u.forEach(((p,w)=>{const T=w.getKey();c.get(T)===null&&(c=c.insert(T,ts.newInvalidDocument(T)))}));let x=Rc();return c.forEach(((p,w)=>{const T=u.get(p);T!==void 0&&Fc(T.mutation,w,ta.empty(),br.now()),Nm(s,w)&&(x=x.insert(p,w))})),x}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,s){return Fe.resolve(this.dr.get(s))}saveBundleMetadata(t,s){return this.dr.set(s.id,(function(o){return{id:o.id,version:o.version,createTime:ra(o.createTime)}})(s)),Fe.resolve()}getNamedQuery(t,s){return Fe.resolve(this.Ar.get(s))}saveNamedQuery(t,s){return this.Ar.set(s.name,(function(o){return{name:o.name,query:BP(o.bundledQuery),readTime:ra(o.readTime)}})(s)),Fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(){this.overlays=new $r(_t.comparator),this.Rr=new Map}getOverlay(t,s){return Fe.resolve(this.overlays.get(s))}getOverlays(t,s){const n=oo();return Fe.forEach(s,(o=>this.getOverlay(t,o).next((u=>{u!==null&&n.set(o,u)})))).next((()=>n))}saveOverlays(t,s,n){return n.forEach(((o,u)=>{this.Et(t,s,u)})),Fe.resolve()}removeOverlaysForBatchId(t,s,n){const o=this.Rr.get(n);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Rr.delete(n)),Fe.resolve()}getOverlaysForCollection(t,s,n){const o=oo(),u=s.length+1,c=new _t(s.child("")),x=this.overlays.getIteratorFrom(c);for(;x.hasNext();){const p=x.getNext().value,w=p.getKey();if(!s.isPrefixOf(w.path))break;w.path.length===u&&p.largestBatchId>n&&o.set(p.getKey(),p)}return Fe.resolve(o)}getOverlaysForCollectionGroup(t,s,n,o){let u=new $r(((w,T)=>w-T));const c=this.overlays.getIterator();for(;c.hasNext();){const w=c.getNext().value;if(w.getKey().getCollectionGroup()===s&&w.largestBatchId>n){let T=u.get(w.largestBatchId);T===null&&(T=oo(),u=u.insert(w.largestBatchId,T)),T.set(w.getKey(),w)}}const x=oo(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((w,T)=>x.set(w,T))),!(x.size()>=o)););return Fe.resolve(x)}Et(t,s,n){const o=this.overlays.get(n.key);if(o!==null){const c=this.Rr.get(o.largestBatchId).delete(n.key);this.Rr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(n.key,new bP(s,n));let u=this.Rr.get(s);u===void 0&&(u=er(),this.Rr.set(s,u)),this.Rr.set(s,u.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.sessionToken=ms.EMPTY_BYTE_STRING}getSessionToken(t){return Fe.resolve(this.sessionToken)}setSessionToken(t,s){return this.sessionToken=s,Fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this.Vr=new Qr(es.mr),this.gr=new Qr(es.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,s){const n=new es(t,s);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(t,s){t.forEach((n=>this.addReference(n,s)))}removeReference(t,s){this.wr(new es(t,s))}Sr(t,s){t.forEach((n=>this.removeReference(n,s)))}br(t){const s=new _t(new yr([])),n=new es(s,t),o=new es(s,t+1),u=[];return this.gr.forEachInRange([n,o],(c=>{this.wr(c),u.push(c.key)})),u}Dr(){this.Vr.forEach((t=>this.wr(t)))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const s=new _t(new yr([])),n=new es(s,t),o=new es(s,t+1);let u=er();return this.gr.forEachInRange([n,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const s=new es(t,0),n=this.Vr.firstAfterOrEqual(s);return n!==null&&t.isEqual(n.key)}}class es{constructor(t,s){this.key=t,this.Cr=s}static mr(t,s){return _t.comparator(t.key,s.key)||Gt(t.Cr,s.Cr)}static pr(t,s){return Gt(t.Cr,s.Cr)||_t.comparator(t.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(t,s){this.indexManager=t,this.referenceDelegate=s,this.mutationQueue=[],this.Fr=1,this.Mr=new Qr(es.mr)}checkEmpty(t){return Fe.resolve(this.mutationQueue.length===0)}addMutationBatch(t,s,n,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new yP(u,s,n,o);this.mutationQueue.push(c);for(const x of o)this.Mr=this.Mr.add(new es(x.key,u)),this.indexManager.addToCollectionParentIndex(t,x.key.path.popLast());return Fe.resolve(c)}lookupMutationBatch(t,s){return Fe.resolve(this.Or(s))}getNextMutationBatchAfterBatchId(t,s){const n=s+1,o=this.Nr(n),u=o<0?0:o;return Fe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Fe.resolve(this.mutationQueue.length===0?cf:this.Fr-1)}getAllMutationBatches(t){return Fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,s){const n=new es(s,0),o=new es(s,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([n,o],(c=>{const x=this.Or(c.Cr);u.push(x)})),Fe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,s){let n=new Qr(Gt);return s.forEach((o=>{const u=new es(o,0),c=new es(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,c],(x=>{n=n.add(x.Cr)}))})),Fe.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(t,s){const n=s.path,o=n.length+1;let u=n;_t.isDocumentKey(u)||(u=u.child(""));const c=new es(new _t(u),0);let x=new Qr(Gt);return this.Mr.forEachWhile((p=>{const w=p.key.path;return!!n.isPrefixOf(w)&&(w.length===o&&(x=x.add(p.Cr)),!0)}),c),Fe.resolve(this.Br(x))}Br(t){const s=[];return t.forEach((n=>{const o=this.Or(n);o!==null&&s.push(o)})),s}removeMutationBatch(t,s){nr(this.Lr(s.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return Fe.forEach(s.mutations,(o=>{const u=new es(o.key,s.batchId);return n=n.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Mr=n}))}qn(t){}containsKey(t,s){const n=new es(s,0),o=this.Mr.firstAfterOrEqual(n);return Fe.resolve(s.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Fe.resolve()}Lr(t,s){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const s=this.Nr(t);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(t){this.kr=t,this.docs=(function(){return new $r(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,s){const n=s.key,o=this.docs.get(n),u=o?o.size:0,c=this.kr(s);return this.docs=this.docs.insert(n,{document:s.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const s=this.docs.get(t);s&&(this.docs=this.docs.remove(t),this.size-=s.size)}getEntry(t,s){const n=this.docs.get(s);return Fe.resolve(n?n.document.mutableCopy():ts.newInvalidDocument(s))}getEntries(t,s){let n=_n();return s.forEach((o=>{const u=this.docs.get(o);n=n.insert(o,u?u.document.mutableCopy():ts.newInvalidDocument(o))})),Fe.resolve(n)}getDocumentsMatchingQuery(t,s,n,o){let u=_n();const c=s.path,x=new _t(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(x);for(;p.hasNext();){const{key:w,value:{document:T}}=p.getNext();if(!c.isPrefixOf(w.path))break;w.path.length>c.length+1||RI(AI(T),n)<=0||(o.has(T.key)||Nm(s,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Fe.resolve(u)}getAllFromCollectionGroup(t,s,n,o){Mt()}qr(t,s){return Fe.forEach(this.docs,(n=>s(n)))}newChangeBuffer(t){return new sE(this)}getSize(t){return Fe.resolve(this.size)}}class sE extends KP{constructor(t){super(),this.Ir=t}applyChanges(t){const s=[];return this.changes.forEach(((n,o)=>{o.isValidDocument()?s.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(n)})),Fe.waitFor(s)}getFromCache(t,s){return this.Ir.getEntry(t,s)}getAllFromCache(t,s){return this.Ir.getEntries(t,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(t){this.persistence=t,this.Qr=new To((s=>mf(s)),xf),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new yf,this.targetCount=0,this.Kr=Cl.Un()}forEachTarget(t,s){return this.Qr.forEach(((n,o)=>s(o))),Fe.resolve()}getLastRemoteSnapshotVersion(t){return Fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Fe.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),Fe.resolve(this.highestTargetId)}setTargetsMetadata(t,s,n){return n&&(this.lastRemoteSnapshotVersion=n),s>this.$r&&(this.$r=s),Fe.resolve()}zn(t){this.Qr.set(t.target,t);const s=t.targetId;s>this.highestTargetId&&(this.Kr=new Cl(s),this.highestTargetId=s),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,s){return this.zn(s),this.targetCount+=1,Fe.resolve()}updateTargetData(t,s){return this.zn(s),Fe.resolve()}removeTargetData(t,s){return this.Qr.delete(s.target),this.Ur.br(s.targetId),this.targetCount-=1,Fe.resolve()}removeTargets(t,s,n){let o=0;const u=[];return this.Qr.forEach(((c,x)=>{x.sequenceNumber<=s&&n.get(x.targetId)===null&&(this.Qr.delete(c),u.push(this.removeMatchingKeysForTargetId(t,x.targetId)),o++)})),Fe.waitFor(u).next((()=>o))}getTargetCount(t){return Fe.resolve(this.targetCount)}getTargetData(t,s){const n=this.Qr.get(s)||null;return Fe.resolve(n)}addMatchingKeys(t,s,n){return this.Ur.yr(s,n),Fe.resolve()}removeMatchingKeys(t,s,n){this.Ur.Sr(s,n);const o=this.persistence.referenceDelegate,u=[];return o&&s.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),Fe.waitFor(u)}removeMatchingKeysForTargetId(t,s){return this.Ur.br(s),Fe.resolve()}getMatchingKeysForTargetId(t,s){const n=this.Ur.vr(s);return Fe.resolve(n)}containsKey(t,s){return Fe.resolve(this.Ur.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t,s){this.Wr={},this.overlays={},this.Gr=new bm(0),this.zr=!1,this.zr=!0,this.jr=new eE,this.referenceDelegate=t(this),this.Hr=new aE(this),this.indexManager=new UP,this.remoteDocumentCache=(function(o){return new rE(o)})((n=>this.referenceDelegate.Jr(n))),this.serializer=new zP(s),this.Yr=new XP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let s=this.overlays[t.toKey()];return s||(s=new JP,this.overlays[t.toKey()]=s),s}getMutationQueue(t,s){let n=this.Wr[t.toKey()];return n||(n=new tE(s,this.referenceDelegate),this.Wr[t.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,s,n){ft("MemoryPersistence","Starting transaction:",t);const o=new nE(this.Gr.next());return this.referenceDelegate.Zr(),n(o).next((u=>this.referenceDelegate.Xr(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}ei(t,s){return Fe.or(Object.values(this.Wr).map((n=>()=>n.containsKey(t,s))))}}class nE extends OI{constructor(t){super(),this.currentSequenceNumber=t}}class bf{constructor(t){this.persistence=t,this.ti=new yf,this.ni=null}static ri(t){return new bf(t)}get ii(){if(this.ni)return this.ni;throw Mt()}addReference(t,s,n){return this.ti.addReference(n,s),this.ii.delete(n.toString()),Fe.resolve()}removeReference(t,s,n){return this.ti.removeReference(n,s),this.ii.add(n.toString()),Fe.resolve()}markPotentiallyOrphaned(t,s){return this.ii.add(s.toString()),Fe.resolve()}removeTarget(t,s){this.ti.br(s.targetId).forEach((o=>this.ii.add(o.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,s.targetId).next((o=>{o.forEach((u=>this.ii.add(u.toString())))})).next((()=>n.removeTargetData(t,s)))}Zr(){this.ni=new Set}Xr(t){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fe.forEach(this.ii,(n=>{const o=_t.fromPath(n);return this.si(t,o).next((u=>{u||s.removeEntry(o,Lt.min())}))})).next((()=>(this.ni=null,s.apply(t))))}updateLimboDocument(t,s){return this.si(t,s).next((n=>{n?this.ii.delete(s.toString()):this.ii.add(s.toString())}))}Jr(t){return 0}si(t,s){return Fe.or([()=>Fe.resolve(this.ti.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(t,s),()=>this.persistence.ei(t,s)])}}class Uu{constructor(t,s){this.persistence=t,this.oi=new To((n=>zI(n.path)),((n,o)=>n.isEqual(o))),this.garbageCollector=QP(this,s)}static ri(t,s){return new Uu(t,s)}Zr(){}Xr(t){return Fe.resolve()}forEachTarget(t,s){return this.persistence.getTargetCache().forEachTarget(t,s)}nr(t){const s=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next((n=>s.next((o=>n+o))))}sr(t){let s=0;return this.rr(t,(n=>{s++})).next((()=>s))}rr(t,s){return Fe.forEach(this.oi,((n,o)=>this.ar(t,n,o).next((u=>u?Fe.resolve():s(o)))))}removeTargets(t,s,n){return this.persistence.getTargetCache().removeTargets(t,s,n)}removeOrphanedDocuments(t,s){let n=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,(c=>this.ar(t,c,s).next((x=>{x||(n++,u.removeEntry(c,Lt.min()))})))).next((()=>u.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,s){return this.oi.set(s,t.currentSequenceNumber),Fe.resolve()}removeTarget(t,s){const n=s.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,s,n){return this.oi.set(n,t.currentSequenceNumber),Fe.resolve()}removeReference(t,s,n){return this.oi.set(n,t.currentSequenceNumber),Fe.resolve()}updateLimboDocument(t,s){return this.oi.set(s,t.currentSequenceNumber),Fe.resolve()}Jr(t){let s=t.key.toString().length;return t.isFoundDocument()&&(s+=yu(t.data.value)),s}ar(t,s,n){return Fe.or([()=>this.persistence.ei(t,s),()=>this.persistence.getTargetCache().containsKey(t,s),()=>{const o=this.oi.get(s);return Fe.resolve(o!==void 0&&o>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,s,n,o){this.targetId=t,this.fromCache=s,this.Hi=n,this.Ji=o}static Yi(t,s){let n=er(),o=er();for(const u of s.docChanges)switch(u.type){case 0:n=n.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new vf(t,s.fromCache,n,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=(function(){return aT()?8:LI(js())>0?6:4})()}initialize(t,s){this.ns=t,this.indexManager=s,this.Zi=!0}getDocumentsMatchingQuery(t,s,n,o){const u={result:null};return this.rs(t,s).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ss(t,s,o,n).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new iE;return this._s(t,s,c).next((x=>{if(u.result=x,this.Xi)return this.us(t,s,c,x.size)}))})).next((()=>u.result))}us(t,s,n,o){return n.documentReadCount<this.es?(ul()<=Jt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",ml(s),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Fe.resolve()):(ul()<=Jt.DEBUG&&ft("QueryEngine","Query:",ml(s),"scans",n.documentReadCount,"local documents and returns",o,"documents as results."),n.documentReadCount>this.ts*o?(ul()<=Jt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",ml(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ya(s))):Fe.resolve())}rs(t,s){if(Kv(s))return Fe.resolve(null);let n=Ya(s);return this.indexManager.getIndexType(t,n).next((o=>o===0?null:(s.limit!==null&&o===1&&(s=Vu(s,null,"F"),n=Ya(s)),this.indexManager.getDocumentsMatchingTarget(t,n).next((u=>{const c=er(...u);return this.ns.getDocuments(t,c).next((x=>this.indexManager.getMinOffset(t,n).next((p=>{const w=this.cs(s,x);return this.ls(s,w,c,p.readTime)?this.rs(t,Vu(s,null,"F")):this.hs(t,w,s,p)}))))})))))}ss(t,s,n,o){return Kv(s)||o.isEqual(Lt.min())?Fe.resolve(null):this.ns.getDocuments(t,n).next((u=>{const c=this.cs(s,u);return this.ls(s,c,n,o)?Fe.resolve(null):(ul()<=Jt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ml(s)),this.hs(t,c,s,$I(o,td)).next((x=>x)))}))}cs(t,s){let n=new Qr(A5(t));return s.forEach(((o,u)=>{Nm(t,u)&&(n=n.add(u))})),n}ls(t,s,n,o){if(t.limit===null)return!1;if(n.size!==s.size)return!0;const u=t.limitType==="F"?s.last():s.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,s,n){return ul()<=Jt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",ml(s)),this.ns.getDocumentsMatchingQuery(t,s,ki.min(),n)}hs(t,s,n,o){return this.ns.getDocumentsMatchingQuery(t,n,o).next((u=>(s.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="LocalStore",lE=3e8;class cE{constructor(t,s,n,o){this.persistence=t,this.Ps=s,this.serializer=o,this.Ts=new $r(Gt),this.Is=new To((u=>mf(u)),xf),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(n)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new YP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>t.collect(s,this.Ts)))}}function dE(r,t,s,n){return new cE(r,t,s,n)}async function l2(r,t){const s=Ut(r);return await s.persistence.runTransaction("Handle user change","readonly",(n=>{let o;return s.mutationQueue.getAllMutationBatches(n).next((u=>(o=u,s.As(t),s.mutationQueue.getAllMutationBatches(n)))).next((u=>{const c=[],x=[];let p=er();for(const w of o){c.push(w.batchId);for(const T of w.mutations)p=p.add(T.key)}for(const w of u){x.push(w.batchId);for(const T of w.mutations)p=p.add(T.key)}return s.localDocuments.getDocuments(n,p).next((w=>({Rs:w,removedBatchIds:c,addedBatchIds:x})))}))}))}function uE(r,t){const s=Ut(r);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const o=t.batch.keys(),u=s.ds.newChangeBuffer({trackRemovals:!0});return(function(x,p,w,T){const D=w.batch,A=D.keys();let O=Fe.resolve();return A.forEach((k=>{O=O.next((()=>T.getEntry(p,k))).next((W=>{const V=w.docVersions.get(k);nr(V!==null),W.version.compareTo(V)<0&&(D.applyToRemoteDocument(W,w),W.isValidDocument()&&(W.setReadTime(w.commitVersion),T.addEntry(W)))}))})),O.next((()=>x.mutationQueue.removeMutationBatch(p,D)))})(s,n,t,u).next((()=>u.apply(n))).next((()=>s.mutationQueue.performConsistencyCheck(n))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(n,o,t.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(x){let p=er();for(let w=0;w<x.mutationResults.length;++w)x.mutationResults[w].transformResults.length>0&&(p=p.add(x.batch.mutations[w].key));return p})(t)))).next((()=>s.localDocuments.getDocuments(n,o)))}))}function c2(r){const t=Ut(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>t.Hr.getLastRemoteSnapshotVersion(s)))}function mE(r,t){const s=Ut(r),n=t.snapshotVersion;let o=s.Ts;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=s.ds.newChangeBuffer({trackRemovals:!0});o=s.Ts;const x=[];t.targetChanges.forEach(((T,D)=>{const A=o.get(D);if(!A)return;x.push(s.Hr.removeMatchingKeys(u,T.removedDocuments,D).next((()=>s.Hr.addMatchingKeys(u,T.addedDocuments,D))));let O=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(D)!==null?O=O.withResumeToken(ms.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,n)),o=o.insert(D,O),(function(W,V,Y){return W.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=lE?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(A,O,T)&&x.push(s.Hr.updateTargetData(u,O))}));let p=_n(),w=er();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&x.push(s.persistence.referenceDelegate.updateLimboDocument(u,T))})),x.push(xE(u,c,t.documentUpdates).next((T=>{p=T.Vs,w=T.fs}))),!n.isEqual(Lt.min())){const T=s.Hr.getLastRemoteSnapshotVersion(u).next((D=>s.Hr.setTargetsMetadata(u,u.currentSequenceNumber,n)));x.push(T)}return Fe.waitFor(x).next((()=>c.apply(u))).next((()=>s.localDocuments.getLocalViewOfDocuments(u,p,w))).next((()=>p))})).then((u=>(s.Ts=o,u)))}function xE(r,t,s){let n=er(),o=er();return s.forEach((u=>n=n.add(u))),t.getEntries(r,n).next((u=>{let c=_n();return s.forEach(((x,p)=>{const w=u.get(x);p.isFoundDocument()!==w.isFoundDocument()&&(o=o.add(x)),p.isNoDocument()&&p.version.isEqual(Lt.min())?(t.removeEntry(x,p.readTime),c=c.insert(x,p)):!w.isValidDocument()||p.version.compareTo(w.version)>0||p.version.compareTo(w.version)===0&&w.hasPendingWrites?(t.addEntry(p),c=c.insert(x,p)):ft(jf,"Ignoring outdated watch update for ",x,". Current version:",w.version," Watch version:",p.version)})),{Vs:c,fs:o}}))}function hE(r,t){const s=Ut(r);return s.persistence.runTransaction("Get next mutation batch","readonly",(n=>(t===void 0&&(t=cf),s.mutationQueue.getNextMutationBatchAfterBatchId(n,t))))}function pE(r,t){const s=Ut(r);return s.persistence.runTransaction("Allocate target","readwrite",(n=>{let o;return s.Hr.getTargetData(n,t).next((u=>u?(o=u,Fe.resolve(o)):s.Hr.allocateTargetId(n).next((c=>(o=new fi(t,c,"TargetPurposeListen",n.currentSequenceNumber),s.Hr.addTargetData(n,o).next((()=>o)))))))})).then((n=>{const o=s.Ts.get(n.targetId);return(o===null||n.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(s.Ts=s.Ts.insert(n.targetId,n),s.Is.set(t,n.targetId)),n}))}async function bp(r,t,s){const n=Ut(r),o=n.Ts.get(t),u=s?"readwrite":"readwrite-primary";try{s||await n.persistence.runTransaction("Release target",u,(c=>n.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Bl(c))throw c;ft(jf,`Failed to update sequence numbers for target ${t}: ${c}`)}n.Ts=n.Ts.remove(t),n.Is.delete(o.target)}function lj(r,t,s){const n=Ut(r);let o=Lt.min(),u=er();return n.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,w,T){const D=Ut(p),A=D.Is.get(T);return A!==void 0?Fe.resolve(D.Ts.get(A)):D.Hr.getTargetData(w,T)})(n,c,Ya(t)).next((x=>{if(x)return o=x.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(c,x.targetId).next((p=>{u=p}))})).next((()=>n.Ps.getDocumentsMatchingQuery(c,t,s?o:Lt.min(),s?u:er()))).next((x=>(fE(n,nP(t),x),{documents:x,gs:u})))))}function fE(r,t,s){let n=r.Es.get(t)||Lt.min();s.forEach(((o,u)=>{u.readTime.compareTo(n)>0&&(n=u.readTime)})),r.Es.set(t,n)}class cj{constructor(){this.activeTargetIds=uP()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gE{constructor(){this.ho=new cj,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,s,n){}addLocalQueryTarget(t,s=!0){return s&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,s,n){this.Po[t]=s}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new cj,Promise.resolve()}handleUserChange(t,s,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="ConnectivityMonitor";class uj{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ft(dj,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ft(dj,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu=null;function vp(){return lu===null?lu=(function(){return 268435456+Math.round(2147483648*Math.random())})():lu++,"0x"+lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="RestConnection",bE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vE{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=s+"://"+t.host,this.yo=`projects/${n}/databases/${o}`,this.wo=this.databaseId.database===Mu?`project_id=${n}`:`project_id=${n}&database_id=${o}`}So(t,s,n,o,u){const c=vp(),x=this.bo(t,s.toUriEncodedString());ft($h,`Sending RPC '${t}' ${c}:`,x,n);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(t,x,p,n).then((w=>(ft($h,`Received RPC '${t}' ${c}: `,w),w)),(w=>{throw Tl($h,`RPC '${t}' ${c} failed with error: `,w,"url: ",x,"request:",n),w}))}Co(t,s,n,o,u,c){return this.So(t,s,n,o,u)}Do(t,s,n){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((o,u)=>t[u]=o)),n&&n.headers.forEach(((o,u)=>t[u]=o))}bo(t,s){const n=bE[t];return`${this.po}/v1/${s}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="WebChannelConnection";class wE extends vE{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,s,n,o){const u=vp();return new Promise(((c,x)=>{const p=new l5;p.setWithCredentials(!0),p.listenOnce(c5.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case gu.NO_ERROR:const T=p.getResponseJson();ft(gs,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(T)),c(T);break;case gu.TIMEOUT:ft(gs,`RPC '${t}' ${u} timed out`),x(new lt(Ve.DEADLINE_EXCEEDED,"Request time out"));break;case gu.HTTP_ERROR:const D=p.getStatus();if(ft(gs,`RPC '${t}' ${u} failed with status:`,D,"response text:",p.getResponseText()),D>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const O=A?.error;if(O&&O.status&&O.message){const k=(function(V){const Y=V.toLowerCase().replace(/_/g,"-");return Object.values(Ve).indexOf(Y)>=0?Y:Ve.UNKNOWN})(O.status);x(new lt(k,O.message))}else x(new lt(Ve.UNKNOWN,"Server responded with status "+p.getStatus()))}else x(new lt(Ve.UNAVAILABLE,"Connection failed."));break;default:Mt()}}finally{ft(gs,`RPC '${t}' ${u} completed.`)}}));const w=JSON.stringify(o);ft(gs,`RPC '${t}' ${u} sending request:`,o),p.send(s,"POST",w,n,15)}))}Wo(t,s,n){const o=vp(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=m5(),x=u5(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;w!==void 0&&(p.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,s,n),p.encodeInitMessageHeaders=!0;const T=u.join("");ft(gs,`Creating RPC '${t}' stream ${o}: ${T}`,p);const D=c.createWebChannel(T,p);let A=!1,O=!1;const k=new jE({Fo:V=>{O?ft(gs,`Not sending because RPC '${t}' stream ${o} is closed:`,V):(A||(ft(gs,`Opening RPC '${t}' stream ${o} transport.`),D.open(),A=!0),ft(gs,`RPC '${t}' stream ${o} sending:`,V),D.send(V))},Mo:()=>D.close()}),W=(V,Y,ie)=>{V.listen(Y,(ce=>{try{ie(ce)}catch(pe){setTimeout((()=>{throw pe}),0)}}))};return W(D,Ac.EventType.OPEN,(()=>{O||(ft(gs,`RPC '${t}' stream ${o} transport opened.`),k.Qo())})),W(D,Ac.EventType.CLOSE,(()=>{O||(O=!0,ft(gs,`RPC '${t}' stream ${o} transport closed`),k.Uo())})),W(D,Ac.EventType.ERROR,(V=>{O||(O=!0,Tl(gs,`RPC '${t}' stream ${o} transport errored:`,V),k.Uo(new lt(Ve.UNAVAILABLE,"The operation could not be completed")))})),W(D,Ac.EventType.MESSAGE,(V=>{var Y;if(!O){const ie=V.data[0];nr(!!ie);const ce=ie,pe=ce?.error||((Y=ce[0])===null||Y===void 0?void 0:Y.error);if(pe){ft(gs,`RPC '${t}' stream ${o} received error:`,pe);const X=pe.status;let ne=(function(Z){const Q=Ur[Z];if(Q!==void 0)return K5(Q)})(X),F=pe.message;ne===void 0&&(ne=Ve.INTERNAL,F="Unknown error status: "+X+" with message "+pe.message),O=!0,k.Uo(new lt(ne,F)),D.close()}else ft(gs,`RPC '${t}' stream ${o} received:`,ie),k.Ko(ie)}})),W(x,d5.STAT_EVENT,(V=>{V.stat===cp.PROXY?ft(gs,`RPC '${t}' stream ${o} detected buffering proxy`):V.stat===cp.NOPROXY&&ft(gs,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.$o()}),0),k}}function Ah(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(r){return new TP(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t,s,n=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=s,this.Go=n,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const s=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),o=Math.max(0,s-n);o>0&&ft("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${s} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,(()=>(this.Yo=Date.now(),t()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj="PersistentStream";class d2{constructor(t,s,n,o,u,c,x,p){this.Ti=t,this.n_=n,this.r_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=x,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new wf(t,s)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,s){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():s&&s.code===Ve.RESOURCE_EXHAUSTED?(Dn(s.toString()),Dn("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):s&&s.code===Ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(s)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),s=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,o])=>{this.i_===s&&this.V_(n,o)}),(n=>{t((()=>{const o=new lt(Ve.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(o)}))}))}V_(t,s){const n=this.R_(this.i_);this.stream=this.f_(t,s),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((o=>{n((()=>this.m_(o)))})),this.stream.onMessage((o=>{n((()=>++this.__==1?this.g_(o):this.onNext(o)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(t){return ft(mj,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return s=>{this.Ti.enqueueAndForget((()=>this.i_===t?s():(ft(mj,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class NE extends d2{constructor(t,s,n,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,n,o,c),this.serializer=u}f_(t,s){return this.connection.Wo("Listen",t,s)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const s=CP(this.serializer,t),n=(function(u){if(!("targetChange"in u))return Lt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Lt.min():c.readTime?ra(c.readTime):Lt.min()})(t);return this.listener.p_(s,n)}y_(t){const s={};s.database=yp(this.serializer),s.addTarget=(function(u,c){let x;const p=c.target;if(x=hp(p)?{documents:_P(u,p)}:{query:$P(u,p).ht},x.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){x.resumeToken=X5(u,c.resumeToken);const w=fp(u,c.expectedCount);w!==null&&(x.expectedCount=w)}else if(c.snapshotVersion.compareTo(Lt.min())>0){x.readTime=zu(u,c.snapshotVersion.toTimestamp());const w=fp(u,c.expectedCount);w!==null&&(x.expectedCount=w)}return x})(this.serializer,t);const n=RP(this.serializer,t);n&&(s.labels=n),this.I_(s)}w_(t){const s={};s.database=yp(this.serializer),s.removeTarget=t,this.I_(s)}}class kE extends d2{constructor(t,s,n,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,n,o,c),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,s){return this.connection.Wo("Write",t,s)}g_(t){return nr(!!t.streamToken),this.lastStreamToken=t.streamToken,nr(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){nr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const s=DP(t.writeResults,t.commitTime),n=ra(t.commitTime);return this.listener.v_(n,s)}C_(){const t={};t.database=yp(this.serializer),this.I_(t)}b_(t){const s={streamToken:this.lastStreamToken,writes:t.map((n=>r2(this.serializer,n)))};this.I_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{}class TE extends SE{constructor(t,s,n,o){super(),this.authCredentials=t,this.appCheckCredentials=s,this.connection=n,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new lt(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,s,n,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.So(t,gp(s,n),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt(Ve.UNKNOWN,u.toString())}))}Co(t,s,n,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,x])=>this.connection.Co(t,gp(s,n),o,c,x,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(Ve.UNKNOWN,c.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class IE{constructor(t,s){this.asyncQueue=t,this.onlineStateHandler=s,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const s=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Dn(s),this.N_=!1):ft("OnlineStateTracker",s)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="RemoteStore";class PE{constructor(t,s,n,o,u){this.localStore=t,this.datastore=s,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To((c=>{n.enqueueAndForget((async()=>{Io(this)&&(ft(go,"Restarting streams for network reachability change."),await(async function(p){const w=Ut(p);w.W_.add(4),await Td(w),w.j_.set("Unknown"),w.W_.delete(4),await Em(w)})(this))}))})),this.j_=new IE(n,o)}}async function Em(r){if(Io(r))for(const t of r.G_)await t(!0)}async function Td(r){for(const t of r.G_)await t(!1)}function u2(r,t){const s=Ut(r);s.K_.has(t.targetId)||(s.K_.set(t.targetId,t),Tf(s)?Sf(s):Fl(s).c_()&&kf(s,t))}function Nf(r,t){const s=Ut(r),n=Fl(s);s.K_.delete(t),n.c_()&&m2(s,t),s.K_.size===0&&(n.c_()?n.P_():Io(s)&&s.j_.set("Unknown"))}function kf(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Lt.min())>0){const s=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(s)}Fl(r).y_(t)}function m2(r,t){r.H_.Ne(t),Fl(r).w_(t)}function Sf(r){r.H_=new wP({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),Fl(r).start(),r.j_.B_()}function Tf(r){return Io(r)&&!Fl(r).u_()&&r.K_.size>0}function Io(r){return Ut(r).W_.size===0}function x2(r){r.H_=void 0}async function EE(r){r.j_.set("Online")}async function CE(r){r.K_.forEach(((t,s)=>{kf(r,t)}))}async function DE(r,t){x2(r),Tf(r)?(r.j_.q_(t),Sf(r)):r.j_.set("Unknown")}async function _E(r,t,s){if(r.j_.set("Online"),t instanceof Y5&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const x of u.targetIds)o.K_.has(x)&&(await o.remoteSyncer.rejectListen(x,c),o.K_.delete(x),o.H_.removeTarget(x))})(r,t)}catch(n){ft(go,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Fu(r,n)}else if(t instanceof ju?r.H_.We(t):t instanceof Z5?r.H_.Ze(t):r.H_.je(t),!s.isEqual(Lt.min()))try{const n=await c2(r.localStore);s.compareTo(n)>=0&&await(function(u,c){const x=u.H_.ot(c);return x.targetChanges.forEach(((p,w)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.K_.get(w);T&&u.K_.set(w,T.withResumeToken(p.resumeToken,c))}})),x.targetMismatches.forEach(((p,w)=>{const T=u.K_.get(p);if(!T)return;u.K_.set(p,T.withResumeToken(ms.EMPTY_BYTE_STRING,T.snapshotVersion)),m2(u,p);const D=new fi(T.target,p,w,T.sequenceNumber);kf(u,D)})),u.remoteSyncer.applyRemoteEvent(x)})(r,s)}catch(n){ft(go,"Failed to raise snapshot:",n),await Fu(r,n)}}async function Fu(r,t,s){if(!Bl(t))throw t;r.W_.add(1),await Td(r),r.j_.set("Offline"),s||(s=()=>c2(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ft(go,"Retrying IndexedDB access"),await s(),r.W_.delete(1),await Em(r)}))}function h2(r,t){return t().catch((s=>Fu(r,s,t)))}async function Cm(r){const t=Ut(r),s=Pi(t);let n=t.U_.length>0?t.U_[t.U_.length-1].batchId:cf;for(;$E(t);)try{const o=await hE(t.localStore,n);if(o===null){t.U_.length===0&&s.P_();break}n=o.batchId,AE(t,o)}catch(o){await Fu(t,o)}p2(t)&&f2(t)}function $E(r){return Io(r)&&r.U_.length<10}function AE(r,t){r.U_.push(t);const s=Pi(r);s.c_()&&s.S_&&s.b_(t.mutations)}function p2(r){return Io(r)&&!Pi(r).u_()&&r.U_.length>0}function f2(r){Pi(r).start()}async function RE(r){Pi(r).C_()}async function ME(r){const t=Pi(r);for(const s of r.U_)t.b_(s.mutations)}async function OE(r,t,s){const n=r.U_.shift(),o=pf.from(n,t,s);await h2(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Cm(r)}async function LE(r,t){t&&Pi(r).S_&&await(async function(n,o){if((function(c){return Q5(c)&&c!==Ve.ABORTED})(o.code)){const u=n.U_.shift();Pi(n).h_(),await h2(n,(()=>n.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Cm(n)}})(r,t),p2(r)&&f2(r)}async function xj(r,t){const s=Ut(r);s.asyncQueue.verifyOperationInProgress(),ft(go,"RemoteStore received new credentials");const n=Io(s);s.W_.add(3),await Td(s),n&&s.j_.set("Unknown"),await s.remoteSyncer.handleCredentialChange(t),s.W_.delete(3),await Em(s)}async function VE(r,t){const s=Ut(r);t?(s.W_.delete(2),await Em(s)):t||(s.W_.add(2),await Td(s),s.j_.set("Unknown"))}function Fl(r){return r.J_||(r.J_=(function(s,n,o){const u=Ut(s);return u.M_(),new NE(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{xo:EE.bind(null,r),No:CE.bind(null,r),Lo:DE.bind(null,r),p_:_E.bind(null,r)}),r.G_.push((async t=>{t?(r.J_.h_(),Tf(r)?Sf(r):r.j_.set("Unknown")):(await r.J_.stop(),x2(r))}))),r.J_}function Pi(r){return r.Y_||(r.Y_=(function(s,n,o){const u=Ut(s);return u.M_(),new kE(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:RE.bind(null,r),Lo:LE.bind(null,r),D_:ME.bind(null,r),v_:OE.bind(null,r)}),r.G_.push((async t=>{t?(r.Y_.h_(),await Cm(r)):(await r.Y_.stop(),r.U_.length>0&&(ft(go,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))}))),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(t,s,n,o,u){this.asyncQueue=t,this.timerId=s,this.targetTimeMs=n,this.op=o,this.removalCallback=u,this.deferred=new Za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,s,n,o,u){const c=Date.now()+n,x=new If(t,s,c,o,u);return x.start(n),x}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Ve.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pf(r,t){if(Dn("AsyncQueue",`${t}: ${r}`),Bl(r))return new lt(Ve.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{static emptySet(t){return new wl(t.comparator)}constructor(t){this.comparator=t?(s,n)=>t(s,n)||_t.comparator(s.key,n.key):(s,n)=>_t.comparator(s.key,n.key),this.keyedMap=Rc(),this.sortedSet=new $r(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const s=this.keyedMap.get(t);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((s,n)=>(t(s),!1)))}add(t){const s=this.delete(t.key);return s.copy(s.keyedMap.insert(t.key,t),s.sortedSet.insert(t,null))}delete(t){const s=this.get(t);return s?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(s)):this}isEqual(t){if(!(t instanceof wl)||this.size!==t.size)return!1;const s=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;s.hasNext();){const o=s.getNext().key,u=n.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((s=>{t.push(s.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,s){const n=new wl;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=s,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(){this.Z_=new $r(_t.comparator)}track(t){const s=t.doc.key,n=this.Z_.get(s);n?t.type!==0&&n.type===3?this.Z_=this.Z_.insert(s,t):t.type===3&&n.type!==1?this.Z_=this.Z_.insert(s,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.Z_=this.Z_.insert(s,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.Z_=this.Z_.insert(s,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.Z_=this.Z_.remove(s):t.type===1&&n.type===2?this.Z_=this.Z_.insert(s,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.Z_=this.Z_.insert(s,{type:2,doc:t.doc}):Mt():this.Z_=this.Z_.insert(s,t)}X_(){const t=[];return this.Z_.inorderTraversal(((s,n)=>{t.push(n)})),t}}class Dl{constructor(t,s,n,o,u,c,x,p,w){this.query=t,this.docs=s,this.oldDocs=n,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=x,this.excludesMetadataChanges=p,this.hasCachedResults=w}static fromInitialDocuments(t,s,n,o,u){const c=[];return s.forEach((x=>{c.push({type:0,doc:x})})),new Dl(t,s,wl.emptySet(s),c,n,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const s=this.docChanges,n=t.docChanges;if(s.length!==n.length)return!1;for(let o=0;o<s.length;o++)if(s[o].type!==n[o].type||!s[o].doc.isEqual(n[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((t=>t.ra()))}}class BE{constructor(){this.queries=pj(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(s,n){const o=Ut(s),u=o.queries;o.queries=pj(),u.forEach(((c,x)=>{for(const p of x.ta)p.onError(n)}))})(this,new lt(Ve.ABORTED,"Firestore shutting down"))}}function pj(){return new To((r=>$5(r)),wm)}async function Ef(r,t){const s=Ut(r);let n=3;const o=t.query;let u=s.queries.get(o);u?!u.na()&&t.ra()&&(n=2):(u=new zE,n=t.ra()?0:1);try{switch(n){case 0:u.ea=await s.onListen(o,!0);break;case 1:u.ea=await s.onListen(o,!1);break;case 2:await s.onFirstRemoteStoreListen(o)}}catch(c){const x=Pf(c,`Initialization of query '${ml(t.query)}' failed`);return void t.onError(x)}s.queries.set(o,u),u.ta.push(t),t.sa(s.onlineState),u.ea&&t.oa(u.ea)&&Df(s)}async function Cf(r,t){const s=Ut(r),n=t.query;let o=3;const u=s.queries.get(n);if(u){const c=u.ta.indexOf(t);c>=0&&(u.ta.splice(c,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return s.queries.delete(n),s.onUnlisten(n,!0);case 1:return s.queries.delete(n),s.onUnlisten(n,!1);case 2:return s.onLastRemoteStoreUnlisten(n);default:return}}function UE(r,t){const s=Ut(r);let n=!1;for(const o of t){const u=o.query,c=s.queries.get(u);if(c){for(const x of c.ta)x.oa(o)&&(n=!0);c.ea=o}}n&&Df(s)}function FE(r,t,s){const n=Ut(r),o=n.queries.get(t);if(o)for(const u of o.ta)u.onError(s);n.queries.delete(t)}function Df(r){r.ia.forEach((t=>{t.next()}))}var jp,fj;(fj=jp||(jp={}))._a="default",fj.Cache="cache";class _f{constructor(t,s,n){this.query=t,this.aa=s,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(t){if(!this.options.includeMetadataChanges){const n=[];for(const o of t.docChanges)o.type!==3&&n.push(o);t=new Dl(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let s=!1;return this.ua?this.la(t)&&(this.aa.next(t),s=!0):this.ha(t,this.onlineState)&&(this.Pa(t),s=!0),this.ca=t,s}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let s=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),s=!0),s}ha(t,s){if(!t.fromCache||!this.ra())return!0;const n=s!=="Offline";return(!this.options.Ta||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||s==="Offline")}la(t){if(t.docChanges.length>0)return!0;const s=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}Pa(t){t=Dl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==jp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(t){this.key=t}}class y2{constructor(t){this.key=t}}class HE{constructor(t,s){this.query=t,this.fa=s,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=er(),this.mutatedKeys=er(),this.ya=A5(t),this.wa=new wl(this.ya)}get Sa(){return this.fa}ba(t,s){const n=s?s.Da:new hj,o=s?s.wa:this.wa;let u=s?s.mutatedKeys:this.mutatedKeys,c=o,x=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,w=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,D)=>{const A=o.get(T),O=Nm(this.query,D)?D:null,k=!!A&&this.mutatedKeys.has(A.key),W=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let V=!1;A&&O?A.data.isEqual(O.data)?k!==W&&(n.track({type:3,doc:O}),V=!0):this.va(A,O)||(n.track({type:2,doc:O}),V=!0,(p&&this.ya(O,p)>0||w&&this.ya(O,w)<0)&&(x=!0)):!A&&O?(n.track({type:0,doc:O}),V=!0):A&&!O&&(n.track({type:1,doc:A}),V=!0,(p||w)&&(x=!0)),V&&(O?(c=c.add(O),u=W?u.add(T):u.delete(T)):(c=c.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const T=this.query.limitType==="F"?c.last():c.first();c=c.delete(T.key),u=u.delete(T.key),n.track({type:1,doc:T})}return{wa:c,Da:n,ls:x,mutatedKeys:u}}va(t,s){return t.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(t,s,n,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const c=t.Da.X_();c.sort(((T,D)=>(function(O,k){const W=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt()}};return W(O)-W(k)})(T.type,D.type)||this.ya(T.doc,D.doc))),this.Ca(n),o=o!=null&&o;const x=s&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,w=p!==this.ga;return this.ga=p,c.length!==0||w?{snapshot:new Dl(this.query,t.wa,u,c,t.mutatedKeys,p===0,w,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:x}:{Ma:x}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new hj,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach((s=>this.fa=this.fa.add(s))),t.modifiedDocuments.forEach((s=>{})),t.removedDocuments.forEach((s=>this.fa=this.fa.delete(s))),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=er(),this.wa.forEach((n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))}));const s=[];return t.forEach((n=>{this.pa.has(n)||s.push(new y2(n))})),this.pa.forEach((n=>{t.has(n)||s.push(new g2(n))})),s}Oa(t){this.fa=t.gs,this.pa=er();const s=this.ba(t.documents);return this.applyChanges(s,!0)}Na(){return Dl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const $f="SyncEngine";class WE{constructor(t,s,n){this.query=t,this.targetId=s,this.view=n}}class qE{constructor(t){this.key=t,this.Ba=!1}}class GE{constructor(t,s,n,o,u,c){this.localStore=t,this.remoteStore=s,this.eventManager=n,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new To((x=>$5(x)),wm),this.qa=new Map,this.Qa=new Set,this.$a=new $r(_t.comparator),this.Ua=new Map,this.Ka=new yf,this.Wa={},this.Ga=new Map,this.za=Cl.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function QE(r,t,s=!0){const n=k2(r);let o;const u=n.ka.get(t);return u?(n.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await b2(n,t,s,!0),o}async function KE(r,t){const s=k2(r);await b2(s,t,!0,!1)}async function b2(r,t,s,n){const o=await pE(r.localStore,Ya(t)),u=o.targetId,c=r.sharedClientState.addLocalQueryTarget(u,s);let x;return n&&(x=await ZE(r,t,u,c==="current",o.resumeToken)),r.isPrimaryClient&&s&&u2(r.remoteStore,o),x}async function ZE(r,t,s,n,o){r.Ha=(D,A,O)=>(async function(W,V,Y,ie){let ce=V.view.ba(Y);ce.ls&&(ce=await lj(W.localStore,V.query,!1).then((({documents:F})=>V.view.ba(F,ce))));const pe=ie&&ie.targetChanges.get(V.targetId),X=ie&&ie.targetMismatches.get(V.targetId)!=null,ne=V.view.applyChanges(ce,W.isPrimaryClient,pe,X);return yj(W,V.targetId,ne.Ma),ne.snapshot})(r,D,A,O);const u=await lj(r.localStore,t,!0),c=new HE(t,u.gs),x=c.ba(u.documents),p=Sd.createSynthesizedTargetChangeForCurrentChange(s,n&&r.onlineState!=="Offline",o),w=c.applyChanges(x,r.isPrimaryClient,p);yj(r,s,w.Ma);const T=new WE(t,s,c);return r.ka.set(t,T),r.qa.has(s)?r.qa.get(s).push(t):r.qa.set(s,[t]),w.snapshot}async function YE(r,t,s){const n=Ut(r),o=n.ka.get(t),u=n.qa.get(o.targetId);if(u.length>1)return n.qa.set(o.targetId,u.filter((c=>!wm(c,t)))),void n.ka.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||await bp(n.localStore,o.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(o.targetId),s&&Nf(n.remoteStore,o.targetId),wp(n,o.targetId)})).catch(zl)):(wp(n,o.targetId),await bp(n.localStore,o.targetId,!0))}async function XE(r,t){const s=Ut(r),n=s.ka.get(t),o=s.qa.get(n.targetId);s.isPrimaryClient&&o.length===1&&(s.sharedClientState.removeLocalQueryTarget(n.targetId),Nf(s.remoteStore,n.targetId))}async function JE(r,t,s){const n=iC(r);try{const o=await(function(c,x){const p=Ut(c),w=br.now(),T=x.reduce(((O,k)=>O.add(k.key)),er());let D,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let k=_n(),W=er();return p.ds.getEntries(O,T).next((V=>{k=V,k.forEach(((Y,ie)=>{ie.isValidDocument()||(W=W.add(Y))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,k))).next((V=>{D=V;const Y=[];for(const ie of x){const ce=gP(ie,D.get(ie.key).overlayedDocument);ce!=null&&Y.push(new Ai(ie.key,ce,S5(ce.value.mapValue),ds.exists(!0)))}return p.mutationQueue.addMutationBatch(O,w,Y,x)})).next((V=>{A=V;const Y=V.applyToLocalDocumentSet(D,W);return p.documentOverlayCache.saveOverlays(O,V.batchId,Y)}))})).then((()=>({batchId:A.batchId,changes:M5(D)})))})(n.localStore,t);n.sharedClientState.addPendingMutation(o.batchId),(function(c,x,p){let w=c.Wa[c.currentUser.toKey()];w||(w=new $r(Gt)),w=w.insert(x,p),c.Wa[c.currentUser.toKey()]=w})(n,o.batchId,s),await Id(n,o.changes),await Cm(n.remoteStore)}catch(o){const u=Pf(o,"Failed to persist write");s.reject(u)}}async function v2(r,t){const s=Ut(r);try{const n=await mE(s.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=s.Ua.get(u);c&&(nr(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Ba=!0:o.modifiedDocuments.size>0?nr(c.Ba):o.removedDocuments.size>0&&(nr(c.Ba),c.Ba=!1))})),await Id(s,n,t)}catch(n){await zl(n)}}function gj(r,t,s){const n=Ut(r);if(n.isPrimaryClient&&s===0||!n.isPrimaryClient&&s===1){const o=[];n.ka.forEach(((u,c)=>{const x=c.view.sa(t);x.snapshot&&o.push(x.snapshot)})),(function(c,x){const p=Ut(c);p.onlineState=x;let w=!1;p.queries.forEach(((T,D)=>{for(const A of D.ta)A.sa(x)&&(w=!0)})),w&&Df(p)})(n.eventManager,t),o.length&&n.La.p_(o),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function eC(r,t,s){const n=Ut(r);n.sharedClientState.updateQueryState(t,"rejected",s);const o=n.Ua.get(t),u=o&&o.key;if(u){let c=new $r(_t.comparator);c=c.insert(u,ts.newNoDocument(u,Lt.min()));const x=er().add(u),p=new Im(Lt.min(),new Map,new $r(Gt),c,x);await v2(n,p),n.$a=n.$a.remove(u),n.Ua.delete(t),Af(n)}else await bp(n.localStore,t,!1).then((()=>wp(n,t,s))).catch(zl)}async function tC(r,t){const s=Ut(r),n=t.batch.batchId;try{const o=await uE(s.localStore,t);w2(s,n,null),j2(s,n),s.sharedClientState.updateMutationState(n,"acknowledged"),await Id(s,o)}catch(o){await zl(o)}}async function rC(r,t,s){const n=Ut(r);try{const o=await(function(c,x){const p=Ut(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(w=>{let T;return p.mutationQueue.lookupMutationBatch(w,x).next((D=>(nr(D!==null),T=D.keys(),p.mutationQueue.removeMutationBatch(w,D)))).next((()=>p.mutationQueue.performConsistencyCheck(w))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(w,T,x))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,T))).next((()=>p.localDocuments.getDocuments(w,T)))}))})(n.localStore,t);w2(n,t,s),j2(n,t),n.sharedClientState.updateMutationState(t,"rejected",s),await Id(n,o)}catch(o){await zl(o)}}function j2(r,t){(r.Ga.get(t)||[]).forEach((s=>{s.resolve()})),r.Ga.delete(t)}function w2(r,t,s){const n=Ut(r);let o=n.Wa[n.currentUser.toKey()];if(o){const u=o.get(t);u&&(s?u.reject(s):u.resolve(),o=o.remove(t)),n.Wa[n.currentUser.toKey()]=o}}function wp(r,t,s=null){r.sharedClientState.removeLocalQueryTarget(t);for(const n of r.qa.get(t))r.ka.delete(n),s&&r.La.Ja(n,s);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach((n=>{r.Ka.containsKey(n)||N2(r,n)}))}function N2(r,t){r.Qa.delete(t.path.canonicalString());const s=r.$a.get(t);s!==null&&(Nf(r.remoteStore,s),r.$a=r.$a.remove(t),r.Ua.delete(s),Af(r))}function yj(r,t,s){for(const n of s)n instanceof g2?(r.Ka.addReference(n.key,t),sC(r,n)):n instanceof y2?(ft($f,"Document no longer in limbo: "+n.key),r.Ka.removeReference(n.key,t),r.Ka.containsKey(n.key)||N2(r,n.key)):Mt()}function sC(r,t){const s=t.key,n=s.path.canonicalString();r.$a.get(s)||r.Qa.has(n)||(ft($f,"New document in limbo: "+s),r.Qa.add(n),Af(r))}function Af(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const s=new _t(yr.fromString(t)),n=r.za.next();r.Ua.set(n,new qE(s)),r.$a=r.$a.insert(s,n),u2(r.remoteStore,new fi(Ya(jm(s.path)),n,"TargetPurposeLimboResolution",bm.ae))}}async function Id(r,t,s){const n=Ut(r),o=[],u=[],c=[];n.ka.isEmpty()||(n.ka.forEach(((x,p)=>{c.push(n.Ha(p,t,s).then((w=>{var T;if((w||s)&&n.isPrimaryClient){const D=w?!w.fromCache:(T=s?.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;n.sharedClientState.updateQueryState(p.targetId,D?"current":"not-current")}if(w){o.push(w);const D=vf.Yi(p.targetId,w);u.push(D)}})))})),await Promise.all(c),n.La.p_(o),await(async function(p,w){const T=Ut(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(D=>Fe.forEach(w,(A=>Fe.forEach(A.Hi,(O=>T.persistence.referenceDelegate.addReference(D,A.targetId,O))).next((()=>Fe.forEach(A.Ji,(O=>T.persistence.referenceDelegate.removeReference(D,A.targetId,O)))))))))}catch(D){if(!Bl(D))throw D;ft(jf,"Failed to update sequence numbers: "+D)}for(const D of w){const A=D.targetId;if(!D.fromCache){const O=T.Ts.get(A),k=O.snapshotVersion,W=O.withLastLimboFreeSnapshotVersion(k);T.Ts=T.Ts.insert(A,W)}}})(n.localStore,u))}async function aC(r,t){const s=Ut(r);if(!s.currentUser.isEqual(t)){ft($f,"User change. New user:",t.toKey());const n=await l2(s.localStore,t);s.currentUser=t,(function(u,c){u.Ga.forEach((x=>{x.forEach((p=>{p.reject(new lt(Ve.CANCELLED,c))}))})),u.Ga.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Id(s,n.Rs)}}function nC(r,t){const s=Ut(r),n=s.Ua.get(t);if(n&&n.Ba)return er().add(n.key);{let o=er();const u=s.qa.get(t);if(!u)return o;for(const c of u){const x=s.ka.get(c);o=o.unionWith(x.view.Sa)}return o}}function k2(r){const t=Ut(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=v2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eC.bind(null,t),t.La.p_=UE.bind(null,t.eventManager),t.La.Ja=FE.bind(null,t.eventManager),t}function iC(r){const t=Ut(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rC.bind(null,t),t}class Hu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Pm(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,s){return null}nu(t,s){return null}eu(t){return dE(this.persistence,new oE,t.initialUser,this.serializer)}Xa(t){return new o2(bf.ri,this.serializer)}Za(t){return new gE}async terminate(){var t,s;(t=this.gcScheduler)===null||t===void 0||t.stop(),(s=this.indexBackfillerScheduler)===null||s===void 0||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hu.provider={build:()=>new Hu};class oC extends Hu{constructor(t){super(),this.cacheSizeBytes=t}tu(t,s){nr(this.persistence.referenceDelegate instanceof Uu);const n=this.persistence.referenceDelegate.garbageCollector;return new qP(n,t.asyncQueue,s)}Xa(t){const s=this.cacheSizeBytes!==void 0?Ls.withCacheSize(this.cacheSizeBytes):Ls.DEFAULT;return new o2((n=>Uu.ri(n,s)),this.serializer)}}class Np{async initialize(t,s){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>gj(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=aC.bind(null,this.syncEngine),await VE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new BE})()}createDatastore(t){const s=Pm(t.databaseInfo.databaseId),n=(function(u){return new wE(u)})(t.databaseInfo);return(function(u,c,x,p){return new TE(u,c,x,p)})(t.authCredentials,t.appCheckCredentials,n,s)}createRemoteStore(t){return(function(n,o,u,c,x){return new PE(n,o,u,c,x)})(this.localStore,this.datastore,t.asyncQueue,(s=>gj(this.syncEngine,s,0)),(function(){return uj.D()?new uj:new yE})())}createSyncEngine(t,s){return(function(o,u,c,x,p,w,T){const D=new GE(o,u,c,x,p,w);return T&&(D.ja=!0),D})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,s)}async terminate(){var t,s;await(async function(o){const u=Ut(o);ft(go,"RemoteStore shutting down."),u.W_.add(5),await Td(u),u.z_.shutdown(),u.j_.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(s=this.eventManager)===null||s===void 0||s.terminate()}}Np.provider={build:()=>new Np};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Dn("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,s){setTimeout((()=>{this.muted||t(s)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new lt(Ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const s=await(async function(o,u){const c=Ut(o),x={documents:u.map((D=>Bu(c.serializer,D)))},p=await c.Co("BatchGetDocuments",c.serializer.databaseId,yr.emptyPath(),x,u.length),w=new Map;p.forEach((D=>{const A=EP(c.serializer,D);w.set(A.key.toString(),A)}));const T=[];return u.forEach((D=>{const A=w.get(D.toString());nr(!!A),T.push(A)})),T})(this.datastore,t);return s.forEach((n=>this.recordVersion(n))),s}set(t,s){this.write(s.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,s){try{this.write(s.toMutation(t,this.preconditionForUpdate(t)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(t.toString())}delete(t){this.write(new Tm(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((s=>{t.delete(s.key.toString())})),t.forEach(((s,n)=>{const o=_t.fromPath(n);this.mutations.push(new G5(o,this.precondition(o)))})),await(async function(n,o){const u=Ut(n),c={writes:o.map((x=>r2(u.serializer,x)))};await u.So("Commit",u.serializer.databaseId,yr.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let s;if(t.isFoundDocument())s=t.version;else{if(!t.isNoDocument())throw Mt();s=Lt.min()}const n=this.readVersions.get(t.key.toString());if(n){if(!s.isEqual(n))throw new lt(Ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),s)}precondition(t){const s=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&s?s.isEqual(Lt.min())?ds.exists(!1):ds.updateTime(s):ds.none()}preconditionForUpdate(t){const s=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&s){if(s.isEqual(Lt.min()))throw new lt(Ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ds.updateTime(s)}return ds.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t,s,n,o,u){this.asyncQueue=t,this.datastore=s,this.options=n,this.updateFunction=o,this.deferred=u,this.Tu=n.maxAttempts,this.a_=new wf(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo((async()=>{const t=new lC(this.datastore),s=this.du(t);s&&s.then((n=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(n)})).catch((o=>{this.Au(o)}))))})).catch((n=>{this.Au(n)}))}))}du(t){try{const s=this.updateFunction(t);return!Nd(s)&&s.catch&&s.then?s:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(s){return this.deferred.reject(s),null}}Au(t){this.Tu>0&&this.Ru(t)?(this.Tu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Eu(),Promise.resolve())))):this.deferred.reject(t)}Ru(t){if(t.name==="FirebaseError"){const s=t.code;return s==="aborted"||s==="failed-precondition"||s==="already-exists"||!Q5(s)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei="FirestoreClient";class dC{constructor(t,s,n,o,u){this.authCredentials=t,this.appCheckCredentials=s,this.asyncQueue=n,this.databaseInfo=o,this.user=bs.UNAUTHENTICATED,this.clientId=p5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(n,(async c=>{ft(Ei,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(n,(c=>(ft(Ei,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(s){const n=Pf(s,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function Rh(r,t){r.asyncQueue.verifyOperationInProgress(),ft(Ei,"Initializing OfflineComponentProvider");const s=r.configuration;await t.initialize(s);let n=s.initialUser;r.setCredentialChangeListener((async o=>{n.isEqual(o)||(await l2(t.localStore,o),n=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function bj(r,t){r.asyncQueue.verifyOperationInProgress();const s=await uC(r);ft(Ei,"Initializing OnlineComponentProvider"),await t.initialize(s,r.configuration),r.setCredentialChangeListener((n=>xj(t.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,o)=>xj(t.remoteStore,o))),r._onlineComponents=t}async function uC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ft(Ei,"Using user provided OfflineComponentProvider");try{await Rh(r,r._uninitializedComponentsProvider._offline)}catch(t){const s=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Ve.FAILED_PRECONDITION||o.code===Ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(s))throw s;Tl("Error using user provided cache. Falling back to memory cache: "+s),await Rh(r,new Hu)}}else ft(Ei,"Using default OfflineComponentProvider"),await Rh(r,new oC(void 0));return r._offlineComponents}async function Mf(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ft(Ei,"Using user provided OnlineComponentProvider"),await bj(r,r._uninitializedComponentsProvider._online)):(ft(Ei,"Using default OnlineComponentProvider"),await bj(r,new Np))),r._onlineComponents}function mC(r){return Mf(r).then((t=>t.syncEngine))}function xC(r){return Mf(r).then((t=>t.datastore))}async function Wu(r){const t=await Mf(r),s=t.eventManager;return s.onListen=QE.bind(null,t.syncEngine),s.onUnlisten=YE.bind(null,t.syncEngine),s.onFirstRemoteStoreListen=KE.bind(null,t.syncEngine),s.onLastRemoteStoreUnlisten=XE.bind(null,t.syncEngine),s}function hC(r,t,s={}){const n=new Za;return r.asyncQueue.enqueueAndForget((async()=>(function(u,c,x,p,w){const T=new Rf({next:A=>{T.su(),c.enqueueAndForget((()=>Cf(u,D)));const O=A.docs.has(x);!O&&A.fromCache?w.reject(new lt(Ve.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&p&&p.source==="server"?w.reject(new lt(Ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(A)},error:A=>w.reject(A)}),D=new _f(jm(x.path),T,{includeMetadataChanges:!0,Ta:!0});return Ef(u,D)})(await Wu(r),r.asyncQueue,t,s,n))),n.promise}function pC(r,t,s={}){const n=new Za;return r.asyncQueue.enqueueAndForget((async()=>(function(u,c,x,p,w){const T=new Rf({next:A=>{T.su(),c.enqueueAndForget((()=>Cf(u,D))),A.fromCache&&p.source==="server"?w.reject(new lt(Ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(A)},error:A=>w.reject(A)}),D=new _f(x,T,{includeMetadataChanges:!0,Ta:!0});return Ef(u,D)})(await Wu(r),r.asyncQueue,t,s,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(r,t,s){if(!s)throw new lt(Ve.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function fC(r,t,s,n){if(t===!0&&n===!0)throw new lt(Ve.INVALID_ARGUMENT,`${r} and ${s} cannot be used together.`)}function jj(r){if(!_t.isDocumentKey(r))throw new lt(Ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function wj(r){if(_t.isDocumentKey(r))throw new lt(Ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Dm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(n){return n.constructor?n.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Mt()}function Es(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Dm(r);throw new lt(Ve.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${s}`)}}return r}function gC(r,t){if(t<=0)throw new lt(Ve.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="firestore.googleapis.com",Nj=!0;class kj{constructor(t){var s,n;if(t.host===void 0){if(t.ssl!==void 0)throw new lt(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=I2,this.ssl=Nj}else this.host=t.host,this.ssl=(s=t.ssl)!==null&&s!==void 0?s:Nj;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=i2;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<HP)throw new lt(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}fC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S2((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new lt(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new lt(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new lt(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(n,o){return n.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _m{constructor(t,s,n,o){this._authCredentials=t,this._appCheckCredentials=s,this._databaseId=n,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kj(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new kI;switch(n.type){case"firstParty":return new PI(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new lt(Ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const n=vj.get(s);n&&(ft("ComponentProvider","Removing Datastore"),vj.delete(s),n.terminate())})(this),Promise.resolve()}}function yC(r,t,s,n={}){var o;const u=(r=Es(r,_m))._getSettings(),c=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),x=`${t}:${s}`;u.host!==I2&&u.host!==x&&Tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:x,ssl:!1,emulatorOptions:n});if(!Ni(p,c)&&(r._setSettings(p),n.mockUserToken)){let w,T;if(typeof n.mockUserToken=="string")w=n.mockUserToken,T=bs.MOCK_USER;else{w=YN(n.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const D=n.mockUserToken.sub||n.mockUserToken.user_id;if(!D)throw new lt(Ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new bs(D)}r._authCredentials=new SI(new x5(w,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t,s,n){this.converter=s,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new On(this.firestore,t,this._query)}}class us{constructor(t,s,n){this.converter=s,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new us(this.firestore,t,this._key)}}class ji extends On{constructor(t,s,n){super(t,s,jm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new us(this.firestore,null,new _t(t))}withConverter(t){return new ji(this.firestore,t,this._path)}}function se(r,t,...s){if(r=Sr(r),T2("collection","path",t),r instanceof _m){const n=yr.fromString(t,...s);return wj(n),new ji(r,null,n)}{if(!(r instanceof us||r instanceof ji))throw new lt(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(yr.fromString(t,...s));return wj(n),new ji(r.firestore,null,n)}}function H(r,t,...s){if(r=Sr(r),arguments.length===1&&(t=p5.newId()),T2("doc","path",t),r instanceof _m){const n=yr.fromString(t,...s);return jj(n),new us(r,null,new _t(n))}{if(!(r instanceof us||r instanceof ji))throw new lt(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(yr.fromString(t,...s));return jj(n),new us(r.firestore,r instanceof ji?r.converter:null,new _t(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="AsyncQueue";class Tj{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new wf(this,"async_queue_retry"),this.Su=()=>{const n=Ah();n&&ft(Sj,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=t;const s=Ah();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const s=Ah();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise((()=>{}));const s=new Za;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(t().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Vu.push(t),this.Cu())))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Bl(t))throw t;ft(Sj,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(t){const s=this.bu.then((()=>(this.pu=!0,t().catch((n=>{this.gu=n,this.pu=!1;const o=(function(c){let x=c.message||"";return c.stack&&(x=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),x})(n);throw Dn("INTERNAL UNHANDLED ERROR: ",o),n})).then((n=>(this.pu=!1,n))))));return this.bu=s,s}enqueueAfterDelay(t,s,n){this.Du(),this.wu.indexOf(t)>-1&&(s=0);const o=If.createAndSchedule(this,t,s,n,(u=>this.Fu(u)));return this.fu.push(o),o}Du(){this.gu&&Mt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const s of this.fu)if(s.timerId===t)return!0;return!1}Ou(t){return this.Mu().then((()=>{this.fu.sort(((s,n)=>s.targetTimeMs-n.targetTimeMs));for(const s of this.fu)if(s.skipDelay(),t!=="all"&&s.timerId===t)break;return this.Mu()}))}Nu(t){this.wu.push(t)}Fu(t){const s=this.fu.indexOf(t);this.fu.splice(s,1)}}function Ij(r){return(function(s,n){if(typeof s!="object"||s===null)return!1;const o=s;for(const u of n)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class nn extends _m{constructor(t,s,n,o){super(t,s,n,o),this.type="firestore",this._queue=new Tj,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Tj(t),this._firestoreClient=void 0,await t}}}function bC(r,t){const s=typeof r=="object"?r:ym(),n=typeof r=="string"?r:Mu,o=_i(s,"firestore").getImmediate({identifier:n});if(!o._initialized){const u=QN("firestore");u&&yC(o,...u)}return o}function Pd(r){if(r._terminated)throw new lt(Ve.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vC(r),r._firestoreClient}function vC(r){var t,s,n;const o=r._freezeSettings(),u=(function(x,p,w,T){return new FI(x,p,w,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,S2(T.experimentalLongPollingOptions),T.useFetchStreams)})(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((s=o.localCache)===null||s===void 0)&&s._offlineComponentProvider&&(!((n=o.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new dC(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(x){const p=x?._online.build();return{_offline:x?._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new yo(ms.fromBase64String(t))}catch(s){throw new lt(Ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(t){return new yo(ms.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(...t){for(let s=0;s<t.length;++s)if(t[s].length===0)throw new lt(Ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cs(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(t,s){if(!isFinite(t)||t<-90||t>90)throw new lt(Ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(s)||s<-180||s>180)throw new lt(Ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=t,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Gt(this._lat,t._lat)||Gt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t){this._values=(t||[]).map((s=>s))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(n,o){if(n.length!==o.length)return!1;for(let u=0;u<n.length;++u)if(n[u]!==o[u])return!1;return!0})(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=/^__.*__$/;class wC{constructor(t,s,n){this.data=t,this.fieldMask=s,this.fieldTransforms=n}toMutation(t,s){return this.fieldMask!==null?new Ai(t,this.data,this.fieldMask,s,this.fieldTransforms):new kd(t,this.data,s,this.fieldTransforms)}}class P2{constructor(t,s,n){this.data=t,this.fieldMask=s,this.fieldTransforms=n}toMutation(t,s){return new Ai(t,this.data,this.fieldMask,s,this.fieldTransforms)}}function E2(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt()}}class Vf{constructor(t,s,n,o,u,c){this.settings=t,this.databaseId=s,this.serializer=n,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Vf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var s;const n=(s=this.path)===null||s===void 0?void 0:s.child(t),o=this.ku({path:n,Qu:!1});return o.$u(t),o}Uu(t){var s;const n=(s=this.path)===null||s===void 0?void 0:s.child(t),o=this.ku({path:n,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return qu(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find((s=>t.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>t.isPrefixOf(s.field)))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(E2(this.Lu)&&jC.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class NC{constructor(t,s,n){this.databaseId=t,this.ignoreUndefinedProperties=s,this.serializer=n||Pm(t)}ju(t,s,n,o=!1){return new Vf({Lu:t,methodName:s,zu:n,path:cs.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dd(r){const t=r._freezeSettings(),s=Pm(r._databaseId);return new NC(r._databaseId,!!t.ignoreUndefinedProperties,s)}function zf(r,t,s,n,o,u={}){const c=r.ju(u.merge||u.mergeFields?2:0,t,s,o);Ff("Data must be an object, but it was:",c,n);const x=_2(n,c);let p,w;if(u.merge)p=new ta(c.fieldMask),w=c.fieldTransforms;else if(u.mergeFields){const T=[];for(const D of u.mergeFields){const A=kp(t,D,s);if(!c.contains(A))throw new lt(Ve.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);A2(T,A)||T.push(A)}p=new ta(T),w=c.fieldTransforms.filter((D=>p.covers(D.field)))}else p=null,w=c.fieldTransforms;return new wC(new Is(x),p,w)}class $m extends Cd{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof $m}}class Bf extends Cd{_toFieldTransform(t){return new H5(t.path,new id)}isEqual(t){return t instanceof Bf}}class Uf extends Cd{constructor(t,s){super(t),this.Ju=s}_toFieldTransform(t){const s=new cd(t.serializer,V5(t.serializer,this.Ju));return new H5(t.path,s)}isEqual(t){return t instanceof Uf&&this.Ju===t.Ju}}function C2(r,t,s,n){const o=r.ju(1,t,s);Ff("Data must be an object, but it was:",o,n);const u=[],c=Is.empty();$i(n,((p,w)=>{const T=Hf(t,p,s);w=Sr(w);const D=o.Uu(T);if(w instanceof $m)u.push(T);else{const A=_d(w,D);A!=null&&(u.push(T),c.set(T,A))}}));const x=new ta(u);return new P2(c,x,o.fieldTransforms)}function D2(r,t,s,n,o,u){const c=r.ju(1,t,s),x=[kp(t,n,s)],p=[o];if(u.length%2!=0)throw new lt(Ve.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)x.push(kp(t,u[A])),p.push(u[A+1]);const w=[],T=Is.empty();for(let A=x.length-1;A>=0;--A)if(!A2(w,x[A])){const O=x[A];let k=p[A];k=Sr(k);const W=c.Uu(O);if(k instanceof $m)w.push(O);else{const V=_d(k,W);V!=null&&(w.push(O),T.set(O,V))}}const D=new ta(w);return new P2(T,D,c.fieldTransforms)}function kC(r,t,s,n=!1){return _d(s,r.ju(n?4:3,t))}function _d(r,t){if($2(r=Sr(r)))return Ff("Unsupported field value:",t,r),_2(r,t);if(r instanceof Cd)return(function(n,o){if(!E2(o.Lu))throw o.Wu(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return(function(n,o){const u=[];let c=0;for(const x of n){let p=_d(x,o.Ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(r,t)}return(function(n,o){if((n=Sr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return V5(o.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const u=br.fromDate(n);return{timestampValue:zu(o.serializer,u)}}if(n instanceof br){const u=new br(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:zu(o.serializer,u)}}if(n instanceof Of)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof yo)return{bytesValue:X5(o.serializer,n._byteString)};if(n instanceof us){const u=o.databaseId,c=n.firestore._databaseId;if(!c.isEqual(u))throw o.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gf(n.firestore._databaseId||o.databaseId,n._key.path)}}if(n instanceof Lf)return(function(c,x){return{mapValue:{fields:{[N5]:{stringValue:k5},[Ou]:{arrayValue:{values:c.toArray().map((w=>{if(typeof w!="number")throw x.Wu("VectorValues must only contain numeric values.");return hf(x.serializer,w)}))}}}}}})(n,o);throw o.Wu(`Unsupported field value: ${Dm(n)}`)})(r,t)}function _2(r,t){const s={};return g5(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$i(r,((n,o)=>{const u=_d(o,t.qu(n));u!=null&&(s[n]=u)})),{mapValue:{fields:s}}}function $2(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof br||r instanceof Of||r instanceof yo||r instanceof us||r instanceof Cd||r instanceof Lf)}function Ff(r,t,s){if(!$2(s)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(s)){const n=Dm(s);throw n==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+n)}}function kp(r,t,s){if((t=Sr(t))instanceof Ed)return t._internalPath;if(typeof t=="string")return Hf(r,t);throw qu("Field path arguments must be of type string or ",r,!1,void 0,s)}const SC=new RegExp("[~\\*/\\[\\]]");function Hf(r,t,s){if(t.search(SC)>=0)throw qu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,s);try{return new Ed(...t.split("."))._internalPath}catch{throw qu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,s)}}function qu(r,t,s,n,o){const u=n&&!n.isEmpty(),c=o!==void 0;let x=`Function ${t}() called with invalid data`;s&&(x+=" (via `toFirestore()`)"),x+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${n}`),c&&(p+=` in document ${o}`),p+=")"),new lt(Ve.INVALID_ARGUMENT,x+r+p)}function A2(r,t){return r.some((s=>s.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(t,s,n,o,u){this._firestore=t,this._userDataWriter=s,this._key=n,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new us(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new TC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const s=this._document.data.field(Am("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s)}}}class TC extends Gu{data(){return super.data()}}function Am(r,t){return typeof t=="string"?Hf(r,t):t instanceof Ed?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(Ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wf{}class qf extends Wf{}function ke(r,t,...s){let n=[];t instanceof Wf&&n.push(t),n=n.concat(s),(function(u){const c=u.filter((p=>p instanceof Gf)).length,x=u.filter((p=>p instanceof Rm)).length;if(c>1||c>0&&x>0)throw new lt(Ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const o of n)r=o._apply(r);return r}class Rm extends qf{constructor(t,s,n){super(),this._field=t,this._op=s,this._value=n,this.type="where"}static _create(t,s,n){return new Rm(t,s,n)}_apply(t){const s=this._parse(t);return M2(t._query,s),new On(t.firestore,t.converter,pp(t._query,s))}_parse(t){const s=Dd(t.firestore);return(function(u,c,x,p,w,T,D){let A;if(w.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new lt(Ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Ej(D,T);const k=[];for(const W of D)k.push(Pj(p,u,W));A={arrayValue:{values:k}}}else A=Pj(p,u,D)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Ej(D,T),A=kC(x,c,D,T==="in"||T==="not-in");return Fr.create(w,T,A)})(t._query,"where",s,t.firestore._databaseId,this._field,this._op,this._value)}}function _e(r,t,s){const n=t,o=Am("where",r);return Rm._create(o,n,s)}class Gf extends Wf{constructor(t,s){super(),this.type=t,this._queryConstraints=s}static _create(t,s){return new Gf(t,s)}_parse(t){const s=this._queryConstraints.map((n=>n._parse(t))).filter((n=>n.getFilters().length>0));return s.length===1?s[0]:Ra.create(s,this._getOperator())}_apply(t){const s=this._parse(t);return s.getFilters().length===0?t:((function(o,u){let c=o;const x=u.getFlattenedFilters();for(const p of x)M2(c,p),c=pp(c,p)})(t._query,s),new On(t.firestore,t.converter,pp(t._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qf extends qf{constructor(t,s){super(),this._field=t,this._direction=s,this.type="orderBy"}static _create(t,s){return new Qf(t,s)}_apply(t){const s=(function(o,u,c){if(o.startAt!==null)throw new lt(Ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new lt(Ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nd(u,c)})(t._query,this._field,this._direction);return new On(t.firestore,t.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new Ul(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,s))}}function IC(r,t="asc"){const s=t,n=Am("orderBy",r);return Qf._create(n,s)}class Kf extends qf{constructor(t,s,n){super(),this.type=t,this._limit=s,this._limitType=n}static _create(t,s,n){return new Kf(t,s,n)}_apply(t){return new On(t.firestore,t.converter,Vu(t._query,this._limit,this._limitType))}}function hr(r){return gC("limit",r),Kf._create("limit",r,"F")}function Pj(r,t,s){if(typeof(s=Sr(s))=="string"){if(s==="")throw new lt(Ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_5(t)&&s.indexOf("/")!==-1)throw new lt(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const n=t.path.child(yr.fromString(s));if(!_t.isDocumentKey(n))throw new lt(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Fv(r,new _t(n))}if(s instanceof us)return Fv(r,s._key);throw new lt(Ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dm(s)}.`)}function Ej(r,t){if(!Array.isArray(r)||r.length===0)throw new lt(Ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function M2(r,t){const s=(function(o,u){for(const c of o)for(const x of c.getFlattenedFilters())if(u.indexOf(x.op)>=0)return x.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(s!==null)throw s===t.op?new lt(Ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(Ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${s.toString()}' filters.`)}class O2{convertValue(t,s="none"){switch(Ii(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Vr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,s);case 5:return t.stringValue;case 6:return this.convertBytes(Ti(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,s);case 11:return this.convertObject(t.mapValue,s);case 10:return this.convertVectorValue(t.mapValue);default:throw Mt()}}convertObject(t,s){return this.convertObjectMap(t.fields,s)}convertObjectMap(t,s="none"){const n={};return $i(t,((o,u)=>{n[o]=this.convertValue(u,s)})),n}convertVectorValue(t){var s,n,o;const u=(o=(n=(s=t.fields)===null||s===void 0?void 0:s[Ou].arrayValue)===null||n===void 0?void 0:n.values)===null||o===void 0?void 0:o.map((c=>Vr(c.doubleValue)));return new Lf(u)}convertGeoPoint(t){return new Of(Vr(t.latitude),Vr(t.longitude))}convertArray(t,s){return(t.values||[]).map((n=>this.convertValue(n,s)))}convertServerTimestamp(t,s){switch(s){case"previous":const n=vm(t);return n==null?null:this.convertValue(n,s);case"estimate":return this.convertTimestamp(rd(t));default:return null}}convertTimestamp(t){const s=Si(t);return new br(s.seconds,s.nanos)}convertDocumentKey(t,s){const n=yr.fromString(t);nr(n2(n));const o=new sd(n.get(1),n.get(3)),u=new _t(n.popFirst(5));return o.isEqual(s)||Dn(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(r,t,s){let n;return n=r?s&&(s.merge||s.mergeFields)?r.toFirestore(t,s):r.toFirestore(t):t,n}class PC extends O2{constructor(t){super(),this.firestore=t}convertBytes(t){return new yo(t)}convertReference(t){const s=this.convertDocumentKey(t,this.firestore._databaseId);return new us(this.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(t,s){this.hasPendingWrites=t,this.fromCache=s}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Yf extends Gu{constructor(t,s,n,o,u,c){super(t,s,n,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const s=new wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,s={}){if(this._document){const n=this._document.data.field(Am("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,s.serverTimestamps)}}}class wu extends Yf{data(t={}){return super.data(t)}}class L2{constructor(t,s,n,o){this._firestore=t,this._userDataWriter=s,this._snapshot=o,this.metadata=new pl(o.hasPendingWrites,o.fromCache),this.query=n}get docs(){const t=[];return this.forEach((s=>t.push(s))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,s){this._snapshot.docs.forEach((n=>{t.call(s,new wu(this._firestore,this._userDataWriter,n.key,n,new pl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const s=!!t.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new lt(Ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((x=>{const p=new wu(o._firestore,o._userDataWriter,x.doc.key,x.doc,new pl(o._snapshot.mutatedKeys.has(x.doc.key),o._snapshot.fromCache),o.query.converter);return x.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((x=>u||x.type!==3)).map((x=>{const p=new wu(o._firestore,o._userDataWriter,x.doc.key,x.doc,new pl(o._snapshot.mutatedKeys.has(x.doc.key),o._snapshot.fromCache),o.query.converter);let w=-1,T=-1;return x.type!==0&&(w=c.indexOf(x.doc.key),c=c.delete(x.doc.key)),x.type!==1&&(c=c.add(x.doc),T=c.indexOf(x.doc.key)),{type:EC(x.type),doc:p,oldIndex:w,newIndex:T}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}}function EC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r){r=Es(r,us);const t=Es(r.firestore,nn);return hC(Pd(t),r._key).then((s=>V2(t,r,s)))}class Mm extends O2{constructor(t){super(),this.firestore=t}convertBytes(t){return new yo(t)}convertReference(t){const s=this.convertDocumentKey(t,this.firestore._databaseId);return new us(this.firestore,null,s)}}function Ft(r){r=Es(r,On);const t=Es(r.firestore,nn),s=Pd(t),n=new Mm(t);return R2(r._query),pC(s,r._query).then((o=>new L2(t,n,r,o)))}function xo(r,t,s){r=Es(r,us);const n=Es(r.firestore,nn),o=Zf(r.converter,t,s);return Om(n,[zf(Dd(n),"setDoc",r._key,o,r.converter!==null,s).toMutation(r._key,ds.none())])}function Hr(r,t,s,...n){r=Es(r,us);const o=Es(r.firestore,nn),u=Dd(o);let c;return c=typeof(t=Sr(t))=="string"||t instanceof Ed?D2(u,"updateDoc",r._key,t,s,n):C2(u,"updateDoc",r._key,t),Om(o,[c.toMutation(r._key,ds.exists(!0))])}function Nu(r){return Om(Es(r.firestore,nn),[new Tm(r._key,ds.none())])}function wi(r,t){const s=Es(r.firestore,nn),n=H(r),o=Zf(r.converter,t);return Om(s,[zf(Dd(r.firestore),"addDoc",n._key,o,r.converter!==null,{}).toMutation(n._key,ds.exists(!1))]).then((()=>n))}function $e(r,...t){var s,n,o;r=Sr(r);let u={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||Ij(t[c])||(u=t[c],c++);const x={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Ij(t[c])){const D=t[c];t[c]=(s=D.next)===null||s===void 0?void 0:s.bind(D),t[c+1]=(n=D.error)===null||n===void 0?void 0:n.bind(D),t[c+2]=(o=D.complete)===null||o===void 0?void 0:o.bind(D)}let p,w,T;if(r instanceof us)w=Es(r.firestore,nn),T=jm(r._key.path),p={next:D=>{t[c]&&t[c](V2(w,r,D))},error:t[c+1],complete:t[c+2]};else{const D=Es(r,On);w=Es(D.firestore,nn),T=D._query;const A=new Mm(w);p={next:O=>{t[c]&&t[c](new L2(w,A,D,O))},error:t[c+1],complete:t[c+2]},R2(r._query)}return(function(A,O,k,W){const V=new Rf(W),Y=new _f(O,V,k);return A.asyncQueue.enqueueAndForget((async()=>Ef(await Wu(A),Y))),()=>{V.su(),A.asyncQueue.enqueueAndForget((async()=>Cf(await Wu(A),Y)))}})(Pd(w),T,x,p)}function Om(r,t){return(function(n,o){const u=new Za;return n.asyncQueue.enqueueAndForget((async()=>JE(await mC(n),o,u))),u.promise})(Pd(r),t)}function V2(r,t,s){const n=s.docs.get(t._key),o=new Mm(r);return new Yf(r,o,t._key,n,new pl(s.hasPendingWrites,s.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC={maxAttempts:5};function Oc(r,t){if((r=Sr(r)).firestore!==t)throw new lt(Ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t,s){this._firestore=t,this._transaction=s,this._dataReader=Dd(t)}get(t){const s=Oc(t,this._firestore),n=new PC(this._firestore);return this._transaction.lookup([s._key]).then((o=>{if(!o||o.length!==1)return Mt();const u=o[0];if(u.isFoundDocument())return new Gu(this._firestore,n,u.key,u,s.converter);if(u.isNoDocument())return new Gu(this._firestore,n,s._key,null,s.converter);throw Mt()}))}set(t,s,n){const o=Oc(t,this._firestore),u=Zf(o.converter,s,n),c=zf(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,n);return this._transaction.set(o._key,c),this}update(t,s,n,...o){const u=Oc(t,this._firestore);let c;return c=typeof(s=Sr(s))=="string"||s instanceof Ed?D2(this._dataReader,"Transaction.update",u._key,s,n,o):C2(this._dataReader,"Transaction.update",u._key,s),this._transaction.update(u._key,c),this}delete(t){const s=Oc(t,this._firestore);return this._transaction.delete(s._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C extends DC{constructor(t,s){super(t,s),this._firestore=t}get(t){const s=Oc(t,this._firestore),n=new Mm(this._firestore);return super.get(t).then((o=>new Yf(this._firestore,n,s._key,o._document,new pl(!1,!1),s.converter)))}}function St(r,t,s){r=Es(r,nn);const n=Object.assign(Object.assign({},CC),s);return(function(u){if(u.maxAttempts<1)throw new lt(Ve.INVALID_ARGUMENT,"Max attempts must be at least 1")})(n),(function(u,c,x){const p=new Za;return u.asyncQueue.enqueueAndForget((async()=>{const w=await xC(u);new cC(u.asyncQueue,w,x,c,p).Iu()})),p.promise})(Pd(r),(o=>t(new _C(r,o))),n)}function Me(){return new Bf("serverTimestamp")}function kt(r){return new Uf("increment",r)}(function(t,s=!0){(function(o){Vl=o})(So),Aa(new ga("firestore",((n,{instanceIdentifier:o,options:u})=>{const c=n.getProvider("app").getImmediate(),x=new nn(new TI(n.getProvider("auth-internal")),new EI(c,n.getProvider("app-check-internal")),(function(w,T){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new lt(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sd(w.options.projectId,T)})(c,o),c);return u=Object.assign({useFetchStreams:s},u),x._setSettings(u),x}),"PUBLIC").setMultipleInstances(!0)),Bs(Dv,_v,t),Bs(Dv,_v,"esm2017")})();var $C="firebase",AC="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bs($C,AC,"app");const z2="@firebase/installations",Xf="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=1e4,U2=`w:${Xf}`,F2="FIS_v2",RC="https://firebaseinstallations.googleapis.com/v1",MC=3600*1e3,OC="installations",LC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},bo=new ko(OC,LC,VC);function H2(r){return r instanceof ya&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2({projectId:r}){return`${RC}/projects/${r}/installations`}function q2(r){return{token:r.token,requestStatus:2,expiresIn:BC(r.expiresIn),creationTime:Date.now()}}async function G2(r,t){const n=(await t.json()).error;return bo.create("request-failed",{requestName:r,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Q2({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function zC(r,{refreshToken:t}){const s=Q2(r);return s.append("Authorization",UC(t)),s}async function K2(r){const t=await r();return t.status>=500&&t.status<600?r():t}function BC(r){return Number(r.replace("s","000"))}function UC(r){return`${F2} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC({appConfig:r,heartbeatServiceProvider:t},{fid:s}){const n=W2(r),o=Q2(r),u=t.getImmediate({optional:!0});if(u){const w=await u.getHeartbeatsHeader();w&&o.append("x-firebase-client",w)}const c={fid:s,authVersion:F2,appId:r.appId,sdkVersion:U2},x={method:"POST",headers:o,body:JSON.stringify(c)},p=await K2(()=>fetch(n,x));if(p.ok){const w=await p.json();return{fid:w.fid||s,registrationStatus:2,refreshToken:w.refreshToken,authToken:q2(w.authToken)}}else throw await G2("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(r){return new Promise(t=>{setTimeout(t,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=/^[cdef][\w-]{21}$/,Sp="";function qC(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const s=GC(r);return WC.test(s)?s:Sp}catch{return Sp}}function GC(r){return HC(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new Map;function X2(r,t){const s=Lm(r);J2(s,t),QC(s,t)}function J2(r,t){const s=Y2.get(r);if(s)for(const n of s)n(t)}function QC(r,t){const s=KC();s&&s.postMessage({key:r,fid:t}),ZC()}let lo=null;function KC(){return!lo&&"BroadcastChannel"in self&&(lo=new BroadcastChannel("[Firebase] FID Change"),lo.onmessage=r=>{J2(r.data.key,r.data.fid)}),lo}function ZC(){Y2.size===0&&lo&&(lo.close(),lo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="firebase-installations-database",XC=1,vo="firebase-installations-store";let Mh=null;function Jf(){return Mh||(Mh=s5(YC,XC,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(vo)}}})),Mh}async function Qu(r,t){const s=Lm(r),o=(await Jf()).transaction(vo,"readwrite"),u=o.objectStore(vo),c=await u.get(s);return await u.put(t,s),await o.done,(!c||c.fid!==t.fid)&&X2(r,t.fid),t}async function ek(r){const t=Lm(r),n=(await Jf()).transaction(vo,"readwrite");await n.objectStore(vo).delete(t),await n.done}async function Vm(r,t){const s=Lm(r),o=(await Jf()).transaction(vo,"readwrite"),u=o.objectStore(vo),c=await u.get(s),x=t(c);return x===void 0?await u.delete(s):await u.put(x,s),await o.done,x&&(!c||c.fid!==x.fid)&&X2(r,x.fid),x}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eg(r){let t;const s=await Vm(r.appConfig,n=>{const o=JC(n),u=eD(r,o);return t=u.registrationPromise,u.installationEntry});return s.fid===Sp?{installationEntry:await t}:{installationEntry:s,registrationPromise:t}}function JC(r){const t=r||{fid:qC(),registrationStatus:0};return tk(t)}function eD(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(bo.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const s={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=tD(r,s);return{installationEntry:s,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:rD(r)}:{installationEntry:t}}async function tD(r,t){try{const s=await FC(r,t);return Qu(r.appConfig,s)}catch(s){throw H2(s)&&s.customData.serverCode===409?await ek(r.appConfig):await Qu(r.appConfig,{fid:t.fid,registrationStatus:0}),s}}async function rD(r){let t=await Cj(r.appConfig);for(;t.registrationStatus===1;)await Z2(100),t=await Cj(r.appConfig);if(t.registrationStatus===0){const{installationEntry:s,registrationPromise:n}=await eg(r);return n||s}return t}function Cj(r){return Vm(r,t=>{if(!t)throw bo.create("installation-not-found");return tk(t)})}function tk(r){return sD(r)?{fid:r.fid,registrationStatus:0}:r}function sD(r){return r.registrationStatus===1&&r.registrationTime+B2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD({appConfig:r,heartbeatServiceProvider:t},s){const n=nD(r,s),o=zC(r,s),u=t.getImmediate({optional:!0});if(u){const w=await u.getHeartbeatsHeader();w&&o.append("x-firebase-client",w)}const c={installation:{sdkVersion:U2,appId:r.appId}},x={method:"POST",headers:o,body:JSON.stringify(c)},p=await K2(()=>fetch(n,x));if(p.ok){const w=await p.json();return q2(w)}else throw await G2("Generate Auth Token",p)}function nD(r,{fid:t}){return`${W2(r)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tg(r,t=!1){let s;const n=await Vm(r.appConfig,u=>{if(!rk(u))throw bo.create("not-registered");const c=u.authToken;if(!t&&lD(c))return u;if(c.requestStatus===1)return s=iD(r,t),u;{if(!navigator.onLine)throw bo.create("app-offline");const x=dD(u);return s=oD(r,x),x}});return s?await s:n.authToken}async function iD(r,t){let s=await Dj(r.appConfig);for(;s.authToken.requestStatus===1;)await Z2(100),s=await Dj(r.appConfig);const n=s.authToken;return n.requestStatus===0?tg(r,t):n}function Dj(r){return Vm(r,t=>{if(!rk(t))throw bo.create("not-registered");const s=t.authToken;return uD(s)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function oD(r,t){try{const s=await aD(r,t),n=Object.assign(Object.assign({},t),{authToken:s});return await Qu(r.appConfig,n),s}catch(s){if(H2(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await ek(r.appConfig);else{const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Qu(r.appConfig,n)}throw s}}function rk(r){return r!==void 0&&r.registrationStatus===2}function lD(r){return r.requestStatus===2&&!cD(r)}function cD(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+MC}function dD(r){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:t})}function uD(r){return r.requestStatus===1&&r.requestTime+B2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(r){const t=r,{installationEntry:s,registrationPromise:n}=await eg(t);return n?n.catch(console.error):tg(t).catch(console.error),s.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(r,t=!1){const s=r;return await hD(s),(await tg(s,t)).token}async function hD(r){const{registrationPromise:t}=await eg(r);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(r){if(!r||!r.options)throw Oh("App Configuration");if(!r.name)throw Oh("App Name");const t=["projectId","apiKey","appId"];for(const s of t)if(!r.options[s])throw Oh(s);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Oh(r){return bo.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="installations",fD="installations-internal",gD=r=>{const t=r.getProvider("app").getImmediate(),s=pD(t),n=_i(t,"heartbeat");return{app:t,appConfig:s,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},yD=r=>{const t=r.getProvider("app").getImmediate(),s=_i(t,sk).getImmediate();return{getId:()=>mD(s),getToken:o=>xD(s,o)}};function bD(){Aa(new ga(sk,gD,"PUBLIC")),Aa(new ga(fD,yD,"PRIVATE"))}bD();Bs(z2,Xf);Bs(z2,Xf,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku="analytics",vD="firebase_id",jD="origin",wD=60*1e3,ND="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new gm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},sa=new ko("analytics","Analytics",kD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(r){if(!r.startsWith(rg)){const t=sa.create("invalid-gtag-resource",{gtagURL:r});return Us.warn(t.message),""}return r}function ak(r){return Promise.all(r.map(t=>t.catch(s=>s)))}function TD(r,t){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(r,t)),s}function ID(r,t){const s=TD("firebase-js-sdk-policy",{createScriptURL:SD}),n=document.createElement("script"),o=`${rg}?l=${r}&id=${t}`;n.src=s?s?.createScriptURL(o):o,n.async=!0,document.head.appendChild(n)}function PD(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function ED(r,t,s,n,o,u){const c=n[o];try{if(c)await t[c];else{const p=(await ak(s)).find(w=>w.measurementId===o);p&&await t[p.appId]}}catch(x){Us.error(x)}r("config",o,u)}async function CD(r,t,s,n,o){try{let u=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const x=await ak(s);for(const p of c){const w=x.find(D=>D.measurementId===p),T=w&&t[w.appId];if(T)u.push(T);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),r("event",n,o||{})}catch(u){Us.error(u)}}function DD(r,t,s,n){async function o(u,...c){try{if(u==="event"){const[x,p]=c;await CD(r,t,s,x,p)}else if(u==="config"){const[x,p]=c;await ED(r,t,s,n,x,p)}else if(u==="consent"){const[x,p]=c;r("consent",x,p)}else if(u==="get"){const[x,p,w]=c;r("get",x,p,w)}else if(u==="set"){const[x]=c;r("set",x)}else r(u,...c)}catch(x){Us.error(x)}}return o}function _D(r,t,s,n,o){let u=function(...c){window[n].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=DD(u,r,t,s),{gtagCore:u,wrappedGtag:window[o]}}function $D(r){const t=window.document.getElementsByTagName("script");for(const s of Object.values(t))if(s.src&&s.src.includes(rg)&&s.src.includes(r))return s;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=30,RD=1e3;class MD{constructor(t={},s=RD){this.throttleMetadata=t,this.intervalMillis=s}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,s){this.throttleMetadata[t]=s}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const nk=new MD;function OD(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function LD(r){var t;const{appId:s,apiKey:n}=r,o={method:"GET",headers:OD(n)},u=ND.replace("{app-id}",s),c=await fetch(u,o);if(c.status!==200&&c.status!==304){let x="";try{const p=await c.json();!((t=p.error)===null||t===void 0)&&t.message&&(x=p.error.message)}catch{}throw sa.create("config-fetch-failed",{httpStatus:c.status,responseMessage:x})}return c.json()}async function VD(r,t=nk,s){const{appId:n,apiKey:o,measurementId:u}=r.options;if(!n)throw sa.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:n};throw sa.create("no-api-key")}const c=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},x=new UD;return setTimeout(async()=>{x.abort()},wD),ik({appId:n,apiKey:o,measurementId:u},c,x,t)}async function ik(r,{throttleEndTimeMillis:t,backoffCount:s},n,o=nk){var u;const{appId:c,measurementId:x}=r;try{await zD(n,t)}catch(p){if(x)return Us.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${x} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:c,measurementId:x};throw p}try{const p=await LD(r);return o.deleteThrottleMetadata(c),p}catch(p){const w=p;if(!BD(w)){if(o.deleteThrottleMetadata(c),x)return Us.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${x} provided in the "measurementId" field in the local Firebase config. [${w?.message}]`),{appId:c,measurementId:x};throw p}const T=Number((u=w?.customData)===null||u===void 0?void 0:u.httpStatus)===503?jv(s,o.intervalMillis,AD):jv(s,o.intervalMillis),D={throttleEndTimeMillis:Date.now()+T,backoffCount:s+1};return o.setThrottleMetadata(c,D),Us.debug(`Calling attemptFetch again in ${T} millis`),ik(r,D,n,o)}}function zD(r,t){return new Promise((s,n)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(s,o);r.addEventListener(()=>{clearTimeout(u),n(sa.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function BD(r){if(!(r instanceof ya)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class UD{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function FD(r,t,s,n,o){if(o&&o.global){r("event",s,n);return}else{const u=await t,c=Object.assign(Object.assign({},n),{send_to:u});r("event",s,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(){if(JN())try{await e5()}catch(r){return Us.warn(sa.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return Us.warn(sa.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function WD(r,t,s,n,o,u,c){var x;const p=VD(r);p.then(O=>{s[O.measurementId]=O.appId,r.options.measurementId&&O.measurementId!==r.options.measurementId&&Us.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>Us.error(O)),t.push(p);const w=HD().then(O=>{if(O)return n.getId()}),[T,D]=await Promise.all([p,w]);$D(u)||ID(u,T.measurementId),o("js",new Date);const A=(x=c?.config)!==null&&x!==void 0?x:{};return A[jD]="firebase",A.update=!0,D!=null&&(A[vD]=D),o("config",T.measurementId,A),T.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t){this.app=t}_delete(){return delete Wc[this.app.options.appId],Promise.resolve()}}let Wc={},_j=[];const $j={};let Lh="dataLayer",GD="gtag",Aj,ok,Rj=!1;function QD(){const r=[];if(XN()&&r.push("This is a browser extension environment."),nT()||r.push("Cookies are not available."),r.length>0){const t=r.map((n,o)=>`(${o+1}) ${n}`).join(" "),s=sa.create("invalid-analytics-context",{errorInfo:t});Us.warn(s.message)}}function KD(r,t,s){QD();const n=r.options.appId;if(!n)throw sa.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)Us.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw sa.create("no-api-key");if(Wc[n]!=null)throw sa.create("already-exists",{id:n});if(!Rj){PD(Lh);const{wrappedGtag:u,gtagCore:c}=_D(Wc,_j,$j,Lh,GD);ok=u,Aj=c,Rj=!0}return Wc[n]=WD(r,_j,$j,t,Aj,Lh,s),new qD(r)}function ZD(r=ym()){r=Sr(r);const t=_i(r,Ku);return t.isInitialized()?t.getImmediate():YD(r)}function YD(r,t={}){const s=_i(r,Ku);if(s.isInitialized()){const o=s.getImmediate();if(Ni(t,s.getOptions()))return o;throw sa.create("already-initialized")}return s.initialize({options:t})}function XD(r,t,s,n){r=Sr(r),FD(ok,Wc[r.app.options.appId],t,s,n).catch(o=>Us.error(o))}const Mj="@firebase/analytics",Oj="0.10.12";function JD(){Aa(new ga(Ku,(t,{options:s})=>{const n=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return KD(n,o,s)},"PUBLIC")),Aa(new ga("analytics-internal",r,"PRIVATE")),Bs(Mj,Oj),Bs(Mj,Oj,"esm2017");function r(t){try{const s=t.getProvider(Ku).getImmediate();return{logEvent:(n,o,u)=>XD(s,n,o,u)}}catch(s){throw sa.create("interop-component-reg-failed",{reason:s})}}}JD();function sg(r,t){var s={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(s[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(s[n[o]]=r[n[o]]);return s}function lk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const e_=lk,ck=new ko("auth","Firebase",lk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new gm("@firebase/auth");function t_(r,...t){Zu.logLevel<=Jt.WARN&&Zu.warn(`Auth (${So}): ${r}`,...t)}function ku(r,...t){Zu.logLevel<=Jt.ERROR&&Zu.error(`Auth (${So}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(r,...t){throw ag(r,...t)}function Xa(r,...t){return ag(r,...t)}function dk(r,t,s){const n=Object.assign(Object.assign({},e_()),{[t]:s});return new ko("auth","Firebase",n).create(t,{appName:r.name})}function Pn(r){return dk(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ag(r,...t){if(typeof r!="string"){const s=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(s,...n)}return ck.create(r,...t)}function Vt(r,t,...s){if(!r)throw ag(t,...s)}function Sn(r){const t="INTERNAL ASSERTION FAILED: "+r;throw ku(t),new Error(t)}function $n(r,t){r||Sn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function r_(){return Lj()==="http:"||Lj()==="https:"}function Lj(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r_()||XN()||"connection"in navigator)?navigator.onLine:!0}function a_(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(t,s){this.shortDelay=t,this.longDelay=s,$n(s>t,"Short delay should be less than long delay!"),this.isMobile=JS()||rT()}get(){return s_()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(r,t){$n(r.emulator,"Emulator should always be set here");const{url:s}=r.emulator;return t?`${s}${t.startsWith("/")?t.slice(1):t}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{static initialize(t,s,n){this.fetchImpl=t,s&&(this.headersImpl=s),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],o_=new $d(3e4,6e4);function Ri(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Ln(r,t,s,n,o={}){return mk(r,o,async()=>{let u={},c={};n&&(t==="GET"?c=n:u={body:JSON.stringify(n)});const x=wd(Object.assign({key:r.config.apiKey},c)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const w=Object.assign({method:t,headers:p},u);return tT()||(w.referrerPolicy="no-referrer"),uk.fetch()(await xk(r,r.config.apiHost,s,x),w)})}async function mk(r,t,s){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},n_),t);try{const o=new c_(r),u=await Promise.race([s(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw cu(r,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const x=u.ok?c.errorMessage:c.error.message,[p,w]=x.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw cu(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw cu(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw cu(r,"user-disabled",c);const T=n[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw dk(r,T,w);Ma(r,T)}}catch(o){if(o instanceof ya)throw o;Ma(r,"network-request-failed",{message:String(o)})}}async function Ad(r,t,s,n,o={}){const u=await Ln(r,t,s,n,o);return"mfaPendingCredential"in u&&Ma(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function xk(r,t,s,n){const o=`${t}${s}?${n}`,u=r,c=u.config.emulator?ng(r.config,o):`${r.config.apiScheme}://${o}`;return i_.includes(s)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function l_(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class c_{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((s,n)=>{this.timer=setTimeout(()=>n(Xa(this.auth,"network-request-failed")),o_.get())})}}function cu(r,t,s){const n={appName:r.name};s.email&&(n.email=s.email),s.phoneNumber&&(n.phoneNumber=s.phoneNumber);const o=Xa(r,t,n);return o.customData._tokenResponse=s,o}function Vj(r){return r!==void 0&&r.enterprise!==void 0}class d_{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===t)return l_(s.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function u_(r,t){return Ln(r,"GET","/v2/recaptchaConfig",Ri(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m_(r,t){return Ln(r,"POST","/v1/accounts:delete",t)}async function Yu(r,t){return Ln(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function x_(r,t=!1){const s=Sr(r),n=await s.getIdToken(t),o=ig(n);Vt(o&&o.exp&&o.auth_time&&o.iat,s.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:n,authTime:qc(Vh(o.auth_time)),issuedAtTime:qc(Vh(o.iat)),expirationTime:qc(Vh(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Vh(r){return Number(r)*1e3}function ig(r){const[t,s,n]=r.split(".");if(t===void 0||s===void 0||n===void 0)return ku("JWT malformed, contained fewer than 3 sections"),null;try{const o=qN(s);return o?JSON.parse(o):(ku("Failed to decode base64 JWT payload"),null)}catch(o){return ku("Caught error parsing JWT payload as JSON",o?.toString()),null}}function zj(r){const t=ig(r);return Vt(t,"internal-error"),Vt(typeof t.exp<"u","internal-error"),Vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(r,t,s=!1){if(s)return t;try{return await t}catch(n){throw n instanceof ya&&h_(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function h_({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var s;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const o=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const s=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(t,s){this.createdAt=t,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=qc(this.lastLoginAt),this.creationTime=qc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(r){var t;const s=r.auth,n=await r.getIdToken(),o=await _l(r,Yu(s,{idToken:n}));Vt(o?.users.length,s,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const c=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?hk(u.providerUserInfo):[],x=g_(r.providerData,c),p=r.isAnonymous,w=!(r.email&&u.passwordHash)&&!x?.length,T=p?w:!1,D={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:x,metadata:new Ip(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,D)}async function f_(r){const t=Sr(r);await Xu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function g_(r,t){return[...r.filter(n=>!t.some(o=>o.providerId===n.providerId)),...t]}function hk(r){return r.map(t=>{var{providerId:s}=t,n=sg(t,["providerId"]);return{providerId:s,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y_(r,t){const s=await mk(r,{},async()=>{const n=wd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,c=await xk(r,o,"/v1/token",`key=${u}`),x=await r._getAdditionalHeaders();return x["Content-Type"]="application/x-www-form-urlencoded",uk.fetch()(c,{method:"POST",headers:x,body:n})});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function b_(r,t){return Ln(r,"POST","/v2/accounts:revokeToken",Ri(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Vt(t.idToken,"internal-error"),Vt(typeof t.idToken<"u","internal-error"),Vt(typeof t.refreshToken<"u","internal-error");const s="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):zj(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,s)}updateFromIdToken(t){Vt(t.length!==0,"internal-error");const s=zj(t);this.updateTokensAndExpiration(t,null,s)}async getToken(t,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(Vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,s){const{accessToken:n,refreshToken:o,expiresIn:u}=await y_(t,s);this.updateTokensAndExpiration(n,o,Number(u))}updateTokensAndExpiration(t,s,n){this.refreshToken=s||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,s){const{refreshToken:n,accessToken:o,expirationTime:u}=s,c=new Nl;return n&&(Vt(typeof n=="string","internal-error",{appName:t}),c.refreshToken=n),o&&(Vt(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(Vt(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Nl,this.toJSON())}_performRefresh(){return Sn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(r,t){Vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class _a{constructor(t){var{uid:s,auth:n,stsTokenManager:o}=t,u=sg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new p_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=n,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Ip(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const s=await _l(this,this.stsTokenManager.getToken(this.auth,t));return Vt(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(t){return x_(this,t)}reload(){return f_(this)}_assign(t){this!==t&&(Vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(s=>Object.assign({},s)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const s=new _a(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(t){Vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,s=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),s&&await Xu(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ea(this.auth.app))return Promise.reject(Pn(this.auth));const t=await this.getIdToken();return await _l(this,m_(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,s){var n,o,u,c,x,p,w,T;const D=(n=s.displayName)!==null&&n!==void 0?n:void 0,A=(o=s.email)!==null&&o!==void 0?o:void 0,O=(u=s.phoneNumber)!==null&&u!==void 0?u:void 0,k=(c=s.photoURL)!==null&&c!==void 0?c:void 0,W=(x=s.tenantId)!==null&&x!==void 0?x:void 0,V=(p=s._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(w=s.createdAt)!==null&&w!==void 0?w:void 0,ie=(T=s.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ce,emailVerified:pe,isAnonymous:X,providerData:ne,stsTokenManager:F}=s;Vt(ce&&F,t,"internal-error");const h=Nl.fromJSON(this.name,F);Vt(typeof ce=="string",t,"internal-error"),di(D,t.name),di(A,t.name),Vt(typeof pe=="boolean",t,"internal-error"),Vt(typeof X=="boolean",t,"internal-error"),di(O,t.name),di(k,t.name),di(W,t.name),di(V,t.name),di(Y,t.name),di(ie,t.name);const Z=new _a({uid:ce,auth:t,email:A,emailVerified:pe,displayName:D,isAnonymous:X,photoURL:k,phoneNumber:O,tenantId:W,stsTokenManager:h,createdAt:Y,lastLoginAt:ie});return ne&&Array.isArray(ne)&&(Z.providerData=ne.map(Q=>Object.assign({},Q))),V&&(Z._redirectEventId=V),Z}static async _fromIdTokenResponse(t,s,n=!1){const o=new Nl;o.updateFromServerResponse(s);const u=new _a({uid:s.localId,auth:t,stsTokenManager:o,isAnonymous:n});return await Xu(u),u}static async _fromGetAccountInfoResponse(t,s,n){const o=s.users[0];Vt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?hk(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,x=new Nl;x.updateFromIdToken(n);const p=new _a({uid:o.localId,auth:t,stsTokenManager:x,isAnonymous:c}),w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ip(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,w),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=new Map;function Tn(r){$n(r instanceof Function,"Expected a class definition");let t=Bj.get(r);return t?($n(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Bj.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,s){this.storage[t]=s}async _get(t){const s=this.storage[t];return s===void 0?null:s}async _remove(t){delete this.storage[t]}_addListener(t,s){}_removeListener(t,s){}}pk.type="NONE";const Uj=pk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(r,t,s){return`firebase:${r}:${t}:${s}`}class kl{constructor(t,s,n){this.persistence=t,this.auth=s,this.userKey=n;const{config:o,name:u}=this.auth;this.fullUserKey=Su(this.userKey,o.apiKey,u),this.fullPersistenceKey=Su("persistence",o.apiKey,u),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const s=await Yu(this.auth,{idToken:t}).catch(()=>{});return s?_a._fromGetAccountInfoResponse(this.auth,s,t):null}return _a._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,s,n="authUser"){if(!s.length)return new kl(Tn(Uj),t,n);const o=(await Promise.all(s.map(async w=>{if(await w._isAvailable())return w}))).filter(w=>w);let u=o[0]||Tn(Uj);const c=Su(n,t.config.apiKey,t.name);let x=null;for(const w of s)try{const T=await w._get(c);if(T){let D;if(typeof T=="string"){const A=await Yu(t,{idToken:T}).catch(()=>{});if(!A)break;D=await _a._fromGetAccountInfoResponse(t,A,T)}else D=_a._fromJSON(t,T);w!==u&&(x=D),u=w;break}}catch{}const p=o.filter(w=>w._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new kl(u,t,n):(u=p[0],x&&await u._set(c,x.toJSON()),await Promise.all(s.map(async w=>{if(w!==u)try{await w._remove(c)}catch{}})),new kl(u,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bk(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fk(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(jk(t))return"Blackberry";if(wk(t))return"Webos";if(gk(t))return"Safari";if((t.includes("chrome/")||yk(t))&&!t.includes("edge/"))return"Chrome";if(vk(t))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(s);if(n?.length===2)return n[1]}return"Other"}function fk(r=js()){return/firefox\//i.test(r)}function gk(r=js()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function yk(r=js()){return/crios\//i.test(r)}function bk(r=js()){return/iemobile/i.test(r)}function vk(r=js()){return/android/i.test(r)}function jk(r=js()){return/blackberry/i.test(r)}function wk(r=js()){return/webos/i.test(r)}function og(r=js()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function v_(r=js()){var t;return og(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function j_(){return sT()&&document.documentMode===10}function Nk(r=js()){return og(r)||vk(r)||wk(r)||jk(r)||/windows phone/i.test(r)||bk(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(r,t=[]){let s;switch(r){case"Browser":s=Fj(js());break;case"Worker":s=`${Fj(js())}-${r}`;break;default:s=r}const n=t.length?t.join(","):"FirebaseCore-web";return`${s}/JsCore/${So}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,s){const n=u=>new Promise((c,x)=>{try{const p=t(u);c(p)}catch(p){x(p)}});n.onAbort=s,this.queue.push(n);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const s=[];try{for(const n of this.queue)await n(t),n.onAbort&&s.push(n.onAbort)}catch(n){s.reverse();for(const o of s)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N_(r,t={}){return Ln(r,"GET","/v2/passwordPolicy",Ri(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=6;class S_{constructor(t){var s,n,o,u;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=c.minPasswordLength)!==null&&s!==void 0?s:k_,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var s,n,o,u,c,x;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(s=p.meetsMinPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(n=p.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(x=p.containsNonAlphanumericCharacter)!==null&&x!==void 0?x:!0),p}validatePasswordLengthOptions(t,s){const n=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;n&&(s.meetsMinPasswordLength=t.length>=n),o&&(s.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let n;for(let o=0;o<t.length;o++)n=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(s,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,s,n,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(t,s,n,o){this.app=t,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=n,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hj(this),this.idTokenSubscription=new Hj(this),this.beforeStateQueue=new w_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ck,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,s){return s&&(this._popupRedirectResolver=Tn(s)),this._initializationPromise=this.queue(async()=>{var n,o,u;if(!this._deleted&&(this.persistenceManager=await kl.create(this,t),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const s=await Yu(this,{idToken:t}),n=await _a._fromGetAccountInfoResponse(this,s,t);await this.directlySetCurrentUser(n)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(ea(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(x=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(x,x))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let o=n,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,x=o?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===x)&&p?.user&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(t){try{await Xu(t)}catch(s){if(s?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=a_()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ea(this.app))return Promise.reject(Pn(this));const s=t?Sr(t):null;return s&&Vt(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(t,s=!1){if(!this._deleted)return t&&Vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ea(this.app)?Promise.reject(Pn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ea(this.app)?Promise.reject(Pn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await N_(this),s=new S_(t);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ko("auth","Firebase",t())}onAuthStateChanged(t,s,n){return this.registerStateListener(this.authStateSubscription,t,s,n)}beforeAuthStateChanged(t,s){return this.beforeStateQueue.pushCallback(t,s)}onIdTokenChanged(t,s,n){return this.registerStateListener(this.idTokenSubscription,t,s,n)}authStateReady(){return new Promise((t,s)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},s)}})}async revokeAccessToken(t){if(this.currentUser){const s=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:s};this.tenantId!=null&&(n.tenantId=this.tenantId),await b_(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,s){const n=await this.getOrInitRedirectPersistenceManager(s);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const s=t&&Tn(t)||this._popupRedirectResolver;Vt(s,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[Tn(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var s,n;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(s=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,s,n,o){if(this._deleted)return()=>{};const u=typeof s=="function"?s:s.next.bind(s);let c=!1;const x=this._isInitialized?Promise.resolve():this._initializationPromise;if(Vt(x,this,"internal-error"),x.then(()=>{c||u(this.currentUser)}),typeof s=="function"){const p=t.addObserver(s,n,o);return()=>{c=!0,p()}}else{const p=t.addObserver(s);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(s["X-Firebase-Client"]=n);const o=await this._getAppCheckToken();return o&&(s["X-Firebase-AppCheck"]=o),s}async _getAppCheckToken(){var t;if(ea(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const s=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return s?.error&&t_(`Error while retrieving App Check token: ${s.error}`),s?.token}}function Po(r){return Sr(r)}class Hj{constructor(t){this.auth=t,this.observer=null,this.addObserver=dT(s=>this.observer=s)}get next(){return Vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function I_(r){zm=r}function Sk(r){return zm.loadJS(r)}function P_(){return zm.recaptchaEnterpriseScript}function E_(){return zm.gapiScript}function C_(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class D_{constructor(){this.enterprise=new __}ready(t){t()}execute(t,s){return Promise.resolve("token")}render(t,s){return""}}class __{ready(t){t()}execute(t,s){return Promise.resolve("token")}render(t,s){return""}}const $_="recaptcha-enterprise",Tk="NO_RECAPTCHA";class A_{constructor(t){this.type=$_,this.auth=Po(t)}async verify(t="verify",s=!1){async function n(u){if(!s){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,x)=>{u_(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)x(new Error("recaptcha Enterprise site key undefined"));else{const w=new d_(p);return u.tenantId==null?u._agentRecaptchaConfig=w:u._tenantRecaptchaConfigs[u.tenantId]=w,c(w.siteKey)}}).catch(p=>{x(p)})})}function o(u,c,x){const p=window.grecaptcha;Vj(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(w=>{c(w)}).catch(()=>{c(Tk)})}):x(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new D_().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{n(this.auth).then(x=>{if(!s&&Vj(window.grecaptcha))o(x,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=P_();p.length!==0&&(p+=x),Sk(p).then(()=>{o(x,u,c)}).catch(w=>{c(w)})}}).catch(x=>{c(x)})})}}async function Wj(r,t,s,n=!1,o=!1){const u=new A_(r);let c;if(o)c=Tk;else try{c=await u.verify(s)}catch{c=await u.verify(s,!0)}const x=Object.assign({},t);if(s==="mfaSmsEnrollment"||s==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in x){const p=x.phoneEnrollmentInfo.phoneNumber,w=x.phoneEnrollmentInfo.recaptchaToken;Object.assign(x,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:w,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in x){const p=x.phoneSignInInfo.recaptchaToken;Object.assign(x,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return x}return n?Object.assign(x,{captchaResp:c}):Object.assign(x,{captchaResponse:c}),Object.assign(x,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(x,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),x}async function Pp(r,t,s,n,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Wj(r,t,s,s==="getOobCode");return n(r,c)}else return n(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const x=await Wj(r,t,s,s==="getOobCode");return n(r,x)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(r,t){const s=_i(r,"auth");if(s.isInitialized()){const o=s.getImmediate(),u=s.getOptions();if(Ni(u,t??{}))return o;Ma(o,"already-initialized")}return s.initialize({options:t})}function M_(r,t){const s=t?.persistence||[],n=(Array.isArray(s)?s:[s]).map(Tn);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(n,t?.popupRedirectResolver)}function O_(r,t,s){const n=Po(r);Vt(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const o=!1,u=Ik(t),{host:c,port:x}=L_(t),p=x===null?"":`:${x}`,w={url:`${u}//${c}${p}/`},T=Object.freeze({host:c,port:x,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!n._canInitEmulator){Vt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Vt(Ni(w,n.config.emulator)&&Ni(T,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=w,n.emulatorConfig=T,n.settings.appVerificationDisabledForTesting=!0,V_()}function Ik(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function L_(r){const t=Ik(r),s=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!s)return{host:"",port:null};const n=s[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(n);if(o){const u=o[1];return{host:u,port:qj(n.substr(u.length+1))}}else{const[u,c]=n.split(":");return{host:u,port:qj(c)}}}function qj(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function V_(){function r(){const t=document.createElement("p"),s=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(t,s){this.providerId=t,this.signInMethod=s}toJSON(){return Sn("not implemented")}_getIdTokenResponse(t){return Sn("not implemented")}_linkToIdToken(t,s){return Sn("not implemented")}_getReauthenticationResolver(t){return Sn("not implemented")}}async function z_(r,t){return Ln(r,"POST","/v1/accounts:update",t)}async function B_(r,t){return Ln(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U_(r,t){return Ad(r,"POST","/v1/accounts:signInWithPassword",Ri(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F_(r,t){return Ad(r,"POST","/v1/accounts:signInWithEmailLink",Ri(r,t))}async function H_(r,t){return Ad(r,"POST","/v1/accounts:signInWithEmailLink",Ri(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd extends lg{constructor(t,s,n,o=null){super("password",n),this._email=t,this._password=s,this._tenantId=o}static _fromEmailAndPassword(t,s){return new dd(t,s,"password")}static _fromEmailAndCode(t,s,n=null){return new dd(t,s,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const s=typeof t=="string"?JSON.parse(t):t;if(s?.email&&s?.password){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pp(t,s,"signInWithPassword",U_);case"emailLink":return F_(t,{email:this._email,oobCode:this._password});default:Ma(t,"internal-error")}}async _linkToIdToken(t,s){switch(this.signInMethod){case"password":const n={idToken:s,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pp(t,n,"signUpPassword",B_);case"emailLink":return H_(t,{idToken:s,email:this._email,oobCode:this._password});default:Ma(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(r,t){return Ad(r,"POST","/v1/accounts:signInWithIdp",Ri(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="http://localhost";class jo extends lg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const s=new jo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(s.idToken=t.idToken),t.accessToken&&(s.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(s.nonce=t.nonce),t.pendingToken&&(s.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(s.accessToken=t.oauthToken,s.secret=t.oauthTokenSecret):Ma("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const s=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:o}=s,u=sg(s,["providerId","signInMethod"]);if(!n||!o)return null;const c=new jo(n,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const s=this.buildRequest();return Sl(t,s)}_linkToIdToken(t,s){const n=this.buildRequest();return n.idToken=s,Sl(t,n)}_getReauthenticationResolver(t){const s=this.buildRequest();return s.autoCreate=!1,Sl(t,s)}buildRequest(){const t={requestUri:W_,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),t.postBody=wd(s)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function G_(r){const t=_c($c(r)).link,s=t?_c($c(t)).deep_link_id:null,n=_c($c(r)).deep_link_id;return(n?_c($c(n)).link:null)||n||s||t||r}class cg{constructor(t){var s,n,o,u,c,x;const p=_c($c(t)),w=(s=p.apiKey)!==null&&s!==void 0?s:null,T=(n=p.oobCode)!==null&&n!==void 0?n:null,D=q_((o=p.mode)!==null&&o!==void 0?o:null);Vt(w&&T&&D,"argument-error"),this.apiKey=w,this.operation=D,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(x=p.tenantId)!==null&&x!==void 0?x:null}static parseLink(t){const s=G_(t);try{return new cg(s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.providerId=Hl.PROVIDER_ID}static credential(t,s){return dd._fromEmailAndPassword(t,s)}static credentialWithLink(t,s){const n=cg.parseLink(s);return Vt(n,"argument-error"),dd._fromEmailAndCode(t,n.code,n.tenantId)}}Hl.PROVIDER_ID="password";Hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends Pk{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Rd{constructor(){super("facebook.com")}static credential(t){return jo._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mi.credentialFromTaggedObject(t)}static credentialFromError(t){return mi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mi.credential(t.oauthAccessToken)}catch{return null}}}mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Rd{constructor(){super("google.com"),this.addScope("profile")}static credential(t,s){return jo._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:s})}static credentialFromResult(t){return xi.credentialFromTaggedObject(t)}static credentialFromError(t){return xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:s,oauthAccessToken:n}=t;if(!s&&!n)return null;try{return xi.credential(s,n)}catch{return null}}}xi.GOOGLE_SIGN_IN_METHOD="google.com";xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Rd{constructor(){super("github.com")}static credential(t){return jo._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hi.credentialFromTaggedObject(t)}static credentialFromError(t){return hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hi.credential(t.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Rd{constructor(){super("twitter.com")}static credential(t,s){return jo._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:s})}static credentialFromResult(t){return pi.credentialFromTaggedObject(t)}static credentialFromError(t){return pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:s,oauthTokenSecret:n}=t;if(!s||!n)return null;try{return pi.credential(s,n)}catch{return null}}}pi.TWITTER_SIGN_IN_METHOD="twitter.com";pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q_(r,t){return Ad(r,"POST","/v1/accounts:signUp",Ri(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,s,n,o=!1){const u=await _a._fromIdTokenResponse(t,n,o),c=Gj(n);return new wo({user:u,providerId:c,_tokenResponse:n,operationType:s})}static async _forOperation(t,s,n){await t._updateTokensIfNecessary(n,!0);const o=Gj(n);return new wo({user:t,providerId:o,_tokenResponse:n,operationType:s})}}function Gj(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends ya{constructor(t,s,n,o){var u;super(s.code,s.message),this.operationType=n,this.user=o,Object.setPrototypeOf(this,Ju.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:s.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,s,n,o){return new Ju(t,s,n,o)}}function Ek(r,t,s,n){return(t==="reauthenticate"?s._getReauthenticationResolver(r):s._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ju._fromErrorAndOperation(r,u,t,n):u})}async function K_(r,t,s=!1){const n=await _l(r,t._linkToIdToken(r.auth,await r.getIdToken()),s);return wo._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z_(r,t,s=!1){const{auth:n}=r;if(ea(n.app))return Promise.reject(Pn(n));const o="reauthenticate";try{const u=await _l(r,Ek(n,o,t,r),s);Vt(u.idToken,n,"internal-error");const c=ig(u.idToken);Vt(c,n,"internal-error");const{sub:x}=c;return Vt(r.uid===x,n,"user-mismatch"),wo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ma(n,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(r,t,s=!1){if(ea(r.app))return Promise.reject(Pn(r));const n="signIn",o=await Ek(r,n,t),u=await wo._fromIdTokenResponse(r,n,o);return s||await r._updateCurrentUser(u.user),u}async function Y_(r,t){return Ck(Po(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(r){const t=Po(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function X_(r,t,s){if(ea(r.app))return Promise.reject(Pn(r));const n=Po(r),c=await Pp(n,{returnSecureToken:!0,email:t,password:s,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Q_).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Dk(r),p}),x=await wo._fromIdTokenResponse(n,"signIn",c);return await n._updateCurrentUser(x.user),x}function J_(r,t,s){return ea(r.app)?Promise.reject(Pn(r)):Y_(Sr(r),Hl.credential(t,s)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Dk(r),n})}function dg(r,t){return e$(Sr(r),null,t)}async function e$(r,t,s){const{auth:n}=r,u={idToken:await r.getIdToken(),returnSecureToken:!0};s&&(u.password=s);const c=await _l(r,z_(n,u));await r._updateTokensIfNecessary(c,!0)}function t$(r,t,s,n){return Sr(r).onIdTokenChanged(t,s,n)}function r$(r,t,s){return Sr(r).beforeAuthStateChanged(t,s)}function tr(r,t,s,n){return Sr(r).onAuthStateChanged(t,s,n)}function Bm(r){return Sr(r).signOut()}const em="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(t,s){this.storageRetriever=t,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(em,"1"),this.storage.removeItem(em),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,s){return this.storage.setItem(t,JSON.stringify(s)),Promise.resolve()}_get(t){const s=this.storage.getItem(t);return Promise.resolve(s?JSON.parse(s):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$=1e3,a$=10;class $k extends _k{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,s)=>this.onStorageEvent(t,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nk(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const s of Object.keys(this.listeners)){const n=this.storage.getItem(s),o=this.localCache[s];n!==o&&t(s,o,n)}}onStorageEvent(t,s=!1){if(!t.key){this.forAllChangedKeys((c,x,p)=>{this.notifyListeners(c,p)});return}const n=t.key;s?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(n);!s&&this.localCache[n]===c||this.notifyListeners(n,c)},u=this.storage.getItem(n);j_()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,a$):o()}notifyListeners(t,s){this.localCache[t]=s;const n=this.listeners[t];if(n)for(const o of Array.from(n))o(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,s,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:s,newValue:n}),!0)})},s$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(s)}_removeListener(t,s){this.listeners[t]&&(this.listeners[t].delete(s),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,s){await super._set(t,s),this.localCache[t]=JSON.stringify(s)}async _get(t){const s=await super._get(t);return this.localCache[t]=JSON.stringify(s),s}async _remove(t){await super._remove(t),delete this.localCache[t]}}$k.type="LOCAL";const n$=$k;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak extends _k{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,s){}_removeListener(t,s){}}Ak.type="SESSION";const Rk=Ak;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i$(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const s=this.receivers.find(o=>o.isListeningto(t));if(s)return s;const n=new Um(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const s=t,{eventId:n,eventType:o,data:u}=s.data,c=this.handlersMap[o];if(!c?.size)return;s.ports[0].postMessage({status:"ack",eventId:n,eventType:o});const x=Array.from(c).map(async w=>w(s.origin,u)),p=await i$(x);s.ports[0].postMessage({status:"done",eventId:n,eventType:o,response:p})}_subscribe(t,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(s)}_unsubscribe(t,s){this.handlersMap[t]&&s&&this.handlersMap[t].delete(s),(!s||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Um.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(r="",t=10){let s="";for(let n=0;n<t;n++)s+=Math.floor(Math.random()*10);return r+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,s,n=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((x,p)=>{const w=ug("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},n);c={messageChannel:o,onMessage(D){const A=D;if(A.data.eventId===w)switch(A.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),x(A.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:w,data:s},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(){return window}function l$(r){Ja().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(){return typeof Ja().WorkerGlobalScope<"u"&&typeof Ja().importScripts=="function"}async function c$(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d$(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function u$(){return Mk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="firebaseLocalStorageDb",m$=1,tm="firebaseLocalStorage",Lk="fbase_key";class Md{constructor(t){this.request=t}toPromise(){return new Promise((t,s)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function Fm(r,t){return r.transaction([tm],t?"readwrite":"readonly").objectStore(tm)}function x$(){const r=indexedDB.deleteDatabase(Ok);return new Md(r).toPromise()}function Ep(){const r=indexedDB.open(Ok,m$);return new Promise((t,s)=>{r.addEventListener("error",()=>{s(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(tm,{keyPath:Lk})}catch(o){s(o)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(tm)?t(n):(n.close(),await x$(),t(await Ep()))})})}async function Qj(r,t,s){const n=Fm(r,!0).put({[Lk]:t,value:s});return new Md(n).toPromise()}async function h$(r,t){const s=Fm(r,!1).get(t),n=await new Md(s).toPromise();return n===void 0?null:n.value}function Kj(r,t){const s=Fm(r,!0).delete(t);return new Md(s).toPromise()}const p$=800,f$=3;class Vk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ep(),this.db)}async _withRetries(t){let s=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(s++>f$)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Um._getInstance(u$()),this.receiver._subscribe("keyChanged",async(t,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(t,s)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await c$(),!this.activeServiceWorker)return;this.sender=new o$(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((s=n[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||d$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ep();return await Qj(t,em,"1"),await Kj(t,em),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,s){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qj(n,t,s)),this.localCache[t]=s,this.notifyServiceWorker(t)))}async _get(t){const s=await this._withRetries(n=>h$(n,t));return this.localCache[t]=s,s}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Kj(s,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Fm(o,!1).getAll();return new Md(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const s=[],n=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)n.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),s.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!n.has(o)&&(this.notifyListeners(o,null),s.push(o));return s}notifyListeners(t,s){this.localCache[t]=s;const n=this.listeners[t];if(n)for(const o of Array.from(n))o(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),p$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(s)}_removeListener(t,s){this.listeners[t]&&(this.listeners[t].delete(s),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vk.type="LOCAL";const g$=Vk;new $d(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(r,t){return t?Tn(t):(Vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends lg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Sl(t,this._buildIdpRequest())}_linkToIdToken(t,s){return Sl(t,this._buildIdpRequest(s))}_getReauthenticationResolver(t){return Sl(t,this._buildIdpRequest())}_buildIdpRequest(t){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(s.idToken=t),s}}function b$(r){return Ck(r.auth,new mg(r),r.bypassAuthState)}function v$(r){const{auth:t,user:s}=r;return Vt(s,t,"internal-error"),Z_(s,new mg(r),r.bypassAuthState)}async function j$(r){const{auth:t,user:s}=r;return Vt(s,t,"internal-error"),K_(s,new mg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(t,s,n,o,u=!1){this.auth=t,this.resolver=n,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(t,s)=>{this.pendingPromise={resolve:t,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:s,sessionId:n,postBody:o,tenantId:u,error:c,type:x}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:s,sessionId:n,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(x)(p))}catch(w){this.reject(w)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return b$;case"linkViaPopup":case"linkViaRedirect":return j$;case"reauthViaPopup":case"reauthViaRedirect":return v$;default:Ma(this.auth,"internal-error")}}resolve(t){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$=new $d(2e3,1e4);class fl extends zk{constructor(t,s,n,o,u){super(t,s,o,u),this.provider=n,this.authWindow=null,this.pollId=null,fl.currentPopupAction&&fl.currentPopupAction.cancel(),fl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Vt(t,this.auth,"internal-error"),t}async onExecution(){$n(this.filter.length===1,"Popup operations only handle one event");const t=ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Xa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Xa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var s,n;if(!((n=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,w$.get())};t()}}fl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$="pendingRedirect",Tu=new Map;class k$ extends zk{constructor(t,s,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,n),this.eventId=null}async execute(){let t=Tu.get(this.auth._key());if(!t){try{const n=await S$(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(s){t=()=>Promise.reject(s)}Tu.set(this.auth._key(),t)}return this.bypassAuthState||Tu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const s=await this.auth._redirectUserForId(t.eventId);if(s)return this.user=s,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S$(r,t){const s=P$(t),n=I$(r);if(!await n._isAvailable())return!1;const o=await n._get(s)==="true";return await n._remove(s),o}function T$(r,t){Tu.set(r._key(),t)}function I$(r){return Tn(r._redirectPersistence)}function P$(r){return Su(N$,r.config.apiKey,r.name)}async function E$(r,t,s=!1){if(ea(r.app))return Promise.reject(Pn(r));const n=Po(r),o=y$(n,t),c=await new k$(n,o,s).execute();return c&&!s&&(delete c.user._redirectEventId,await n._persistUserIfCurrent(c.user),await n._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$=600*1e3;class D${constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let s=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(s=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_$(t)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=t,s=!0)),s}sendToConsumer(t,s){var n;if(t.error&&!Bk(t)){const o=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";s.onError(Xa(this.auth,o))}else s.onAuthEvent(t)}isEventForConsumer(t,s){const n=s.eventId===null||!!t.eventId&&t.eventId===s.eventId;return s.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=C$&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zj(t))}saveEventToCache(t){this.cachedEventUids.add(Zj(t)),this.lastProcessedEventTime=Date.now()}}function Zj(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function Bk({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function _$(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bk(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $$(r,t={}){return Ln(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R$=/^https?/;async function M$(r){if(r.config.emulator)return;const{authorizedDomains:t}=await $$(r);for(const s of t)try{if(O$(s))return}catch{}Ma(r,"unauthorized-domain")}function O$(r){const t=Tp(),{protocol:s,hostname:n}=new URL(t);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&n===""?s==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):s==="chrome-extension:"&&c.hostname===n}if(!R$.test(s))return!1;if(A$.test(r))return n===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$=new $d(3e4,6e4);function Yj(){const r=Ja().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let s=0;s<r.CP.length;s++)r.CP[s]=null}}function V$(r){return new Promise((t,s)=>{var n,o,u;function c(){Yj(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Yj(),s(Xa(r,"network-request-failed"))},timeout:L$.get()})}if(!((o=(n=Ja().gapi)===null||n===void 0?void 0:n.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=Ja().gapi)===null||u===void 0)&&u.load)c();else{const x=C_("iframefcb");return Ja()[x]=()=>{gapi.load?c():s(Xa(r,"network-request-failed"))},Sk(`${E_()}?onload=${x}`).catch(p=>s(p))}}).catch(t=>{throw Iu=null,t})}let Iu=null;function z$(r){return Iu=Iu||V$(r),Iu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B$=new $d(5e3,15e3),U$="__/auth/iframe",F$="emulator/auth/iframe",H$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function q$(r){const t=r.config;Vt(t.authDomain,r,"auth-domain-config-required");const s=t.emulator?ng(t,F$):`https://${r.config.authDomain}/${U$}`,n={apiKey:t.apiKey,appName:r.name,v:So},o=W$.get(r.config.apiHost);o&&(n.eid=o);const u=r._getFrameworks();return u.length&&(n.fw=u.join(",")),`${s}?${wd(n).slice(1)}`}async function G$(r){const t=await z$(r),s=Ja().gapi;return Vt(s,r,"internal-error"),t.open({where:document.body,url:q$(r),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:H$,dontclear:!0},n=>new Promise(async(o,u)=>{await n.restyle({setHideOnLeave:!1});const c=Xa(r,"network-request-failed"),x=Ja().setTimeout(()=>{u(c)},B$.get());function p(){Ja().clearTimeout(x),o(n)}n.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},K$=500,Z$=600,Y$="_blank",X$="http://localhost";class Xj{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function J$(r,t,s,n=K$,o=Z$){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-n)/2,0).toString();let x="";const p=Object.assign(Object.assign({},Q$),{width:n.toString(),height:o.toString(),top:u,left:c}),w=js().toLowerCase();s&&(x=yk(w)?Y$:s),fk(w)&&(t=t||X$,p.scrollbars="yes");const T=Object.entries(p).reduce((A,[O,k])=>`${A}${O}=${k},`,"");if(v_(w)&&x!=="_self")return eA(t||"",x),new Xj(null);const D=window.open(t||"",x,T);Vt(D,r,"popup-blocked");try{D.focus()}catch{}return new Xj(D)}function eA(r,t){const s=document.createElement("a");s.href=r,s.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="__/auth/handler",rA="emulator/auth/handler",sA=encodeURIComponent("fac");async function Jj(r,t,s,n,o,u){Vt(r.config.authDomain,r,"auth-domain-config-required"),Vt(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:s,redirectUrl:n,v:So,eventId:o};if(t instanceof Pk){t.setDefaultLanguage(r.languageCode),c.providerId=t.providerId||"",cT(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,D]of Object.entries({}))c[T]=D}if(t instanceof Rd){const T=t.getScopes().filter(D=>D!=="");T.length>0&&(c.scopes=T.join(","))}r.tenantId&&(c.tid=r.tenantId);const x=c;for(const T of Object.keys(x))x[T]===void 0&&delete x[T];const p=await r._getAppCheckToken(),w=p?`#${sA}=${encodeURIComponent(p)}`:"";return`${aA(r)}?${wd(x).slice(1)}${w}`}function aA({config:r}){return r.emulator?ng(r,rA):`https://${r.authDomain}/${tA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh="webStorageSupport";class nA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rk,this._completeRedirectFn=E$,this._overrideRedirectResult=T$}async _openPopup(t,s,n,o){var u;$n((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await Jj(t,s,n,Tp(),o);return J$(t,c,ug())}async _openRedirect(t,s,n,o){await this._originValidation(t);const u=await Jj(t,s,n,Tp(),o);return l$(u),new Promise(()=>{})}_initialize(t){const s=t._key();if(this.eventManagers[s]){const{manager:o,promise:u}=this.eventManagers[s];return o?Promise.resolve(o):($n(u,"If manager is not set, promise should be"),u)}const n=this.initAndGetManager(t);return this.eventManagers[s]={promise:n},n.catch(()=>{delete this.eventManagers[s]}),n}async initAndGetManager(t){const s=await G$(t),n=new D$(t);return s.register("authEvent",o=>(Vt(o?.authEvent,t,"invalid-auth-event"),{status:n.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=s,n}_isIframeWebStorageSupported(t,s){this.iframes[t._key()].send(zh,{type:zh},o=>{var u;const c=(u=o?.[0])===null||u===void 0?void 0:u[zh];c!==void 0&&s(!!c),Ma(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const s=t._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=M$(t)),this.originValidationPromises[s]}get _shouldInitProactively(){return Nk()||gk()||og()}}const iA=nA;var ew="@firebase/auth",tw="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const s=this.auth.onIdTokenChanged(n=>{t(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,s),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const s=this.internalListeners.get(t);s&&(this.internalListeners.delete(t),s(),this.updateProactiveRefresh())}assertAuthConfigured(){Vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cA(r){Aa(new ga("auth",(t,{options:s})=>{const n=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:x}=n.options;Vt(c&&!c.includes(":"),"invalid-api-key",{appName:n.name});const p={apiKey:c,authDomain:x,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kk(r)},w=new T_(n,o,u,p);return M_(w,s),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,s,n)=>{t.getProvider("auth-internal").initialize()})),Aa(new ga("auth-internal",t=>{const s=Po(t.getProvider("auth").getImmediate());return(n=>new oA(n))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bs(ew,tw,lA(r)),Bs(ew,tw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=300,uA=ZN("authIdTokenMaxAge")||dA;let rw=null;const mA=r=>async t=>{const s=t&&await t.getIdTokenResult(),n=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(n&&n>uA)return;const o=s?.token;rw!==o&&(rw=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xg(r=ym()){const t=_i(r,"auth");if(t.isInitialized())return t.getImmediate();const s=R_(r,{popupRedirectResolver:iA,persistence:[g$,n$,Rk]}),n=ZN("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(n,location.origin);if(location.origin===u.origin){const c=mA(u.toString());r$(s,c,()=>c(s.currentUser)),t$(s,x=>c(x))}}const o=GN("auth");return o&&O_(s,`http://${o}`),s}function xA(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}I_({loadJS(r){return new Promise((t,s)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=t,n.onerror=o=>{const u=Xa("internal-error");u.customData=o,s(u)},n.type="text/javascript",n.charset="UTF-8",xA().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cA("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="firebasestorage.googleapis.com",hA="storageBucket",pA=120*1e3,fA=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn extends ya{constructor(t,s,n=0){super(Bh(t),`Firebase Storage: ${s} (${Bh(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Bh(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var on;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(on||(on={}));function Bh(r){return"storage/"+r}function gA(){const r="An unknown error occurred, please check the error payload for server response.";return new cn(on.UNKNOWN,r)}function yA(){return new cn(on.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bA(){return new cn(on.CANCELED,"User canceled the upload/download.")}function vA(r){return new cn(on.INVALID_URL,"Invalid URL '"+r+"'.")}function jA(r){return new cn(on.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function sw(r){return new cn(on.INVALID_ARGUMENT,r)}function Fk(){return new cn(on.APP_DELETED,"The Firebase app was deleted.")}function wA(r){return new cn(on.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t,s){this.bucket=t,this.path_=s}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,s){let n;try{n=$a.makeFromUrl(t,s)}catch{return new $a(t,"")}if(n.path==="")return n;throw jA(t)}static makeFromUrl(t,s){let n=null;const o="([A-Za-z0-9.\\-_]+)";function u(pe){pe.path.charAt(pe.path.length-1)==="/"&&(pe.path_=pe.path_.slice(0,-1))}const c="(/(.*))?$",x=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function w(pe){pe.path_=decodeURIComponent(pe.path)}const T="v[A-Za-z0-9_]+",D=s.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",O=new RegExp(`^https?://${D}/${T}/b/${o}/o${A}`,"i"),k={bucket:1,path:3},W=s===Uk?"(?:storage.googleapis.com|storage.cloud.google.com)":s,V="([^?#]*)",Y=new RegExp(`^https?://${W}/${o}/${V}`,"i"),ce=[{regex:x,indices:p,postModify:u},{regex:O,indices:k,postModify:w},{regex:Y,indices:{bucket:1,path:2},postModify:w}];for(let pe=0;pe<ce.length;pe++){const X=ce[pe],ne=X.regex.exec(t);if(ne){const F=ne[X.indices.bucket];let h=ne[X.indices.path];h||(h=""),n=new $a(F,h),X.postModify(n);break}}if(n==null)throw vA(t);return n}}class NA{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(r,t,s){let n=1,o=null,u=null,c=!1,x=0;function p(){return x===2}let w=!1;function T(...V){w||(w=!0,t.apply(null,V))}function D(V){o=setTimeout(()=>{o=null,r(O,p())},V)}function A(){u&&clearTimeout(u)}function O(V,...Y){if(w){A();return}if(V){A(),T.call(null,V,...Y);return}if(p()||c){A(),T.call(null,V,...Y);return}n<64&&(n*=2);let ce;x===1?(x=2,ce=0):ce=(n+Math.random())*1e3,D(ce)}let k=!1;function W(V){k||(k=!0,A(),!w&&(o!==null?(V||(x=2),clearTimeout(o),D(0)):V||(x=1)))}return D(0),u=setTimeout(()=>{c=!0,W(!0)},s),W}function SA(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(r){return r!==void 0}function aw(r,t,s,n){if(n<t)throw sw(`Invalid value for '${r}'. Expected ${t} or greater.`);if(n>s)throw sw(`Invalid value for '${r}'. Expected ${s} or less.`)}function IA(r){const t=encodeURIComponent;let s="?";for(const n in r)if(r.hasOwnProperty(n)){const o=t(n)+"="+t(r[n]);s=s+o+"&"}return s=s.slice(0,-1),s}var rm;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(rm||(rm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(r,t){const s=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=t.indexOf(r)!==-1;return s||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(t,s,n,o,u,c,x,p,w,T,D,A=!0){this.url_=t,this.method_=s,this.headers_=n,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=x,this.errorCallback_=p,this.timeout_=w,this.progressCallback_=T,this.connectionFactory_=D,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,k)=>{this.resolve_=O,this.reject_=k,this.start_()})}start_(){const t=(n,o)=>{if(o){n(!1,new du(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=x=>{const p=x.loaded,w=x.lengthComputable?x.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,w)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const x=u.getErrorCode()===rm.NO_ERROR,p=u.getStatus();if(!x||PA(p,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===rm.ABORT;n(!1,new du(!1,null,T));return}const w=this.successCodes_.indexOf(p)!==-1;n(!0,new du(w,u))})},s=(n,o)=>{const u=this.resolve_,c=this.reject_,x=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(x,x.getResponse());TA(p)?u(p):u()}catch(p){c(p)}else if(x!==null){const p=gA();p.serverResponse=x.getErrorText(),this.errorCallback_?c(this.errorCallback_(x,p)):c(p)}else if(o.canceled){const p=this.appDelete_?Fk():bA();c(p)}else{const p=yA();c(p)}};this.canceled_?s(!1,new du(!1,null,!0)):this.backoffId_=kA(t,s,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&SA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class du{constructor(t,s,n){this.wasSuccessCode=t,this.connection=s,this.canceled=!!n}}function CA(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function DA(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function _A(r,t){t&&(r["X-Firebase-GMPID"]=t)}function $A(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function AA(r,t,s,n,o,u,c=!0){const x=IA(r.urlParams),p=r.url+x,w=Object.assign({},r.headers);return _A(w,t),CA(w,s),DA(w,u),$A(w,n),new EA(p,r.method,w,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function MA(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(t,s){this._service=t,s instanceof $a?this._location=s:this._location=$a.makeFromUrl(s,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,s){return new sm(t,s)}get root(){const t=new $a(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return MA(this._location.path)}get storage(){return this._service}get parent(){const t=RA(this._location.path);if(t===null)return null;const s=new $a(this._location.bucket,t);return new sm(this._service,s)}_throwIfRoot(t){if(this._location.path==="")throw wA(t)}}function nw(r,t){const s=t?.[hA];return s==null?null:$a.makeFromBucketSpec(s,r)}function OA(r,t,s,n={}){r.host=`${t}:${s}`,r._protocol="http";const{mockUserToken:o}=n;o&&(r._overrideAuthToken=typeof o=="string"?o:YN(o,r.app.options.projectId))}class LA{constructor(t,s,n,o,u){this.app=t,this._authProvider=s,this._appCheckProvider=n,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=Uk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=pA,this._maxUploadRetryTime=fA,this._requests=new Set,o!=null?this._bucket=$a.makeFromBucketSpec(o,this._host):this._bucket=nw(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=$a.makeFromBucketSpec(this._url,t):this._bucket=nw(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){aw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){aw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const s=await t.getToken();if(s!==null)return s.accessToken}return null}async _getAppCheckToken(){if(ea(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new sm(this,t)}_makeRequest(t,s,n,o,u=!0){if(this._deleted)return new NA(Fk());{const c=AA(t,this._appId,n,o,s,this._firebaseVersion,u);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,s){const[n,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,s,n,o).getPromise()}}const iw="@firebase/storage",ow="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="storage";function VA(r=ym(),t){r=Sr(r);const n=_i(r,Hk).getImmediate({identifier:t}),o=QN("storage");return o&&zA(n,...o),n}function zA(r,t,s,n={}){OA(r,t,s,n)}function BA(r,{instanceIdentifier:t}){const s=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new LA(s,n,o,t,So)}function UA(){Aa(new ga(Hk,BA,"PUBLIC").setMultipleInstances(!0)),Bs(iw,ow,""),Bs(iw,ow,"esm2017")}UA();const FA={apiKey:"AIzaSyCh4KyvqB6d_uBpvZ6unY6BSqBAPFGAov4",authDomain:"sz-streaming.firebaseapp.com",projectId:"sz-streaming",storageBucket:"sz-streaming.firebasestorage.app",messagingSenderId:"883785518084",appId:"1:883785518084:web:92cdd90812b5e200277951",measurementId:"G-1R5T5PGGG0"},Od=a5(FA);ZD(Od);const $=bC(Od);VA(Od);const ot=xg(Od),hg=N.createContext({});function pg(r){const t=N.useRef(null);return t.current===null&&(t.current=r()),t.current}const fg=typeof window<"u",Wk=fg?N.useLayoutEffect:N.useEffect,Hm=N.createContext(null);function gg(r,t){r.indexOf(t)===-1&&r.push(t)}function yg(r,t){const s=r.indexOf(t);s>-1&&r.splice(s,1)}const An=(r,t,s)=>s>t?t:s<r?r:s;let bg=()=>{};const Rn={},qk=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function Gk(r){return typeof r=="object"&&r!==null}const Qk=r=>/^0[^.\s]+$/u.test(r);function vg(r){let t;return()=>(t===void 0&&(t=r()),t)}const fa=r=>r,HA=(r,t)=>s=>t(r(s)),Ld=(...r)=>r.reduce(HA),ud=(r,t,s)=>{const n=t-r;return n===0?1:(s-r)/n};class jg{constructor(){this.subscriptions=[]}add(t){return gg(this.subscriptions,t),()=>yg(this.subscriptions,t)}notify(t,s,n){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,s,n);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const en=r=>r*1e3,tn=r=>r/1e3;function Kk(r,t){return t?r*(1e3/t):0}const Zk=(r,t,s)=>(((1-3*s+3*t)*r+(3*s-6*t))*r+3*t)*r,WA=1e-7,qA=12;function GA(r,t,s,n,o){let u,c,x=0;do c=t+(s-t)/2,u=Zk(c,n,o)-r,u>0?s=c:t=c;while(Math.abs(u)>WA&&++x<qA);return c}function Vd(r,t,s,n){if(r===t&&s===n)return fa;const o=u=>GA(u,0,1,r,s);return u=>u===0||u===1?u:Zk(o(u),t,n)}const Yk=r=>t=>t<=.5?r(2*t)/2:(2-r(2*(1-t)))/2,Xk=r=>t=>1-r(1-t),Jk=Vd(.33,1.53,.69,.99),wg=Xk(Jk),e6=Yk(wg),t6=r=>(r*=2)<1?.5*wg(r):.5*(2-Math.pow(2,-10*(r-1))),Ng=r=>1-Math.sin(Math.acos(r)),r6=Xk(Ng),s6=Yk(Ng),QA=Vd(.42,0,1,1),KA=Vd(0,0,.58,1),a6=Vd(.42,0,.58,1),ZA=r=>Array.isArray(r)&&typeof r[0]!="number",n6=r=>Array.isArray(r)&&typeof r[0]=="number",YA={linear:fa,easeIn:QA,easeInOut:a6,easeOut:KA,circIn:Ng,circInOut:s6,circOut:r6,backIn:wg,backInOut:e6,backOut:Jk,anticipate:t6},XA=r=>typeof r=="string",lw=r=>{if(n6(r)){bg(r.length===4);const[t,s,n,o]=r;return Vd(t,s,n,o)}else if(XA(r))return YA[r];return r},uu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],cw={value:null};function JA(r,t){let s=new Set,n=new Set,o=!1,u=!1;const c=new WeakSet;let x={delta:0,timestamp:0,isProcessing:!1},p=0;function w(D){c.has(D)&&(T.schedule(D),r()),p++,D(x)}const T={schedule:(D,A=!1,O=!1)=>{const W=O&&o?s:n;return A&&c.add(D),W.has(D)||W.add(D),D},cancel:D=>{n.delete(D),c.delete(D)},process:D=>{if(x=D,o){u=!0;return}o=!0,[s,n]=[n,s],s.forEach(w),t&&cw.value&&cw.value.frameloop[t].push(p),p=0,s.clear(),o=!1,u&&(u=!1,T.process(D))}};return T}const eR=40;function i6(r,t){let s=!1,n=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,c=uu.reduce((ce,pe)=>(ce[pe]=JA(u,t?pe:void 0),ce),{}),{setup:x,read:p,resolveKeyframes:w,preUpdate:T,update:D,preRender:A,render:O,postRender:k}=c,W=()=>{const ce=Rn.useManualTiming?o.timestamp:performance.now();s=!1,Rn.useManualTiming||(o.delta=n?1e3/60:Math.max(Math.min(ce-o.timestamp,eR),1)),o.timestamp=ce,o.isProcessing=!0,x.process(o),p.process(o),w.process(o),T.process(o),D.process(o),A.process(o),O.process(o),k.process(o),o.isProcessing=!1,s&&t&&(n=!1,r(W))},V=()=>{s=!0,n=!0,o.isProcessing||r(W)};return{schedule:uu.reduce((ce,pe)=>{const X=c[pe];return ce[pe]=(ne,F=!1,h=!1)=>(s||V(),X.schedule(ne,F,h)),ce},{}),cancel:ce=>{for(let pe=0;pe<uu.length;pe++)c[uu[pe]].cancel(ce)},state:o,steps:c}}const{schedule:_r,cancel:Ci,state:os,steps:Uh}=i6(typeof requestAnimationFrame<"u"?requestAnimationFrame:fa,!0);let Pu;function tR(){Pu=void 0}const zs={now:()=>(Pu===void 0&&zs.set(os.isProcessing||Rn.useManualTiming?os.timestamp:performance.now()),Pu),set:r=>{Pu=r,queueMicrotask(tR)}},o6=r=>t=>typeof t=="string"&&t.startsWith(r),kg=o6("--"),rR=o6("var(--"),Sg=r=>rR(r)?sR.test(r.split("/*")[0].trim()):!1,sR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wl={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},md={...Wl,transform:r=>An(0,1,r)},mu={...Wl,default:1},Gc=r=>Math.round(r*1e5)/1e5,Tg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function aR(r){return r==null}const nR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ig=(r,t)=>s=>!!(typeof s=="string"&&nR.test(s)&&s.startsWith(r)||t&&!aR(s)&&Object.prototype.hasOwnProperty.call(s,t)),l6=(r,t,s)=>n=>{if(typeof n!="string")return n;const[o,u,c,x]=n.match(Tg);return{[r]:parseFloat(o),[t]:parseFloat(u),[s]:parseFloat(c),alpha:x!==void 0?parseFloat(x):1}},iR=r=>An(0,255,r),Fh={...Wl,transform:r=>Math.round(iR(r))},co={test:Ig("rgb","red"),parse:l6("red","green","blue"),transform:({red:r,green:t,blue:s,alpha:n=1})=>"rgba("+Fh.transform(r)+", "+Fh.transform(t)+", "+Fh.transform(s)+", "+Gc(md.transform(n))+")"};function oR(r){let t="",s="",n="",o="";return r.length>5?(t=r.substring(1,3),s=r.substring(3,5),n=r.substring(5,7),o=r.substring(7,9)):(t=r.substring(1,2),s=r.substring(2,3),n=r.substring(3,4),o=r.substring(4,5),t+=t,s+=s,n+=n,o+=o),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}}const Cp={test:Ig("#"),parse:oR,transform:co.transform},zd=r=>({test:t=>typeof t=="string"&&t.endsWith(r)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${r}`}),ui=zd("deg"),rn=zd("%"),zt=zd("px"),lR=zd("vh"),cR=zd("vw"),dw={...rn,parse:r=>rn.parse(r)/100,transform:r=>rn.transform(r*100)},gl={test:Ig("hsl","hue"),parse:l6("hue","saturation","lightness"),transform:({hue:r,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(r)+", "+rn.transform(Gc(t))+", "+rn.transform(Gc(s))+", "+Gc(md.transform(n))+")"},ys={test:r=>co.test(r)||Cp.test(r)||gl.test(r),parse:r=>co.test(r)?co.parse(r):gl.test(r)?gl.parse(r):Cp.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?co.transform(r):gl.transform(r)},dR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uR(r){return isNaN(r)&&typeof r=="string"&&(r.match(Tg)?.length||0)+(r.match(dR)?.length||0)>0}const c6="number",d6="color",mR="var",xR="var(",uw="${}",hR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xd(r){const t=r.toString(),s=[],n={color:[],number:[],var:[]},o=[];let u=0;const x=t.replace(hR,p=>(ys.test(p)?(n.color.push(u),o.push(d6),s.push(ys.parse(p))):p.startsWith(xR)?(n.var.push(u),o.push(mR),s.push(p)):(n.number.push(u),o.push(c6),s.push(parseFloat(p))),++u,uw)).split(uw);return{values:s,split:x,indexes:n,types:o}}function u6(r){return xd(r).values}function m6(r){const{split:t,types:s}=xd(r),n=t.length;return o=>{let u="";for(let c=0;c<n;c++)if(u+=t[c],o[c]!==void 0){const x=s[c];x===c6?u+=Gc(o[c]):x===d6?u+=ys.transform(o[c]):u+=o[c]}return u}}const pR=r=>typeof r=="number"?0:r;function fR(r){const t=u6(r);return m6(r)(t.map(pR))}const Di={test:uR,parse:u6,createTransformer:m6,getAnimatableNone:fR};function Hh(r,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?r+(t-r)*6*s:s<1/2?t:s<2/3?r+(t-r)*(2/3-s)*6:r}function gR({hue:r,saturation:t,lightness:s,alpha:n}){r/=360,t/=100,s/=100;let o=0,u=0,c=0;if(!t)o=u=c=s;else{const x=s<.5?s*(1+t):s+t-s*t,p=2*s-x;o=Hh(p,x,r+1/3),u=Hh(p,x,r),c=Hh(p,x,r-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:n}}function am(r,t){return s=>s>0?t:r}const Cr=(r,t,s)=>r+(t-r)*s,Wh=(r,t,s)=>{const n=r*r,o=s*(t*t-n)+n;return o<0?0:Math.sqrt(o)},yR=[Cp,co,gl],bR=r=>yR.find(t=>t.test(r));function mw(r){const t=bR(r);if(!t)return!1;let s=t.parse(r);return t===gl&&(s=gR(s)),s}const xw=(r,t)=>{const s=mw(r),n=mw(t);if(!s||!n)return am(r,t);const o={...s};return u=>(o.red=Wh(s.red,n.red,u),o.green=Wh(s.green,n.green,u),o.blue=Wh(s.blue,n.blue,u),o.alpha=Cr(s.alpha,n.alpha,u),co.transform(o))},Dp=new Set(["none","hidden"]);function vR(r,t){return Dp.has(r)?s=>s<=0?r:t:s=>s>=1?t:r}function jR(r,t){return s=>Cr(r,t,s)}function Pg(r){return typeof r=="number"?jR:typeof r=="string"?Sg(r)?am:ys.test(r)?xw:kR:Array.isArray(r)?x6:typeof r=="object"?ys.test(r)?xw:wR:am}function x6(r,t){const s=[...r],n=s.length,o=r.map((u,c)=>Pg(u)(u,t[c]));return u=>{for(let c=0;c<n;c++)s[c]=o[c](u);return s}}function wR(r,t){const s={...r,...t},n={};for(const o in s)r[o]!==void 0&&t[o]!==void 0&&(n[o]=Pg(r[o])(r[o],t[o]));return o=>{for(const u in n)s[u]=n[u](o);return s}}function NR(r,t){const s=[],n={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=r.indexes[u][n[u]],x=r.values[c]??0;s[o]=x,n[u]++}return s}const kR=(r,t)=>{const s=Di.createTransformer(t),n=xd(r),o=xd(t);return n.indexes.var.length===o.indexes.var.length&&n.indexes.color.length===o.indexes.color.length&&n.indexes.number.length>=o.indexes.number.length?Dp.has(r)&&!o.values.length||Dp.has(t)&&!n.values.length?vR(r,t):Ld(x6(NR(n,o),o.values),s):am(r,t)};function h6(r,t,s){return typeof r=="number"&&typeof t=="number"&&typeof s=="number"?Cr(r,t,s):Pg(r)(r,t)}const SR=r=>{const t=({timestamp:s})=>r(s);return{start:(s=!0)=>_r.update(t,s),stop:()=>Ci(t),now:()=>os.isProcessing?os.timestamp:zs.now()}},p6=(r,t,s=10)=>{let n="";const o=Math.max(Math.round(t/s),2);for(let u=0;u<o;u++)n+=r(u/(o-1))+", ";return`linear(${n.substring(0,n.length-2)})`},nm=2e4;function Eg(r){let t=0;const s=50;let n=r.next(t);for(;!n.done&&t<nm;)t+=s,n=r.next(t);return t>=nm?1/0:t}function TR(r,t=100,s){const n=s({...r,keyframes:[0,t]}),o=Math.min(Eg(n),nm);return{type:"keyframes",ease:u=>n.next(o*u).value/t,duration:tn(o)}}const IR=5;function f6(r,t,s){const n=Math.max(t-IR,0);return Kk(s-r(n),t-n)}const Mr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qh=.001;function PR({duration:r=Mr.duration,bounce:t=Mr.bounce,velocity:s=Mr.velocity,mass:n=Mr.mass}){let o,u,c=1-t;c=An(Mr.minDamping,Mr.maxDamping,c),r=An(Mr.minDuration,Mr.maxDuration,tn(r)),c<1?(o=w=>{const T=w*c,D=T*r,A=T-s,O=_p(w,c),k=Math.exp(-D);return qh-A/O*k},u=w=>{const D=w*c*r,A=D*s+s,O=Math.pow(c,2)*Math.pow(w,2)*r,k=Math.exp(-D),W=_p(Math.pow(w,2),c);return(-o(w)+qh>0?-1:1)*((A-O)*k)/W}):(o=w=>{const T=Math.exp(-w*r),D=(w-s)*r+1;return-qh+T*D},u=w=>{const T=Math.exp(-w*r),D=(s-w)*(r*r);return T*D});const x=5/r,p=CR(o,u,x);if(r=en(r),isNaN(p))return{stiffness:Mr.stiffness,damping:Mr.damping,duration:r};{const w=Math.pow(p,2)*n;return{stiffness:w,damping:c*2*Math.sqrt(n*w),duration:r}}}const ER=12;function CR(r,t,s){let n=s;for(let o=1;o<ER;o++)n=n-r(n)/t(n);return n}function _p(r,t){return r*Math.sqrt(1-t*t)}const DR=["duration","bounce"],_R=["stiffness","damping","mass"];function hw(r,t){return t.some(s=>r[s]!==void 0)}function $R(r){let t={velocity:Mr.velocity,stiffness:Mr.stiffness,damping:Mr.damping,mass:Mr.mass,isResolvedFromDuration:!1,...r};if(!hw(r,_R)&&hw(r,DR))if(r.visualDuration){const s=r.visualDuration,n=2*Math.PI/(s*1.2),o=n*n,u=2*An(.05,1,1-(r.bounce||0))*Math.sqrt(o);t={...t,mass:Mr.mass,stiffness:o,damping:u}}else{const s=PR(r);t={...t,...s,mass:Mr.mass},t.isResolvedFromDuration=!0}return t}function im(r=Mr.visualDuration,t=Mr.bounce){const s=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:t}:r;let{restSpeed:n,restDelta:o}=s;const u=s.keyframes[0],c=s.keyframes[s.keyframes.length-1],x={done:!1,value:u},{stiffness:p,damping:w,mass:T,duration:D,velocity:A,isResolvedFromDuration:O}=$R({...s,velocity:-tn(s.velocity||0)}),k=A||0,W=w/(2*Math.sqrt(p*T)),V=c-u,Y=tn(Math.sqrt(p/T)),ie=Math.abs(V)<5;n||(n=ie?Mr.restSpeed.granular:Mr.restSpeed.default),o||(o=ie?Mr.restDelta.granular:Mr.restDelta.default);let ce;if(W<1){const X=_p(Y,W);ce=ne=>{const F=Math.exp(-W*Y*ne);return c-F*((k+W*Y*V)/X*Math.sin(X*ne)+V*Math.cos(X*ne))}}else if(W===1)ce=X=>c-Math.exp(-Y*X)*(V+(k+Y*V)*X);else{const X=Y*Math.sqrt(W*W-1);ce=ne=>{const F=Math.exp(-W*Y*ne),h=Math.min(X*ne,300);return c-F*((k+W*Y*V)*Math.sinh(h)+X*V*Math.cosh(h))/X}}const pe={calculatedDuration:O&&D||null,next:X=>{const ne=ce(X);if(O)x.done=X>=D;else{let F=X===0?k:0;W<1&&(F=X===0?en(k):f6(ce,X,ne));const h=Math.abs(F)<=n,Z=Math.abs(c-ne)<=o;x.done=h&&Z}return x.value=x.done?c:ne,x},toString:()=>{const X=Math.min(Eg(pe),nm),ne=p6(F=>pe.next(X*F).value,X,30);return X+"ms "+ne},toTransition:()=>{}};return pe}im.applyToOptions=r=>{const t=TR(r,100,im);return r.ease=t.ease,r.duration=en(t.duration),r.type="keyframes",r};function $p({keyframes:r,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:x,max:p,restDelta:w=.5,restSpeed:T}){const D=r[0],A={done:!1,value:D},O=h=>x!==void 0&&h<x||p!==void 0&&h>p,k=h=>x===void 0?p:p===void 0||Math.abs(x-h)<Math.abs(p-h)?x:p;let W=s*t;const V=D+W,Y=c===void 0?V:c(V);Y!==V&&(W=Y-D);const ie=h=>-W*Math.exp(-h/n),ce=h=>Y+ie(h),pe=h=>{const Z=ie(h),Q=ce(h);A.done=Math.abs(Z)<=w,A.value=A.done?Y:Q};let X,ne;const F=h=>{O(A.value)&&(X=h,ne=im({keyframes:[A.value,k(A.value)],velocity:f6(ce,h,A.value),damping:o,stiffness:u,restDelta:w,restSpeed:T}))};return F(0),{calculatedDuration:null,next:h=>{let Z=!1;return!ne&&X===void 0&&(Z=!0,pe(h),F(h)),X!==void 0&&h>=X?ne.next(h-X):(!Z&&pe(h),A)}}}function AR(r,t,s){const n=[],o=s||Rn.mix||h6,u=r.length-1;for(let c=0;c<u;c++){let x=o(r[c],r[c+1]);if(t){const p=Array.isArray(t)?t[c]||fa:t;x=Ld(p,x)}n.push(x)}return n}function RR(r,t,{clamp:s=!0,ease:n,mixer:o}={}){const u=r.length;if(bg(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=r[0]===r[1];r[0]>r[u-1]&&(r=[...r].reverse(),t=[...t].reverse());const x=AR(t,n,o),p=x.length,w=T=>{if(c&&T<r[0])return t[0];let D=0;if(p>1)for(;D<r.length-2&&!(T<r[D+1]);D++);const A=ud(r[D],r[D+1],T);return x[D](A)};return s?T=>w(An(r[0],r[u-1],T)):w}function MR(r,t){const s=r[r.length-1];for(let n=1;n<=t;n++){const o=ud(0,t,n);r.push(Cr(s,1,o))}}function OR(r){const t=[0];return MR(t,r.length-1),t}function LR(r,t){return r.map(s=>s*t)}function VR(r,t){return r.map(()=>t||a6).splice(0,r.length-1)}function Qc({duration:r=300,keyframes:t,times:s,ease:n="easeInOut"}){const o=ZA(n)?n.map(lw):lw(n),u={done:!1,value:t[0]},c=LR(s&&s.length===t.length?s:OR(t),r),x=RR(c,t,{ease:Array.isArray(o)?o:VR(t,o)});return{calculatedDuration:r,next:p=>(u.value=x(p),u.done=p>=r,u)}}const zR=r=>r!==null;function Cg(r,{repeat:t,repeatType:s="loop"},n,o=1){const u=r.filter(zR),x=o<0||t&&s!=="loop"&&t%2===1?0:u.length-1;return!x||n===void 0?u[x]:n}const BR={decay:$p,inertia:$p,tween:Qc,keyframes:Qc,spring:im};function g6(r){typeof r.type=="string"&&(r.type=BR[r.type])}class Dg{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const UR=r=>r/100;class _g extends Dg{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(s=!0)=>{if(s){const{motionValue:n}=this.options;n&&n.updatedAt!==zs.now()&&this.tick(zs.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;g6(t);const{type:s=Qc,repeat:n=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:x}=t;const p=s||Qc;p!==Qc&&typeof x[0]!="number"&&(this.mixKeyframes=Ld(UR,h6(x[0],x[1])),x=[0,100]);const w=p({...t,keyframes:x});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...x].reverse(),velocity:-c})),w.calculatedDuration===null&&(w.calculatedDuration=Eg(w));const{calculatedDuration:T}=w;this.calculatedDuration=T,this.resolvedDuration=T+o,this.totalDuration=this.resolvedDuration*(n+1)-o,this.generator=w}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:n,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:x,calculatedDuration:p}=this;if(this.startTime===null)return n.next(0);const{delay:w=0,keyframes:T,repeat:D,repeatType:A,repeatDelay:O,type:k,onUpdate:W,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const Y=this.currentTime-w*(this.playbackSpeed>=0?1:-1),ie=this.playbackSpeed>=0?Y<0:Y>o;this.currentTime=Math.max(Y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let ce=this.currentTime,pe=n;if(D){const h=Math.min(this.currentTime,o)/x;let Z=Math.floor(h),Q=h%1;!Q&&h>=1&&(Q=1),Q===1&&Z--,Z=Math.min(Z,D+1),!!(Z%2)&&(A==="reverse"?(Q=1-Q,O&&(Q-=O/x)):A==="mirror"&&(pe=c)),ce=An(0,1,Q)*x}const X=ie?{done:!1,value:T[0]}:pe.next(ce);u&&(X.value=u(X.value));let{done:ne}=X;!ie&&p!==null&&(ne=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ne);return F&&k!==$p&&(X.value=Cg(T,this.options,V,this.speed)),W&&W(X.value),F&&this.finish(),X}then(t,s){return this.finished.then(t,s)}get duration(){return tn(this.calculatedDuration)}get time(){return tn(this.currentTime)}set time(t){t=en(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(zs.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=tn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=SR,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=s??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function FR(r){for(let t=1;t<r.length;t++)r[t]??(r[t]=r[t-1])}const uo=r=>r*180/Math.PI,Ap=r=>{const t=uo(Math.atan2(r[1],r[0]));return Rp(t)},HR={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:Ap,rotateZ:Ap,skewX:r=>uo(Math.atan(r[1])),skewY:r=>uo(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},Rp=r=>(r=r%360,r<0&&(r+=360),r),pw=Ap,fw=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),gw=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),WR={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:fw,scaleY:gw,scale:r=>(fw(r)+gw(r))/2,rotateX:r=>Rp(uo(Math.atan2(r[6],r[5]))),rotateY:r=>Rp(uo(Math.atan2(-r[2],r[0]))),rotateZ:pw,rotate:pw,skewX:r=>uo(Math.atan(r[4])),skewY:r=>uo(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function Mp(r){return r.includes("scale")?1:0}function Op(r,t){if(!r||r==="none")return Mp(t);const s=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,o;if(s)n=WR,o=s;else{const x=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=HR,o=x}if(!o)return Mp(t);const u=n[t],c=o[1].split(",").map(GR);return typeof u=="function"?u(c):c[u]}const qR=(r,t)=>{const{transform:s="none"}=getComputedStyle(r);return Op(s,t)};function GR(r){return parseFloat(r.trim())}const ql=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gl=new Set(ql),yw=r=>r===Wl||r===zt,QR=new Set(["x","y","z"]),KR=ql.filter(r=>!QR.has(r));function ZR(r){const t=[];return KR.forEach(s=>{const n=r.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const ho={width:({x:r},{paddingLeft:t="0",paddingRight:s="0"})=>r.max-r.min-parseFloat(t)-parseFloat(s),height:({y:r},{paddingTop:t="0",paddingBottom:s="0"})=>r.max-r.min-parseFloat(t)-parseFloat(s),top:(r,{top:t})=>parseFloat(t),left:(r,{left:t})=>parseFloat(t),bottom:({y:r},{top:t})=>parseFloat(t)+(r.max-r.min),right:({x:r},{left:t})=>parseFloat(t)+(r.max-r.min),x:(r,{transform:t})=>Op(t,"x"),y:(r,{transform:t})=>Op(t,"y")};ho.translateX=ho.x;ho.translateY=ho.y;const po=new Set;let Lp=!1,Vp=!1,zp=!1;function y6(){if(Vp){const r=Array.from(po).filter(n=>n.needsMeasurement),t=new Set(r.map(n=>n.element)),s=new Map;t.forEach(n=>{const o=ZR(n);o.length&&(s.set(n,o),n.render())}),r.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const o=s.get(n);o&&o.forEach(([u,c])=>{n.getValue(u)?.set(c)})}),r.forEach(n=>n.measureEndState()),r.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Vp=!1,Lp=!1,po.forEach(r=>r.complete(zp)),po.clear()}function b6(){po.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(Vp=!0)})}function YR(){zp=!0,b6(),y6(),zp=!1}class $g{constructor(t,s,n,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(po.add(this),Lp||(Lp=!0,_r.read(b6),_r.resolveKeyframes(y6))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(n&&s){const x=n.readValue(s,c);x!=null&&(t[0]=x)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}FR(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),po.delete(this)}cancel(){this.state==="scheduled"&&(po.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const XR=r=>r.startsWith("--");function JR(r,t,s){XR(t)?r.style.setProperty(t,s):r.style[t]=s}const e8=vg(()=>window.ScrollTimeline!==void 0),t8={};function r8(r,t){const s=vg(r);return()=>t8[t]??s()}const v6=r8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lc=([r,t,s,n])=>`cubic-bezier(${r}, ${t}, ${s}, ${n})`,bw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lc([0,.65,.55,1]),circOut:Lc([.55,0,1,.45]),backIn:Lc([.31,.01,.66,-.59]),backOut:Lc([.33,1.53,.69,.99])};function j6(r,t){if(r)return typeof r=="function"?v6()?p6(r,t):"ease-out":n6(r)?Lc(r):Array.isArray(r)?r.map(s=>j6(s,t)||bw.easeOut):bw[r]}function s8(r,t,s,{delay:n=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:x="easeOut",times:p}={},w=void 0){const T={[t]:s};p&&(T.offset=p);const D=j6(x,o);Array.isArray(D)&&(T.easing=D);const A={delay:n,duration:o,easing:Array.isArray(D)?"linear":D,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return w&&(A.pseudoElement=w),r.animate(T,A)}function w6(r){return typeof r=="function"&&"applyToOptions"in r}function a8({type:r,...t}){return w6(r)&&v6()?r.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class n8 extends Dg{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:n,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:x,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,bg(typeof t.type!="string");const w=a8(t);this.animation=s8(s,n,o,w,u),w.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const T=Cg(o,this.options,x,this.speed);this.updateMotionValue?this.updateMotionValue(T):JR(s,n,T),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return tn(Number(t))}get time(){return tn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=en(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&e8()?(this.animation.timeline=t,fa):s(this)}}const N6={anticipate:t6,backInOut:e6,circInOut:s6};function i8(r){return r in N6}function o8(r){typeof r.ease=="string"&&i8(r.ease)&&(r.ease=N6[r.ease])}const vw=10;class l8 extends n8{constructor(t){o8(t),g6(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:n,onComplete:o,element:u,...c}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const x=new _g({...c,autoplay:!1}),p=en(this.finishedTime??this.time);s.setWithVelocity(x.sample(p-vw).value,x.sample(p).value,vw),x.stop()}}const jw=(r,t)=>t==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(Di.test(r)||r==="0")&&!r.startsWith("url("));function c8(r){const t=r[0];if(r.length===1)return!0;for(let s=0;s<r.length;s++)if(r[s]!==t)return!0}function d8(r,t,s,n){const o=r[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=r[r.length-1],c=jw(o,t),x=jw(u,t);return!c||!x?!1:c8(r)||(s==="spring"||w6(s))&&n}function Ag(r){return Gk(r)&&"offsetHeight"in r}const u8=new Set(["opacity","clipPath","filter","transform"]),m8=vg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function x8(r){const{motionValue:t,name:s,repeatDelay:n,repeatType:o,damping:u,type:c}=r;if(!Ag(t?.owner?.current))return!1;const{onUpdate:x,transformTemplate:p}=t.owner.getProps();return m8()&&s&&u8.has(s)&&(s!=="transform"||!p)&&!x&&!n&&o!=="mirror"&&u!==0&&c!=="inertia"}const h8=40;class p8 extends Dg{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:x,name:p,motionValue:w,element:T,...D}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=zs.now();const A={autoplay:t,delay:s,type:n,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:w,element:T,...D},O=T?.KeyframeResolver||$g;this.keyframeResolver=new O(x,(k,W,V)=>this.onKeyframesResolved(k,W,A,!V),p,w,T),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,s,n,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:x,delay:p,isHandoff:w,onUpdate:T}=n;this.resolvedAt=zs.now(),d8(t,u,c,x)||((Rn.instantAnimations||!p)&&T?.(Cg(t,n,s)),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const A={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>h8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...n,keyframes:t},O=!w&&x8(A)?new l8({...A,element:A.motionValue.owner.current}):new _g(A);O.finished.then(()=>this.notifyFinished()).catch(fa),this.pendingTimeline&&(this.stopTimeline=O.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=O}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),YR()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const f8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function g8(r){const t=f8.exec(r);if(!t)return[,];const[,s,n,o]=t;return[`--${s??n}`,o]}function k6(r,t,s=1){const[n,o]=g8(r);if(!n)return;const u=window.getComputedStyle(t).getPropertyValue(n);if(u){const c=u.trim();return qk(c)?parseFloat(c):c}return Sg(o)?k6(o,t,s+1):o}function Rg(r,t){return r?.[t]??r?.default??r}const S6=new Set(["width","height","top","left","right","bottom",...ql]),y8={test:r=>r==="auto",parse:r=>r},T6=r=>t=>t.test(r),I6=[Wl,zt,rn,ui,cR,lR,y8],ww=r=>I6.find(T6(r));function b8(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||Qk(r):!0}const v8=new Set(["brightness","contrast","saturate","opacity"]);function j8(r){const[t,s]=r.slice(0,-1).split("(");if(t==="drop-shadow")return r;const[n]=s.match(Tg)||[];if(!n)return r;const o=s.replace(n,"");let u=v8.has(t)?1:0;return n!==s&&(u*=100),t+"("+u+o+")"}const w8=/\b([a-z-]*)\(.*?\)/gu,Bp={...Di,getAnimatableNone:r=>{const t=r.match(w8);return t?t.map(j8).join(" "):r}},Nw={...Wl,transform:Math.round},N8={rotate:ui,rotateX:ui,rotateY:ui,rotateZ:ui,scale:mu,scaleX:mu,scaleY:mu,scaleZ:mu,skew:ui,skewX:ui,skewY:ui,distance:zt,translateX:zt,translateY:zt,translateZ:zt,x:zt,y:zt,z:zt,perspective:zt,transformPerspective:zt,opacity:md,originX:dw,originY:dw,originZ:zt},Mg={borderWidth:zt,borderTopWidth:zt,borderRightWidth:zt,borderBottomWidth:zt,borderLeftWidth:zt,borderRadius:zt,radius:zt,borderTopLeftRadius:zt,borderTopRightRadius:zt,borderBottomRightRadius:zt,borderBottomLeftRadius:zt,width:zt,maxWidth:zt,height:zt,maxHeight:zt,top:zt,right:zt,bottom:zt,left:zt,padding:zt,paddingTop:zt,paddingRight:zt,paddingBottom:zt,paddingLeft:zt,margin:zt,marginTop:zt,marginRight:zt,marginBottom:zt,marginLeft:zt,backgroundPositionX:zt,backgroundPositionY:zt,...N8,zIndex:Nw,fillOpacity:md,strokeOpacity:md,numOctaves:Nw},k8={...Mg,color:ys,backgroundColor:ys,outlineColor:ys,fill:ys,stroke:ys,borderColor:ys,borderTopColor:ys,borderRightColor:ys,borderBottomColor:ys,borderLeftColor:ys,filter:Bp,WebkitFilter:Bp},P6=r=>k8[r];function E6(r,t){let s=P6(r);return s!==Bp&&(s=Di),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const S8=new Set(["auto","none","0"]);function T8(r,t,s){let n=0,o;for(;n<r.length&&!o;){const u=r[n];typeof u=="string"&&!S8.has(u)&&xd(u).values.length&&(o=r[n]),n++}if(o&&s)for(const u of t)r[u]=E6(s,o)}class I8 extends $g{constructor(t,s,n,o,u){super(t,s,n,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let w=t[p];if(typeof w=="string"&&(w=w.trim(),Sg(w))){const T=k6(w,s.current);T!==void 0&&(t[p]=T),p===t.length-1&&(this.finalKeyframe=w)}}if(this.resolveNoneKeyframes(),!S6.has(n)||t.length!==2)return;const[o,u]=t,c=ww(o),x=ww(u);if(c!==x)if(yw(c)&&yw(x))for(let p=0;p<t.length;p++){const w=t[p];typeof w=="string"&&(t[p]=parseFloat(w))}else ho[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let o=0;o<t.length;o++)(t[o]===null||b8(t[o]))&&n.push(o);n.length&&T8(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ho[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const o=s[s.length-1];o!==void 0&&t.getValue(n,o).jump(o,!1)}measureEndState(){const{element:t,name:s,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const o=t.getValue(s);o&&o.jump(this.measuredOrigin,!1);const u=n.length-1,c=n[u];n[u]=ho[s](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([x,p])=>{t.getValue(x).set(p)}),this.resolveNoneKeyframes()}}function P8(r,t,s){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let n=document;const o=s?.[r]??n.querySelectorAll(r);return o?Array.from(o):[]}return Array.from(r)}const kw=30,E8=r=>!isNaN(parseFloat(r));class C8{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,o=!0)=>{const u=zs.now();if(this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();o&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=zs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=E8(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new jg);const n=this.events[t].add(s);return t==="change"?()=>{n(),_r.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=zs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>kw)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,kw);return Kk(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $l(r,t){return new C8(r,t)}const C6=(r,t)=>t&&typeof r=="number"?t.transform(r):r,{schedule:Og}=i6(queueMicrotask,!1),Da={x:!1,y:!1};function D6(){return Da.x||Da.y}function D8(r){return r==="x"||r==="y"?Da[r]?null:(Da[r]=!0,()=>{Da[r]=!1}):Da.x||Da.y?null:(Da.x=Da.y=!0,()=>{Da.x=Da.y=!1})}function _6(r,t){const s=P8(r),n=new AbortController,o={passive:!0,...t,signal:n.signal};return[s,o,()=>n.abort()]}function Sw(r){return!(r.pointerType==="touch"||D6())}function _8(r,t,s={}){const[n,o,u]=_6(r,s),c=x=>{if(!Sw(x))return;const{target:p}=x,w=t(p,x);if(typeof w!="function"||!p)return;const T=D=>{Sw(D)&&(w(D),p.removeEventListener("pointerleave",T))};p.addEventListener("pointerleave",T,o)};return n.forEach(x=>{x.addEventListener("pointerenter",c,o)}),u}const $6=(r,t)=>t?r===t?!0:$6(r,t.parentElement):!1,Lg=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,$8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function A8(r){return $8.has(r.tagName)||r.tabIndex!==-1}const Eu=new WeakSet;function Tw(r){return t=>{t.key==="Enter"&&r(t)}}function Gh(r,t){r.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const R8=(r,t)=>{const s=r.currentTarget;if(!s)return;const n=Tw(()=>{if(Eu.has(s))return;Gh(s,"down");const o=Tw(()=>{Gh(s,"up")}),u=()=>Gh(s,"cancel");s.addEventListener("keyup",o,t),s.addEventListener("blur",u,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)};function Iw(r){return Lg(r)&&!D6()}function M8(r,t,s={}){const[n,o,u]=_6(r,s),c=x=>{const p=x.currentTarget;if(!Iw(x))return;Eu.add(p);const w=t(p,x),T=(O,k)=>{window.removeEventListener("pointerup",D),window.removeEventListener("pointercancel",A),Eu.has(p)&&Eu.delete(p),Iw(O)&&typeof w=="function"&&w(O,{success:k})},D=O=>{T(O,p===window||p===document||s.useGlobalTarget||$6(p,O.target))},A=O=>{T(O,!1)};window.addEventListener("pointerup",D,o),window.addEventListener("pointercancel",A,o)};return n.forEach(x=>{(s.useGlobalTarget?window:x).addEventListener("pointerdown",c,o),Ag(x)&&(x.addEventListener("focus",w=>R8(w,o)),!A8(x)&&!x.hasAttribute("tabindex")&&(x.tabIndex=0))}),u}function A6(r){return Gk(r)&&"ownerSVGElement"in r}function O8(r){return A6(r)&&r.tagName==="svg"}const vs=r=>!!(r&&r.getVelocity),L8=[...I6,ys,Di],V8=r=>L8.find(T6(r)),Vg=N.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class z8 extends N.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=s.offsetParent,o=Ag(n)&&n.offsetWidth||0,u=this.props.sizeRef.current;u.height=s.offsetHeight||0,u.width=s.offsetWidth||0,u.top=s.offsetTop,u.left=s.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function B8({children:r,isPresent:t,anchorX:s}){const n=N.useId(),o=N.useRef(null),u=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=N.useContext(Vg);return N.useInsertionEffect(()=>{const{width:x,height:p,top:w,left:T,right:D}=u.current;if(t||!o.current||!x||!p)return;const A=s==="left"?`left: ${T}`:`right: ${D}`;o.current.dataset.motionPopId=n;const O=document.createElement("style");return c&&(O.nonce=c),document.head.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${x}px !important;
            height: ${p}px !important;
            ${A}px !important;
            top: ${w}px !important;
          }
        `),()=>{document.head.contains(O)&&document.head.removeChild(O)}},[t]),e.jsx(z8,{isPresent:t,childRef:o,sizeRef:u,children:N.cloneElement(r,{ref:o})})}const U8=({children:r,initial:t,isPresent:s,onExitComplete:n,custom:o,presenceAffectsLayout:u,mode:c,anchorX:x})=>{const p=pg(F8),w=N.useId();let T=!0,D=N.useMemo(()=>(T=!1,{id:w,initial:t,isPresent:s,custom:o,onExitComplete:A=>{p.set(A,!0);for(const O of p.values())if(!O)return;n&&n()},register:A=>(p.set(A,!1),()=>p.delete(A))}),[s,p,n]);return u&&T&&(D={...D}),N.useMemo(()=>{p.forEach((A,O)=>p.set(O,!1))},[s]),N.useEffect(()=>{!s&&!p.size&&n&&n()},[s]),c==="popLayout"&&(r=e.jsx(B8,{isPresent:s,anchorX:x,children:r})),e.jsx(Hm.Provider,{value:D,children:r})};function F8(){return new Map}function R6(r=!0){const t=N.useContext(Hm);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:o}=t,u=N.useId();N.useEffect(()=>{if(r)return o(u)},[r]);const c=N.useCallback(()=>r&&n&&n(u),[u,n,r]);return!s&&n?[!1,c]:[!0]}const xu=r=>r.key||"";function Pw(r){const t=[];return N.Children.forEach(r,s=>{N.isValidElement(s)&&t.push(s)}),t}const zg=({children:r,custom:t,initial:s=!0,onExitComplete:n,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:x="left"})=>{const[p,w]=R6(c),T=N.useMemo(()=>Pw(r),[r]),D=c&&!p?[]:T.map(xu),A=N.useRef(!0),O=N.useRef(T),k=pg(()=>new Map),[W,V]=N.useState(T),[Y,ie]=N.useState(T);Wk(()=>{A.current=!1,O.current=T;for(let X=0;X<Y.length;X++){const ne=xu(Y[X]);D.includes(ne)?k.delete(ne):k.get(ne)!==!0&&k.set(ne,!1)}},[Y,D.length,D.join("-")]);const ce=[];if(T!==W){let X=[...T];for(let ne=0;ne<Y.length;ne++){const F=Y[ne],h=xu(F);D.includes(h)||(X.splice(ne,0,F),ce.push(F))}return u==="wait"&&ce.length&&(X=ce),ie(Pw(X)),V(T),null}const{forceRender:pe}=N.useContext(hg);return e.jsx(e.Fragment,{children:Y.map(X=>{const ne=xu(X),F=c&&!p?!1:T===Y||D.includes(ne),h=()=>{if(k.has(ne))k.set(ne,!0);else return;let Z=!0;k.forEach(Q=>{Q||(Z=!1)}),Z&&(pe?.(),ie(O.current),c&&w?.(),n&&n())};return e.jsx(U8,{isPresent:F,initial:!A.current||s?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,onExitComplete:F?void 0:h,anchorX:x,children:X},ne)})})},M6=N.createContext({strict:!1}),Ew={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Al={};for(const r in Ew)Al[r]={isEnabled:t=>Ew[r].some(s=>!!t[s])};function H8(r){for(const t in r)Al[t]={...Al[t],...r[t]}}const W8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function om(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||W8.has(r)}let O6=r=>!om(r);function q8(r){r&&(O6=t=>t.startsWith("on")?!om(t):r(t))}try{q8(require("@emotion/is-prop-valid").default)}catch{}function G8(r,t,s){const n={};for(const o in r)o==="values"&&typeof r.values=="object"||(O6(o)||s===!0&&om(o)||!t&&!om(o)||r.draggable&&o.startsWith("onDrag"))&&(n[o]=r[o]);return n}function Q8(r){if(typeof Proxy>"u")return r;const t=new Map,s=(...n)=>r(...n);return new Proxy(s,{get:(n,o)=>o==="create"?r:(t.has(o)||t.set(o,r(o)),t.get(o))})}const Wm=N.createContext({});function qm(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function hd(r){return typeof r=="string"||Array.isArray(r)}const Bg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ug=["initial",...Bg];function Gm(r){return qm(r.animate)||Ug.some(t=>hd(r[t]))}function L6(r){return!!(Gm(r)||r.variants)}function K8(r,t){if(Gm(r)){const{initial:s,animate:n}=r;return{initial:s===!1||hd(s)?s:void 0,animate:hd(n)?n:void 0}}return r.inherit!==!1?t:{}}function Z8(r){const{initial:t,animate:s}=K8(r,N.useContext(Wm));return N.useMemo(()=>({initial:t,animate:s}),[Cw(t),Cw(s)])}function Cw(r){return Array.isArray(r)?r.join(" "):r}const Y8=Symbol.for("motionComponentSymbol");function yl(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function X8(r,t,s){return N.useCallback(n=>{n&&r.onMount&&r.onMount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):yl(s)&&(s.current=n))},[t])}const Fg=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),J8="framerAppearId",V6="data-"+Fg(J8),z6=N.createContext({});function e9(r,t,s,n,o){const{visualElement:u}=N.useContext(Wm),c=N.useContext(M6),x=N.useContext(Hm),p=N.useContext(Vg).reducedMotion,w=N.useRef(null);n=n||c.renderer,!w.current&&n&&(w.current=n(r,{visualState:t,parent:u,props:s,presenceContext:x,blockInitialAnimation:x?x.initial===!1:!1,reducedMotionConfig:p}));const T=w.current,D=N.useContext(z6);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&t9(w.current,s,o,D);const A=N.useRef(!1);N.useInsertionEffect(()=>{T&&A.current&&T.update(s,x)});const O=s[V6],k=N.useRef(!!O&&!window.MotionHandoffIsComplete?.(O)&&window.MotionHasOptimisedAnimation?.(O));return Wk(()=>{T&&(A.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),Og.render(T.render),k.current&&T.animationState&&T.animationState.animateChanges())}),N.useEffect(()=>{T&&(!k.current&&T.animationState&&T.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(O)}),k.current=!1))}),T}function t9(r,t,s,n){const{layoutId:o,layout:u,drag:c,dragConstraints:x,layoutScroll:p,layoutRoot:w,layoutCrossfade:T}=t;r.projection=new s(r.latestValues,t["data-framer-portal-id"]?void 0:B6(r.parent)),r.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||x&&yl(x),visualElement:r,animationType:typeof u=="string"?u:"both",initialPromotionConfig:n,crossfade:T,layoutScroll:p,layoutRoot:w})}function B6(r){if(r)return r.options.allowProjection!==!1?r.projection:B6(r.parent)}function r9({preloadedFeatures:r,createVisualElement:t,useRender:s,useVisualState:n,Component:o}){r&&H8(r);function u(x,p){let w;const T={...N.useContext(Vg),...x,layoutId:s9(x)},{isStatic:D}=T,A=Z8(x),O=n(x,D);if(!D&&fg){a9();const k=n9(T);w=k.MeasureLayout,A.visualElement=e9(o,O,T,t,k.ProjectionNode)}return e.jsxs(Wm.Provider,{value:A,children:[w&&A.visualElement?e.jsx(w,{visualElement:A.visualElement,...T}):null,s(o,x,X8(O,A.visualElement,p),O,D,A.visualElement)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=N.forwardRef(u);return c[Y8]=o,c}function s9({layoutId:r}){const t=N.useContext(hg).id;return t&&r!==void 0?t+"-"+r:r}function a9(r,t){N.useContext(M6).strict}function n9(r){const{drag:t,layout:s}=Al;if(!t&&!s)return{};const n={...t,...s};return{MeasureLayout:t?.isEnabled(r)||s?.isEnabled(r)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const pd={};function i9(r){for(const t in r)pd[t]=r[t],kg(t)&&(pd[t].isCSSVariable=!0)}function U6(r,{layout:t,layoutId:s}){return Gl.has(r)||r.startsWith("origin")||(t||s!==void 0)&&(!!pd[r]||r==="opacity")}const o9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},l9=ql.length;function c9(r,t,s){let n="",o=!0;for(let u=0;u<l9;u++){const c=ql[u],x=r[c];if(x===void 0)continue;let p=!0;if(typeof x=="number"?p=x===(c.startsWith("scale")?1:0):p=parseFloat(x)===0,!p||s){const w=C6(x,Mg[c]);if(!p){o=!1;const T=o9[c]||c;n+=`${T}(${w}) `}s&&(t[c]=w)}}return n=n.trim(),s?n=s(t,o?"":n):o&&(n="none"),n}function Hg(r,t,s){const{style:n,vars:o,transformOrigin:u}=r;let c=!1,x=!1;for(const p in t){const w=t[p];if(Gl.has(p)){c=!0;continue}else if(kg(p)){o[p]=w;continue}else{const T=C6(w,Mg[p]);p.startsWith("origin")?(x=!0,u[p]=T):n[p]=T}}if(t.transform||(c||s?n.transform=c9(t,r.transform,s):n.transform&&(n.transform="none")),x){const{originX:p="50%",originY:w="50%",originZ:T=0}=u;n.transformOrigin=`${p} ${w} ${T}`}}const Wg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function F6(r,t,s){for(const n in t)!vs(t[n])&&!U6(n,s)&&(r[n]=t[n])}function d9({transformTemplate:r},t){return N.useMemo(()=>{const s=Wg();return Hg(s,t,r),Object.assign({},s.vars,s.style)},[t])}function u9(r,t){const s=r.style||{},n={};return F6(n,s,r),Object.assign(n,d9(r,t)),n}function m9(r,t){const s={},n=u9(r,t);return r.drag&&r.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(s.tabIndex=0),s.style=n,s}const x9={offset:"stroke-dashoffset",array:"stroke-dasharray"},h9={offset:"strokeDashoffset",array:"strokeDasharray"};function p9(r,t,s=1,n=0,o=!0){r.pathLength=1;const u=o?x9:h9;r[u.offset]=zt.transform(-n);const c=zt.transform(t),x=zt.transform(s);r[u.array]=`${c} ${x}`}function H6(r,{attrX:t,attrY:s,attrScale:n,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...x},p,w,T){if(Hg(r,x,w),p){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:D,style:A}=r;D.transform&&(A.transform=D.transform,delete D.transform),(A.transform||D.transformOrigin)&&(A.transformOrigin=D.transformOrigin??"50% 50%",delete D.transformOrigin),A.transform&&(A.transformBox=T?.transformBox??"fill-box",delete D.transformBox),t!==void 0&&(D.x=t),s!==void 0&&(D.y=s),n!==void 0&&(D.scale=n),o!==void 0&&p9(D,o,u,c,!1)}const W6=()=>({...Wg(),attrs:{}}),q6=r=>typeof r=="string"&&r.toLowerCase()==="svg";function f9(r,t,s,n){const o=N.useMemo(()=>{const u=W6();return H6(u,t,q6(n),r.transformTemplate,r.style),{...u.attrs,style:{...u.style}}},[t]);if(r.style){const u={};F6(u,r.style,r),o.style={...u,...o.style}}return o}const g9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qg(r){return typeof r!="string"||r.includes("-")?!1:!!(g9.indexOf(r)>-1||/[A-Z]/u.test(r))}function y9(r=!1){return(s,n,o,{latestValues:u},c)=>{const p=(qg(s)?f9:m9)(n,u,c,s),w=G8(n,typeof s=="string",r),T=s!==N.Fragment?{...w,...p,ref:o}:{},{children:D}=n,A=N.useMemo(()=>vs(D)?D.get():D,[D]);return N.createElement(s,{...T,children:A})}}function Dw(r){const t=[{},{}];return r?.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function Gg(r,t,s,n){if(typeof t=="function"){const[o,u]=Dw(n);t=t(s!==void 0?s:r.custom,o,u)}if(typeof t=="string"&&(t=r.variants&&r.variants[t]),typeof t=="function"){const[o,u]=Dw(n);t=t(s!==void 0?s:r.custom,o,u)}return t}function Cu(r){return vs(r)?r.get():r}function b9({scrapeMotionValuesFromProps:r,createRenderState:t},s,n,o){return{latestValues:v9(s,n,o,r),renderState:t()}}const G6=r=>(t,s)=>{const n=N.useContext(Wm),o=N.useContext(Hm),u=()=>b9(r,t,n,o);return s?u():pg(u)};function v9(r,t,s,n){const o={},u=n(r,{});for(const A in u)o[A]=Cu(u[A]);let{initial:c,animate:x}=r;const p=Gm(r),w=L6(r);t&&w&&!p&&r.inherit!==!1&&(c===void 0&&(c=t.initial),x===void 0&&(x=t.animate));let T=s?s.initial===!1:!1;T=T||c===!1;const D=T?x:c;if(D&&typeof D!="boolean"&&!qm(D)){const A=Array.isArray(D)?D:[D];for(let O=0;O<A.length;O++){const k=Gg(r,A[O]);if(k){const{transitionEnd:W,transition:V,...Y}=k;for(const ie in Y){let ce=Y[ie];if(Array.isArray(ce)){const pe=T?ce.length-1:0;ce=ce[pe]}ce!==null&&(o[ie]=ce)}for(const ie in W)o[ie]=W[ie]}}}return o}function Qg(r,t,s){const{style:n}=r,o={};for(const u in n)(vs(n[u])||t.style&&vs(t.style[u])||U6(u,r)||s?.getValue(u)?.liveStyle!==void 0)&&(o[u]=n[u]);return o}const j9={useVisualState:G6({scrapeMotionValuesFromProps:Qg,createRenderState:Wg})};function Q6(r,t,s){const n=Qg(r,t,s);for(const o in r)if(vs(r[o])||vs(t[o])){const u=ql.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;n[u]=r[o]}return n}const w9={useVisualState:G6({scrapeMotionValuesFromProps:Q6,createRenderState:W6})};function N9(r,t){return function(n,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...qg(n)?w9:j9,preloadedFeatures:r,useRender:y9(o),createVisualElement:t,Component:n};return r9(c)}}function fd(r,t,s){const n=r.getProps();return Gg(n,t,s!==void 0?s:n.custom,r)}const Up=r=>Array.isArray(r);function k9(r,t,s){r.hasValue(t)?r.getValue(t).set(s):r.addValue(t,$l(s))}function S9(r){return Up(r)?r[r.length-1]||0:r}function T9(r,t){const s=fd(r,t);let{transitionEnd:n={},transition:o={},...u}=s||{};u={...u,...n};for(const c in u){const x=S9(u[c]);k9(r,c,x)}}function I9(r){return!!(vs(r)&&r.add)}function Fp(r,t){const s=r.getValue("willChange");if(I9(s))return s.add(t);if(!s&&Rn.WillChange){const n=new Rn.WillChange("auto");r.addValue("willChange",n),n.add(t)}}function K6(r){return r.props[V6]}const P9=r=>r!==null;function E9(r,{repeat:t,repeatType:s="loop"},n){const o=r.filter(P9),u=t&&s!=="loop"&&t%2===1?0:o.length-1;return o[u]}const C9={type:"spring",stiffness:500,damping:25,restSpeed:10},D9=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),_9={type:"keyframes",duration:.8},$9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},A9=(r,{keyframes:t})=>t.length>2?_9:Gl.has(r)?r.startsWith("scale")?D9(t[1]):C9:$9;function R9({when:r,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:x,from:p,elapsed:w,...T}){return!!Object.keys(T).length}const Kg=(r,t,s,n={},o,u)=>c=>{const x=Rg(n,r)||{},p=x.delay||n.delay||0;let{elapsed:w=0}=n;w=w-en(p);const T={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...x,delay:-w,onUpdate:A=>{t.set(A),x.onUpdate&&x.onUpdate(A)},onComplete:()=>{c(),x.onComplete&&x.onComplete()},name:r,motionValue:t,element:u?void 0:o};R9(x)||Object.assign(T,A9(r,T)),T.duration&&(T.duration=en(T.duration)),T.repeatDelay&&(T.repeatDelay=en(T.repeatDelay)),T.from!==void 0&&(T.keyframes[0]=T.from);let D=!1;if((T.type===!1||T.duration===0&&!T.repeatDelay)&&(T.duration=0,T.delay===0&&(D=!0)),(Rn.instantAnimations||Rn.skipAnimations)&&(D=!0,T.duration=0,T.delay=0),T.allowFlatten=!x.type&&!x.ease,D&&!u&&t.get()!==void 0){const A=E9(T.keyframes,x);if(A!==void 0){_r.update(()=>{T.onUpdate(A),T.onComplete()});return}}return x.isSync?new _g(T):new p8(T)};function M9({protectedKeys:r,needsAnimating:t},s){const n=r.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function Z6(r,t,{delay:s=0,transitionOverride:n,type:o}={}){let{transition:u=r.getDefaultTransition(),transitionEnd:c,...x}=t;n&&(u=n);const p=[],w=o&&r.animationState&&r.animationState.getState()[o];for(const T in x){const D=r.getValue(T,r.latestValues[T]??null),A=x[T];if(A===void 0||w&&M9(w,T))continue;const O={delay:s,...Rg(u||{},T)},k=D.get();if(k!==void 0&&!D.isAnimating&&!Array.isArray(A)&&A===k&&!O.velocity)continue;let W=!1;if(window.MotionHandoffAnimation){const Y=K6(r);if(Y){const ie=window.MotionHandoffAnimation(Y,T,_r);ie!==null&&(O.startTime=ie,W=!0)}}Fp(r,T),D.start(Kg(T,D,A,r.shouldReduceMotion&&S6.has(T)?{type:!1}:O,r,W));const V=D.animation;V&&p.push(V)}return c&&Promise.all(p).then(()=>{_r.update(()=>{c&&T9(r,c)})}),p}function Hp(r,t,s={}){const n=fd(r,t,s.type==="exit"?r.presenceContext?.custom:void 0);let{transition:o=r.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(o=s.transitionOverride);const u=n?()=>Promise.all(Z6(r,n,s)):()=>Promise.resolve(),c=r.variantChildren&&r.variantChildren.size?(p=0)=>{const{delayChildren:w=0,staggerChildren:T,staggerDirection:D}=o;return O9(r,t,w+p,T,D,s)}:()=>Promise.resolve(),{when:x}=o;if(x){const[p,w]=x==="beforeChildren"?[u,c]:[c,u];return p().then(()=>w())}else return Promise.all([u(),c(s.delay)])}function O9(r,t,s=0,n=0,o=1,u){const c=[],x=(r.variantChildren.size-1)*n,p=o===1?(w=0)=>w*n:(w=0)=>x-w*n;return Array.from(r.variantChildren).sort(L9).forEach((w,T)=>{w.notify("AnimationStart",t),c.push(Hp(w,t,{...u,delay:s+p(T)}).then(()=>w.notify("AnimationComplete",t)))}),Promise.all(c)}function L9(r,t){return r.sortNodePosition(t)}function V9(r,t,s={}){r.notify("AnimationStart",t);let n;if(Array.isArray(t)){const o=t.map(u=>Hp(r,u,s));n=Promise.all(o)}else if(typeof t=="string")n=Hp(r,t,s);else{const o=typeof t=="function"?fd(r,t,s.custom):t;n=Promise.all(Z6(r,o,s))}return n.then(()=>{r.notify("AnimationComplete",t)})}function Y6(r,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==r.length)return!1;for(let n=0;n<s;n++)if(t[n]!==r[n])return!1;return!0}const z9=Ug.length;function X6(r){if(!r)return;if(!r.isControllingVariants){const s=r.parent?X6(r.parent)||{}:{};return r.props.initial!==void 0&&(s.initial=r.props.initial),s}const t={};for(let s=0;s<z9;s++){const n=Ug[s],o=r.props[n];(hd(o)||o===!1)&&(t[n]=o)}return t}const B9=[...Bg].reverse(),U9=Bg.length;function F9(r){return t=>Promise.all(t.map(({animation:s,options:n})=>V9(r,s,n)))}function H9(r){let t=F9(r),s=_w(),n=!0;const o=p=>(w,T)=>{const D=fd(r,T,p==="exit"?r.presenceContext?.custom:void 0);if(D){const{transition:A,transitionEnd:O,...k}=D;w={...w,...k,...O}}return w};function u(p){t=p(r)}function c(p){const{props:w}=r,T=X6(r.parent)||{},D=[],A=new Set;let O={},k=1/0;for(let V=0;V<U9;V++){const Y=B9[V],ie=s[Y],ce=w[Y]!==void 0?w[Y]:T[Y],pe=hd(ce),X=Y===p?ie.isActive:null;X===!1&&(k=V);let ne=ce===T[Y]&&ce!==w[Y]&&pe;if(ne&&n&&r.manuallyAnimateOnMount&&(ne=!1),ie.protectedKeys={...O},!ie.isActive&&X===null||!ce&&!ie.prevProp||qm(ce)||typeof ce=="boolean")continue;const F=W9(ie.prevProp,ce);let h=F||Y===p&&ie.isActive&&!ne&&pe||V>k&&pe,Z=!1;const Q=Array.isArray(ce)?ce:[ce];let ae=Q.reduce(o(Y),{});X===!1&&(ae={});const{prevResolvedValues:oe={}}=ie,ee={...oe,...ae},K=je=>{h=!0,A.has(je)&&(Z=!0,A.delete(je)),ie.needsAnimating[je]=!0;const Ne=r.getValue(je);Ne&&(Ne.liveStyle=!1)};for(const je in ee){const Ne=ae[je],Ae=oe[je];if(O.hasOwnProperty(je))continue;let Ie=!1;Up(Ne)&&Up(Ae)?Ie=!Y6(Ne,Ae):Ie=Ne!==Ae,Ie?Ne!=null?K(je):A.add(je):Ne!==void 0&&A.has(je)?K(je):ie.protectedKeys[je]=!0}ie.prevProp=ce,ie.prevResolvedValues=ae,ie.isActive&&(O={...O,...ae}),n&&r.blockInitialAnimation&&(h=!1),h&&(!(ne&&F)||Z)&&D.push(...Q.map(je=>({animation:je,options:{type:Y}})))}if(A.size){const V={};if(typeof w.initial!="boolean"){const Y=fd(r,Array.isArray(w.initial)?w.initial[0]:w.initial);Y&&Y.transition&&(V.transition=Y.transition)}A.forEach(Y=>{const ie=r.getBaseTarget(Y),ce=r.getValue(Y);ce&&(ce.liveStyle=!0),V[Y]=ie??null}),D.push({animation:V})}let W=!!D.length;return n&&(w.initial===!1||w.initial===w.animate)&&!r.manuallyAnimateOnMount&&(W=!1),n=!1,W?t(D):Promise.resolve()}function x(p,w){if(s[p].isActive===w)return Promise.resolve();r.variantChildren?.forEach(D=>D.animationState?.setActive(p,w)),s[p].isActive=w;const T=c(p);for(const D in s)s[D].protectedKeys={};return T}return{animateChanges:c,setActive:x,setAnimateFunction:u,getState:()=>s,reset:()=>{s=_w(),n=!0}}}function W9(r,t){return typeof t=="string"?t!==r:Array.isArray(t)?!Y6(t,r):!1}function ao(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _w(){return{animate:ao(!0),whileInView:ao(),whileHover:ao(),whileTap:ao(),whileDrag:ao(),whileFocus:ao(),exit:ao()}}class Mi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class q9 extends Mi{constructor(t){super(t),t.animationState||(t.animationState=H9(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();qm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let G9=0;class Q9 extends Mi{constructor(){super(...arguments),this.id=G9++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const o=this.node.animationState.setActive("exit",!t);s&&!t&&o.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const K9={animation:{Feature:q9},exit:{Feature:Q9}};function gd(r,t,s,n={passive:!0}){return r.addEventListener(t,s,n),()=>r.removeEventListener(t,s)}function Bd(r){return{point:{x:r.pageX,y:r.pageY}}}const Z9=r=>t=>Lg(t)&&r(t,Bd(t));function Kc(r,t,s,n){return gd(r,t,Z9(s),n)}function J6({top:r,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:r,max:n}}}function Y9({x:r,y:t}){return{top:t.min,right:r.max,bottom:t.max,left:r.min}}function X9(r,t){if(!t)return r;const s=t({x:r.left,y:r.top}),n=t({x:r.right,y:r.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}const e1=1e-4,J9=1-e1,eM=1+e1,t1=.01,tM=0-t1,rM=0+t1;function Ps(r){return r.max-r.min}function sM(r,t,s){return Math.abs(r-t)<=s}function $w(r,t,s,n=.5){r.origin=n,r.originPoint=Cr(t.min,t.max,r.origin),r.scale=Ps(s)/Ps(t),r.translate=Cr(s.min,s.max,r.origin)-r.originPoint,(r.scale>=J9&&r.scale<=eM||isNaN(r.scale))&&(r.scale=1),(r.translate>=tM&&r.translate<=rM||isNaN(r.translate))&&(r.translate=0)}function Zc(r,t,s,n){$w(r.x,t.x,s.x,n?n.originX:void 0),$w(r.y,t.y,s.y,n?n.originY:void 0)}function Aw(r,t,s){r.min=s.min+t.min,r.max=r.min+Ps(t)}function aM(r,t,s){Aw(r.x,t.x,s.x),Aw(r.y,t.y,s.y)}function Rw(r,t,s){r.min=t.min-s.min,r.max=r.min+Ps(t)}function Yc(r,t,s){Rw(r.x,t.x,s.x),Rw(r.y,t.y,s.y)}const Mw=()=>({translate:0,scale:1,origin:0,originPoint:0}),bl=()=>({x:Mw(),y:Mw()}),Ow=()=>({min:0,max:0}),Lr=()=>({x:Ow(),y:Ow()});function pa(r){return[r("x"),r("y")]}function Qh(r){return r===void 0||r===1}function Wp({scale:r,scaleX:t,scaleY:s}){return!Qh(r)||!Qh(t)||!Qh(s)}function io(r){return Wp(r)||r1(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function r1(r){return Lw(r.x)||Lw(r.y)}function Lw(r){return r&&r!=="0%"}function lm(r,t,s){const n=r-s,o=t*n;return s+o}function Vw(r,t,s,n,o){return o!==void 0&&(r=lm(r,o,n)),lm(r,s,n)+t}function qp(r,t=0,s=1,n,o){r.min=Vw(r.min,t,s,n,o),r.max=Vw(r.max,t,s,n,o)}function s1(r,{x:t,y:s}){qp(r.x,t.translate,t.scale,t.originPoint),qp(r.y,s.translate,s.scale,s.originPoint)}const zw=.999999999999,Bw=1.0000000000001;function nM(r,t,s,n=!1){const o=s.length;if(!o)return;t.x=t.y=1;let u,c;for(let x=0;x<o;x++){u=s[x],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(n&&u.options.layoutScroll&&u.scroll&&u!==u.root&&jl(r,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,s1(r,c)),n&&io(u.latestValues)&&jl(r,u.latestValues))}t.x<Bw&&t.x>zw&&(t.x=1),t.y<Bw&&t.y>zw&&(t.y=1)}function vl(r,t){r.min=r.min+t,r.max=r.max+t}function Uw(r,t,s,n,o=.5){const u=Cr(r.min,r.max,o);qp(r,t,s,u,n)}function jl(r,t){Uw(r.x,t.x,t.scaleX,t.scale,t.originX),Uw(r.y,t.y,t.scaleY,t.scale,t.originY)}function a1(r,t){return J6(X9(r.getBoundingClientRect(),t))}function iM(r,t,s){const n=a1(r,s),{scroll:o}=t;return o&&(vl(n.x,o.offset.x),vl(n.y,o.offset.y)),n}const n1=({current:r})=>r?r.ownerDocument.defaultView:null,Fw=(r,t)=>Math.abs(r-t);function oM(r,t){const s=Fw(r.x,t.x),n=Fw(r.y,t.y);return Math.sqrt(s**2+n**2)}class i1{constructor(t,s,{transformPagePoint:n,contextWindow:o,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Zh(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,O=oM(D.offset,{x:0,y:0})>=3;if(!A&&!O)return;const{point:k}=D,{timestamp:W}=os;this.history.push({...k,timestamp:W});const{onStart:V,onMove:Y}=this.handlers;A||(V&&V(this.lastMoveEvent,D),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,D)},this.handlePointerMove=(D,A)=>{this.lastMoveEvent=D,this.lastMoveEventInfo=Kh(A,this.transformPagePoint),_r.update(this.updatePoint,!0)},this.handlePointerUp=(D,A)=>{this.end();const{onEnd:O,onSessionEnd:k,resumeAnimation:W}=this.handlers;if(this.dragSnapToOrigin&&W&&W(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const V=Zh(D.type==="pointercancel"?this.lastMoveEventInfo:Kh(A,this.transformPagePoint),this.history);this.startEvent&&O&&O(D,V),k&&k(D,V)},!Lg(t))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=n,this.contextWindow=o||window;const c=Bd(t),x=Kh(c,this.transformPagePoint),{point:p}=x,{timestamp:w}=os;this.history=[{...p,timestamp:w}];const{onSessionStart:T}=s;T&&T(t,Zh(x,this.history)),this.removeListeners=Ld(Kc(this.contextWindow,"pointermove",this.handlePointerMove),Kc(this.contextWindow,"pointerup",this.handlePointerUp),Kc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ci(this.updatePoint)}}function Kh(r,t){return t?{point:t(r.point)}:r}function Hw(r,t){return{x:r.x-t.x,y:r.y-t.y}}function Zh({point:r},t){return{point:r,delta:Hw(r,o1(t)),offset:Hw(r,lM(t)),velocity:cM(t,.1)}}function lM(r){return r[0]}function o1(r){return r[r.length-1]}function cM(r,t){if(r.length<2)return{x:0,y:0};let s=r.length-1,n=null;const o=o1(r);for(;s>=0&&(n=r[s],!(o.timestamp-n.timestamp>en(t)));)s--;if(!n)return{x:0,y:0};const u=tn(o.timestamp-n.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-n.x)/u,y:(o.y-n.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function dM(r,{min:t,max:s},n){return t!==void 0&&r<t?r=n?Cr(t,r,n.min):Math.max(r,t):s!==void 0&&r>s&&(r=n?Cr(s,r,n.max):Math.min(r,s)),r}function Ww(r,t,s){return{min:t!==void 0?r.min+t:void 0,max:s!==void 0?r.max+s-(r.max-r.min):void 0}}function uM(r,{top:t,left:s,bottom:n,right:o}){return{x:Ww(r.x,s,o),y:Ww(r.y,t,n)}}function qw(r,t){let s=t.min-r.min,n=t.max-r.max;return t.max-t.min<r.max-r.min&&([s,n]=[n,s]),{min:s,max:n}}function mM(r,t){return{x:qw(r.x,t.x),y:qw(r.y,t.y)}}function xM(r,t){let s=.5;const n=Ps(r),o=Ps(t);return o>n?s=ud(t.min,t.max-n,r.min):n>o&&(s=ud(r.min,r.max-o,t.min)),An(0,1,s)}function hM(r,t){const s={};return t.min!==void 0&&(s.min=t.min-r.min),t.max!==void 0&&(s.max=t.max-r.min),s}const Gp=.35;function pM(r=Gp){return r===!1?r=0:r===!0&&(r=Gp),{x:Gw(r,"left","right"),y:Gw(r,"top","bottom")}}function Gw(r,t,s){return{min:Qw(r,t),max:Qw(r,s)}}function Qw(r,t){return typeof r=="number"?r:r[t]||0}const fM=new WeakMap;class gM{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Lr(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const o=T=>{const{dragSnapToOrigin:D}=this.getProps();D?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Bd(T).point)},u=(T,D)=>{const{drag:A,dragPropagation:O,onDragStart:k}=this.getProps();if(A&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=D8(A),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pa(V=>{let Y=this.getAxisMotionValue(V).get()||0;if(rn.test(Y)){const{projection:ie}=this.visualElement;if(ie&&ie.layout){const ce=ie.layout.layoutBox[V];ce&&(Y=Ps(ce)*(parseFloat(Y)/100))}}this.originPoint[V]=Y}),k&&_r.postRender(()=>k(T,D)),Fp(this.visualElement,"transform");const{animationState:W}=this.visualElement;W&&W.setActive("whileDrag",!0)},c=(T,D)=>{const{dragPropagation:A,dragDirectionLock:O,onDirectionLock:k,onDrag:W}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:V}=D;if(O&&this.currentDirection===null){this.currentDirection=yM(V),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",D.point,V),this.updateAxis("y",D.point,V),this.visualElement.render(),W&&W(T,D)},x=(T,D)=>this.stop(T,D),p=()=>pa(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:w}=this.getProps();this.panSession=new i1(t,{onSessionStart:o,onStart:u,onMove:c,onSessionEnd:x,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:w,contextWindow:n1(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&_r.postRender(()=>u(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:o}=this.getProps();if(!n||!hu(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(c=dM(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&yl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=uM(n.layoutBox,t):this.constraints=!1,this.elastic=pM(s),o!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&pa(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=hM(n.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!yl(t))return!1;const n=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=iM(n,o.root,this.visualElement.getTransformPagePoint());let c=mM(o.layout.layoutBox,u);if(s){const x=s(Y9(c));this.hasMutatedConstraints=!!x,x&&(c=J6(x))}return c}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:x}=this.getProps(),p=this.constraints||{},w=pa(T=>{if(!hu(T,s,this.currentDirection))return;let D=p&&p[T]||{};c&&(D={min:0,max:0});const A=o?200:1e6,O=o?40:1e7,k={type:"inertia",velocity:n?t[T]:0,bounceStiffness:A,bounceDamping:O,timeConstant:750,restDelta:1,restSpeed:10,...u,...D};return this.startAxisValueAnimation(T,k)});return Promise.all(w).then(x)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return Fp(this.visualElement,t),n.start(Kg(t,n,0,s,this.visualElement,!1))}stopAnimation(){pa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){pa(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),o=n[s];return o||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){pa(s=>{const{drag:n}=this.getProps();if(!hu(s,n,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(s);if(o&&o.layout){const{min:c,max:x}=o.layout.layoutBox[s];u.set(t[s]-Cr(c,x,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!yl(s)||!n||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};pa(c=>{const x=this.getAxisMotionValue(c);if(x&&this.constraints!==!1){const p=x.get();o[c]=xM({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),pa(c=>{if(!hu(c,t,null))return;const x=this.getAxisMotionValue(c),{min:p,max:w}=this.constraints[c];x.set(Cr(p,w,o[c]))})}addListeners(){if(!this.visualElement.current)return;fM.set(this.visualElement,this);const t=this.visualElement.current,s=Kc(t,"pointerdown",p=>{const{drag:w,dragListener:T=!0}=this.getProps();w&&T&&this.start(p)}),n=()=>{const{dragConstraints:p}=this.getProps();yl(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",n);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),_r.read(n);const c=gd(window,"resize",()=>this.scalePositionWithinConstraints()),x=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:w})=>{this.isDragging&&w&&(pa(T=>{const D=this.getAxisMotionValue(T);D&&(this.originPoint[T]+=p[T].translate,D.set(D.get()+p[T].translate))}),this.visualElement.render())}));return()=>{c(),s(),u(),x&&x()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Gp,dragMomentum:x=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:x}}}function hu(r,t,s){return(t===!0||t===r)&&(s===null||s===r)}function yM(r,t=10){let s=null;return Math.abs(r.y)>t?s="y":Math.abs(r.x)>t&&(s="x"),s}class bM extends Mi{constructor(t){super(t),this.removeGroupControls=fa,this.removeListeners=fa,this.controls=new gM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fa}unmount(){this.removeGroupControls(),this.removeListeners()}}const Kw=r=>(t,s)=>{r&&_r.postRender(()=>r(t,s))};class vM extends Mi{constructor(){super(...arguments),this.removePointerDownListener=fa}onPointerDown(t){this.session=new i1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:n1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:o}=this.node.getProps();return{onSessionStart:Kw(t),onStart:Kw(s),onMove:n,onEnd:(u,c)=>{delete this.session,o&&_r.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Kc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Du={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zw(r,t){return t.max===t.min?0:r/(t.max-t.min)*100}const Dc={correct:(r,t)=>{if(!t.target)return r;if(typeof r=="string")if(zt.test(r))r=parseFloat(r);else return r;const s=Zw(r,t.target.x),n=Zw(r,t.target.y);return`${s}% ${n}%`}},jM={correct:(r,{treeScale:t,projectionDelta:s})=>{const n=r,o=Di.parse(r);if(o.length>5)return n;const u=Di.createTransformer(r),c=typeof o[0]!="number"?1:0,x=s.x.scale*t.x,p=s.y.scale*t.y;o[0+c]/=x,o[1+c]/=p;const w=Cr(x,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=w),typeof o[3+c]=="number"&&(o[3+c]/=w),u(o)}};class wM extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:o}=this.props,{projection:u}=t;i9(NM),u&&(s.group&&s.group.add(u),n&&n.register&&o&&n.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Du.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:o,isPresent:u}=this.props,{projection:c}=n;return c&&(c.isPresent=u,o||t.layoutDependency!==s||s===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||_r.postRender(()=>{const x=c.getStack();(!x||!x.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Og.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(o),n&&n.deregister&&n.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function l1(r){const[t,s]=R6(),n=N.useContext(hg);return e.jsx(wM,{...r,layoutGroup:n,switchLayoutGroup:N.useContext(z6),isPresent:t,safeToRemove:s})}const NM={borderRadius:{...Dc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dc,borderTopRightRadius:Dc,borderBottomLeftRadius:Dc,borderBottomRightRadius:Dc,boxShadow:jM};function kM(r,t,s){const n=vs(r)?r:$l(r);return n.start(Kg("",n,t,s)),n.animation}const SM=(r,t)=>r.depth-t.depth;class TM{constructor(){this.children=[],this.isDirty=!1}add(t){gg(this.children,t),this.isDirty=!0}remove(t){yg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(SM),this.isDirty=!1,this.children.forEach(t)}}function IM(r,t){const s=zs.now(),n=({timestamp:o})=>{const u=o-s;u>=t&&(Ci(n),r(u-t))};return _r.setup(n,!0),()=>Ci(n)}const c1=["TopLeft","TopRight","BottomLeft","BottomRight"],PM=c1.length,Yw=r=>typeof r=="string"?parseFloat(r):r,Xw=r=>typeof r=="number"||zt.test(r);function EM(r,t,s,n,o,u){o?(r.opacity=Cr(0,s.opacity??1,CM(n)),r.opacityExit=Cr(t.opacity??1,0,DM(n))):u&&(r.opacity=Cr(t.opacity??1,s.opacity??1,n));for(let c=0;c<PM;c++){const x=`border${c1[c]}Radius`;let p=Jw(t,x),w=Jw(s,x);if(p===void 0&&w===void 0)continue;p||(p=0),w||(w=0),p===0||w===0||Xw(p)===Xw(w)?(r[x]=Math.max(Cr(Yw(p),Yw(w),n),0),(rn.test(w)||rn.test(p))&&(r[x]+="%")):r[x]=w}(t.rotate||s.rotate)&&(r.rotate=Cr(t.rotate||0,s.rotate||0,n))}function Jw(r,t){return r[t]!==void 0?r[t]:r.borderRadius}const CM=d1(0,.5,r6),DM=d1(.5,.95,fa);function d1(r,t,s){return n=>n<r?0:n>t?1:s(ud(r,t,n))}function eN(r,t){r.min=t.min,r.max=t.max}function ha(r,t){eN(r.x,t.x),eN(r.y,t.y)}function tN(r,t){r.translate=t.translate,r.scale=t.scale,r.originPoint=t.originPoint,r.origin=t.origin}function rN(r,t,s,n,o){return r-=t,r=lm(r,1/s,n),o!==void 0&&(r=lm(r,1/o,n)),r}function _M(r,t=0,s=1,n=.5,o,u=r,c=r){if(rn.test(t)&&(t=parseFloat(t),t=Cr(c.min,c.max,t/100)-c.min),typeof t!="number")return;let x=Cr(u.min,u.max,n);r===u&&(x-=t),r.min=rN(r.min,t,s,x,o),r.max=rN(r.max,t,s,x,o)}function sN(r,t,[s,n,o],u,c){_M(r,t[s],t[n],t[o],t.scale,u,c)}const $M=["x","scaleX","originX"],AM=["y","scaleY","originY"];function aN(r,t,s,n){sN(r.x,t,$M,s?s.x:void 0,n?n.x:void 0),sN(r.y,t,AM,s?s.y:void 0,n?n.y:void 0)}function nN(r){return r.translate===0&&r.scale===1}function u1(r){return nN(r.x)&&nN(r.y)}function iN(r,t){return r.min===t.min&&r.max===t.max}function RM(r,t){return iN(r.x,t.x)&&iN(r.y,t.y)}function oN(r,t){return Math.round(r.min)===Math.round(t.min)&&Math.round(r.max)===Math.round(t.max)}function m1(r,t){return oN(r.x,t.x)&&oN(r.y,t.y)}function lN(r){return Ps(r.x)/Ps(r.y)}function cN(r,t){return r.translate===t.translate&&r.scale===t.scale&&r.originPoint===t.originPoint}class MM{constructor(){this.members=[]}add(t){gg(this.members,t),t.scheduleRender()}remove(t){if(yg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(o=>t===o);if(s===0)return!1;let n;for(let o=s;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){n=u;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function OM(r,t,s){let n="";const o=r.x.translate/t.x,u=r.y.translate/t.y,c=s?.z||0;if((o||u||c)&&(n=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:w,rotate:T,rotateX:D,rotateY:A,skewX:O,skewY:k}=s;w&&(n=`perspective(${w}px) ${n}`),T&&(n+=`rotate(${T}deg) `),D&&(n+=`rotateX(${D}deg) `),A&&(n+=`rotateY(${A}deg) `),O&&(n+=`skewX(${O}deg) `),k&&(n+=`skewY(${k}deg) `)}const x=r.x.scale*t.x,p=r.y.scale*t.y;return(x!==1||p!==1)&&(n+=`scale(${x}, ${p})`),n||"none"}const Yh=["","X","Y","Z"],LM={visibility:"hidden"},VM=1e3;let zM=0;function Xh(r,t,s,n){const{latestValues:o}=t;o[r]&&(s[r]=o[r],t.setStaticValue(r,0),n&&(n[r]=0))}function x1(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:t}=r.options;if(!t)return;const s=K6(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:o,layoutId:u}=r.options;window.MotionCancelOptimisedAnimation(s,"transform",_r,!(o||u))}const{parent:n}=r;n&&!n.hasCheckedOptimisedAppear&&x1(n)}function h1({attachResizeListener:r,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:o}){return class{constructor(c={},x=t?.()){this.id=zM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(FM),this.nodes.forEach(QM),this.nodes.forEach(KM),this.nodes.forEach(HM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=x?x.root||x:this,this.path=x?[...x.path,x]:[],this.parent=x,this.depth=x?x.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new TM)}addEventListener(c,x){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new jg),this.eventHandlers.get(c).add(x)}notifyListeners(c,...x){const p=this.eventHandlers.get(c);p&&p.notify(...x)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=A6(c)&&!O8(c),this.instance=c;const{layoutId:x,layout:p,visualElement:w}=this.options;if(w&&!w.current&&w.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||x)&&(this.isLayoutDirty=!0),r){let T;const D=()=>this.root.updateBlockedByResize=!1;r(c,()=>{this.root.updateBlockedByResize=!0,T&&T(),T=IM(D,250),Du.hasAnimatedSinceResize&&(Du.hasAnimatedSinceResize=!1,this.nodes.forEach(uN))})}x&&this.root.registerSharedNode(x,this),this.options.animate!==!1&&w&&(x||p)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:D,hasRelativeLayoutChanged:A,layout:O})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||w.getDefaultTransition()||eO,{onLayoutAnimationStart:W,onLayoutAnimationComplete:V}=w.getProps(),Y=!this.targetLayout||!m1(this.targetLayout,O),ie=!D&&A;if(this.options.layoutRoot||this.resumeFrom||ie||D&&(Y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(T,ie);const ce={...Rg(k,"layout"),onPlay:W,onComplete:V};(w.shouldReduceMotion||this.options.layoutRoot)&&(ce.delay=0,ce.type=!1),this.startAnimation(ce)}else D||uN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=O})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ci(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ZM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&x1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let T=0;T<this.path.length;T++){const D=this.path[T];D.shouldResetTransform=!0,D.updateScroll("snapshot"),D.options.layoutRoot&&D.willUpdate(!1)}const{layoutId:x,layout:p}=this.options;if(x===void 0&&!p)return;const w=this.getTransformTemplate();this.prevTransformTemplateValue=w?w(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dN);return}this.isUpdating||this.nodes.forEach(qM),this.isUpdating=!1,this.nodes.forEach(GM),this.nodes.forEach(BM),this.nodes.forEach(UM),this.clearAllSnapshots();const x=zs.now();os.delta=An(0,1e3/60,x-os.timestamp),os.timestamp=x,os.isProcessing=!0,Uh.update.process(os),Uh.preRender.process(os),Uh.render.process(os),os.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Og.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WM),this.sharedNodes.forEach(YM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_r.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_r.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ps(this.snapshot.measuredBox.x)&&!Ps(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Lr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:x}=this.options;x&&x.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let x=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(x=!1),x&&this.instance){const p=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,x=this.projectionDelta&&!u1(this.projectionDelta),p=this.getTransformTemplate(),w=p?p(this.latestValues,""):void 0,T=w!==this.prevTransformTemplateValue;c&&this.instance&&(x||io(this.latestValues)||T)&&(o(this.instance,w),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const x=this.measurePageBox();let p=this.removeElementScroll(x);return c&&(p=this.removeTransform(p)),tO(p),{animationId:this.root.animationId,measuredBox:x,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Lr();const x=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(rO))){const{scroll:w}=this.root;w&&(vl(x.x,w.offset.x),vl(x.y,w.offset.y))}return x}removeElementScroll(c){const x=Lr();if(ha(x,c),this.scroll?.wasRoot)return x;for(let p=0;p<this.path.length;p++){const w=this.path[p],{scroll:T,options:D}=w;w!==this.root&&T&&D.layoutScroll&&(T.wasRoot&&ha(x,c),vl(x.x,T.offset.x),vl(x.y,T.offset.y))}return x}applyTransform(c,x=!1){const p=Lr();ha(p,c);for(let w=0;w<this.path.length;w++){const T=this.path[w];!x&&T.options.layoutScroll&&T.scroll&&T!==T.root&&jl(p,{x:-T.scroll.offset.x,y:-T.scroll.offset.y}),io(T.latestValues)&&jl(p,T.latestValues)}return io(this.latestValues)&&jl(p,this.latestValues),p}removeTransform(c){const x=Lr();ha(x,c);for(let p=0;p<this.path.length;p++){const w=this.path[p];if(!w.instance||!io(w.latestValues))continue;Wp(w.latestValues)&&w.updateSnapshot();const T=Lr(),D=w.measurePageBox();ha(T,D),aN(x,w.latestValues,w.snapshot?w.snapshot.layoutBox:void 0,T)}return io(this.latestValues)&&aN(x,this.latestValues),x}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==os.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const x=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=x.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=x.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=x.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==x;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:T,layoutId:D}=this.options;if(!(!this.layout||!(T||D))){if(this.resolvedRelativeTargetAt=os.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lr(),this.relativeTargetOrigin=Lr(),Yc(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),ha(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Lr(),this.targetWithTransforms=Lr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ha(this.target,this.layout.layoutBox),s1(this.target,this.targetDelta)):ha(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lr(),this.relativeTargetOrigin=Lr(),Yc(this.relativeTargetOrigin,this.target,A.target),ha(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Wp(this.parent.latestValues)||r1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),x=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),x&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===os.timestamp&&(p=!1),p)return;const{layout:w,layoutId:T}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(w||T))return;ha(this.layoutCorrected,this.layout.layoutBox);const D=this.treeScale.x,A=this.treeScale.y;nM(this.layoutCorrected,this.treeScale,this.path,x),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Lr());const{target:O}=c;if(!O){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tN(this.prevProjectionDelta.x,this.projectionDelta.x),tN(this.prevProjectionDelta.y,this.projectionDelta.y)),Zc(this.projectionDelta,this.layoutCorrected,O,this.latestValues),(this.treeScale.x!==D||this.treeScale.y!==A||!cN(this.projectionDelta.x,this.prevProjectionDelta.x)||!cN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",O))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const x=this.getStack();x&&x.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bl(),this.projectionDelta=bl(),this.projectionDeltaWithTransform=bl()}setAnimationOrigin(c,x=!1){const p=this.snapshot,w=p?p.latestValues:{},T={...this.latestValues},D=bl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!x;const A=Lr(),O=p?p.source:void 0,k=this.layout?this.layout.source:void 0,W=O!==k,V=this.getStack(),Y=!V||V.members.length<=1,ie=!!(W&&!Y&&this.options.crossfade===!0&&!this.path.some(JM));this.animationProgress=0;let ce;this.mixTargetDelta=pe=>{const X=pe/1e3;mN(D.x,c.x,X),mN(D.y,c.y,X),this.setTargetDelta(D),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yc(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XM(this.relativeTarget,this.relativeTargetOrigin,A,X),ce&&RM(this.relativeTarget,ce)&&(this.isProjectionDirty=!1),ce||(ce=Lr()),ha(ce,this.relativeTarget)),W&&(this.animationValues=T,EM(T,w,this.latestValues,X,ie,Y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(!1),this.resumingFrom?.currentAnimation?.stop(!1),this.pendingAnimation&&(Ci(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_r.update(()=>{Du.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$l(0)),this.currentAnimation=kM(this.motionValue,[0,1e3],{...c,isSync:!0,onUpdate:x=>{this.mixTargetDelta(x),c.onUpdate&&c.onUpdate(x)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VM),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:x,target:p,layout:w,latestValues:T}=c;if(!(!x||!p||!w)){if(this!==c&&this.layout&&w&&p1(this.options.animationType,this.layout.layoutBox,w.layoutBox)){p=this.target||Lr();const D=Ps(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+D;const A=Ps(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+A}ha(x,p),jl(x,T),Zc(this.projectionDeltaWithTransform,this.layoutCorrected,x,T)}}registerSharedNode(c,x){this.sharedNodes.has(c)||this.sharedNodes.set(c,new MM),this.sharedNodes.get(c).add(x);const w=x.options.initialPromotionConfig;x.promote({transition:w?w.transition:void 0,preserveFollowOpacity:w&&w.shouldPreserveFollowOpacity?w.shouldPreserveFollowOpacity(x):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:x,preserveFollowOpacity:p}={}){const w=this.getStack();w&&w.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),x&&this.setOptions({transition:x})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let x=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(x=!0),!x)return;const w={};p.z&&Xh("z",c,w,this.animationValues);for(let T=0;T<Yh.length;T++)Xh(`rotate${Yh[T]}`,c,w,this.animationValues),Xh(`skew${Yh[T]}`,c,w,this.animationValues);c.render();for(const T in w)c.setStaticValue(T,w[T]),this.animationValues&&(this.animationValues[T]=w[T]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return LM;const x={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,x.opacity="",x.pointerEvents=Cu(c?.pointerEvents)||"",x.transform=p?p(this.latestValues,""):"none",x;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const O={};return this.options.layoutId&&(O.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,O.pointerEvents=Cu(c?.pointerEvents)||""),this.hasProjected&&!io(this.latestValues)&&(O.transform=p?p({},""):"none",this.hasProjected=!1),O}const T=w.animationValues||w.latestValues;this.applyTransformsToTarget(),x.transform=OM(this.projectionDeltaWithTransform,this.treeScale,T),p&&(x.transform=p(T,x.transform));const{x:D,y:A}=this.projectionDelta;x.transformOrigin=`${D.origin*100}% ${A.origin*100}% 0`,w.animationValues?x.opacity=w===this?T.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:x.opacity=w===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const O in pd){if(T[O]===void 0)continue;const{correct:k,applyTo:W,isCSSVariable:V}=pd[O],Y=x.transform==="none"?T[O]:k(T[O],w);if(W){const ie=W.length;for(let ce=0;ce<ie;ce++)x[W[ce]]=Y}else V?this.options.visualElement.renderState.vars[O]=Y:x[O]=Y}return this.options.layoutId&&(x.pointerEvents=w===this?Cu(c?.pointerEvents)||"":"none"),x}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop(!1)),this.root.nodes.forEach(dN),this.root.sharedNodes.clear()}}}function BM(r){r.updateLayout()}function UM(r){const t=r.resumeFrom?.snapshot||r.snapshot;if(r.isLead()&&r.layout&&t&&r.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:n}=r.layout,{animationType:o}=r.options,u=t.source!==r.layout.source;o==="size"?pa(T=>{const D=u?t.measuredBox[T]:t.layoutBox[T],A=Ps(D);D.min=s[T].min,D.max=D.min+A}):p1(o,t.layoutBox,s)&&pa(T=>{const D=u?t.measuredBox[T]:t.layoutBox[T],A=Ps(s[T]);D.max=D.min+A,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[T].max=r.relativeTarget[T].min+A)});const c=bl();Zc(c,s,t.layoutBox);const x=bl();u?Zc(x,r.applyTransform(n,!0),t.measuredBox):Zc(x,s,t.layoutBox);const p=!u1(c);let w=!1;if(!r.resumeFrom){const T=r.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:D,layout:A}=T;if(D&&A){const O=Lr();Yc(O,t.layoutBox,D.layoutBox);const k=Lr();Yc(k,s,A.layoutBox),m1(O,k)||(w=!0),T.options.layoutRoot&&(r.relativeTarget=k,r.relativeTargetOrigin=O,r.relativeParent=T)}}}r.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:x,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:w})}else if(r.isLead()){const{onExitComplete:s}=r.options;s&&s()}r.options.transition=void 0}function FM(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function HM(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function WM(r){r.clearSnapshot()}function dN(r){r.clearMeasurements()}function qM(r){r.isLayoutDirty=!1}function GM(r){const{visualElement:t}=r.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),r.resetTransform()}function uN(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function QM(r){r.resolveTargetDelta()}function KM(r){r.calcProjection()}function ZM(r){r.resetSkewAndRotation()}function YM(r){r.removeLeadSnapshot()}function mN(r,t,s){r.translate=Cr(t.translate,0,s),r.scale=Cr(t.scale,1,s),r.origin=t.origin,r.originPoint=t.originPoint}function xN(r,t,s,n){r.min=Cr(t.min,s.min,n),r.max=Cr(t.max,s.max,n)}function XM(r,t,s,n){xN(r.x,t.x,s.x,n),xN(r.y,t.y,s.y,n)}function JM(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const eO={duration:.45,ease:[.4,0,.1,1]},hN=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),pN=hN("applewebkit/")&&!hN("chrome/")?Math.round:fa;function fN(r){r.min=pN(r.min),r.max=pN(r.max)}function tO(r){fN(r.x),fN(r.y)}function p1(r,t,s){return r==="position"||r==="preserve-aspect"&&!sM(lN(t),lN(s),.2)}function rO(r){return r!==r.root&&r.scroll?.wasRoot}const sO=h1({attachResizeListener:(r,t)=>gd(r,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jh={current:void 0},f1=h1({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!Jh.current){const r=new sO({});r.mount(window),r.setOptions({layoutScroll:!0}),Jh.current=r}return Jh.current},resetTransform:(r,t)=>{r.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),aO={pan:{Feature:vM},drag:{Feature:bM,ProjectionNode:f1,MeasureLayout:l1}};function gN(r,t,s){const{props:n}=r;r.animationState&&n.whileHover&&r.animationState.setActive("whileHover",s==="Start");const o="onHover"+s,u=n[o];u&&_r.postRender(()=>u(t,Bd(t)))}class nO extends Mi{mount(){const{current:t}=this.node;t&&(this.unmount=_8(t,(s,n)=>(gN(this.node,n,"Start"),o=>gN(this.node,o,"End"))))}unmount(){}}class iO extends Mi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ld(gd(this.node.current,"focus",()=>this.onFocus()),gd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yN(r,t,s){const{props:n}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&n.whileTap&&r.animationState.setActive("whileTap",s==="Start");const o="onTap"+(s==="End"?"":s),u=n[o];u&&_r.postRender(()=>u(t,Bd(t)))}class oO extends Mi{mount(){const{current:t}=this.node;t&&(this.unmount=M8(t,(s,n)=>(yN(this.node,n,"Start"),(o,{success:u})=>yN(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Qp=new WeakMap,ep=new WeakMap,lO=r=>{const t=Qp.get(r.target);t&&t(r)},cO=r=>{r.forEach(lO)};function dO({root:r,...t}){const s=r||document;ep.has(s)||ep.set(s,{});const n=ep.get(s),o=JSON.stringify(t);return n[o]||(n[o]=new IntersectionObserver(cO,{root:r,...t})),n[o]}function uO(r,t,s){const n=dO(t);return Qp.set(r,s),n.observe(r),()=>{Qp.delete(r),n.unobserve(r)}}const mO={some:0,all:1};class xO extends Mi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:o="some",once:u}=t,c={root:s?s.current:void 0,rootMargin:n,threshold:typeof o=="number"?o:mO[o]},x=p=>{const{isIntersecting:w}=p;if(this.isInView===w||(this.isInView=w,u&&!w&&this.hasEnteredView))return;w&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",w);const{onViewportEnter:T,onViewportLeave:D}=this.node.getProps(),A=w?T:D;A&&A(p)};return uO(this.node.current,c,x)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(hO(t,s))&&this.startObserver()}unmount(){}}function hO({viewport:r={}},{viewport:t={}}={}){return s=>r[s]!==t[s]}const pO={inView:{Feature:xO},tap:{Feature:oO},focus:{Feature:iO},hover:{Feature:nO}},fO={layout:{ProjectionNode:f1,MeasureLayout:l1}},Kp={current:null},g1={current:!1};function gO(){if(g1.current=!0,!!fg)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),t=()=>Kp.current=r.matches;r.addListener(t),t()}else Kp.current=!1}const yO=new WeakMap;function bO(r,t,s){for(const n in t){const o=t[n],u=s[n];if(vs(o))r.addValue(n,o);else if(vs(u))r.addValue(n,$l(o,{owner:r}));else if(u!==o)if(r.hasValue(n)){const c=r.getValue(n);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=r.getStaticValue(n);r.addValue(n,$l(c!==void 0?c:o,{owner:r}))}}for(const n in s)t[n]===void 0&&r.removeValue(n);return t}const bN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vO{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},x={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$g,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=zs.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,_r.render(this.render,!1,!0))};const{latestValues:p,renderState:w}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=s.initial?{...p}:{},this.renderState=w,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=x,this.blockInitialAnimation=!!u,this.isControllingVariants=Gm(s),this.isVariantNode=L6(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:T,...D}=this.scrapeMotionValuesFromProps(s,{},this);for(const A in D){const O=D[A];p[A]!==void 0&&vs(O)&&O.set(p[A],!1)}}mount(t){this.current=t,yO.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),g1.current||gO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ci(this.notifyUpdate),Ci(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Gl.has(t);n&&this.onBindTransform&&this.onBindTransform();const o=s.on("change",x=>{this.latestValues[t]=x,this.props.onUpdate&&_r.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),u=s.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{o(),u(),c&&c(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Al){const s=Al[t];if(!s)continue;const{isEnabled:n,Feature:o}=s;if(!this.features[t]&&o&&n(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Lr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<bN.length;n++){const o=bN[n];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=bO(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=$l(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(qk(n)||Qk(n))?n=parseFloat(n):!V8(n)&&Di.test(s)&&(n=E6(t,s)),this.setBaseTarget(t,vs(n)?n.get():n)),vs(n)?n.get():n}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){const{initial:s}=this.props;let n;if(typeof s=="string"||typeof s=="object"){const u=Gg(this.props,s,this.presenceContext?.custom);u&&(n=u[t])}if(s&&n!==void 0)return n;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!vs(o)?o:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new jg),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class y1 extends vO{constructor(){super(...arguments),this.KeyframeResolver=I8}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;vs(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function b1(r,{style:t,vars:s},n,o){Object.assign(r.style,t,o&&o.getProjectionStyles(n));for(const u in s)r.style.setProperty(u,s[u])}function jO(r){return window.getComputedStyle(r)}class wO extends y1{constructor(){super(...arguments),this.type="html",this.renderInstance=b1}readValueFromInstance(t,s){if(Gl.has(s))return this.projection?.isProjecting?Mp(s):qR(t,s);{const n=jO(t),o=(kg(s)?n.getPropertyValue(s):n[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:s}){return a1(t,s)}build(t,s,n){Hg(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return Qg(t,s,n)}}const v1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NO(r,t,s,n){b1(r,t,void 0,n);for(const o in t.attrs)r.setAttribute(v1.has(o)?o:Fg(o),t.attrs[o])}class kO extends y1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Lr}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Gl.has(s)){const n=P6(s);return n&&n.default||0}return s=v1.has(s)?s:Fg(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return Q6(t,s,n)}build(t,s,n){H6(t,s,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,s,n,o){NO(t,s,n,o)}mount(t){this.isSVGTag=q6(t.tagName),super.mount(t)}}const SO=(r,t)=>qg(r)?new kO(t):new wO(t,{allowProjection:r!==N.Fragment}),TO=N9({...K9,...pO,...aO,...fO},SO),v=Q8(TO);var j1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vN=gi.createContext&&gi.createContext(j1),IO=["attr","size","title"];function PO(r,t){if(r==null)return{};var s=EO(r,t),n,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)n=u[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(s[n]=r[n])}return s}function EO(r,t){if(r==null)return{};var s={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(t.indexOf(n)>=0)continue;s[n]=r[n]}return s}function cm(){return cm=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])}return r},cm.apply(this,arguments)}function jN(r,t){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),s.push.apply(s,n)}return s}function dm(r){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(s),!0).forEach(function(n){CO(r,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):jN(Object(s)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(s,n))})}return r}function CO(r,t,s){return t=DO(t),t in r?Object.defineProperty(r,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[t]=s,r}function DO(r){var t=_O(r,"string");return typeof t=="symbol"?t:t+""}function _O(r,t){if(typeof r!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var n=s.call(r,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function w1(r){return r&&r.map((t,s)=>gi.createElement(t.tag,dm({key:s},t.attr),w1(t.child)))}function jt(r){return t=>gi.createElement($O,cm({attr:dm({},r.attr)},t),w1(r.child))}function $O(r){var t=s=>{var{attr:n,size:o,title:u}=r,c=PO(r,IO),x=o||s.size||"1em",p;return s.className&&(p=s.className),r.className&&(p=(p?p+" ":"")+r.className),gi.createElement("svg",cm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,n,c,{className:p,style:dm(dm({color:r.color||s.color},s.style),r.style),height:x,width:x,xmlns:"http://www.w3.org/2000/svg"}),u&&gi.createElement("title",null,u),r.children)};return vN!==void 0?gi.createElement(vN.Consumer,null,s=>t(s)):t(j1)}function AO(r){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(r)}function Zp(r){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(r)}function wN(r){return jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M150.94 192h33.73c11.01 0 18.61-10.83 14.86-21.18-4.93-13.58-7.55-27.98-7.55-42.82s2.62-29.24 7.55-42.82C203.29 74.83 195.68 64 184.67 64h-33.73c-7.01 0-13.46 4.49-15.41 11.23C130.64 92.21 128 109.88 128 128c0 18.12 2.64 35.79 7.54 52.76 1.94 6.74 8.39 11.24 15.4 11.24zM89.92 23.34C95.56 12.72 87.97 0 75.96 0H40.63c-6.27 0-12.14 3.59-14.74 9.31C9.4 45.54 0 85.65 0 128c0 24.75 3.12 68.33 26.69 118.86 2.62 5.63 8.42 9.14 14.61 9.14h34.84c12.02 0 19.61-12.74 13.95-23.37-49.78-93.32-16.71-178.15-.17-209.29zM614.06 9.29C611.46 3.58 605.6 0 599.33 0h-35.42c-11.98 0-19.66 12.66-14.02 23.25 18.27 34.29 48.42 119.42.28 209.23-5.72 10.68 1.8 23.52 13.91 23.52h35.23c6.27 0 12.13-3.58 14.73-9.29C630.57 210.48 640 170.36 640 128s-9.42-82.48-25.94-118.71zM489.06 64h-33.73c-11.01 0-18.61 10.83-14.86 21.18 4.93 13.58 7.55 27.98 7.55 42.82s-2.62 29.24-7.55 42.82c-3.76 10.35 3.85 21.18 14.86 21.18h33.73c7.02 0 13.46-4.49 15.41-11.24 4.9-16.97 7.53-34.64 7.53-52.76 0-18.12-2.64-35.79-7.54-52.76-1.94-6.75-8.39-11.24-15.4-11.24zm-116.3 100.12c7.05-10.29 11.2-22.71 11.2-36.12 0-35.35-28.63-64-63.96-64-35.32 0-63.96 28.65-63.96 64 0 13.41 4.15 25.83 11.2 36.12l-130.5 313.41c-3.4 8.15.46 17.52 8.61 20.92l29.51 12.31c8.15 3.4 17.52-.46 20.91-8.61L244.96 384h150.07l49.2 118.15c3.4 8.16 12.76 12.01 20.91 8.61l29.51-12.31c8.15-3.4 12-12.77 8.61-20.92l-130.5-313.41zM271.62 320L320 203.81 368.38 320h-96.76z"},child:[]}]})(r)}function RO(r){return jt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(r)}function MO(r){return jt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(r)}function NN(r){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"},child:[]}]})(r)}function or(r){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(r)}function Yp(r){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM160 368c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16V240c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v128zm96 0c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16V144c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v224zm96 0c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-64c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v64z"},child:[]}]})(r)}function Vc(r){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(r)}function um(r){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(r)}function kN(r){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(r)}function lr(r){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(r)}function SN(r){return jt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(r)}function Xc(r){return jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(r)}const qt="/assets/logo-De5OXJah.png",OO="/assets/brooklyn99-DYJUH8Km.png",LO="/assets/stranger-things-DRcF_wqM.png",VO="/assets/breaking-bad-D1E4kgVP.png",zO="/assets/naruto-DUa7in8u.png",BO="/assets/alice-CeDQ0_3e.png",UO="/assets/netflix-DaHLFMJQ.png",FO="/assets/spotify-bWcpnvLH.png",HO="/assets/disney-CWU7DV5v.png",WO="/assets/max-BIVycyRg.png",qO="/assets/prime-video-DdoTjLXc.png",GO="/assets/vix-DijISFtY.png",QO="/assets/Canva-BX7ku0VE.png",KO="/assets/ChatGPT-B_s2moDj.png",ZO="/assets/crunchyroll-CCcWGZHz.png",YO="/assets/redessociales-C9h9bjwL.png",XO="/assets/dgo-BPXOpsxd.png",JO="/assets/ligamax-DG6Hz7Oj.png",eL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAB4CAYAAADblO/uAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACnFJREFUeNrsnd912zYbh+Gc3FedoPQEVSYINUHUm+bS0gS2JlA8ga0JrF7qyvYElieIMkHYCapvAn+EQEb2sUgR1AsSIJ/nHKU9jkOKIH54/+AFcPby8qIAoNucIXQAhA4ACB0AEDoAIHQAQOgAgNABAKEDAEIHQOgAgNABAKEDAEIHAIQOAAgdABA6ACB0AIQOAAgdABA6AHRX6GdnZ7RiVVZJlP45Tj+D9PM5++k2/fxIPxv1NXqgkeA1UoYYoTcj8En652X6GR75TS36Rfq5TUW/peEAoYchcG29b9JPZPkvk/QzTcW+phEROkL3V+DaNb/L3PRT0GJf0qAIHaH7KfKnCm46YgeEjsjf8CkV+4YGRugIvbsiz2P2TyToEHpdPtCUYtw4ErkmSj9XNDGEadHNvLL+xK9+qq3WJqiMs8mu3zdwp/O0XRK6LRbdf6EbF1dbpwt1fNpJF5AsvBa9eZ6fyhTBuGaZtsWU7o/Q/Rb6KvmmTOGIrSi04KdexqjmmeYN3vF3YnWE7qfQZRJV2mX9y6vsc7PWPGeWtsEtEkDofgl9lQwzkUuIQVuykTdiXyU6BLlp+K5J+vznne7dxks6FLYkCN1HobuxeP6IfZX8VPblrRJ0e159lRzqlKM+lgRLCf2j4+/5pOTdWhMGrJJ2xW4WqkQt3V0nMjeOnitWb2dB6rDeDcgU+XjDR4dCcDmvrMV+n96jzSKSixbf23gXq7tBi/zU5OI86wPbTPSPlPG2ywdHItedxXWBR6SambsuyjvELb63KKtB8J1BNijdpd/3v8wLgs4IvbnpprggceOaSw/e3TiwvjbIBH+f5W4gaKHLxHh2g4qxsE1Z84EnIvscaJ9rqooQHMfo8xaeQ6/9/tTQvSaq2Xnzsli6Scqz3vty5igbhMYl7WQ8sa/RNyQYokVvL3YdZsm/vrjtxhX2KU7Xc9x6INBJN1Omq+f6b0vbERc+WNe9zUz0VRY2uHTbY9XelNrhAc5X9GzI10jPDExLYnZW5AUq9EnLz+Paql949v6G3vcwM61WtLvtFyQYmtCNtRu03vFdZeGNmznx7P2FkpC7LnlfuO+BWXRfRmdXWfiJh+8vDJGYCrkkWK+kA0hm3WOPnku78CPha156+P5CEokWetToYPU2ZzPI2stsbJJ/p54slPko1KADzzpdvKvCkiq79C8J9/q7RYF01ucCYzAsieFt39GX7HrDygNI3TLdw/UiSe0+V3Q9vWrPI4vuo2W5SRvvQagWXjoJpzvWIvtvXoAzr2ndohK3uE9okdTJ4uftP077i34Hs4pHY8Xqfc3I+gRhSl/PSYwee/ji80MUTreYsvG57kijXWcyU1BJtpHEuXK1Ig1sBs37lsqqnSIldF+zv2OBhRSSIp8W7g5jPI86K9LiQPpaUR/xcXCbZxt+EqMfGAl9Rbvwm1pro401nwuKvNwN05Vlq2QdkHhtPaxDSC4zXqv96bTbkkEkP812XNJ373bvoiP78/VB6KdsVCG1+GJpkaR57JzQy5O1Mhbdvm7+YedBFW8Hlsfuyy68gg8CLzGETpmLfVy5Y66SOyWTZEwsXfIuxulXhW3TtsU0oVTR++lM5V6fTmrJd6W5K63GMgPXk2Bsfm3ZmW07vt/VcaatL0usavsYsScH/qYzxTwSrntojTHZffTUm5nbzS1orPbzsHIxo+28qg4vVkmXXPayfQP/8ejbPhzwPCKE/tZShshYud9A4lr1kf3mHDcl/WPt2eaR/3b5lXxU4IpNx7YnvqiQj/kt84iO/Z4OT6bevS+EDjVYdOx5JoLXmnJYZH+Ens9z+lYnL/NsbG9cbMmrlZhKhxPHvIwhQpdHi2D2KxttXsJ9wPH+oeer2yG72uHevnO3otb5gc8VwwgsuiOSd0f/moowvaz0qSNiP8Vtt31+n2PLtTIFQA+NuOqm3FlXMkZIu32hHxaBmVbShQt3gbfppuH4838N3WdmMag0u87bZPlvlJ+bg/RW6MWdRce1q0TPZYe8oODUJJyvHo3Pswh3Fn1mXdLuQ4Qux7EYbZbFVaG68KcmmobC7dltjLs+LjEqi2yQ2hy5TpyFjghdKEYs75ja5VslC9XOQRCni7z52u2+r2GfFxqMoiXBPUSi1t22Y0dHf8OsREoCbM9HgWv8SbesbM2HBf1picjlhe5KkLMA21NiftguZOlW9Z0tRS77NdKWFrp9djWueF0tmnVQIpdx222EvqULi/RJKaLuCt1gI0gb1zQkq/4odB2bZBx7zPlF54WeOOnIJlO67JHb7kvYBPXzBlGXhf7DatSza4xZAC7qpqWdUn70XFbbArGNG3nnh5l0Wei2LmRc+TeNgHxfCdbWBgp9d92LQsY6U7ORUNtfWq9XMAPTF/+Fbp/5/WJ5/W+eu6ltuO3bnmfcy85004c33h/1HM3egHq3oe/KtvTaJPwOiT3fn/Bb4ZZl5r7jbFuzn8os6HJalSdZGbe2sNRxjevPlNyurNJueyIq4GqZ9wcFmusCkeanrzxkIc7m1yBgNsiIBcS1KLj3IPMq5rutxt+GGNWPi/LQdbd1IwfWu8f6O90m/Z0eKg4GzBWbfrE88g7y467us4/+/ysRC3r83rmw41efVkq7JYX+7NR931v1rsfni0rtwA4tr/lLIF+xqeklSdx7qxznW+SEbr9ryLjGPXybbkvENzg01yvbT23K7jXv2kznKz5lXs62hsCn2b9/rnVvc0T3bc3BRb9rfe7eo8smkl69ZhOnR7vspL1QZtkg4cPqtoWjjquX62qLfaH22WCzEsu9JS9yR5vM8I9q3V8nbVeJFtxEmR1mDrnKufV8VO93ol3Wes783DyzGOv1vd8bBnP953f3drzF99nLy8tpFzg7U6++bNHxNmUuqP1IaH8fF2x3I3FHzuaCljEnuL47Nvnl7z9GvsXoqkaMU+/ccTM4tD2HvEDkEAqyQi+eWyxiWHo8Ujlt7gu+rRmTARTxRzhCN9hmoeuVK5r4pq0pphnWHISJQhO6rfte/5BAUzHXdOHIkqw3NCT0xF+h27vv8Yl3nDYYr29UmBtigM+YUt1DQv/XX6EbbKadTnNZ9vOY6wZEPsJlBwdMCn4u1qdlp9f2I5ROsOli/aqJtpHIAo1Voqfcrhy8iNv0+2HJwYU11yWy3w/8jS4C+v1Ufbq16MbqNR/HGjGOBGObdTYIIXKQFvggmzt/EvCKW7Lo+7jje0Wrfi5e8WX2+76okQPQg5RO8P3T+2WgUNerzBfMHCqprXK09K9iLCmL7k7o5qGrVLDpevFzx4kO3ah/quIVS89Z467Fa9ehj0I/JXzcZl7krh+GIXTz4E9HRi822ocuCV2743MJkUsK/UMDj66X8RUJ+RaRQ8eoG4IuM3fdiUfp3qK/d6GjX3Ewa6qhexZd9+/LLEyMVPH08UbtV7IVngngjesOAP6D0AEQOgAgdABA6ACA0AEAoQMAQgcAhA4ACB0AoQMAQgcAhA4ACB0AEDoAIHQAQOgAgNABEDoAIHQAQOgAgNABAKEDAEIHAIQOAAgdAKEjdIDu838BBgAP9Pzi++BqOAAAAABJRU5ErkJggg==",tL="/assets/youtube-CpBI5AmY.png",rL="/assets/deezer-Dzzytvkp.png",sL="/assets/tidal-Dvc8GFJF.png",aL="/assets/vpn-DwO8ctKm.png",nL="/assets/wintv-DVRyyyXO.png",iL="/assets/applemusic-oPM8BG1t.png",oL="/assets/appletv-CnHYjknK.png",lL="/assets/iptv-DuZZIyup.png",cL="/assets/flujotv-BuBDxOy2.png",dL="/assets/vikirakuten-N9-l2Szt.png",uL="/assets/pornhub-CExwxEGA.png",mL="/assets/paramount-BdllqDdm.png",xL="/assets/licencias-BVJh6MhK.png",hL="/assets/capcut-CQ2qY_pe.png",pL="/assets/duolingo-5bYI8P47.png",fL="/assets/buscapersonas-lxj-Iky8.png",Js=[{src:OO,title:"Brooklyn Nine-Nine",description:"Comedia policial hilarante"},{src:LO,title:"Stranger Things",description:"Misterio y nostalgia ochentera"},{src:VO,title:"Breaking Bad",description:"Un descenso al mundo del crimen"},{src:zO,title:"Naruto",description:"Aventuras ninja épicas"},{src:BO,title:"Alice in Borderland",description:"Juego de supervivencia intenso"}],gL=[{name:"Netflix",logo:UO,route:"/netflix",color:"#FF0000"},{name:"Spotify",logo:FO,route:"/spotify",color:"#FF0000"},{name:"Disney+",logo:HO,route:"/disney",color:"#FF0000"},{name:"Max",logo:WO,route:"/max",color:"#FF0000"},{name:"Prime Video",logo:qO,route:"/primevideo",color:"#FF0000"},{name:"Vix",logo:GO,route:"/vix",color:"#FF0000"},{name:"Canva",logo:QO,route:"/canva",color:"#FF0000"},{name:"ChatGPT",logo:KO,route:"/chatgpt",color:"#FF0000"},{name:"Crunchyroll",logo:ZO,route:"/crunchyroll",color:"#FF0000"},{name:"Redes Sociales",logo:YO,route:"/redessociales",color:"#FF0000"},{name:"Dgo",logo:XO,route:"/dgo",color:"#FF0000"},{name:"Liga Max",logo:JO,route:"/ligamax",color:"#FF0000"},{name:"Movistar Play",logo:eL,route:"/movistarplay",color:"#FF0000"},{name:"Youtube",logo:tL,route:"/youtube",color:"#FF0000"},{name:"Deezer",logo:rL,route:"/deezer",color:"#FF0000"},{name:"Tidal",logo:sL,route:"/tidal",color:"#FF0000"},{name:"Vpn",logo:aL,route:"/vpn",color:"#FF0000"},{name:"Win Tv",logo:nL,route:"/wintv",color:"#FF0000"},{name:"Apple Music",logo:iL,route:"/applemusic",color:"#FF0000"},{name:"Apple Tv",logo:oL,route:"/appletv",color:"#FF0000"},{name:"Iptv",logo:lL,route:"/iptv",color:"#FF0000"},{name:"Flujo Tv",logo:cL,route:"/flujotv",color:"#FF0000"},{name:"Viki Rakuten",logo:dL,route:"/vikirakuten",color:"#FF0000"},{name:"Pornhub",logo:uL,route:"/pornhub",color:"#FF0000"},{name:"Paramount",logo:mL,route:"/paramount",color:"#FF0000"},{name:"Licencias",logo:xL,route:"/licencias",color:"#FF0000"},{name:"Cap cut",logo:hL,route:"/capcut",color:"#FF0000"},{name:"Duolingo",logo:pL,route:"/duolingo",color:"#FF0000"},{name:"Busca Personas",logo:fL,route:"/buscapersonas",color:"#FF0000"}],N1=N.createContext({theme:"dark",toggleTheme:()=>{}}),yL=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(N1.Provider,{value:{theme:t,toggleTheme:n},children:e.jsx("div",{className:`min-h-screen font-inter transition-colors duration-300 ${t==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black text-gray-200":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100 text-gray-900"} flex flex-col`,children:r})})},bL=({isOpen:r,onClose:t,message:s,theme:n})=>e.jsx(zg,{children:r&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs(v.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},className:`rounded-2xl p-6 max-w-md w-full mx-4 shadow-2xl border-2 ${n==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Zp,{className:"text-red-500 text-2xl"}),e.jsx("h3",{className:`text-xl font-bold ${n==="dark"?"text-white":"text-gray-900"}`,children:"Notificación"})]}),e.jsx("p",{className:`mb-6 ${n==="dark"?"text-gray-300":"text-gray-600"}`,children:s}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"w-full py-2 rounded-xl bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800 text-white transition-colors",children:"Cerrar"})]})})}),vL=({isOpen:r,onClose:t,onSubmit:s,user:n,theme:o})=>{const[u,c]=N.useState(0),[x,p]=N.useState(0),[w,T]=N.useState(""),[D,A]=N.useState(""),[O,k]=N.useState(""),W=async V=>{if(V.preventDefault(),!n){t();return}try{const Y=se($,"surveys"),ie=ke(Y,_e("userEmail","==",n.email));if(!(await Ft(ie)).empty){t();return}await s({websiteSatisfaction:u,providerSatisfaction:x,recommendedProvider:w,notRecommendedProvider:D,improvementSuggestions:O,timestamp:new Date,userEmail:n.email,username:n.name}),c(0),p(0),T(""),A(""),k(""),t()}catch(Y){console.error("Error submitting survey:",Y)}};return e.jsx(zg,{children:r&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs(v.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},className:`rounded-2xl p-6 max-w-md w-full mx-4 shadow-2xl border-2 ${o==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Yp,{className:"text-red-500 text-2xl"}),e.jsx("h3",{className:`text-xl font-bold ${o==="dark"?"text-white":"text-gray-900"}`,children:"Encuesta de Satisfacción"})]}),n?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${o==="dark"?"text-gray-200":"text-gray-700"}`,children:"¿Estás satisfecho con la página? (1-5)"}),e.jsx("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(V=>e.jsx(v.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",onClick:()=>c(V),className:`w-10 h-10 rounded-full border-2 ${u===V?"bg-red-500 text-white border-red-500":o==="dark"?"bg-gray-800 border-gray-600":"bg-gray-200 border-gray-400"} flex items-center justify-center transition-all`,children:V},V))})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${o==="dark"?"text-gray-200":"text-gray-700"}`,children:"¿Estás satisfecho con los proveedores? (1-5)"}),e.jsx("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(V=>e.jsx(v.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",onClick:()=>p(V),className:`w-10 h-10 rounded-full border-2 ${x===V?"bg-red-500 text-white border-red-500":o==="dark"?"bg-gray-800 border-gray-600":"bg-gray-200 border-gray-400"} flex items-center justify-center transition-all`,children:V},V))})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${o==="dark"?"text-gray-200":"text-gray-700"}`,children:"¿Qué proveedor recomiendas?"}),e.jsx("input",{type:"text",value:w,onChange:V=>T(V.target.value),className:`w-full py-2 px-3 rounded-xl bg-transparent border ${o==="dark"?"border-gray-600/50 text-white placeholder-gray-400":"border-gray-400/50 text-gray-900 placeholder-gray-600"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all`,placeholder:"Escribe el nombre del proveedor"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${o==="dark"?"text-gray-200":"text-gray-700"}`,children:"¿Qué proveedor no recomiendas?"}),e.jsx("input",{type:"text",value:D,onChange:V=>A(V.target.value),className:`w-full py-2 px-3 rounded-xl bg-transparent border ${o==="dark"?"border-gray-600/50 text-white placeholder-gray-400":"border-gray-400/50 text-gray-900 placeholder-gray-600"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all`,placeholder:"Escribe el nombre del proveedor"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${o==="dark"?"text-gray-200":"text-gray-700"}`,children:"¿Qué mejorarías de la página?"}),e.jsx("textarea",{value:O,onChange:V=>k(V.target.value),className:`w-full py-2 px-3 rounded-xl bg-transparent border ${o==="dark"?"border-gray-600/50 text-white placeholder-gray-400":"border-gray-400/50 text-gray-900 placeholder-gray-600"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all`,placeholder:"Escribe tus sugerencias",rows:"4"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:t,className:`w-full py-2 rounded-xl ${o==="dark"?"bg-gray-700 hover:bg-gray-600":"bg-gray-300 hover:bg-gray-400"} text-gray-100 transition-colors`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",onClick:W,className:"w-full py-2 rounded-xl bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800 text-white transition-colors disabled:opacity-50",disabled:u===0||x===0,children:"Enviar"})]})]}):e.jsx("p",{className:`mb-6 ${o==="dark"?"text-gray-300":"text-gray-600"}`,children:"Por favor, inicia sesión para completar la encuesta."})]})})})},jL=()=>{const[r,t]=N.useState(0),[s,n]=N.useState(null),[o,u]=N.useState(0),[c,x]=N.useState("user"),[p,w]=N.useState(""),[T,D]=N.useState([]),[A,O]=N.useState({isOpen:!1,message:""}),[k,W]=N.useState(!1),[V,Y]=N.useState(!1),[ie,ce]=N.useState(!1),pe=Qt(),{theme:X,toggleTheme:ne}=N.useContext(N1);N.useEffect(()=>{const i=setInterval(()=>{t(He=>(He+1)%Js.length)},5e3);return()=>clearInterval(i)},[]),N.useEffect(()=>(document.body.style.overflow=ie?"hidden":"auto",()=>{document.body.style.overflow="auto"}),[ie]),N.useEffect(()=>{(async()=>{if(ot.currentUser)try{const He=se($,"users"),je=ke(He,_e("email","==",ot.currentUser.email)),Ne=await Ft(je);if(!Ne.empty){const Ie=Ne.docs[0].data();n({name:Ie.username||"Usuario",email:ot.currentUser.email}),u(Ie.balance||0),x(Ie.role||"user")}const Ae=await yt(H($,"notifications","adminMessage"));if(Ae.exists()){const Ie=Ae.data();O({isOpen:!0,message:Ie.message||"Mensaje del administrador no disponible."})}}catch(He){console.error("Error al cargar datos:",He),O({isOpen:!0,message:"Hubo un error al cargar los datos. Por favor, intenta de nuevo."})}})()},[]);const F=async()=>{try{const i=await yt(H($,"notifications","adminMessage"));if(i.exists()){const He=i.data();O({isOpen:!0,message:He.message||"Mensaje del administrador no disponible."})}else O({isOpen:!0,message:"No hay notificaciones del administrador en este momento."})}catch(i){console.error("Error al cargar notificación:",i),O({isOpen:!0,message:"Error al cargar la notificación. Por favor, intenta de nuevo."})}},h=async i=>{try{await wi(se($,"surveys"),i),O({isOpen:!0,message:"¡Gracias por tu opinión! La encuesta se ha enviado correctamente."})}catch(He){console.error("Error al enviar la encuesta:",He),O({isOpen:!0,message:"Error al enviar la encuesta. Por favor, intenta de nuevo."})}},Z=async()=>{try{await ot.signOut(),n(null),pe("/login")}catch(i){console.error("Error al cerrar sesión:",i),O({isOpen:!0,message:"Error al cerrar sesión. Por favor, intenta de nuevo."})}},Q=()=>{pe({user:"/dashboard/user",affiliate:"/dashboard/affiliate",provider:"/dashboard/provider",admin:"/dashboard/admin"}[c]||"/dashboard/user")},ae=async i=>{if(i.preventDefault(),!p.trim()){D([]);return}try{const He=se($,"products"),je=ke(He,_e("name",">=",p.toUpperCase()),_e("name","<=",p.toUpperCase()+"")),Ae=(await Ft(je)).docs.map(Ie=>({id:Ie.id,...Ie.data()}));D(Ae)}catch(He){console.error("Error al buscar productos:",He),O({isOpen:!0,message:"Error al realizar la búsqueda. Por favor, intenta de nuevo."}),D([])}},oe=()=>{Y(i=>!i)},ee=()=>{ce(i=>!i)},K=i=>{i.key==="Enter"&&ae(i)};return e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(bL,{isOpen:A.isOpen,onClose:()=>O({...A,isOpen:!1}),message:A.message,theme:X}),e.jsx(vL,{isOpen:k,onClose:()=>W(!1),onSubmit:h,user:s,theme:X}),e.jsxs(v.header,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:120},className:`sticky top-0 z-50 backdrop-blur-md border-b ${X==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:[e.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center",children:[e.jsx("div",{className:"flex-1 flex items-center",children:e.jsxs(S,{to:"/",className:"flex items-center space-x-3",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-12 w-auto transition-transform"}),e.jsx("span",{className:`text-2xl font-bold bg-gradient-to-r ${X==="dark"?"from-red-500/50 to-red-700/50 text-red-500":"from-red-600/50 to-red-800/50 text-red-600"} bg-clip-text`,children:"SZ Streaming"})]})}),e.jsx("div",{className:"flex-1 hidden lg:flex justify-center",children:e.jsxs(v.div,{className:"relative max-w-xl w-full",initial:{scale:.9},animate:{scale:1},children:[e.jsx(Vc,{className:`absolute top-3.5 left-4 ${X==="dark"?"text-gray-400":"text-gray-600"} text-xl`}),e.jsx("input",{type:"text",placeholder:"Buscar productos...",className:`w-full pl-12 pr-4 py-3 rounded-full bg-transparent border-2 ${X==="dark"?"border-red-500/50 text-white placeholder-gray-400":"border-red-600/50 text-gray-900 placeholder-gray-600"} focus:ring-2 focus:ring-red-500 focus:border-red-500 shadow-lg backdrop-blur-sm transition-all hover:shadow-xl`,value:p,onChange:i=>w(i.target.value),onKeyDown:K}),e.jsx(v.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:ae,className:"absolute right-4 top-1/2 -translate-y-1/2 text-red-500 text-xl","aria-label":"Buscar",children:e.jsx(Vc,{})})]})}),e.jsxs("div",{className:"flex-1 flex justify-end items-center",children:[e.jsxs("div",{className:"hidden lg:flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.9},onClick:ne,className:`p-2 rounded-full ${X==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:X==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),s?e.jsxs(e.Fragment,{children:[e.jsx(v.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:F,className:`p-2 rounded-full ${X==="dark"?"bg-gray-800 hover:bg-gray-700":"bg-gray-200 hover:bg-gray-300"}`,"aria-label":"Ver notificaciones",children:e.jsx(Zp,{className:"text-red-500",size:22})}),e.jsx(v.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W(!0),className:`p-2 rounded-full ${X==="dark"?"bg-gray-800 hover:bg-gray-700":"bg-gray-200 hover:bg-gray-300"}`,"aria-label":"Abrir encuesta",children:e.jsx(Yp,{className:"text-red-500",size:22})}),e.jsx(v.span,{className:`text-base font-medium ${X==="dark"?"text-red-500":"text-red-600"}`,initial:{opacity:0},animate:{opacity:1},children:s.name}),e.jsxs(v.span,{className:`text-base font-medium px-4 py-1.5 rounded-full ${X==="dark"?"bg-gray-800 text-white":"bg-gray-200 text-gray-900"}`,whileHover:{scale:1.05},children:["S/ ",o.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Q,className:`p-2 rounded-full ${X==="dark"?"bg-gray-800 hover:bg-gray-700":"bg-gray-200 hover:bg-gray-300"}`,"aria-label":"Panel de control",children:e.jsx(NN,{className:"text-red-500",size:22})}),e.jsx(v.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:oe,className:`p-2 rounded-full ${V?"bg-red-500 hover:bg-red-600":X==="dark"?"bg-gray-800 hover:bg-gray-700":"bg-gray-200 hover:bg-gray-300"}`,"aria-label":V?"Desactivar modo live":"Activar modo live",children:e.jsx(wN,{className:V?"text-white":"text-red-500",size:22})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Z,className:"inline-flex items-center space-x-2 px-4 py-2 rounded-full text-base font-semibold text-white bg-gradient-to-r from-red-600 to-red-800 hover:from-red-700 hover:to-red-900 shadow-md transition-all duration-300",children:[e.jsx(kN,{size:18}),e.jsx("span",{children:"Salir"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(S,{to:"/login",className:"inline-flex items-center space-x-2 px-4 py-2 rounded-full text-base font-semibold text-white shadow-md transition-all duration-300 bg-gradient-to-r from-red-600 to-red-800 hover:from-red-700 hover:to-red-900",children:[e.jsx(um,{size:18}),e.jsx("span",{children:"Ingresar"})]}),e.jsxs(S,{to:"/register",className:"inline-flex items-center space-x-2 px-4 py-2 rounded-full text-base font-semibold text-white shadow-md transition-all duration-300 bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800",children:[e.jsx(Xc,{size:18}),e.jsx("span",{children:"Registrarse"})]})]})]}),e.jsx(v.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:ee,className:"p-2 rounded-full text-red-500 hover:bg-gray-700/50 lg:hidden","aria-label":"Toggle menu",children:ie?e.jsx(SN,{size:22}):e.jsx(AO,{size:22})})]})]}),e.jsx(zg,{children:ie&&e.jsx(v.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:300,damping:30},className:`lg:hidden fixed top-0 left-0 h-full w-64 ${X==="dark"?"bg-black border-gray-800/50":"bg-gray-100 border-gray-300/50"} z-50 shadow-2xl border-r border-red-500/20`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-red-500/20",children:[e.jsx("span",{className:`text-xl font-bold ${X==="dark"?"text-red-500":"text-red-600"}`,children:"Menú"}),e.jsx(v.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:ee,className:`p-2 rounded-full ${X==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"}`,"aria-label":"Cerrar menú",children:e.jsx(SN,{size:22})})]}),e.jsxs("div",{className:"flex flex-col p-4 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Vc,{className:`absolute top-3 left-3 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",placeholder:"Buscar productos...",className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent border ${X==="dark"?"border-gray-600/50 text-white placeholder-gray-400":"border-gray-400/50 text-gray-900 placeholder-gray-600"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all`,value:p,onChange:i=>w(i.target.value),onKeyDown:K}),e.jsx(v.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:ae,className:"absolute right-3 top-1/2 -translate-y-1/2 text-red-500","aria-label":"Buscar",children:e.jsx(Vc,{size:18})})]}),s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`text-base font-medium ${X==="dark"?"text-red-500":"text-red-600"}`,children:s.name}),e.jsxs("span",{className:`text-base font-medium px-4 py-1.5 rounded-full ${X==="dark"?"bg-gray-800 text-white":"bg-gray-200 text-gray-900"}`,children:["S/ ",o.toFixed(2)]})]}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{F(),ee()},className:`flex items-center space-x-2 text-base text-left ${X==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"}`,children:[e.jsx(Zp,{size:18}),e.jsx("span",{children:"Notificaciones"})]}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{W(!0),ee()},className:`flex items-center space-x-2 text-base text-left ${X==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"}`,children:[e.jsx(Yp,{size:18}),e.jsx("span",{children:"Encuesta"})]}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Q(),ee()},className:`flex items-center space-x-2 text-base text-left ${X==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"}`,children:[e.jsx(NN,{size:18}),e.jsx("span",{children:"Panel de control"})]}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(),ee()},className:`flex items-center space-x-2 text-base text-left ${V?"text-red-500":X==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"}`,children:[e.jsx(wN,{size:18}),e.jsx("span",{children:V?"Desactivar modo live":"Activar modo live"})]}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Z(),ee()},className:`flex items-center space-x-2 text-base text-left ${X==="dark"?"text-red-500 hover:text-red-600":"text-red-600 hover:text-red-700"}`,children:[e.jsx(kN,{size:18}),e.jsx("span",{children:"Salir"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{pe("/login"),ee()},className:`flex items-center space-x-2 text-base text-left ${X==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"}`,children:[e.jsx(um,{size:18}),e.jsx("span",{children:"Ingresar"})]}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{pe("/register"),ee()},className:`flex items-center space-x-2 text-base text-left ${X==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"}`,children:[e.jsx(Xc,{size:18}),e.jsx("span",{children:"Registrarse"})]})]}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne(),ee()},className:`flex items-center space-x-2 text-base text-left ${X==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"}`,children:[X==="dark"?e.jsx(lr,{size:18}):e.jsx(or,{size:18}),e.jsx("span",{children:"Cambiar tema"})]})]})]})})})]}),e.jsxs("main",{className:"flex-grow pt-24",children:[T.length>0&&e.jsxs(v.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"py-12 px-6 container mx-auto",children:[e.jsx("h2",{className:`text-3xl font-bold mb-6 ${X==="dark"?"text-white":"text-gray-900"}`,children:"Resultados de búsqueda"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:T.map(i=>e.jsxs(v.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.05},className:`p-6 rounded-2xl shadow-md border-2 ${X==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-2 ${X==="dark"?"text-red-500":"text-red-600"}`,children:i.name}),e.jsx("p",{className:`text-base line-clamp-2 mb-2 ${X==="dark"?"text-gray-300":"text-gray-600"}`,children:i.details||i.description}),e.jsxs("p",{className:`text-base font-medium mb-1 ${X==="dark"?"text-gray-200":"text-gray-700"}`,children:["Plataforma: ",i.category]}),e.jsxs("p",{className:`text-base font-bold ${X==="dark"?"text-red-500":"text-red-600"}`,children:["Precio: S/ ",i.price?.toFixed(2)]})]},i.id))})]}),p.trim()&&T.length===0&&e.jsx(v.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"py-12 px-6 container mx-auto text-center",children:e.jsxs("p",{className:`text-lg ${X==="dark"?"text-gray-300":"text-gray-600"}`,children:['No se encontraron productos para "',p,'".']})}),e.jsxs(v.section,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"py-8 px-6 text-center",children:[e.jsxs("h1",{className:`text-4xl sm:text-5xl md:text-6xl font-extrabold tracking-tight ${X==="dark"?"text-white":"text-gray-900"}`,children:["SZ ",e.jsx("span",{className:X==="dark"?"text-red-500":"text-red-600",children:"Streaming"})]}),e.jsx("p",{className:`mt-4 text-lg sm:text-xl max-w-3xl mx-auto ${X==="dark"?"text-gray-400":"text-gray-600"}`,children:"Accede a todo tu entretenimiento y herramientas con SZ Streaming."})]}),e.jsxs("section",{className:"relative py-6 px-6 sm:px-8",children:[e.jsxs(v.div,{className:"flex justify-center items-center space-x-4 perspective-1000",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[e.jsx(v.div,{className:"hidden lg:block w-48 h-64 rounded-2xl overflow-hidden shadow-xl transform -rotate-y-15",initial:{x:-100,opacity:0},animate:{x:0,opacity:.8},transition:{duration:.5},children:e.jsx("img",{src:Js[(r-1+Js.length)%Js.length].src,alt:"Programa anterior",className:"w-full h-full object-cover scale-110"})}),e.jsxs(v.div,{className:"relative rounded-2xl overflow-hidden shadow-2xl border-2 border-red-500/20",initial:{scale:.9},animate:{scale:1},transition:{type:"spring",stiffness:100},children:[e.jsx("img",{src:Js[r].src,alt:"Programa destacado",className:"w-72 h-96 sm:w-96 sm:h-[28rem] object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),e.jsxs(v.div,{className:"absolute bottom-0 w-full p-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[e.jsx("h2",{className:`text-2xl sm:text-3xl font-bold ${X==="dark"?"text-white":"text-gray-900"} drop-shadow-lg`,children:Js[r].title}),e.jsx("p",{className:`text-sm ${X==="dark"?"text-gray-300":"text-gray-600"}`,children:Js[r].description})]})]}),e.jsx(v.div,{className:"hidden lg:block w-48 h-64 rounded-2xl overflow-hidden shadow-xl transform rotate-y-15",initial:{x:100,opacity:0},animate:{x:0,opacity:.8},transition:{duration:.5},children:e.jsx("img",{src:Js[(r+1)%Js.length].src,alt:"Próximo programa",className:"w-full h-full object-cover scale-110"})}),e.jsx(v.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>t(i=>(i-1+Js.length)%Js.length),className:`absolute left-4 top-1/2 -translate-y-1/2 ${X==="dark"?"bg-black/60 hover:bg-red-500/60 border-red-500/20":"bg-gray-100/60 hover:bg-red-500/60 border-red-500/20"} backdrop-blur-md p-3 rounded-full border-2`,"aria-label":"Programa anterior",children:e.jsx(RO,{className:"text-red-500 text-xl"})}),e.jsx(v.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>t(i=>(i+1)%Js.length),className:`absolute right-4 top-1/2 -translate-y-1/2 ${X==="dark"?"bg-black/60 hover:bg-red-500/60 border-red-500/20":"bg-gray-100/60 hover:bg-red-500/60 border-red-500/20"} backdrop-blur-md p-3 rounded-full border-2`,"aria-label":"Próximo programa",children:e.jsx(MO,{className:"text-red-500 text-xl"})})]}),e.jsx("div",{className:"flex justify-center space-x-2 mt-6",children:Js.map((i,He)=>e.jsx(v.div,{whileHover:{scale:1.2},className:`w-2 h-2 rounded-full transition-colors ${He===r?"bg-red-500":X==="dark"?"bg-gray-600":"bg-gray-400"}`,"aria-label":`Ir a ${He+1}`},He))})]}),e.jsxs(v.section,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"py-16 container mx-auto px-6",children:[e.jsxs("div",{className:"mb-10 text-center",children:[e.jsx(v.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:`text-3xl md:text-4xl font-bold ${X==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Plataformas de Streaming"}),e.jsx(v.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:`max-w-2xl mx-auto ${X==="dark"?"text-gray-400":"text-gray-600"}`,children:"Acceso a todas tus plataformas favoritas en un solo lugar."})]}),e.jsx(v.div,{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},children:gL.map(i=>e.jsx(v.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},whileHover:{scale:1.05},className:"w-full h-32",children:e.jsxs(S,{to:i.route,className:`group relative flex items-center justify-center h-full rounded-2xl shadow-lg transition-all duration-300 ${X==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} border-2`,"aria-label":`Ir a ${i.name}`,children:[e.jsxs("div",{className:"flex items-center space-x-4 p-4",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:i.logo,alt:i.name,className:"w-20 h-20 object-contain",style:{transform:V?"scaleX(-1)":"scaleX(1)"}}),e.jsx("span",{className:`font-semibold text-center text-base ${X==="dark"?"text-white":"text-gray-900"}`,children:i.name})]}),e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-20 transition-opacity duration-300 bg-gradient-to-r from-red-500 to-red-700"})]})},i.name))})]}),!s&&e.jsx(v.section,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"py-16 bg-gradient-to-r from-red-600 to-red-800",children:e.jsxs("div",{className:"container mx-auto px-6 text-center",children:[e.jsx(v.h2,{initial:{scale:.9},animate:{scale:1},className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"¿Listo para adquirir?"}),e.jsx("p",{className:"text-gray-200 max-w-2xl mx-auto mb-6",children:"Únete a miles de usuarios satisfechos accediendo a todas tus plataformas favoritas en un solo lugar."}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>pe("/register"),className:"inline-flex items-center space-x-2 px-6 py-3 rounded-xl text-base font-semibold text-white bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800 shadow-md transition-all duration-300",children:[e.jsx(Xc,{size:18}),e.jsx("span",{children:"Regístrate"})]})]})})]}),e.jsx("footer",{className:`backdrop-blur-md border-t py-6 ${X==="dark"?"border-gray-800/50":"border-gray-300/50"}`,children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qt,alt:"SZ Streaming",className:"h-8 w-auto"}),e.jsx("span",{className:`text-sm font-semibold ${X==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"})]}),e.jsxs("div",{className:`text-sm text-center ${X==="dark"?"text-gray-400":"text-gray-600"}`,children:["© ",new Date().getFullYear()," SZ Streaming. Todos los derechos reservados."]}),e.jsx("div",{className:`text-sm text-center ${X==="dark"?"text-gray-400":"text-gray-600"}`,children:"Desarrollado por Saiph"})]})})})]})},wL=()=>e.jsx(yL,{children:e.jsx(jL,{})});function Zg(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(r)}function mt(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(r)}function k1(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(r)}function Rl(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(r)}function Tt(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(r)}function mm(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(r)}function yd(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(r)}function S1(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(r)}function cr(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(r)}function NL(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(r)}function kL(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(r)}function Xp(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(r)}function rs(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(r)}function T1(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(r)}function Jp(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(r)}function I1(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(r)}function P1(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(r)}function tt(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(r)}function rt(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"},child:[]},{tag:"line",attr:{x1:"7",y1:"2",x2:"7",y2:"22"},child:[]},{tag:"line",attr:{x1:"17",y1:"2",x2:"17",y2:"22"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"2",y1:"7",x2:"7",y2:"7"},child:[]},{tag:"line",attr:{x1:"2",y1:"17",x2:"7",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"17",x2:"22",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"7",x2:"22",y2:"7"},child:[]}]})(r)}function It(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(r)}function Qm(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(r)}function mr(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(r)}function Ct(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(r)}function Yg(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(r)}function Zt(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(r)}function Km(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(r)}function dr(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(r)}function Vs(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(r)}function fr(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(r)}function Be(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 18V5l12-2v13"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"16",r:"3"},child:[]}]})(r)}function Pt(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 19l7-7 3 3-7 7-3-3z"},child:[]},{tag:"path",attr:{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"},child:[]},{tag:"path",attr:{d:"M2 2l7.586 7.586"},child:[]},{tag:"circle",attr:{cx:"11",cy:"11",r:"2"},child:[]}]})(r)}function xm(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(r)}function Et(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"10 8 16 12 10 16 10 8"},child:[]}]})(r)}function TN(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(r)}function E1(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(r)}function vt(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(r)}function Ud(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(r)}function Ht(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(r)}function et(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(r)}function tp(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(r)}function C1(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(r)}function mo(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(r)}function ge(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"},child:[]},{tag:"polyline",attr:{points:"17 2 12 7 7 2"},child:[]}]})(r)}function SL(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(r)}function Xg(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(r)}function it(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(r)}function Ml(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(r)}function st(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"23 7 16 12 23 17 23 7"},child:[]},{tag:"rect",attr:{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"},child:[]}]})(r)}function Ot(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(r)}const D1=N.createContext({theme:"dark",toggleTheme:()=>{}}),TL=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{console.log("Toggling theme from",t);const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o),console.log("Theme set to",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(D1.Provider,{value:{theme:t,toggleTheme:n},children:r})},IL=()=>{const[r,t]=N.useState(""),[s,n]=N.useState(""),[o,u]=N.useState(null),[c,x]=N.useState(!1),p=Qt(),{theme:w,toggleTheme:T}=N.useContext(D1),D=async O=>{O.preventDefault(),u(null);try{const k=se($,"users"),W=ke(k,_e("username","==",r)),V=await Ft(W);if(V.empty){u("Nombre de usuario no encontrado.");return}const ce=V.docs[0].data().email,X=(await J_(ot,ce,s)).user;p("/")}catch{u("Usuario o contraseña incorrectos.")}},A=()=>{u(null)};return e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${w==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black text-gray-200":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100 text-gray-900"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${w==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-6 py-4 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsx("div",{className:"flex items-center justify-center lg:justify-start",children:e.jsxs(S,{to:"/",className:"flex items-center space-x-3",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-12 w-auto transition-transform"}),e.jsx("span",{className:`text-2xl font-bold bg-gradient-to-r ${w==="dark"?"from-red-500/50 to-red-700/50 text-red-500":"from-red-600/50 to-red-800/50 text-red-600"} bg-clip-text`,children:"SZ Streaming"})]})}),e.jsx(v.div,{animate:{scale:[1,1.02,1]},transition:{duration:2,repeat:1/0,repeatType:"loop"},className:"text-xs font-semibold text-white bg-red-500/20 rounded-full px-3 py-1",children:"V 2.0"}),e.jsxs("div",{className:"flex items-center justify-center lg:justify-end space-x-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.9},onClick:T,className:`p-2 rounded-full ${w==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:w==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),e.jsxs(S,{to:"/login",className:"inline-flex items-center space-x-2 px-4 py-2 rounded-full text-base font-semibold text-white shadow-md transition-all duration-300 bg-gradient-to-r from-red-600 to-red-800 hover:from-red-700 hover:to-red-900",children:[e.jsx(um,{size:18}),e.jsx("span",{children:"Ingresar"})]}),e.jsxs(S,{to:"/register",className:"inline-flex items-center space-x-2 px-4 py-2 rounded-full text-base font-semibold text-white shadow-md transition-all duration-300 bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800",children:[e.jsx(Xc,{size:18}),e.jsx("span",{children:"Registrarse"})]})]})]})}),e.jsx("main",{className:"flex-grow flex items-center justify-center p-6",children:e.jsxs("div",{className:`backdrop-blur-md rounded-2xl shadow-2xl p-12 w-full max-w-lg border-2 ${w==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsx(v.div,{className:"flex justify-center mb-6",children:e.jsx(v.img,{whileHover:{scale:1.05},src:qt,alt:"SZ Streaming",className:"h-24 sm:h-32 w-auto transition-transform"})}),e.jsxs("h1",{className:`text-3xl font-bold mb-10 text-center ${w==="dark"?"text-white":"text-gray-900"}`,children:["SZ",e.jsx("span",{className:w==="dark"?"text-red-500":"text-red-600",children:"Streaming"})]}),e.jsx("p",{className:`text-sm text-center mb-10 ${w==="dark"?"text-gray-400":"text-gray-600"}`,children:"Bienvenido de nuevo. Inicia sesión para continuar."}),o&&e.jsxs("div",{className:"mb-6 p-3 bg-gradient-to-r from-red-900/80 to-red-800/80 border-l-4 border-red-500 rounded-xl flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-400"}),e.jsx("span",{className:"text-red-300",children:o})]}),e.jsx("button",{onClick:A,className:"text-red-400 hover:text-red-300",children:e.jsx(Ot,{size:18})})]}),e.jsxs("form",{onSubmit:D,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-lg ${w==="dark"?"text-gray-100":"text-gray-900"}`,children:"Nombre de Usuario"}),e.jsxs("div",{className:"relative",children:[e.jsx(it,{className:`absolute top-3 left-3 ${w==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",placeholder:"Tu nombre de usuario",value:r,onChange:O=>t(O.target.value),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${w==="dark"?"text-white":"text-gray-900"} border ${w==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${w==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-lg ${w==="dark"?"text-gray-100":"text-gray-900"}`,children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(Yg,{className:`absolute top-3 left-3 ${w==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:c?"text":"password",placeholder:"••••••••",value:s,onChange:O=>n(O.target.value),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${w==="dark"?"text-white":"text-gray-900"} border ${w==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${w==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,required:!0}),e.jsx("button",{type:"button",onClick:()=>x(!c),className:`absolute top-3 right-3 ${w==="dark"?"text-gray-400 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-colors`,"aria-label":c?"Ocultar contraseña":"Mostrar contraseña",children:c?e.jsx(I1,{size:18}):e.jsx(P1,{size:18})})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",className:"w-full py-3 bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800 text-white font-medium rounded-xl shadow-lg transition-all duration-300",children:"Iniciar Sesión"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs(S,{to:"/register",className:`flex items-center justify-center transition-all text-lg ${w==="dark"?"text-gray-400 hover:text-red-500":"text-gray-600 hover:text-red-600"}`,children:[e.jsx(k1,{className:"mr-1"})," ¿No tienes una cuenta? Regístrate"]})})]})}),e.jsx("footer",{className:`backdrop-blur-md border-t py-6 ${w==="dark"?"border-gray-800/50":"border-gray-300/50"}`,children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qt,alt:"SZ Streaming",className:"h-8 w-auto"}),e.jsx("span",{className:`text-sm font-semibold ${w==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"})]}),e.jsxs("div",{className:`text-sm text-center ${w==="dark"?"text-gray-400":"text-gray-600"}`,children:["© ",new Date().getFullYear()," SZ Streaming. Todos los derechos reservados."]}),e.jsx("div",{className:`text-sm text-center ${w==="dark"?"text-gray-400":"text-gray-600"}`,children:"Desarrollado por Saiph"})]})})})]})},PL=()=>e.jsx(TL,{children:e.jsx(IL,{})}),EL=[{code:"+51",name:"Perú",flag:"🇵🇪"},{code:"+591",name:"Bolivia",flag:"🇧🇴"},{code:"+56",name:"Chile",flag:"🇨🇱"},{code:"+55",name:"Brasil",flag:"🇧🇷"},{code:"+54",name:"Argentina",flag:"🇦🇷"}],_1=N.createContext({theme:"dark",toggleTheme:()=>{}}),CL=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(_1.Provider,{value:{theme:t,toggleTheme:n},children:r})},DL=({isOpen:r,message:t,type:s,onClose:n})=>r?e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md p-6 rounded-2xl shadow-2xl max-w-sm w-full border transform transition-all duration-300 border-red-500 scale-100",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[s==="success"?e.jsx(yd,{className:"text-red-400 text-2xl mr-2"}):e.jsx(mt,{className:"text-red-400 text-2xl mr-2"}),e.jsx("h3",{className:"text-lg font-bold text-red-400",children:s==="success"?"Éxito":"Error"})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:t}),e.jsx("button",{onClick:n,className:"w-full py-2 rounded-xl font-medium transition-all duration-300 bg-red-600 hover:bg-red-700 text-white",children:"Cerrar"})]})}):null,_L=()=>{const[r,t]=N.useState(""),[s,n]=N.useState(""),[o,u]=N.useState(""),[c,x]=N.useState(""),[p,w]=N.useState("+51"),[T,D]=N.useState("user"),[A,O]=N.useState(""),[k,W]=N.useState(!1),[V,Y]=N.useState({isOpen:!1,message:"",type:"success"}),[ie,ce]=N.useState(!1),pe=Qt(),{theme:X,toggleTheme:ne}=N.useContext(_1),F=async h=>{h.preventDefault(),Y({isOpen:!1,message:"",type:"success"}),W(!0);try{if(!r||r.length<3)throw new Error("El nombre de usuario debe tener al menos 3 caracteres.");if(!s||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s))throw new Error("Por favor, ingresa un correo electrónico válido.");if(!o||o.length<6)throw new Error("La contraseña debe tener al menos 6 caracteres.");if(!c||!/^\d{7,15}$/.test(c))throw new Error("Por favor, ingresa un número de teléfono válido (7-15 dígitos).");if(!["user","affiliate","provider"].includes(T))throw new Error("Rol no válido.");const Z=await X_(ot,s,o);await xo(H($,"users",Z.user.uid),{username:r,email:s,phone:`${p}${c}`,role:T,referrerCode:A||null,createdAt:new Date().toISOString()}),Y({isOpen:!0,message:"¡Registro exitoso! Ahora puedes iniciar sesión.",type:"success"}),setTimeout(()=>{pe("/login")},2e3)}catch(Z){let Q=Z.message||"Error al enviar la solicitud de registro. Por favor, inténtalo de nuevo.";Z.code==="auth/email-already-in-use"&&(Q="El correo electrónico ya está en uso."),Y({isOpen:!0,message:Q,type:"error"})}finally{W(!1)}};return e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${X==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black text-gray-200":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100 text-gray-900"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${X==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-4 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsx("div",{className:"flex items-center justify-center lg:justify-start",children:e.jsxs(S,{to:"/",className:"flex items-center space-x-3",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 sm:h-12 w-auto transition-transform"}),e.jsx("span",{className:`text-xl sm:text-2xl font-bold bg-gradient-to-r ${X==="dark"?"from-red-500/50 to-red-700/50 text-red-500":"from-red-600/50 to-red-800/50 text-red-600"} bg-clip-text`,children:"SZ Streaming"})]})}),e.jsx(v.div,{animate:{scale:[1,1.02,1]},transition:{duration:2,repeat:1/0,repeatType:"loop"},className:"text-xs font-semibold text-white bg-red-500/20 rounded-full px-3 py-1",children:"V 2.0"}),e.jsxs("div",{className:"flex items-center justify-center lg:justify-end space-x-2 sm:space-x-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.9},onClick:ne,className:`p-2 rounded-full ${X==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:X==="dark"?e.jsx(lr,{size:20}):e.jsx(or,{size:20})}),e.jsxs(S,{to:"/login",className:"inline-flex items-center space-x-2 px-3 sm:px-4 py-2 rounded-full text-sm sm:text-base font-semibold text-white shadow-md transition-all duration-300 bg-gradient-to-r from-red-600 to-red-800 hover:from-red-700 hover:to-red-900",children:[e.jsx(um,{size:16}),e.jsx("span",{children:"Ingresar"})]}),e.jsxs(S,{to:"/register",className:"inline-flex items-center space-x-2 px-3 sm:px-4 py-2 rounded-full text-sm sm:text-base font-semibold text-white shadow-md transition-all duration-300 bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800",children:[e.jsx(Xc,{size:16}),e.jsx("span",{children:"Registrarse"})]})]})]})}),e.jsx("main",{className:"flex-grow flex items-center justify-center p-4 sm:p-6",children:e.jsxs("div",{className:`backdrop-blur-md rounded-2xl shadow-2xl p-8 sm:p-12 w-full max-w-md sm:max-w-lg border-2 ${X==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsx(v.div,{className:"flex justify-center mb-6",children:e.jsx(v.img,{whileHover:{scale:1.05},src:qt,alt:"SZ Streaming",className:"h-20 sm:h-24 w-auto transition-transform"})}),e.jsxs("h1",{className:`text-2xl sm:text-3xl font-bold mb-8 sm:mb-10 text-center ${X==="dark"?"text-white":"text-gray-900"}`,children:["SZ",e.jsx("span",{className:X==="dark"?"text-red-500":"text-red-600",children:"Streaming"})]}),e.jsx("p",{className:`text-xs sm:text-sm text-center mb-8 sm:mb-10 ${X==="dark"?"text-gray-400":"text-gray-600"}`,children:"Regístrate para acceder al sistema."}),e.jsxs("form",{onSubmit:F,className:"space-y-5 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-base sm:text-lg ${X==="dark"?"text-gray-100":"text-gray-900"}`,children:"Nombre de Usuario"}),e.jsxs("div",{className:"relative",children:[e.jsx(it,{className:`absolute top-2.5 sm:top-3 left-3 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",value:r,onChange:h=>t(h.target.value),className:`w-full pl-10 pr-4 py-2 sm:py-2.5 rounded-xl bg-transparent ${X==="dark"?"text-white":"text-gray-900"} border ${X==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${X==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100 text-sm sm:text-base`,placeholder:"Elige un nombre de usuario",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-base sm:text-lg ${X==="dark"?"text-gray-100":"text-gray-900"}`,children:"Correo Electrónico"}),e.jsxs("div",{className:"relative",children:[e.jsx(Km,{className:`absolute top-2.5 sm:top-3 left-3 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"email",value:s,onChange:h=>n(h.target.value),className:`w-full pl-10 pr-4 py-2 sm:py-2.5 rounded-xl bg-transparent ${X==="dark"?"text-white":"text-gray-900"} border ${X==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${X==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100 text-sm sm:text-base`,placeholder:"Tu correo electrónico",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-base sm:text-lg ${X==="dark"?"text-gray-100":"text-gray-900"}`,children:"Número de Teléfono"}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-2 space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"relative flex-shrink-0 w-full sm:w-32",children:[e.jsx("select",{value:p,onChange:h=>w(h.target.value),className:`w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-xl ${X==="dark"?"bg-gray-700/50 text-white":"bg-gray-200/50 text-gray-900"} border ${X==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all appearance-none text-sm sm:text-base`,children:EL.map(h=>e.jsxs("option",{value:h.code,children:[h.flag," ",h.name," (",h.code,")"]},h.code))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx("svg",{className:`w-4 h-4 ${X==="dark"?"text-gray-400":"text-gray-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),e.jsxs("div",{className:"relative flex-grow",children:[e.jsx(xm,{className:`absolute top-2.5 sm:top-3 left-3 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"tel",value:c,onChange:h=>x(h.target.value),className:`w-full pl-10 pr-4 py-2 sm:py-2.5 rounded-xl bg-transparent ${X==="dark"?"text-white":"text-gray-900"} border ${X==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${X==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100 text-sm sm:text-base`,placeholder:"Tu número de teléfono",required:!0})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-base sm:text-lg ${X==="dark"?"text-gray-100":"text-gray-900"}`,children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(Yg,{className:`absolute top-2.5 sm:top-3 left-3 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:ie?"text":"password",value:o,onChange:h=>u(h.target.value),className:`w-full pl-10 pr-10 py-2 sm:py-2.5 rounded-xl bg-transparent ${X==="dark"?"text-white":"text-gray-900"} border ${X==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${X==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100 text-sm sm:text-base`,placeholder:"Elige una contraseña",required:!0}),e.jsx("button",{type:"button",onClick:()=>ce(!ie),className:`absolute top-2.5 sm:top-3 right-3 ${X==="dark"?"text-gray-400 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-colors`,"aria-label":ie?"Ocultar contraseña":"Mostrar contraseña",children:ie?e.jsx(I1,{size:16}):e.jsx(P1,{size:16})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-base sm:text-lg ${X==="dark"?"text-gray-100":"text-gray-900"}`,children:"Rol"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:T,onChange:h=>D(h.target.value),className:`w-full px-4 py-2 sm:py-2.5 rounded-xl ${X==="dark"?"bg-gray-700/50":"bg-gray-200/50"} ${X==="dark"?"text-white":"text-gray-900"} border ${X==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all appearance-none text-sm sm:text-base`,children:e.jsx("option",{value:"user",children:"Usuario"})}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx("svg",{className:`w-4 h-4 ${X==="dark"?"text-gray-400":"text-gray-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-base sm:text-lg ${X==="dark"?"text-gray-100":"text-gray-900"}`,children:"Código de Referido (opcional)"}),e.jsx("input",{type:"text",value:A,onChange:h=>O(h.target.value),className:`w-full pl-4 pr-4 py-2 sm:py-2.5 rounded-xl bg-transparent ${X==="dark"?"text-white":"text-gray-900"} border ${X==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${X==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100 text-sm sm:text-base`,placeholder:"Ingresa un código de referido (si tienes)"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",disabled:k,className:`w-full py-2.5 sm:py-3 rounded-xl font-medium transition-all duration-300 ${k?"bg-gray-600 text-gray-400 cursor-not-allowed":X==="dark"?"bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800 text-white":"bg-gradient-to-r from-red-600 to-red-800 hover:from-red-700 hover:to-red-900 text-white"} text-sm sm:text-base`,children:k?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin h-4 sm:h-5 w-4 sm:w-5 text-white mr-2",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h-8z"})]}),"Registrando..."]}):"Registrarse"})]}),e.jsx("div",{className:"mt-6 sm:mt-8 text-center",children:e.jsxs(S,{to:"/login",className:`flex items-center justify-center transition-all text-sm sm:text-lg ${X==="dark"?"text-gray-400 hover:text-red-500":"text-gray-600 hover:text-red-600"}`,children:[e.jsx(k1,{className:"mr-1"})," ¿Ya tienes una cuenta? Inicia sesión"]})})]})}),e.jsx("footer",{className:`backdrop-blur-md border-t py-4 sm:py-6 ${X==="dark"?"border-gray-800/50":"border-gray-300/50"}`,children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qt,alt:"SZ Streaming",className:"h-6 sm:h-8 w-auto"}),e.jsx("span",{className:`text-xs sm:text-sm font-semibold ${X==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"})]}),e.jsxs("div",{className:`text-xs sm:text-sm text-center ${X==="dark"?"text-gray-400":"text-gray-600"}`,children:["© ",new Date().getFullYear()," SZ Streaming. Todos los derechos reservados."]}),e.jsx("div",{className:`text-xs sm:text-sm text-center ${X==="dark"?"text-gray-400":"text-gray-600"}`,children:"Desarrollado por Saiph"})]})})}),e.jsx(DL,{isOpen:V.isOpen,message:V.message,type:V.type,onClose:()=>Y({isOpen:!1,message:"",type:"success"})})]})},$L=()=>e.jsx(CL,{children:e.jsx(_L,{})}),AL=({isOpen:r,message:t,title:s,onClose:n})=>r?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:s}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(Ot,{size:20})})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:t}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,RL=({isOpen:r,user:t,onClose:s,onSave:n})=>{const[o,u]=N.useState(t?.username||""),[c,x]=N.useState(""),p=w=>{if(w.preventDefault(),x(""),!o.trim()){x("El nombre de usuario no puede estar vacío.");return}n(t.id,o.trim())};return r?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Editar Perfil"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(Ot,{size:20})})]}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),e.jsx("input",{type:"text",value:o,onChange:w=>u(w.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all",required:!0}),c&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:c})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},ML=({isOpen:r,provider:t,onClose:s,onRate:n})=>{const[o,u]=N.useState(0),[c,x]=N.useState(""),p=w=>{if(w.preventDefault(),x(""),o<1||o>5){x("Por favor, selecciona una calificación entre 1 y 5 estrellas.");return}n(t.id,o),u(0)};return r?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Calificar Proveedor"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(Ot,{size:20})})]}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-gray-300 mb-2",children:["Proveedor: ",t.name]}),e.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(w=>e.jsx(et,{size:24,className:`cursor-pointer ${w<=o?"text-red-400 fill-current":"text-gray-400"}`,onClick:()=>u(w)},w))}),c&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:c})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Enviar Calificación"})]})]})]})})}):null},OL=({userName:r,email:t,balance:s,orders:n,notifications:o,setActivePage:u,formatDate:c})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-red-400",children:r.username})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-3",children:"Información de cuenta"}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(it,{className:"mr-2 text-red-400"}),e.jsx("span",{children:r.username})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(Vs,{className:"mr-2 text-red-400"}),e.jsx("span",{children:t})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(xm,{className:"mr-2 text-red-400"}),e.jsx("span",{children:r.phone||"No especificado"})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-3",children:"Saldo disponible"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",s.toFixed(2)]}),e.jsx("button",{onClick:()=>u("recargar"),className:"mt-2 px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Recargar"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-3",children:"Pedidos activos"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:n.filter(x=>new Date(x.endDate)>new Date&&x.status==="completed").length}),e.jsx("button",{onClick:()=>u("pedidos"),className:"mt-2 px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Ver pedidos"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Pedidos recientes"}),n.length>0?n.slice(0,3).map(x=>{const p=new Date(x.endDate)>new Date&&x.status==="completed",w=x.status==="pending";return e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"font-medium text-white",children:x.productName||"Producto sin nombre"}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${x.status==="pending"?"bg-yellow-900/80 text-yellow-400":p?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:w?"A pedido":p?"Activo":"Expirado"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Vence: ",c(x.endDate)]})]},x.id)}):e.jsx("p",{className:"text-gray-400 py-2",children:"No tienes pedidos recientes"}),n.length>3&&e.jsx("button",{onClick:()=>u("pedidos"),className:"w-full mt-3 text-center text-red-400 hover:underline text-sm",children:"Ver todos los pedidos"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Notificaciones"}),o.length>0?o.map(x=>e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsx("p",{className:"text-gray-300",children:x.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:c(x.updatedAt?.toDate?.()||new Date)})]},x.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay notificaciones"})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Únete a nuestros grupos"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("a",{href:"https://chat.whatsapp.com/CClESQgmORyHOtVjlDNu9X",target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-4 bg-gray-600/50 rounded-xl hover:bg-gray-500/50 hover:scale-105 transition-all duration-300 border border-gray-500/50",children:[e.jsx("img",{src:"https://cdn.jsdelivr.net/npm/simple-icons@v13/icons/whatsapp.svg",alt:"WhatsApp Logo",className:"w-8 h-8 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"Comunicados"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Grupo de WhatsApp"})]})]}),e.jsxs("a",{href:"https://chat.whatsapp.com/Bs8WVNUB1XXAi7bqTr2AYp",target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-4 bg-gray-600/50 rounded-xl hover:bg-gray-500/50 hover:scale-105 transition-all duration-300 border border-gray-500/50",children:[e.jsx("img",{src:"https://cdn.jsdelivr.net/npm/simple-icons@v13/icons/whatsapp.svg",alt:"WhatsApp Logo",className:"w-8 h-8 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"General"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Grupo de WhatsApp"})]})]}),e.jsxs("a",{href:"https://t.me/+gizEmGx9imNjNzgx",target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-4 bg-gray-600/50 rounded-xl hover:bg-gray-500/50 hover:scale-105 transition-all duration-300 border border-gray-500/50",children:[e.jsx("img",{src:"https://cdn.jsdelivr.net/npm/simple-icons@v13/icons/telegram.svg",alt:"Telegram Logo",className:"w-8 h-8 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"Publicidad"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Canal de Telegram"})]})]})]})]})]}),LL=({notifications:r,formatDate:t})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Notificaciones"}),r.length>0?e.jsx("div",{className:"space-y-4",children:r.map(s=>e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl p-4 hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("p",{className:"text-gray-300",children:s.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:t(s.updatedAt?.toDate?.()||new Date)})]},s.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Rl,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay notificaciones"}),e.jsx("p",{className:"text-gray-400",children:"No tienes mensajes nuevos"})]})]}),VL="/assets/yape-sz-D-gX92Ca.png",zL="/assets/binance-sz-CGisVpHF.png",BL=({amount:r,setAmount:t,topUps:s,actionLoading:n,handleTopUpRequest:o,formatDate:u})=>{const[c,x]=N.useState("PEN"),[p,w]=N.useState(3.75*1.1),[T,D]=N.useState(!1),[A,O]=N.useState(""),[k,W]=N.useState("Yape");N.useEffect(()=>{(async()=>{D(!0);try{const X=(await(await fetch("https://api.exchangerate-api.com/v4/latest/USD")).json()).rates.PEN||3.75;w(X*1.1)}catch(ce){console.error("Error fetching exchange rate:",ce)}finally{D(!1)}})()},[]),N.useEffect(()=>{const ie=parseFloat(A);if(isNaN(ie))t("");else{const ce=c==="USD"?ie*p:ie;t(ce.toFixed(2))}},[A,c,p,t]);const V=ie=>{const ce=ie.target.value;O(ce)},Y=r&&!isNaN(parseFloat(r))?parseFloat(r).toFixed(2):"0.00";return e.jsxs("div",{className:"space-y-8 max-w-6xl mx-auto px-4 sm:px-0",children:[e.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-lg p-6 sm:p-8 rounded-3xl shadow-2xl border border-gray-700/30",children:[e.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-white mb-6 text-center",children:"Recargar saldo"}),e.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2 font-medium",children:"Moneda"}),e.jsxs("select",{value:c,onChange:ie=>{x(ie.target.value),O("")},className:"w-full px-4 py-3 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300",children:[e.jsx("option",{value:"PEN",children:"S/ (PEN)"}),e.jsx("option",{value:"USD",children:"$ (USD)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-300 mb-2 font-medium",children:["Monto a recargar (",c==="PEN"?"S/":"$",")"]}),e.jsx("input",{type:"number",value:A,onChange:V,className:"w-full px-4 py-3 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300 placeholder-gray-500",placeholder:`Mínimo ${c==="PEN"?"S/ 5.00":"$ "+(5/p).toFixed(2)}`,min:c==="PEN"?"5":(5/p).toFixed(2),step:"0.01"}),c==="USD"&&!isNaN(parseFloat(A))&&e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Equivalente: S/ ",Y," (Tasa: 1 USD = ",p.toFixed(2)," PEN, incluye 10% adicional)",T&&" (Cargando tasa...)"]})]}),e.jsx("button",{onClick:o,disabled:n.topUp||!r||parseFloat(r)<5,className:`w-full py-3 px-4 rounded-xl font-medium text-lg transition-all duration-300 ${r&&parseFloat(r)>=5&&!n.topUp?"bg-purple-500 hover:bg-purple-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:n.topUp?e.jsx("div",{className:"animate-spin h-6 w-6 border-3 border-white rounded-full border-t-transparent mx-auto"}):"Solicitar recarga"})]}),e.jsxs("div",{className:"mt-8 bg-gray-800/50 backdrop-blur-lg p-6 rounded-2xl border border-gray-700/30 max-w-lg mx-auto",children:[e.jsxs("div",{className:"flex justify-center mb-6 space-x-2",children:[e.jsx("button",{onClick:()=>W("Yape"),className:`px-6 py-2 text-lg font-medium rounded-xl transition-all duration-300 ${k==="Yape"?"bg-purple-600 text-white":"bg-gray-700/50 text-gray-300 hover:bg-purple-500/50"}`,children:"Yape"}),e.jsx("button",{onClick:()=>W("Binance"),className:`px-6 py-2 text-lg font-medium rounded-xl transition-all duration-300 ${k==="Binance"?"bg-yellow-500 text-black":"bg-gray-700/50 text-gray-300 hover:bg-yellow-500/50"}`,children:"Binance Pay"})]}),k==="Yape"?e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("h4",{className:"text-lg font-semibold text-purple-400 mb-4 flex items-center",children:[e.jsx(rs,{className:"mr-2"})," Pago con Yape"]}),e.jsxs("p",{className:"text-gray-300 mb-3",children:["Escanea el código QR o usa ",e.jsx("span",{className:"font-semibold text-white",children:"Yape"})," con el número:"]}),e.jsx("p",{className:"text-xl font-bold text-white mb-3",children:"📱 940505969"}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"bg-white p-4 rounded-xl border-4 border-purple-600 shadow-md",children:e.jsx("img",{src:VL,alt:"Yape QR Code",className:"w-48 h-48 object-contain"})})}),e.jsxs("p",{className:"text-gray-300 mb-4",children:["Realiza el pago de S/ ",Y,c==="USD"?" (equivalente a tu monto en USD con 10% adicional)":"",". Confirma tu recarga vía WhatsApp."]}),e.jsxs("a",{href:`https://wa.me/51940505969?text=${encodeURIComponent(`Hola 😊, he realizado una recarga a través de Yape por S/ ${Y}. Por favor, confirma mi pago.`)}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-medium transition-all duration-300",children:[e.jsx(Vs,{className:"mr-2"})," Confirmar por WhatsApp"]})]}):e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("h4",{className:"text-lg font-semibold text-yellow-400 mb-4 flex items-center",children:[e.jsx(kL,{className:"mr-2"})," Pago con Binance Pay"]}),e.jsxs("p",{className:"text-gray-300 mb-3",children:["Escanea el código QR o usa el enlace de ",e.jsx("span",{className:"font-semibold text-white",children:"Binance Pay"})," para pagar en USDT:"]}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"bg-white p-4 rounded-xl border-4 border-yellow-500 shadow-md",children:e.jsx("img",{src:zL,alt:"Binance Pay QR Code",className:"w-48 h-48 object-contain"})})}),e.jsxs("p",{className:"text-gray-300 mb-4",children:["Paga S/ ",Y," (equivalente en USDT al tipo de cambio actual con 10% adicional). Confirma tu transacción enviándonos el ID de transacción vía WhatsApp."]}),e.jsxs("a",{href:`https://wa.me/51940505969?text=${encodeURIComponent(`Hola 😊, he realizado una recarga a través de Binance Pay por S/ ${Y} (en USDT). Por favor, confirma mi pago. ID de transacción: [Ingresa tu ID].`)}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-yellow-500 hover:bg-yellow-600 text-black rounded-xl font-medium transition-all duration-300",children:[e.jsx(Vs,{className:"mr-2"})," Confirmar por WhatsApp"]})]})]})]}),e.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-lg p-6 sm:p-8 rounded-3xl shadow-2xl border border-gray-700/30",children:[e.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-white mb-6 text-center",children:"Historial de recargas"}),s.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-800/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:s.map(ie=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white font-medium",children:["S/ ",ie.amount.toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${ie.status==="aprobado"?"bg-green-900/80 text-green-400":ie.status==="pendiente"?"bg-yellow-900/80 text-yellow-400":"bg-red-900/80 text-red-400"}`,children:ie.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-400",children:u(ie.date)})]},ie.id))})]})}):e.jsx("p",{className:"text-gray-400 py-8 text-center text-lg",children:"No hay recargas registradas"})]})]})},UL=({providers:r,openRateProviderModal:t})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Proveedores"}),r.length>0?e.jsx("div",{className:"space-y-4",children:r.map(s=>e.jsx("div",{className:"border border-gray-600/50 rounded-2xl p-4 hover:bg-gray-700/50 transition-all duration-300",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-300 font-medium",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Teléfono: ",s.phone]})]}),e.jsxs("button",{onClick:()=>t(s),className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300 flex items-center gap-2",children:[e.jsx(et,{size:16}),"Calificar"]})]})},s.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(it,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay proveedores"}),e.jsx("p",{className:"text-gray-400",children:"No has realizado compras con proveedores aún."})]})]}),FL=({orders:r,searchQuery:t,setSearchQuery:s,formatDate:n,handleRenewal:o,actionLoading:u,balance:c})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-3 sm:p-4 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:"Mis pedidos"}),e.jsxs("div",{className:"relative w-48 sm:w-64",children:[e.jsx("input",{type:"text",placeholder:"Buscar pedidos...",className:"w-full px-3 py-1.5 rounded-lg bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all duration-300 text-sm placeholder-gray-500",value:t,onChange:x=>s(x.target.value)}),e.jsx(vt,{className:"absolute right-2 top-2 text-gray-400",size:16})]})]}),r.length>0?r.filter(x=>(x.productName||"").toLowerCase().includes(t.toLowerCase())||(x.orderId||"").toLowerCase().includes(t.toLowerCase())).map(x=>{console.log("Order data:",x);const p=parseFloat(x.price)||0,w=parseFloat(x.renewalPrice)||0,T=new Date(x.endDate)>new Date&&x.status==="completed",D=x.status==="pending",A=x.daysRemaining||0,O=x.timeElapsedPercentage||0;let k="bg-red-400";O>70&&O<=90?k="bg-yellow-400":O>90&&(k="bg-red-400");const W=D?e.jsx(cr,{className:"text-yellow-400",size:16}):T?e.jsx(yd,{className:"text-green-400",size:16}):e.jsx(mt,{className:"text-red-400",size:16}),V=encodeURIComponent(`*Consulta sobre Pedido - ${x.productName||"Sin nombre"}*

*N° Pedido:* ${x.orderId||"No especificado"}
*Producto:* ${x.productName||"Sin nombre"}
*Precio:* S/ ${p.toFixed(2)}
`+(x.renewalPrice?`*Precio de Renovación:* S/ ${w.toFixed(2)}
`:"")+`*Estado:* ${D?"A pedido":T?"Activo":"Expirado"}
*Fecha de Inicio:* ${n(x.startDate)}
*Fecha de Vencimiento:* ${n(x.endDate)}
`+(D?`Hola 😊, he comprado un producto a pedido (${x.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),Y=encodeURIComponent(`😊 Estimado/a ${x.client?.customerName||"Cliente"} 😊

Le enviamos la información de su suscripción a nuestro servicio de streaming:
📌 Tipo: ${x.productName||"Sin nombre"}.
🔢 Código: ${x.orderId||"No especificado"}
`+(D?"":`📧 Correo: ${x.account?.email||"No especificado"}
🔐 Contraseña: ${x.account?.password||"No especificado"}
👤 Perfil: ${x.account?.profile||"No especificado"}
📌 PIN: ${x.account?.pin||"No especificado"}
`)+`🌐 URL: Sin URL
📅 Fecha de creación: ${n(x.startDate)}
📅 Fecha de vencimiento: ${n(x.endDate)}
🏁 Días contratados: ${x.durationDays||30} días.

`+(D?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:"")+`*Términos y Condiciones:*
${x.terms||"No se especificaron términos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),ie=x.providerPhone?x.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999",ce=x.client?.phone?x.client.phone.replace(/^\+/,"").replace(/\D/g,""):"51999999999";return e.jsxs("div",{className:"border border-gray-600/50 rounded-xl overflow-hidden hover:shadow-lg transition-all duration-300 mb-4",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-3 py-2 border-b border-gray-600/20 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[W,e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white text-sm",children:x.productName||"Producto sin nombre"}),x.orderId&&e.jsxs("p",{className:"text-xs text-gray-400",children:["N°: ",x.orderId]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",p.toFixed(1)]}),e.jsx("p",{className:"text-xs text-gray-500",children:x.renewalPrice&&`Ren: S/ ${w.toFixed(1)}`}),e.jsx("p",{className:`text-xs ${D?"text-yellow-400":k.replace("bg-","text-")}`,children:D?"Pendiente":`${A} día${A===1?"":"s"}`})]})]}),e.jsxs("div",{className:"p-3 bg-gray-700/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"w-full bg-gray-600/40 rounded-full h-1",children:e.jsx("div",{className:`h-1 rounded-full ${k}`,style:{width:`${Math.min(O,100)}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-0.5 text-right",children:[O.toFixed(0),"%"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[e.jsxs("div",{className:"border border-gray-700/50 bg-gray-800/50 backdrop-blur-sm p-2.5 rounded-xl",children:[e.jsxs("h5",{className:"text-xs font-medium text-gray-400 flex items-center mb-0.5",children:[e.jsx(it,{className:"mr-0.5",size:12})," Cuenta"]}),e.jsx("div",{className:"space-y-0.5 text-xs text-gray-300",children:D?e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Usuario: ",e.jsx("span",{className:"text-gray-200",children:"Por completar"})]}),e.jsxs("p",{children:["Clave: ",e.jsx("span",{className:"text-gray-200",children:"Por completar"})]}),e.jsxs("p",{children:["Perfil: ",e.jsx("span",{className:"text-gray-200",children:"Por completar"})]}),e.jsxs("p",{children:["PIN: ",e.jsx("span",{className:"text-gray-200",children:"No"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Usuario: ",e.jsx("span",{className:"text-gray-200",children:x.account?.email||"No especificado"})]}),e.jsxs("p",{children:["Clave: ",e.jsx("span",{className:"text-gray-200",children:x.account?.password||"No especificado"})]}),e.jsxs("p",{children:["Perfil: ",e.jsx("span",{className:"text-gray-200",children:x.account?.profile||"No especificado"})]}),e.jsxs("p",{children:["PIN: ",e.jsx("span",{className:"text-gray-200",children:x.account?.pin||"No especificado"})]})]})})]}),e.jsxs("div",{className:"border border-gray-700/50 bg-gray-800/50 backdrop-blur-sm p-2.5 rounded-xl",children:[e.jsxs("h5",{className:"text-xs font-medium text-gray-400 flex items-center mb-0.5",children:[e.jsx(tt,{className:"mr-0.5",size:12})," Información del Pedido"]}),e.jsxs("div",{className:"space-y-0.5 text-xs text-gray-300",children:[e.jsxs("p",{children:["Inicio: ",e.jsx("span",{className:"text-gray-200",children:n(x.startDate)})]}),e.jsxs("p",{children:["Vencimiento: ",e.jsx("span",{className:"text-gray-200",children:n(x.endDate)})]}),e.jsxs("p",{children:["Estado: ",e.jsx("span",{className:"text-gray-200",children:D?"A pedido":T?"Activo":"Expirado"})]})]})]}),e.jsxs("div",{className:"border border-gray-700/50 bg-gray-800/50 backdrop-blur-sm p-2.5 rounded-xl",children:[e.jsxs("h5",{className:"text-xs font-medium text-gray-400 flex items-center mb-0.5",children:[e.jsx(it,{className:"mr-0.5",size:12})," Cliente"]}),e.jsxs("div",{className:"space-y-0.5 text-xs text-gray-300",children:[e.jsxs("p",{children:["Nombre: ",e.jsx("span",{className:"text-gray-200",children:x.client?.customerName||"No especificado"})]}),e.jsxs("p",{children:["Teléfono: ",e.jsx("span",{className:"text-gray-200",children:x.client?.phone||"No especificado"})]})]})]})]}),e.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[e.jsxs("a",{href:`https://wa.me/51${ie}?text=${V}`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all duration-300 text-sm flex items-center gap-1",children:[e.jsx(Vs,{size:16})," Contactar proveedor"]}),T&&x.renewable&&e.jsx("button",{onClick:()=>o(x),disabled:u[`renew_${x.id}`]||c<w,className:`px-4 py-2 rounded-xl flex items-center gap-1 ${u[`renew_${x.id}`]||c<w?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"} transition-all duration-300 text-sm`,children:u[`renew_${x.id}`]?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(E1,{size:16})," Renovar (S/ ",w.toFixed(1),")"]})}),e.jsxs("a",{href:`https://wa.me/51${ce}?text=${Y}`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300 text-sm flex items-center gap-1",children:[e.jsx(Vs,{size:16})," Contactar cliente"]})]})]})]},x.id)}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ht,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay pedidos"}),e.jsx("p",{className:"text-gray-400",children:"Aún no has realizado ningún pedido."})]})]}),HL=({userName:r,email:t,actionLoading:s,handleUpdatePassword:n,openEditProfileModal:o,handleLogout:u})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuración"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50 shadow-lg",children:[e.jsxs("h4",{className:"text-lg font-semibold text-red-400 mb-3 flex items-center",children:[e.jsx(it,{className:"mr-2"})," Perfil"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(it,{className:"mr-2 text-red-400"})," Nombre: ",r.username]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(Km,{className:"mr-2 text-red-400"})," Correo: ",t]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(xm,{className:"mr-2 text-red-400"})," Teléfono: ",r.phone||"No especificado"]})]}),e.jsx("button",{onClick:()=>o({id:r.id,username:r.username}),className:"mt-4 px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Editar Perfil"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50 shadow-lg",children:[e.jsxs("h4",{className:"text-lg font-semibold text-red-400 mb-3 flex items-center",children:[e.jsx(xm,{className:"mr-2"})," Seguridad"]}),e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-1",children:"Nueva Contraseña"}),e.jsx("input",{type:"password",name:"password",className:"w-full px-3 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all duration-300",placeholder:"Ingrese nueva contraseña"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-1",children:"Nuevo Teléfono"}),e.jsx("input",{type:"tel",name:"phone",className:"w-full px-3 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all duration-300",placeholder:"Ingrese nuevo teléfono"})]}),e.jsx("button",{type:"submit",disabled:s.password,className:`w-full py-2 rounded-xl text-white transition-all duration-300 ${s.password?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-red-500 hover:bg-red-600"}`,children:s.password?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar Cambios"})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50 shadow-lg",children:[e.jsxs("h4",{className:"text-lg font-semibold text-red-400 mb-3 flex items-center",children:[e.jsx(Zt,{className:"mr-2"})," Sesión"]}),e.jsxs("button",{onClick:u,className:"w-full py-2 flex items-center justify-center gap-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:[e.jsx(Zt,{size:16}),"Cerrar Sesión"]})]})]})]}),WL=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState(""),[o,u]=N.useState([]),[c,x]=N.useState({username:"",phone:""}),[p,w]=N.useState(""),[T,D]=N.useState(0),[A,O]=N.useState(null),[k,W]=N.useState("inicio"),[V,Y]=N.useState([]),[ie,ce]=N.useState({}),[pe,X]=N.useState([]),[ne,F]=N.useState(!0),[h,Z]=N.useState({}),[Q,ae]=N.useState(null),[oe,ee]=N.useState({isOpen:!1,message:"",title:""}),[K,i]=N.useState({isOpen:!1,user:null}),[He,je]=N.useState({isOpen:!1,provider:null}),[Ne,Ae]=N.useState(""),[Ie,he]=N.useState([]),be=Qt(),Ee=(M,_)=>{ee({isOpen:!0,title:M,message:_})},We=()=>{ee({isOpen:!1,message:"",title:""})},Re=M=>{i({isOpen:!0,user:M})},Ge=()=>{i({isOpen:!1,user:null})},Le=M=>{je({isOpen:!0,provider:M})},a=()=>{je({isOpen:!1,provider:null})},C=async(M,_)=>{try{Z(b=>({...b,profile:!0}));const f=H($,"users",M);await Hr(f,{username:_,updatedAt:Me()}),x(b=>({...b,username:_})),Ee("Éxito","Perfil actualizado exitosamente"),Ge()}catch(f){console.error("Error al actualizar perfil:",f),Ee("Error",f.message||"Error al actualizar el perfil")}finally{Z(f=>({...f,profile:!1}))}},g=async(M,_)=>{try{Z(f=>({...f,[`rate_${M}`]:!0})),await wi(se($,"ratings"),{userId:A,providerId:M,rating:_,ratedAt:Me()}),Ee("Éxito","Calificación enviada exitosamente"),a()}catch(f){console.error("Error al calificar proveedor:",f),Ee("Error",f.message||"Error al enviar la calificación")}finally{Z(f=>({...f,[`rate_${M}`]:!1}))}};N.useEffect(()=>{(async()=>{try{console.log("Fetching products...");const _=ke(se($,"products")),f=await Ft(_);console.log("Products fetched:",f.docs.length);const b={};f.forEach(I=>{b[I.id]=I.data()}),ce(b)}catch(_){console.error("Error fetching products:",_),ae("Error al cargar productos: "+_.message)}})()},[]),N.useEffect(()=>{const M=$e(H($,"notifications","adminMessage"),_=>{if(_.exists()){const f=_.data();f.roles&&f.roles.includes("user")?X([{id:_.id,...f}]):X([])}else X([])},_=>{console.error("Error in notifications listener:",_),ae("Error al cargar notificaciones: "+_.message)});return()=>M()},[]),N.useEffect(()=>{if(!A)return;(async()=>{try{const _=ke(se($,"sales"),_e("customerId","==",A)),f=await Ft(_),b=new Set,I=[];f.forEach(J=>{const te=J.data();te.providerId&&!b.has(te.providerId)&&(b.add(te.providerId),I.push({id:te.providerId,name:te.provider||"Proveedor desconocido",phone:te.providerPhone||"No especificado"}))}),he(I)}catch(_){console.error("Error fetching providers:",_),ae("Error al cargar proveedores: "+_.message)}})()},[A]);const z=async M=>{try{Z(le=>({...le,[`renew_${M.id}`]:!0}));const _=parseFloat(M.renewalPrice)||parseFloat(M.price)||0;if(T<_){Ee("Error","Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const f=parseInt(M.durationDays)||30,b=br.now(),I=b.toDate(),J=I,te=new Date(J.getTime()+f*24*60*60*1e3),xe=br.fromDate(te),ye=H($,"sales",M.id);await Hr(ye,{startDate:b,endDate:xe,renewedAt:b,status:"completed",updatedAt:Me()});const fe=H($,"users",A);await Hr(fe,{balance:T-_}),D(le=>le-_),Y(le=>le.map(Ce=>Ce.id===M.id?{...Ce,startDate:J,endDate:te,renewedAt:I,status:"completed",daysRemaining:f,totalDays:f,timeElapsedPercentage:0}:Ce)),Ee("Éxito",`¡Pedido renovado exitosamente! Nueva fecha de vencimiento: ${ue(te)}`)}catch(_){console.error("Error al renovar el pedido:",_),Ee("Error","Error al renovar el pedido: "+_.message)}finally{Z(_=>({..._,[`renew_${M.id}`]:!1}))}},U=async()=>{try{await Bm(ot),be("/")}catch(M){console.error("Error al cerrar sesión:",M),Ee("Error",M.message||"Error al cerrar sesión")}};N.useEffect(()=>{const M=tr(ot,_=>{_?(O(_.uid),w(_.email||"No especificado"),F(!1)):be("/login")});return()=>M()},[be]),N.useEffect(()=>{if(!A)return;const M=H($,"users",A),_=$e(M,f=>{if(f.exists()){const b=f.data();x({username:b.username||"Usuario",phone:b.phone||""}),w(b.email||"No especificado"),D(Number(b.balance)||0)}else ae("Usuario no encontrado")},f=>{console.error("Error in user data listener:",f),ae("Error al cargar datos del usuario: "+f.message)});return()=>_()},[A]),N.useEffect(()=>{if(!A)return;const M=ke(se($,"sales"),_e("customerId","==",A)),_=$e(M,async b=>{if(b.empty){Y([]),F(!1);return}const I=new Date,J=7200*60*1e3;for(const xe of b.docs){const fe=xe.data().endDate?.toDate?.()||new Date;if(fe<I&&I.getTime()-fe.getTime()>J)try{await Nu(H($,"sales",xe.id)),console.log(`Deleted expired order: ${xe.id}`)}catch(le){console.error(`Error deleting order ${xe.id}:`,le)}}const te=b.docs.map(xe=>{const ye=xe.data(),le=ye.saleDate?.toDate?.()||ye.createdAt?.toDate?.()||new Date;let Ce=ye.startDate?.toDate?.(),qe=Ce||le,at=!1;Ce||(at=!0);const ze=ye.durationDays||30;let $t;ye.endDate?$t=ye.endDate.toDate?ye.endDate.toDate():new Date(ye.endDate):($t=new Date(qe.getTime()+ze*24*60*60*1e3),at=!0),at&&Hr(H($,"sales",xe.id),{startDate:Ce||br.fromDate(le),endDate:br.fromDate($t),durationDays:ze}).catch(xt=>{console.error("Error al actualizar startDate/endDate en Firestore:",xt)});const ct=$t.getTime()-qe.getTime(),dt=I.getTime()-qe.getTime(),Qe=$t.getTime()-I.getTime(),ut=Math.ceil(ct/(1e3*60*60*24)),pt=Math.max(0,Math.ceil(Qe/(1e3*60*60*24))),Ue=Math.ceil(dt/(1e3*60*60*24)),Xe=ut>0?Ue/ut*100:100,Dt=ie[ye.providerId]?.terms||"No se especificaron términos y condiciones.";return{id:xe.id,productName:ye.productName||"Producto sin nombre",category:ye.type||"netflix",price:parseFloat(ye.price)||0,renewalPrice:parseFloat(ye.renewalPrice)||0,provider:ye.provider||"No especificado",providerId:ye.providerId||"",providerPhone:ye.providerPhone||ye.providerWhatsapp||"51999999999",status:ye.status||"completed",saleDate:le,startDate:qe,endDate:$t,durationDays:ze,daysRemaining:pt,totalDays:ut,timeElapsedPercentage:Xe,account:{email:ye.accountDetails?.email||"No especificado",password:ye.accountDetails?.password||"No especificado",profile:ye.accountDetails?.profile||"No especificado",pin:ye.accountDetails?.pin||"No especificado"},client:{customerName:ye.customerName||"Cliente desconocido",email:ye.customerEmail||"No especificado",phone:ye.phoneNumber||"No especificado"},paymentMethod:"SZStreaming",orderId:`SZ-${xe.id.slice(0,8).toUpperCase()}`,termsAndConditions:Dt,renewable:ye.renewable!==void 0?ye.renewable:!0}}).filter(xe=>{const ye=new Date(xe.endDate);return!(ye<I&&I.getTime()-ye.getTime()>J)});Y(te),F(!1)},b=>{console.error("Error al obtener pedidos:",b),ae("Error al cargar pedidos: "+b.message),F(!1)}),f=setInterval(()=>{const b=new Date,I=7200*60*1e3;Y(J=>J.map(te=>{const xe=new Date(te.endDate).getTime()-new Date(te.startDate).getTime(),ye=b.getTime()-new Date(te.startDate).getTime(),fe=new Date(te.endDate).getTime()-b.getTime(),le=Math.ceil(xe/(1e3*60*60*24)),Ce=Math.max(0,Math.ceil(fe/(1e3*60*60*24))),qe=Math.ceil(ye/(1e3*60*60*24)),at=le>0?qe/le*100:100;return{...te,daysRemaining:Ce,totalDays:le,timeElapsedPercentage:at}}).filter(te=>{const xe=new Date(te.endDate);return!(xe<b&&b.getTime()-xe.getTime()>I)}))},6e4);return()=>{_(),clearInterval(f)}},[A,ie]),N.useEffect(()=>{if(!A)return;const M=ke(se($,"pendingTopUps"),_e("userId","==",A)),_=$e(M,f=>{const b=f.docs.map(I=>({id:I.id,...I.data(),date:I.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(I.data().amount)||0}));u(b)},f=>{console.error("Error al obtener recargas:",f),ae("Error al cargar recargas: "+f.message)});return()=>_()},[A]);const q=async()=>{try{if(Z(_=>({..._,topUp:!0})),!s||isNaN(s)){Ee("Error","Ingrese un monto válido");return}const M=parseFloat(s);if(M<10){Ee("Error","El monto mínimo de recarga es S/ 10.00");return}await wi(se($,"pendingTopUps"),{userId:A,username:c.username,amount:M,status:"pendiente",requestedAt:Me()}),n(""),Ee("Éxito","Solicitud de recarga enviada correctamente")}catch(M){console.error("Error al solicitar recarga:",M),Ee("Error",M.message||"Error al enviar solicitud de recarga")}finally{Z(M=>({...M,topUp:!1}))}},de=async M=>{M.preventDefault();try{Z(te=>({...te,password:!0}));const _=M.target.password.value,f=M.target.phone.value,b=ot.currentUser,I=H($,"users",A),J={};if(_){if(_.length<6){Ee("Error","La contraseña debe tener al menos 6 caracteres");return}await dg(b,_),J.updatedAt=Me()}f&&(J.phone=f,J.updatedAt=Me()),Object.keys(J).length>0&&await Hr(I,J),x(te=>({...te,phone:f||te.phone})),Ee("Éxito","Cambios guardados correctamente"),M.target.reset()}catch(_){console.error("Error al actualizar los datos:",_),Ee("Error",_.message||"Error al guardar los cambios")}finally{Z(_=>({..._,password:!1}))}},ue=M=>{if(!M)return"No especificada";try{const _=M instanceof Date?M:new Date(M);return isNaN(_.getTime())?"Fecha inválida":_.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},E=()=>{if(ne)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-400"})});if(Q)return e.jsxs("div",{className:"bg-black/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(mt,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:Q}),e.jsx("button",{onClick:()=>ae(null),className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Aceptar"})]});switch(k){case"inicio":return e.jsx(OL,{userName:c,email:p,balance:T,orders:V,notifications:pe,setActivePage:W,formatDate:ue});case"notificaciones":return e.jsx(LL,{notifications:pe,formatDate:ue});case"recargar":return e.jsx(BL,{amount:s,setAmount:n,topUps:o,actionLoading:h,handleTopUpRequest:q,formatDate:ue,showModal:Ee});case"proveedores":return e.jsx(UL,{providers:Ie,openRateProviderModal:Le});case"pedidos":return e.jsx(FL,{orders:V,searchQuery:Ne,setSearchQuery:Ae,formatDate:ue,handleRenewal:z,actionLoading:h});case"configuracion":return e.jsx(HL,{userName:c,email:p,actionLoading:h,handleUpdatePassword:de,openEditProfileModal:Re,handleLogout:U});default:return e.jsxs("div",{className:"bg-black/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(mt,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),e.jsx("button",{onClick:()=>W("inicio"),className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Volver al inicio"})]})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-black to-gray-900 text-gray-200",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>t(!r),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:e.jsx(dr,{className:"text-xl"})})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${r?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("button",{onClick:()=>{be("/"),t(!1)},className:"text-xl font-bold text-red-400 hover:text-red-300 transition-all duration-300",children:"SZ Streaming"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:e.jsx(Ot,{className:"text-lg"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500 flex items-center justify-center text-white font-bold",children:c.username.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:c.username}),e.jsx("p",{className:"text-xs text-gray-400",children:"Usuario"})]})]}),e.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Qm},{id:"notificaciones",label:"Notificaciones",icon:Rl},{id:"recargar",label:"Recargar saldo",icon:rs},{id:"pedidos",label:"Mis pedidos",icon:Ht},{id:"proveedores",label:"Proveedores",icon:it},{id:"configuracion",label:"Configuración",icon:Ud}].map(M=>e.jsxs("button",{onClick:()=>{W(M.id),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${k===M.id?"bg-red-500/20 text-red-400 border border-red-500/50":"text-gray-300 hover:bg-gray-800/50 hover:text-red-400"}`,children:[e.jsx(M.icon,{className:"text-lg"}),e.jsx("span",{children:M.label})]},M.id))}),e.jsx("div",{className:"mt-auto pt-6",children:e.jsxs("button",{onClick:U,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-red-900/20 rounded-xl transition-all duration-300 border border-red-900/50",children:[e.jsx(Zt,{className:"text-lg"}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})}),e.jsx("main",{className:"md:ml-64 p-4 sm:p-6 min-h-screen",children:E()}),e.jsx(AL,{isOpen:oe.isOpen,title:oe.title,message:oe.message,onClose:We}),e.jsx(RL,{isOpen:K.isOpen,user:K.user,onClose:Ge,onSave:C}),e.jsx(ML,{isOpen:He.isOpen,provider:He.provider,onClose:a,onRate:g}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>t(!1)})]})},qL=({isOpen:r,message:t,title:s,onClose:n})=>r?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:s}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(Ot,{size:20})})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:t}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,GL=({isOpen:r,user:t,onClose:s,onSave:n})=>{const[o,u]=N.useState(t?.username||""),[c,x]=N.useState(""),p=w=>{if(w.preventDefault(),x(""),!o.trim()){x("El nombre de usuario no puede estar vacío.");return}n(t.id,o.trim())};return r?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Editar Perfil"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(Ot,{size:20})})]}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),e.jsx("input",{type:"text",value:o,onChange:w=>u(w.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",required:!0}),c&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:c})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},QL=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState("inicio"),[o,u]=N.useState(""),[c,x]=N.useState(""),[p,w]=N.useState(""),[T,D]=N.useState([]),[A,O]=N.useState(0),[k,W]=N.useState(0),[V,Y]=N.useState(null),[ie,ce]=N.useState(!0),[pe,X]=N.useState({}),[ne,F]=N.useState(null),[h,Z]=N.useState([]),[Q,ae]=N.useState(!1),[oe,ee]=N.useState(""),[K,i]=N.useState(""),[He,je]=N.useState([]),[Ne,Ae]=N.useState([]),[Ie,he]=N.useState({}),[be,Ee]=N.useState([]),[We,Re]=N.useState({isOpen:!1,message:"",title:""}),[Ge,Le]=N.useState({isOpen:!1,user:null}),a=Qt(),C=(I,J)=>{Re({isOpen:!0,title:I,message:J})},g=()=>{Re({isOpen:!1,message:"",title:""})},z=I=>{Le({isOpen:!0,user:I})},U=()=>{Le({isOpen:!1,user:null})},q=async(I,J)=>{try{X(ye=>({...ye,profile:!0}));const te=H($,"users",I),xe=H($,"affiliates",I);await Hr(te,{username:J,updatedAt:Me()}),await Hr(xe,{username:J,updatedAt:Me()}),u(J),C("Éxito","Perfil actualizado exitosamente"),U()}catch(te){console.error("Error al actualizar perfil:",te),C("Error",te.message||"Error al actualizar el perfil")}finally{X(te=>({...te,profile:!1}))}};N.useEffect(()=>{const I=tr(ot,J=>{J?(Y(J.uid),x(J.email||"No especificado"),ce(!1)):a("/login")});return()=>I()},[a]),N.useEffect(()=>{(async()=>{try{const J=ke(se($,"products")),te=await Ft(J),xe={};te.forEach(ye=>{xe[ye.id]=ye.data()}),he(xe)}catch(J){console.error("Error fetching products:",J),F("Error al cargar productos")}})()},[]),N.useEffect(()=>{$e(H($,"notifications","adminMessage"),te=>{if(te.exists()){const xe=te.data();xe.roles&&xe.roles.includes("affiliate")?Ee([{id:te.id,...xe}]):Ee([])}else Ee([])})},[]),N.useEffect(()=>{(async()=>{if(V)try{const J=H($,"users",V),te=await yt(J);if(te.exists()){const fe=te.data();u(fe.username||"Usuario"),W(Number(fe.balance)||0)}const xe=H($,"affiliates",V),ye=await yt(xe);if(ye.exists()){const fe=ye.data();w(fe.affiliateCode||""),O(Number(fe.earnings)||0)}else{const fe=`AFF-${Math.random().toString(36).substring(2,8).toUpperCase()}`;await xo(xe,{username:o||"Nuevo Afiliado",email:c,affiliateCode:fe,earnings:0,createdAt:Me(),updatedAt:Me()}),w(fe)}}catch(J){console.error("Error al manejar datos:",J),F("Error al cargar datos")}finally{ce(!1)}})()},[V,c,o]),N.useEffect(()=>{if(!V)return;(()=>{const J=ke(se($,"pendingTopUps"),_e("userId","==",V));return $e(J,xe=>{const ye=xe.docs.map(fe=>({id:fe.id,...fe.data(),date:fe.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(fe.data().amount)||0}));je(ye)},xe=>{console.error("Error al obtener recargas:",xe),F("Error al cargar recargas")})})()},[V]),N.useEffect(()=>{if(!p)return;const I=ke(se($,"users"),_e("referrerCode","==",p),IC("createdAt","desc"),hr(5)),J=$e(I,te=>{const xe=te.docs.map(ye=>({id:ye.id,...ye.data(),joinDate:ye.data().createdAt?.toDate()||new Date}));Z(xe)});return()=>J()},[p]),N.useEffect(()=>{if(!p)return;const I=ke(se($,"users"),_e("referrerCode","==",p)),J=$e(I,te=>{const xe=te.docs.map(ye=>({id:ye.id,...ye.data(),joinDate:ye.data().createdAt?.toDate()||new Date}));D(xe)});return()=>J()},[p]),N.useEffect(()=>{if(!V)return;(()=>{const J=ke(se($,"sales"),_e("customerId","==",V)),te=$e(J,ye=>{if(ye.empty){Ae([]),ce(!1);return}const fe=ye.docs.map(le=>{const Ce=le.data(),at=Ce.saleDate?.toDate?.()||Ce.createdAt?.toDate?.()||new Date;let ze=Ce.startDate?.toDate?.(),$t=ze||at,ct=!1;ze||(ct=!0);const dt=Ce.durationDays||30;let Qe;Ce.endDate?Qe=new Date(Ce.endDate):(Qe=new Date($t.getTime()+dt*24*60*60*1e3),ct=!0),ct&&Hr(H($,"sales",le.id),{startDate:ze||br.fromDate(at),endDate:Qe.toISOString(),durationDays:dt}).catch(Wt=>{console.error("Error al actualizar startDate/endDate en Firestore:",Wt)});const ut=new Date,pt=Qe.getTime()-$t.getTime(),Ue=ut.getTime()-$t.getTime(),Xe=Qe.getTime()-ut.getTime(),Dt=Math.ceil(pt/(1e3*60*60*24)),xt=Math.max(0,Math.ceil(Xe/(1e3*60*60*24))),Xt=Math.ceil(Ue/(1e3*60*60*24)),Ar=Dt>0?Xt/Dt*100:100,xr=Ie[Ce.providerId]?.terms||"No se especificaron términos y condiciones.";return{id:le.id,productName:Ce.productName||"Producto sin nombre",category:Ce.type||"netflix",price:parseFloat(Ce.price)||0,provider:Ce.provider||"No especificado",providerId:Ce.providerId||"",providerPhone:Ce.providerPhone||Ce.providerWhatsapp||"51999999999",status:Ce.status||"completed",saleDate:at,startDate:$t,endDate:Qe,durationDays:dt,daysRemaining:xt,totalDays:Dt,timeElapsedPercentage:Ar,account:{email:Ce.accountDetails?.email||"No especificado",password:Ce.accountDetails?.password||"No especificado",profile:Ce.accountDetails?.profile||"No especificado",pin:Ce.accountDetails?.pin||"No especificado"},client:{name:Ce.customerName||"Cliente desconocido",email:Ce.customerEmail||"No especificado",phone:Ce.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BS-${le.id.slice(0,8).toUpperCase()}`,termsAndConditions:xr,renewable:Ce.renewable!==void 0?Ce.renewable:!0}});Ae(fe),ce(!1)},ye=>{console.error("Error al obtener pedidos:",ye),F("Error al cargar pedidos: "+ye.message),ce(!1)}),xe=setInterval(()=>{Ae(ye=>ye.map(fe=>{const le=new Date,Ce=new Date(fe.endDate).getTime()-new Date(fe.startDate).getTime(),qe=le.getTime()-new Date(fe.startDate).getTime(),at=new Date(fe.endDate).getTime()-le.getTime(),ze=Math.ceil(Ce/(1e3*60*60*24)),$t=Math.max(0,Math.ceil(at/(1e3*60*60*24))),ct=Math.ceil(qe/(1e3*60*60*24)),dt=ze>0?ct/ze*100:100;return{...fe,daysRemaining:$t,totalDays:ze,timeElapsedPercentage:dt}}))},6e4);return()=>{te(),clearInterval(xe)}})()},[V,Ie]);const de=async()=>{try{if(X(J=>({...J,topUp:!0})),!K||isNaN(K)){C("Error","Ingrese un monto válido");return}const I=parseFloat(K);if(I<10){C("Error","El monto mínimo de recarga es S/ 10.00");return}await wi(se($,"pendingTopUps"),{userId:V,username:o,amount:I,status:"pendiente",requestedAt:Me(),processed:!1}),i(""),C("Éxito","Solicitud de recarga enviada correctamente")}catch(I){console.error("Error al solicitar recarga:",I),C("Error",I.message||"Error al enviar solicitud de recarga")}finally{X(I=>({...I,topUp:!1}))}},ue=async I=>{try{X(ze=>({...ze,[`renew_${I.id}`]:!0}));const J=parseFloat(I.price)||0;if(k<J){C("Error","Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const te=parseInt(I.durationDays)||30,xe=br.now(),ye=xe.toDate(),fe=new Date(ye.getTime()+te*24*60*60*1e3),le=fe.toISOString(),Ce={customerId:V,customerName:I.client?.name||"Cliente desconocido",customerEmail:I.client?.email||c,phoneNumber:I.client?.phone||"No especificado",productName:I.productName||"Producto sin nombre",type:I.category||"netflix",price:J,accountDetails:{email:I.account?.email||"No especificado",password:I.account?.password||"No especificado",profile:I.account?.profile||"No especificado",pin:I.account?.pin||"No especificado"},provider:I.provider||"Proveedor desconocido",providerId:I.providerId||"",providerPhone:I.providerPhone||I.providerWhatsapp||"51999999999",status:"completed",createdAt:xe,saleDate:xe,startDate:xe,endDate:le,durationDays:te,renewedAt:xe,renewable:I.renewable!==void 0?I.renewable:!0},qe=await wi(se($,"sales"),Ce),at=H($,"users",V);await Hr(at,{balance:k-J}),W(ze=>ze-J),Ae(ze=>[...ze,{...Ce,id:qe.id,saleDate:ye,startDate:ye,endDate:fe,account:Ce.accountDetails,client:{name:Ce.customerName,email:Ce.customerEmail,phone:Ce.phoneNumber},orderId:`BS-${qe.id.slice(0,8).toUpperCase()}`,renewable:Ce.renewable,daysRemaining:te,totalDays:te,timeElapsedPercentage:0,termsAndConditions:Ie[Ce.providerId]?.terms||"No se especificaron términos y condiciones."}]),C("Éxito","¡Pedido renovado exitosamente!")}catch(J){console.error("Error al renovar el pedido:",J),C("Error","Error al renovar el pedido: "+J.message)}finally{X(J=>({...J,[`renew_${I.id}`]:!1}))}},E=()=>{p&&(navigator.clipboard.writeText(p),ae(!0),setTimeout(()=>ae(!1),2e3))},M=I=>{if(!I)return"No especificada";try{const J=I instanceof Date?I:new Date(I);return isNaN(J.getTime())?"Fecha inválida":J.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},_=async()=>{try{await Bm(ot),a("/")}catch(I){console.error("Error al cerrar sesión:",I),C("Error",I.message||"Error al cerrar sesión")}},f=async I=>{I.preventDefault();try{X(xe=>({...xe,password:!0}));const J=I.target.password.value;if(!J){C("Error","Por favor, ingrese una nueva contraseña");return}if(J.length<6){C("Error","La contraseña debe tener al menos 6 caracteres");return}const te=ot.currentUser;te&&(await dg(te,J),C("Éxito","Contraseña actualizada correctamente"),I.target.reset())}catch(J){console.error("Error al actualizar la contraseña:",J),C("Error",J.message||"Error al actualizar la contraseña")}finally{X(J=>({...J,password:!1}))}},b=()=>{if(ie)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(ne)return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(mt,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:ne}),e.jsx("button",{onClick:()=>F(null),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(s){case"inicio":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-cyan-400",children:o})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Información de cuenta"}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(it,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:o})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(Vs,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:c})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Saldo disponible"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",k.toFixed(2)]}),e.jsx("button",{onClick:()=>n("recargas"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Recargar"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Ganancias totales"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",A.toFixed(2)]}),e.jsx("button",{onClick:()=>n("ganancias"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Ver ganancias"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Tu código de afiliado"}),e.jsxs("button",{onClick:E,disabled:!p,className:`flex items-center gap-2 px-3 py-1 rounded-xl transition-all duration-300 ${p?"bg-cyan-900/80 text-cyan-400 hover:bg-cyan-800/80":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:[e.jsx(NL,{size:16}),Q?"¡Copiado!":"Copiar"]})]}),e.jsx("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-6 border border-gray-600/50",children:e.jsx("p",{className:"text-2xl font-bold text-center tracking-wider text-white",children:p||"Generando código..."})}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Comparte este código con tus amigos para que se registren y ganes comisiones por sus compras."}),e.jsxs("div",{className:"bg-cyan-900/30 p-4 rounded-xl border border-cyan-800/50",children:[e.jsx("h4",{className:"font-medium text-cyan-400 mb-2",children:"Enlace de afiliado:"}),e.jsx("p",{className:"text-sm bg-gray-800/50 p-2 rounded-xl border border-gray-600/50 overflow-x-auto text-gray-300",children:p?`https://blackkstreaming.com/register?ref=${p}`:"Generando enlace..."})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Referidos recientes"}),h.length>0?h.map(I=>e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:I.username||"Sin nombre"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-900/80 text-green-400",children:"Activo"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Unido: ",M(I.joinDate)]})]},I.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No tienes referidos recientes"}),h.length>0&&e.jsx("button",{onClick:()=>n("referidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los referidos"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Pedidos recientes"}),Ne.length>0?Ne.slice(0,3).map(I=>{const J=new Date(I.endDate)>new Date&&I.status==="completed",te=I.status==="pending";return e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:I.productName}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${te?"bg-yellow-900/80 text-yellow-400":J?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:te?"A pedido":J?"Activo":"Expirado"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Vence: ",M(I.endDate)]})]},I.id)}):e.jsx("p",{className:"text-gray-400 py-2",children:"No tienes pedidos recientes"}),Ne.length>3&&e.jsx("button",{onClick:()=>n("pedidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los pedidos"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Notificaciones"}),be.length>0?be.map(I=>e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsx("p",{className:"text-gray-300",children:I.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:M(I.updatedAt)})]},I.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay notificaciones"})]})]})]});case"notificaciones":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Notificaciones"}),be.length>0?e.jsx("div",{className:"space-y-4",children:be.map(I=>e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl p-4 hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("p",{className:"text-gray-300",children:I.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:M(I.updatedAt)})]},I.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Rl,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay notificaciones"}),e.jsx("p",{className:"text-gray-400",children:"No tienes mensajes nuevos"})]})]});case"recargas":return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Recargar saldo"}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a recargar (S/)"}),e.jsx("input",{type:"number",value:K,onChange:I=>i(I.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Mínimo S/ 10.00",min:"10",step:"0.01"})]}),e.jsx("button",{onClick:de,disabled:pe.topUp||!K||parseFloat(K)<10,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-300 ${K&&parseFloat(K)>=10&&!pe.topUp?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:pe.topUp?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Solicitar recarga"}),e.jsxs("div",{className:"mt-6 bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(rs,{className:"mr-2"})," ¿Cómo realizar tu recarga?"]}),e.jsxs("p",{className:"text-gray-300 mb-2",children:["Realiza tu pago mediante ",e.jsx("span",{className:"font-semibold text-white",children:"Yape"})," al número:"]}),e.jsx("p",{className:"text-xl font-bold text-white mb-2",children:"📱 931757531"}),e.jsx("p",{className:"text-gray-300 mb-3",children:"Una vez realizado el pago, por favor contáctanos vía WhatsApp al mismo número para confirmar tu recarga."}),e.jsxs("a",{href:`https://wa.me/51931757531?text=${encodeURIComponent("Hola 😊, he realizado una recarga a través de Yape. Por favor, confirma mi pago.")}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300",children:[e.jsx(Vs,{className:"mr-2"})," Confirmar por WhatsApp"]})]})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de recargas"}),He.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acción"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:He.map(I=>{const J=encodeURIComponent(`Hola, he pedido una recarga de S/ ${I.amount?.toFixed(2)||"0.00"} con el nombre ${o}. Adjunto la captura de mi pago, por favor.`);return e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",I.amount?.toFixed(2)||"0.00"]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I.status==="aprobado"?"bg-green-900/80 text-green-400":I.status==="pendiente"?"bg-yellow-900/80 text-yellow-400":"bg-red-900/80 text-red-400"}`,children:I.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-400",children:M(I.date)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:I.status==="pendiente"?e.jsxs("a",{href:`https://wa.me/51940505969?text=${J}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300 text-sm",children:[e.jsx(Vs,{className:"mr-2"})," Enviar captura"]}):e.jsx("span",{className:"text-gray-400 text-sm",children:"—"})})]},I.id)})})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(rs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-400",children:"No hay recargas registradas"})]})]})]});case"pedidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:"Mis pedidos"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar pedidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:oe,onChange:I=>ee(I.target.value)}),e.jsx(vt,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),Ne.length>0?e.jsx("div",{className:"space-y-6",children:Ne.filter(I=>(I.productName||"").toLowerCase().includes(oe.toLowerCase())||(I.orderId||"").toLowerCase().includes(oe.toLowerCase())).map(I=>{const J=parseFloat(I.price)||0,te=new Date(I.endDate)>new Date&&I.status==="completed",xe=I.status==="pending",ye=I.daysRemaining||0,fe=I.timeElapsedPercentage||0;let le="bg-green-400";fe>70&&fe<=90?le="bg-yellow-400":fe>90&&(le="bg-red-400");const Ce=xe?e.jsx(cr,{className:"text-yellow-400"}):te?e.jsx(yd,{className:"text-green-400"}):e.jsx(mt,{className:"text-red-400"}),qe=encodeURIComponent(`*Consulta sobre Pedido - ${I.productName||"Sin nombre"}*

*N° Pedido:* ${I.orderId||"No especificado"}
*Producto:* ${I.productName||"No especificado"}
*Precio:* S/ ${J.toFixed(2)}
*Estado:* ${xe?"A pedido":te?"Activo":"Expirado"}
*Fecha de Inicio:* ${M(I.startDate)}
*Fecha de Vencimiento:* ${M(I.endDate)}

`+(xe?`Hola 😊, he comprado un producto a pedido (${I.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),at=encodeURIComponent(`😊 Estimado/a ${I.client?.name||"Cliente"} 😊

Le enviamos la información de su suscripción a nuestro servicio de streaming:
📌 Tipo: ${I.productName||"Sin nombre"}.
🔢 Código: ${I.orderId||"No especificado"}
`+(xe?"":`📧 Correo: ${I.account?.email||"No especificado"}
🔐 Contraseña: ${I.account?.password||"No especificado"}
👤 Perfil: ${I.account?.profile||"No especificado"}
📌 PIN: ${I.account?.pin||"No especificado"}
`)+`🌐 URL: Sin URL
📅 Fecha de creación: ${M(I.startDate)}
📅 Fecha de vencimiento: ${M(I.endDate)}
🏁 Días contratados: ${I.durationDays||30} días.

`+(xe?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:"")+`*Términos y Condiciones:*
${I.termsAndConditions||"No se especificaron términos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),ze=I.providerPhone?I.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[Ce,e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:I.productName||"Producto sin nombre"}),I.orderId&&e.jsxs("p",{className:"text-xs text-gray-400",children:["N° Pedido: ",I.orderId]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",J.toFixed(2)]}),e.jsx("p",{className:`text-xs font-medium ${xe?"text-yellow-400":le.replace("bg-","text-")}`,children:xe?"Pendiente de activación":`${ye} día${ye===1?"":"s"} restante${ye===1?"":"s"}`})]})]}),e.jsxs("div",{className:"p-4 bg-gray-700/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full bg-gray-600/50 rounded-full h-2.5",children:e.jsx("div",{className:`h-2.5 rounded-full ${le}`,style:{width:`${Math.min(fe,100)}%`}})}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1 text-right",children:[fe.toFixed(0),"% completado"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(it,{className:"mr-2"})," Detalles de la Cuenta"]}),e.jsx("div",{className:"space-y-2 text-gray-300",children:xe?e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Usuario:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white break-all",children:I.account?.email||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),e.jsx("span",{className:"block text-white break-all",children:I.account?.password||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),e.jsx("span",{className:"block text-white",children:I.account?.profile||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),e.jsx("span",{className:"block text-white",children:I.account?.pin||"No especificado"})]})]})})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(tt,{className:"mr-2"})," Información del Pedido"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"block text-white",children:I.provider||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono del Proveedor:"}),e.jsx("span",{className:"block text-white",children:I.providerPhone||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Estado:"}),e.jsx("span",{className:`block px-2 py-1 text-xs rounded-full ${xe?"bg-yellow-900/80 text-yellow-400":te?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:xe?"A pedido":te?"Activo":"Expirado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Método de Pago:"}),e.jsx("span",{className:"block text-white",children:"BlackStreaming"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de inicio:"}),e.jsx("span",{className:"block text-white",children:M(I.startDate)})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de vencimiento:"}),e.jsx("span",{className:"block text-white",children:M(I.endDate)})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Días restantes:"}),e.jsx("span",{className:`block ${le.replace("bg-","text-")}`,children:ye})]})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(it,{className:"mr-2"})," Información del Cliente"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Nombre:"}),e.jsx("span",{className:"block text-white",children:I.client?.name||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono:"}),e.jsx("span",{className:"block text-white",children:I.client?.phone||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white",children:I.client?.email||"No especificado"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("a",{href:`https://wa.me/51${ze}?text=${qe}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[e.jsx(Vs,{size:18})," Contactar Proveedor"]}),I.renewable&&e.jsx("button",{onClick:()=>ue(I),disabled:pe[`renew_${I.id}`],className:`flex-1 py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300 ${pe[`renew_${I.id}`]?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-white"}`,children:pe[`renew_${I.id}`]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(E1,{size:18})," Renovar Pedido"]})}),I.client?.phone&&e.jsxs("a",{href:`https://wa.me/${I.client.phone.replace(/^\+/,"")}?text=${at}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[e.jsx(Vs,{size:18})," Contactar Cliente"]})]})]})]},I.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ht,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes pedidos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Realiza tu primer pedido en nuestra tienda"})]})]});case"referidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:["Todos tus referidos (",T.length,")"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar referidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:oe,onChange:I=>ee(I.target.value)}),e.jsx(vt,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),T.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha de registro"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:T.filter(I=>{const J=I.username||"",te=I.email||"";return J.toLowerCase().includes(oe.toLowerCase())||te.toLowerCase().includes(oe.toLowerCase())}).map(I=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:I.username||"Sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:I.email||"Sin email"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:I.joinDate?M(I.joinDate):"No especificada"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900/80 text-green-400",children:I.status||"Activo"})})]},I.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ml,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes referidos aún"}),e.jsx("p",{className:"text-gray-400",children:"Comparte tu código de afiliado para empezar a ganar comisiones"})]})]});case"ganancias":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Reporte de ganancias"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias hoy"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde ayer"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias esta semana"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde la semana pasada"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias totales"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",A.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[T.length," referidos"]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(mo,{className:"mr-2 text-cyan-400"})," Historial de comisiones"]}),T.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-800/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Referido"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Origen"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-700/50 divide-y divide-gray-600/50",children:T.map(I=>e.jsxs("tr",{className:"hover:bg-gray-600/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:I.username||"Usuario sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:I.joinDate?M(I.joinDate):"No especificada"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:"S/ 0.00"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:"Registro"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-900/80 text-yellow-400",children:"Pendiente"})})]},I.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(rs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-400",children:"No hay comisiones registradas"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gana comisiones cuando tus referidos realicen compras"})]})]})]});case"configuracion":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuración de cuenta"}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"text",value:o,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"}),e.jsx("button",{type:"button",onClick:()=>z({id:V,username:o}),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-all duration-300",title:"Editar Nombre",children:e.jsx(Jp,{size:16})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico"}),e.jsx("input",{type:"email",value:c,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nueva contraseña (opcional)"}),e.jsx("input",{type:"password",name:"password",placeholder:"Nueva contraseña",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"})]}),e.jsx("button",{type:"submit",disabled:pe.password,className:"w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium mt-4 transition-all duration-300 disabled:bg-cyan-800",children:pe.password?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar cambios"})]}),e.jsx("div",{className:"mt-8 border-t border-gray-600/50 pt-6",children:e.jsxs("button",{onClick:_,className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-red-900/80 hover:bg-red-800 text-white rounded-xl font-medium transition-all duration-300",children:[e.jsx(Zt,{})," Cerrar sesión"]})})]});default:return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(mt,{className:"mx-auto text-4xl text-yellow-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),e.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Volver al inicio"})]})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>t(!r),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:e.jsx(dr,{className:"text-xl"})})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${r?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:e.jsx(Ot,{className:"text-lg"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold",children:o.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:o}),e.jsx("p",{className:"text-xs text-gray-400",children:"Afiliador"})]})]}),e.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Qm},{id:"notificaciones",label:"Notificaciones",icon:Rl},{id:"recargas",label:"Recargas",icon:rs},{id:"pedidos",label:"Pedidos",icon:Ht},{id:"referidos",label:"Referidos",icon:Ml},{id:"ganancias",label:"Ganancias",icon:mo},{id:"configuracion",label:"Configuración",icon:Ud}].map(I=>e.jsxs("button",{onClick:()=>{n(I.id),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${s===I.id?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":"text-gray-300 hover:bg-gray-800/50 hover:text-cyan-400"}`,children:[e.jsx(I.icon,{className:"text-lg"}),e.jsx("span",{children:I.label})]},I.id))}),e.jsx("div",{className:"mt-auto pt-6",children:e.jsxs("button",{onClick:_,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-red-900/20 rounded-xl transition-all duration-300 border border-red-900/50",children:[e.jsx(Zt,{className:"text-lg"}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})}),e.jsx("main",{className:"md:ml-64 p-4 sm:p-6 min-h-screen",children:b()}),e.jsx(qL,{isOpen:We.isOpen,title:We.title,message:We.message,onClose:g}),e.jsx(GL,{isOpen:Ge.isOpen,user:Ge.user,onClose:U,onSave:q}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>t(!1)})]})},KL=({isOpen:r,message:t,title:s,onClose:n})=>r?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:s}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(Ot,{size:20})})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:t}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,ZL=({username:r="Usuario",products:t=[],orders:s=[],providerBalance:n=0,balanceLoading:o=!1,totalStock:u=0,totalEarnings:c=0,isAdmin:x=!1,email:p="",notifications:w=[],setActiveSection:T=()=>{},formatDate:D=A=>new Date(A).toLocaleDateString()})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white flex items-center",children:[e.jsx(it,{className:"mr-2"})," Bienvenido, ",e.jsx("span",{className:"text-red-400 ml-1",children:r})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl p-4 border border-gray-700/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-red-400 mb-3 flex items-center",children:[e.jsx(mm,{className:"mr-2"})," Inventario"]}),e.jsx("p",{className:"text-3xl font-bold text-white",children:t.length}),e.jsx("p",{className:"text-gray-400",children:"Productos registrados"}),e.jsxs("p",{className:"text-gray-400",children:["Stock total: ",u]}),e.jsx("button",{onClick:()=>T("inventario"),className:"mt-2 px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Ver inventario"})]}),e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl p-4 border border-gray-700/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-red-400 mb-3 flex items-center",children:[e.jsx(rs,{className:"mr-2"})," Ganancias"]}),o?e.jsx("div",{className:"animate-pulse text-gray-400",children:"Cargando..."}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",c.toFixed(2)]}),e.jsxs("p",{className:"text-gray-400",children:[s.length," ventas realizadas"]}),e.jsxs("p",{className:"text-gray-400",children:["Disponible: S/ ",n.toFixed(2)]})]})]}),e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl p-4 border border-gray-700/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-red-400 mb-3 flex items-center",children:[e.jsx(it,{className:"mr-2"})," Mi Cuenta"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(it,{className:"mr-2 text-red-400"}),e.jsx("span",{children:r})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(Vs,{className:"mr-2 text-red-400"}),e.jsx("span",{children:p})]}),e.jsx("p",{className:"text-xs mt-2 bg-gray-900/80 text-red-400 py-1 px-2 rounded-full inline-block border border-gray-700/50",children:x?"Administrador":"Proveedor"})]}),e.jsx("button",{onClick:()=>T("configuracion"),className:"mt-2 px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Editar perfil"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-700/50",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center",children:[e.jsx(Ht,{className:"mr-2"})," Pedidos recientes"]}),s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ht,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay pedidos recientes"}),e.jsx("p",{className:"text-gray-400",children:"Tus pedidos aparecerán aquí"})]}):e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[e.jsx("thead",{className:"bg-gray-900/80 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Producto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Comprador"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-800/70 divide-y divide-gray-700/50",children:s.slice(0,3).map((A,O)=>{const k=new Date(A.endDate)>new Date&&A.status==="completed",W=A.status==="pending";return e.jsxs("tr",{className:"hover:bg-red-900/20 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-white truncate max-w-xs",children:A.productName}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:A.buyer}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["S/ ",(A.amount||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${W?"bg-yellow-900/80 text-yellow-400 border border-yellow-500/50":k?"bg-green-900/80 text-green-400 border border-green-500/50":"bg-red-900/80 text-red-400 border border-red-500/50"}`,children:W?"A pedido":k?"Activo":"Expirado"})})]},O)})})]}),s.length>3&&e.jsx("button",{onClick:()=>T("pedidos"),className:"w-full mt-3 text-center text-red-400 hover:underline text-sm",children:"Ver todos los pedidos"})]})]}),e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-700/50",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center",children:[e.jsx(Vs,{className:"mr-2"})," Notificaciones"]}),w.length>0?w.map(A=>e.jsxs("div",{className:"border-b border-gray-700/50 py-3 last:border-0 hover:bg-red-900/20 transition-all duration-300 rounded-xl px-2",children:[e.jsx("p",{className:"text-gray-300",children:A.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:D(A.updatedAt?.toDate?.()||new Date)})]},A.id)):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Vs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay notificaciones"}),e.jsx("p",{className:"text-gray-400",children:"Tus notificaciones aparecerán aquí"})]})]})]})]}),YL=({products:r,setActiveSection:t,handleEdit:s,handleDelete:n,getCategoryDisplayName:o,totalStock:u})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white flex items-center",children:[e.jsx(mm,{className:"mr-2"})," Inventario"]}),e.jsxs("button",{onClick:()=>t("subirProducto"),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-xl flex items-center w-full md:w-auto justify-center transition-all duration-300",children:[e.jsx(TN,{className:"mr-2"})," Nuevo Producto"]})]}),r.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[e.jsx("thead",{className:"bg-gray-900/80 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Producto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Precio"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Stock"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-gray-800/70 divide-y divide-gray-700/50",children:r.map(c=>e.jsxs("tr",{className:"hover:bg-red-900/20 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[c.image&&e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:c.image,alt:c.name})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-white truncate max-w-xs",children:c.name}),e.jsx("div",{className:"text-xs text-gray-400",children:o(c.category)})]})]})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["S/ ",(parseFloat(c.price)||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:c.stock||0}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${c.status==="En stock"?"bg-red-500/20 text-red-400 border border-red-500/50":c.status==="A pedido"?"bg-gray-800/50 text-yellow-400 border border-gray-700/50":"bg-gray-900/80 text-gray-300 border border-gray-700/50"}`,children:c.status})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{onClick:()=>s(c),className:"text-red-400 hover:text-red-500 mr-3",title:"Editar",children:e.jsx(T1,{})}),e.jsx("button",{onClick:()=>n(c.id),className:"text-red-400 hover:text-red-500",title:"Eliminar",children:e.jsx(C1,{})})]})]},c.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(mm,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes productos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Agrega tu primer producto para comenzar"}),e.jsxs("button",{onClick:()=>t("subirProducto"),className:"mt-4 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-xl flex items-center mx-auto transition-all duration-300",children:[e.jsx(TN,{className:"mr-2"})," Agregar Producto"]})]})]}),XL=({soldAccounts:r,formatDate:t})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(Xp,{className:"mr-2"})," Cuentas Vendidas"]}),r.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[e.jsx("thead",{className:"bg-gray-900/80 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Producto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Perfil"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha de Venta"})]})}),e.jsx("tbody",{className:"bg-gray-800/70 divide-y divide-gray-700/50",children:r.map((s,n)=>e.jsxs("tr",{className:"hover:bg-red-900/20 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-white",children:s.productName}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:s.email}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:s.profile||"N/A"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:t(s.saleDate)})]},n))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Xp,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay cuentas vendidas"}),e.jsx("p",{className:"text-gray-400",children:"Las cuentas vendidas aparecerán aquí"})]})]}),JL=({product:r,setProduct:t,handleChange:s,handleFileChange:n,handleStockChange:o,handleAccountFieldChange:u,handleSubmit:c,setActiveSection:x})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-4xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Subir Nuevo Producto"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Imagen del producto"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-700/50 border-dashed rounded-xl bg-gray-900/80 backdrop-blur-sm",children:r.image?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain"}),e.jsx("button",{type:"button",onClick:()=>t({...r,image:""}),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1",children:e.jsx(Ot,{size:16})})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:e.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-gray-900/50 rounded-xl font-medium text-red-400 hover:text-red-500 focus-within:outline-none",children:[e.jsx("span",{children:"Subir una imagen"}),e.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:p=>n(p),accept:"image/*"})]})}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF hasta 10MB"})]})})]}),e.jsxs("div",{className:"col-span-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre del producto*"}),e.jsx("input",{type:"text",name:"name",value:r.name,onChange:s,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Categoría*"}),e.jsxs("select",{name:"category",value:r.category,onChange:s,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all",children:[e.jsx("option",{value:"Netflix",children:"Netflix"}),e.jsx("option",{value:"Spotify",children:"Spotify"}),e.jsx("option",{value:"Disney",children:"Disney+"}),e.jsx("option",{value:"Max",children:"Max"}),e.jsx("option",{value:"Prime Video",children:"Prime Video"}),e.jsx("option",{value:"Vix",children:"Vix"}),e.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),e.jsx("option",{value:"Canva",children:"Canva"}),e.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),e.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),e.jsx("option",{value:"Dgo",children:"DGO"}),e.jsx("option",{value:"Liga Max",children:"Liga Max"}),e.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),e.jsx("option",{value:"Youtube",children:"YouTube"}),e.jsx("option",{value:"Deezer",children:"Deezer"}),e.jsx("option",{value:"Tidal",children:"Tidal"}),e.jsx("option",{value:"Vpn",children:"VPN"}),e.jsx("option",{value:"WinTv",children:"WinTV"}),e.jsx("option",{value:"Apple Music",children:"Apple Music"}),e.jsx("option",{value:"Apple Tv",children:"Apple TV"}),e.jsx("option",{value:"Iptv",children:"IPTV"}),e.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),e.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),e.jsx("option",{value:"Pornhub",children:"Pornhub"}),e.jsx("option",{value:"Paramount",children:"Paramount"}),e.jsx("option",{value:"Licencias",children:"Licencias"}),e.jsx("option",{value:"Capcut",children:"Capcut"}),e.jsx("option",{value:"Duolingo",children:"Duolingo"}),e.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Tipo de cuenta*"}),e.jsxs("select",{name:"accountType",value:r.accountType,onChange:s,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all",children:[e.jsx("option",{value:"Premium",children:"Premium"}),e.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Estado*"}),e.jsxs("select",{name:"status",value:r.status,onChange:s,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all",children:[e.jsx("option",{value:"En stock",children:"En stock"}),e.jsx("option",{value:"A pedido",children:"A pedido"}),e.jsx("option",{value:"Agotado",children:"Agotado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Stock*"}),e.jsx("input",{type:"number",name:"stock",value:r.status==="Agotado"?0:r.stock,onChange:o,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all",min:"0",required:!0,disabled:r.status==="Agotado"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Precio (S/)*"}),e.jsx("input",{type:"number",name:"price",value:r.price,onChange:s,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"renewal",checked:r.renewal,onChange:s,className:"h-4 w-4 text-red-400 focus:ring-red-400 border-gray-600/50 rounded"}),e.jsx("label",{className:"ml-2 text-gray-300",children:"¿Tiene renovación?"})]})]}),r.renewal&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Precio de renovación (S/)*"}),e.jsx("input",{type:"number",name:"renewalPrice",value:r.renewalPrice,onChange:s,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Duración (días)"}),e.jsx("input",{type:"number",name:"duration",value:r.duration,onChange:s,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",placeholder:"Dejar vacío para ilimitado",min:"1"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-300 mb-2",children:["Teléfono de contacto ",r.status==="A pedido"?"*":""]}),e.jsx("input",{type:"text",name:"providerPhone",value:r.providerPhone,onChange:s,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",placeholder:"Ej: +51 987654321",required:r.status==="A pedido"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"URL del producto (opcional)"}),e.jsx("input",{type:"url",name:"productUrl",value:r.productUrl||"",onChange:s,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",placeholder:"Ej: https://www.ejemplo.com/producto"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Detalles del producto"}),e.jsx("textarea",{name:"details",value:r.details,onChange:s,rows:"3",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",placeholder:"Describe los detalles y características del producto"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Términos y condiciones"}),e.jsx("textarea",{name:"terms",value:r.terms,onChange:s,rows:"3",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",placeholder:"Especifica los términos y condiciones de uso"})]}),r.status==="En stock"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Cuentas asociadas*"}),e.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Debe completar todas las cuentas según el stock indicado"}),e.jsx("div",{className:"space-y-4",children:r.accounts.map((p,w)=>e.jsxs("div",{className:"border border-gray-700/50 rounded-xl p-4 bg-gray-900/70 backdrop-blur-sm",children:[e.jsxs("h4",{className:"text-sm font-medium text-white mb-3",children:["Cuenta ",w+1]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Correo electrónico*"}),e.jsx("input",{type:"email",value:p.email,onChange:T=>u(w,"email",T.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-700/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Contraseña*"}),e.jsx("input",{type:"text",value:p.password,onChange:T=>u(w,"password",T.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-700/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Perfil (opcional)"}),e.jsx("input",{type:"text",value:p.profile,onChange:T=>u(w,"profile",T.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-700/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm",placeholder:"Ej: Perfil 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"PIN (opcional)"}),e.jsx("input",{type:"text",value:p.pin,onChange:T=>u(w,"pin",T.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-700/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm",placeholder:"Ej: 1234"})]})]})]},w))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{onClick:()=>x("inventario"),className:"px-4 py-2 bg-gray-900/70 text-gray-300 rounded-xl hover:bg-red-900/20 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{onClick:c,className:"px-6 py-2 bg-red-500 hover:bg-red-600 text-white font-medium rounded-xl transition-all duration-300",children:"Subir Producto"})]})]})]}),eV=({orders:r,totalEarnings:t,providerBalance:s,balanceLoading:n,getCategoryDisplayName:o,formatDate:u})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(rs,{className:"mr-2"})," Ganancias"]}),e.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-2xl p-4 mb-6 border border-gray-700/50 shadow-lg",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-1",children:"Ganancias totales"}),e.jsxs("p",{className:"text-sm text-gray-400",children:[r.length," ventas realizadas"]}),n?e.jsx("p",{className:"text-sm text-gray-400",children:"Disponible: Cargando..."}):e.jsxs("p",{className:"text-sm text-gray-400",children:["Disponible: S/ ",(s||0).toFixed(2)]})]}),e.jsxs("div",{className:"text-3xl font-bold text-white mt-2 md:mt-0",children:["S/ ",t.toFixed(2)]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[e.jsx("thead",{className:"bg-gray-900/80 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Producto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Categoría"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Comprador"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Contacto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-800/70 divide-y divide-gray-700/50",children:r.map((c,x)=>e.jsxs("tr",{className:"hover:bg-red-900/20 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:c.productName}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:o(c.category)}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-white",children:c.buyer}),e.jsx("div",{className:"text-xs text-gray-400",children:c.buyerEmail})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:c.buyerPhone}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:u(c.saleDate)}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-white",children:["S/ ",(c.amount||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-500/20 text-red-400 border border-red-500/50",children:"Completado"})})]},x))})]})}),r.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(rs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay ventas registradas"}),e.jsx("p",{className:"text-gray-400",children:"Tus ventas aparecerán aquí."})]})]}),tV=({orders:r,searchQuery:t,setSearchQuery:s,getCategoryDisplayName:n,formatDate:o,handleEditOrder:u,handleActivateOrder:c,handleDeleteOrder:x})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:"Mis pedidos"}),e.jsxs("div",{className:"relative w-48 sm:w-64",children:[e.jsx("input",{type:"text",placeholder:"Buscar pedidos...",className:"w-full px-3 py-1.5 rounded-lg bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all duration-300 text-sm placeholder-gray-500",value:t,onChange:p=>s(p.target.value)}),e.jsx(vt,{className:"absolute right-2 top-2 text-gray-400",size:16})]})]}),r.length>0?e.jsx("div",{className:"space-y-6",children:r.filter(p=>(p.productName||"").toLowerCase().includes(t.toLowerCase())||(p.category||"").toLowerCase().includes(t.toLowerCase())).map(p=>{const w=p.status==="pending",T=p.status==="refunded",D=p.daysRemaining||0,A=p.timeElapsedPercentage||0;let O="bg-red-400";A>70&&A<=90?O="bg-yellow-400":A>90&&(O="bg-red-400");const k=T?e.jsx(mt,{className:"text-red-400"}):w?e.jsx(cr,{className:"text-yellow-400"}):e.jsx(yd,{className:"text-green-400"}),W=p.buyerPhone?p.buyerPhone.replace(/^\+/,"").replace(/\D/g,""):null,V=encodeURIComponent(`Hola ${p.buyer||"Cliente"}, 😊

Soy el proveedor de tu suscripción ${p.productName||"Sin nombre"} (N° Pedido: ${p.id||"No especificado"}). ¿En qué puedo ayudarte hoy? Por favor, indícame tu consulta o problema.

Atentamente, BlackStreaming`),Y=encodeURIComponent(`Hola ${p.buyer||"Cliente"}, 😊

Te informamos que tu suscripción ${p.productName||"Sin nombre"} (N° Pedido: ${p.id||"No especificado"}) vencerá en ${D} día${D===1?"":"s"}. Te recomendamos renovarla a tiempo.

Detalles:
- Fecha de vencimiento: ${o(p.endDate)}
- Precio: S/ ${(p.amount||0).toFixed(2)}

Si necesitas ayuda, contáctanos. ¡Gracias por tu preferencia!
Atentamente, BlackStreaming`);return e.jsxs("div",{className:"border border-gray-600/50 rounded-xl overflow-hidden hover:shadow-lg transition-all duration-300 mb-4",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-3 py-2 border-b border-gray-600/20 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[k,e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white text-sm",children:p.productName||"Producto sin nombre"}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Categoría: ",n(p.category)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",(p.amount||0).toFixed(2)]}),e.jsx("p",{className:`text-xs font-medium ${O.replace("bg-","text-")}`,children:w?"Pendiente de activación":`${D} día${D===1?"":"s"} restante${D===1?"":"s"}`})]})]}),e.jsxs("div",{className:"p-4 bg-gray-700/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full bg-gray-600/40 rounded-full h-1",children:e.jsx("div",{className:`h-1 rounded-full ${O}`,style:{width:`${Math.min(A,100)}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[A.toFixed(0),"%"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-700/50",children:[e.jsx("h5",{className:"text-sm font-medium text-red-400 mb-3",children:"Información del Comprador"}),e.jsxs("p",{className:"text-gray-300 text-sm",children:["Comprador: ",p.buyer]}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["Teléfono: ",p.buyerPhone]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-700/50",children:[e.jsx("h5",{className:"text-sm font-medium text-red-400 mb-3",children:"Detalles de la Cuenta"}),p.accountDetails?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-300",children:["Email: ",p.accountDetails.email]}),e.jsxs("p",{className:"text-gray-400",children:["Contraseña: ",p.accountDetails.password]}),e.jsxs("p",{className:"text-gray-400",children:["Perfil: ",p.accountDetails.profile||"N/A"]}),e.jsxs("p",{className:"text-gray-400",children:["PIN: ",p.accountDetails.pin||"N/A"]})]}):e.jsx("p",{className:"text-gray-400",children:"No disponible"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-4",children:[e.jsxs("button",{onClick:()=>u(p),className:"flex-1 py-3 px-4 bg-red-500 hover:bg-red-600 text-white rounded-xl flex items-center justify-center gap-2 transition-all duration-300",title:"Editar cuenta",children:[e.jsx(T1,{size:18})," Editar Cuenta"]}),p.status==="pending"&&e.jsxs("button",{onClick:()=>c(p.id),className:"flex-1 py-3 px-4 bg-red-500 hover:bg-red-600 text-white rounded-xl flex items-center justify-center gap-2 transition-all duration-300",title:"Activar pedido",children:[e.jsx(yd,{size:18})," Activar Pedido"]}),W&&e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:`https://wa.me/${W}?text=${V}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 py-3 px-4 bg-red-500 hover:bg-red-600 text-white rounded-xl flex items-center justify-center gap-2 transition-all duration-300",title:"Contactar cliente",children:[e.jsx(Vs,{size:18})," Contactar"]}),!T&&D<=7&&e.jsxs("a",{href:`https://wa.me/${W}?text=${Y}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 py-3 px-4 bg-red-500 hover:bg-red-600 text-white rounded-xl flex items-center justify-center gap-2 transition-all duration-300",title:"Notificar vencimiento",children:[e.jsx(Rl,{size:18})," Notificar"]})]}),e.jsxs("button",{onClick:()=>x(p.id),className:"flex-1 py-3 px-4 bg-gray-700 text-gray-400 hover:bg-gray-600 hover:text-white rounded-xl flex items-center justify-center gap-2 transition-all duration-300",title:"Eliminar pedido",children:[e.jsx(C1,{size:18})," Eliminar"]})]})]})]},p.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ht,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay pedidos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Tus pedidos aparecerán aquí"})]})]}),rV=({accountDetails:r,handleAccountChange:t,handleUpdateAccount:s})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-4xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(Ud,{className:"mr-2"})," Configuración"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico"}),e.jsx("input",{type:"email",value:r.email,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nueva contraseña (opcional)"}),e.jsx("input",{type:"password",name:"password",value:r.password,onChange:t,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",placeholder:"Dejar en blanco para no cambiar"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Preferencias"}),e.jsx("textarea",{name:"preferences",value:r.preferences,onChange:t,rows:"4",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",placeholder:"Especifica tus preferencias o notas"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:s,className:"px-6 py-2 bg-red-500 hover:bg-red-600 text-white font-medium rounded-xl transition-all duration-300",children:"Guardar Cambios"})})]})]}),sV=({editModalOpen:r,setEditModalOpen:t,selectedProduct:s,setSelectedProduct:n,editError:o,setEditError:u,handleFileChange:c,handleEditStockChange:x,handleEditAccountFieldChange:p,handleUpdateProduct:w})=>{if(!r)return null;const T=D=>{const{name:A,value:O,type:k,checked:W}=D.target;n(V=>({...V,[A]:k==="checkbox"?W:O,...A==="status"&&{stock:O==="Agotado"?0:V.stock||1,accounts:O==="En stock"?V.accounts.length?V.accounts:Array(V.stock||1).fill({email:"",password:"",profile:"",pin:""}):[]}}))};return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl shadow-xl w-full max-w-4xl border border-gray-700/50 max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Editar Producto"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(Ot,{size:20})})]}),o&&e.jsx("div",{className:"mb-4 p-3 bg-red-900/20 border border-red-900/50 text-red-400 rounded-xl",children:o}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Imagen del producto"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-700/50 border-dashed rounded-xl bg-gray-900/80 backdrop-blur-sm",children:s.image?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain"}),e.jsx("button",{type:"button",onClick:()=>n({...s,image:""}),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1",children:e.jsx(Ot,{size:16})})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:e.jsxs("label",{htmlFor:"edit-file-upload",className:"relative cursor-pointer bg-gray-900/50 rounded-xl font-medium text-red-400 hover:text-red-500 focus-within:outline-none",children:[e.jsx("span",{children:"Subir una imagen"}),e.jsx("input",{id:"edit-file-upload",name:"edit-file-upload",type:"file",className:"sr-only",onChange:D=>c(D,!0),accept:"image/*"})]})}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF hasta 10MB"})]})})]}),e.jsxs("div",{className:"col-span-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre del producto*"}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:T,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Categoría*"}),e.jsxs("select",{name:"category",value:s.category,onChange:T,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all",children:[e.jsx("option",{value:"Netflix",children:"Netflix"}),e.jsx("option",{value:"Spotify",children:"Spotify"}),e.jsx("option",{value:"Disney",children:"Disney+"}),e.jsx("option",{value:"Max",children:"Max"}),e.jsx("option",{value:"Prime Video",children:"Prime Video"}),e.jsx("option",{value:"Vix",children:"Vix"}),e.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),e.jsx("option",{value:"Canva",children:"Canva"}),e.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),e.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),e.jsx("option",{value:"Dgo",children:"DGO"}),e.jsx("option",{value:"Liga Max",children:"Liga Max"}),e.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),e.jsx("option",{value:"Youtube",children:"YouTube"}),e.jsx("option",{value:"Deezer",children:"Deezer"}),e.jsx("option",{value:"Tidal",children:"Tidal"}),e.jsx("option",{value:"Vpn",children:"VPN"}),e.jsx("option",{value:"WinTv",children:"WinTV"}),e.jsx("option",{value:"Apple Music",children:"Apple Music"}),e.jsx("option",{value:"Apple Tv",children:"Apple TV"}),e.jsx("option",{value:"Iptv",children:"IPTV"}),e.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),e.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),e.jsx("option",{value:"Pornhub",children:"Pornhub"}),e.jsx("option",{value:"Paramount",children:"Paramount"}),e.jsx("option",{value:"Licencias",children:"Licencias"}),e.jsx("option",{value:"Capcut",children:"Capcut"}),e.jsx("option",{value:"Duolingo",children:"Duolingo"}),e.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Tipo de cuenta*"}),e.jsxs("select",{name:"accountType",value:s.accountType,onChange:T,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all",children:[e.jsx("option",{value:"Premium",children:"Premium"}),e.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Estado*"}),e.jsxs("select",{name:"status",value:s.status,onChange:T,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all",children:[e.jsx("option",{value:"En stock",children:"En stock"}),e.jsx("option",{value:"A pedido",children:"A pedido"}),e.jsx("option",{value:"Agotado",children:"Agotado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Stock*"}),e.jsx("input",{type:"number",name:"stock",value:s.status==="Agotado"?0:s.stock,onChange:x,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all",min:"0",required:!0,disabled:s.status==="Agotado"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Precio (S/)*"}),e.jsx("input",{type:"number",name:"price",value:s.price,onChange:T,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"renewal",checked:s.renewal,onChange:T,className:"h-4 w-4 text-red-400 focus:ring-red-400 border-gray-600/50 rounded"}),e.jsx("label",{className:"ml-2 text-gray-300",children:"¿Tiene renovación?"})]})]}),s.renewal&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Precio de renovación (S/)*"}),e.jsx("input",{type:"number",name:"renewalPrice",value:s.renewalPrice,onChange:T,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Duración (días)"}),e.jsx("input",{type:"number",name:"duration",value:s.duration,onChange:T,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",placeholder:"Dejar vacío para ilimitado",min:"1"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-300 mb-2",children:["Teléfono de contacto ",s.status==="A pedido"?"*":""]}),e.jsx("input",{type:"text",name:"providerPhone",value:s.providerPhone,onChange:T,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",placeholder:"Ej: +51 987654321",required:s.status==="A pedido"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"URL del producto (opcional)"}),e.jsx("input",{type:"url",name:"productUrl",value:s.productUrl||"",onChange:T,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",placeholder:"Ej: https://www.ejemplo.com/producto"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Detalles del producto"}),e.jsx("textarea",{name:"details",value:s.details,onChange:T,rows:"3",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",placeholder:"Describe los detalles y características del producto"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Términos y condiciones"}),e.jsx("textarea",{name:"terms",value:s.terms,onChange:T,rows:"3",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",placeholder:"Especifica los términos y condiciones de uso"})]}),s.status==="En stock"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Cuentas asociadas*"}),e.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Debe completar todas las cuentas según el stock indicado"}),e.jsx("div",{className:"space-y-4",children:s.accounts.map((D,A)=>e.jsxs("div",{className:"border border-gray-700/50 rounded-xl p-4 bg-gray-900/70 backdrop-blur-sm",children:[e.jsxs("h4",{className:"text-sm font-medium text-white mb-3",children:["Cuenta ",A+1]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Correo electrónico*"}),e.jsx("input",{type:"email",value:D.email,onChange:O=>p(A,"email",O.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-700/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Contraseña*"}),e.jsx("input",{type:"text",value:D.password,onChange:O=>p(A,"password",O.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-700/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Perfil (opcional)"}),e.jsx("input",{type:"text",value:D.profile,onChange:O=>p(A,"profile",O.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-700/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm",placeholder:"Ej: Perfil 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"PIN (opcional)"}),e.jsx("input",{type:"text",value:D.pin,onChange:O=>p(A,"pin",O.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-700/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm",placeholder:"Ej: 1234"})]})]})]},A))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{onClick:()=>t(!1),className:"px-4 py-2 bg-gray-900/70 text-gray-300 rounded-xl hover:bg-red-900/20 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{onClick:w,className:"px-6 py-2 bg-red-500 hover:bg-red-600 text-white font-medium rounded-xl transition-all duration-300",children:"Actualizar Producto"})]})]})]})})})},aV=({editOrderModalOpen:r,setEditOrderModalOpen:t,selectedOrder:s,handleOrderAccountChange:n,editOrderError:o,setEditOrderError:u,handleUpdateOrder:c})=>r?e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl shadow-xl w-full max-w-md border border-gray-700/50 max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Editar Detalles de Cuenta"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(Ot,{size:20})})]}),o&&e.jsx("div",{className:"mb-4 p-3 bg-red-900/20 border border-red-900/50 text-red-400 rounded-xl",children:o}),e.jsxs("div",{className:"border border-gray-700/50 rounded-xl p-4 bg-gray-900/70 backdrop-blur-sm space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Correo electrónico*"}),e.jsx("input",{type:"email",name:"email",value:s.accountDetails.email,onChange:n,className:"w-full px-3 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm",placeholder:"Ej: usuario@ejemplo.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Contraseña*"}),e.jsx("input",{type:"text",name:"password",value:s.accountDetails.password,onChange:n,className:"w-full px-3 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm",placeholder:"Ej: contraseña123",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Perfil (opcional)"}),e.jsx("input",{type:"text",name:"profile",value:s.accountDetails.profile,onChange:n,className:"w-full px-3 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm",placeholder:"Ej: Perfil 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"PIN (opcional)"}),e.jsx("input",{type:"text",name:"pin",value:s.accountDetails.pin,onChange:n,className:"w-full px-3 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm",placeholder:"Ej: 1234"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{onClick:()=>t(!1),className:"px-4 py-2 bg-gray-900/70 text-gray-300 rounded-xl hover:bg-red-900/20 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{onClick:c,className:"px-6 py-2 bg-red-500 hover:bg-red-600 text-white font-medium rounded-xl transition-all duration-300",children:"Guardar Cambios"})]})]})})}):null,nV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState("inicio"),[o,u]=N.useState("Usuario"),[c,x]=N.useState(""),[p,w]=N.useState(""),[T,D]=N.useState([]),[A,O]=N.useState([]),[k,W]=N.useState([]),[V,Y]=N.useState(!0),[ie,ce]=N.useState(""),[pe,X]=N.useState({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:Array(1).fill({email:"",password:"",profile:"",pin:""})}),[ne,F]=N.useState(null),[h,Z]=N.useState(!1),[Q,ae]=N.useState(""),[oe,ee]=N.useState(""),[K,i]=N.useState({isOpen:!1,message:"",title:""}),[He,je]=N.useState({email:"",password:"",preferences:""}),[Ne,Ae]=N.useState(!1),[Ie,he]=N.useState(!0),[be,Ee]=N.useState(0),[We,Re]=N.useState(!1),[Ge,Le]=N.useState(null),[a,C]=N.useState(""),g=Qt(),z=xg(),U=(Ue,Xe)=>{i({isOpen:!0,title:Ue,message:Xe})},q=()=>{i({isOpen:!1,message:"",title:""})},de=Ue=>{if(!Ue)return"No especificada";try{const Xe=Ue instanceof Date?Ue:Ue?.toDate?.()||new Date(Ue);return isNaN(Xe.getTime())?"Fecha inválida":Xe.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(Xe){return console.error("Error formatting date:",Xe),"Fecha inválida"}},ue=Ue=>({netflix:"Netflix",spotify:"Spotify",disney:"Disney",max:"Max",primevideo:"Prime Video",vix:"Vix",crunchyroll:"Crunchyroll",canva:"Canva",chatgpt:"ChatGPT",redessociales:"Redes Sociales",dgo:"Dgo",ligamax:"Liga Max",movistarplay:"Movistar Play",youtube:"Youtube",deezer:"Deezer",tidal:"Tidal",vpn:"Vpn",wintv:"WinTv",applemusic:"Apple Music",appletv:"Apple TV",iptv:"Iptv",flujotv:"Flujo Tv",vikirakuten:"Viki Rakuten",pornhub:"Pornhub",paramount:"Paramount",licencias:"Licencias",capcut:"Capcut",duolingo:"Duolingo",buscapersonas:"BuscaPersonas"})[Ue?.toLowerCase()]||"Otro";N.useEffect(()=>{const Ue=tr(z,Xe=>{Xe?(x(Xe.email||""),w(Xe.uid),E(Xe.uid)):g("/login")});return()=>Ue()},[z,g]);const E=async Ue=>{try{const Xe=H($,"users",Ue),Dt=await yt(Xe);if(Dt.exists()){const xt=Dt.data();u(xt.username||"Usuario"),je({email:xt.email||"",password:"",preferences:xt.preferences||""})}Y(!1)}catch(Xe){ce("Error al cargar datos del usuario"),console.error("Error fetching user data:",Xe),Y(!1)}};N.useEffect(()=>{c&&(async Xe=>{try{const Dt=await yt(H($,"admins",Xe));Ae(Dt.exists())}catch(Dt){console.error("Error checking admin status:",Dt)}})(c)},[c]),N.useEffect(()=>{if(!o)return;const Ue=ke(se($,"products"),_e("provider","==",o)),Xe=$e(Ue,Dt=>{const xt=Dt.docs.map(Xt=>({id:Xt.id,...Xt.data()}));O(xt)},Dt=>{console.error("Error fetching products:",Dt),ce("Error al cargar productos")});return()=>Xe()},[o]),N.useEffect(()=>{if(!p)return;const Ue=ke(se($,"sales"),_e("providerId","==",p)),Xe=$e(Ue,xt=>{if(xt.empty){D([]),he(!1);return}const Xt=xt.docs.map(xr=>{const Wt=xr.data(),Fs=Wt.saleDate?.toDate?.()||Wt.createdAt?.toDate?.()||new Date;let ws=Wt.startDate?.toDate?.(),aa=ws||Fs,vr=!ws;const La=Wt.durationDays||30;let Kr;Wt.endDate?Kr=typeof Wt.endDate=="string"?new Date(Wt.endDate):Wt.endDate.toDate?.()||new Date(Wt.endDate):(Kr=new Date(aa.getTime()+La*24*60*60*1e3),vr=!0),vr&&Hr(H($,"sales",xr.id),{startDate:ws||br.fromDate(Fs),endDate:br.fromDate(Kr),durationDays:La}).catch(Ws=>{console.error("Error al actualizar startDate/endDate en Firestore:",Ws)});const Va=new Date,dn=Kr.getTime()-aa.getTime(),Vn=Va.getTime()-aa.getTime(),Hs=Kr.getTime()-Va.getTime(),un=Math.max(1,Math.ceil(dn/(1e3*60*60*24))),Ql=Math.max(0,Math.ceil(Hs/(1e3*60*60*24))),zn=Math.ceil(Vn/(1e3*60*60*24)),Eo=un>0?Math.min(100,zn/un*100):100;return{id:xr.id,productName:Wt.productName||"Producto sin nombre",category:Wt.type||"netflix",amount:parseFloat(Wt.price)||0,buyer:Wt.buyerName||Wt.customerName||"Comprador desconocido",buyerPhone:Wt.buyerPhone||"No especificado",buyerEmail:Wt.customerEmail||"No especificado",status:Wt.status||"completed",saleDate:Fs,startDate:aa,endDate:Kr,durationDays:La,daysRemaining:Ql,totalDays:un,timeElapsedPercentage:Eo,accountDetails:Wt.accountDetails||{email:"No disponible",password:"No disponible",profile:"N/A",pin:""},balance:parseFloat(Wt.price)||0}});D(Xt);const Ar=Xt.filter(xr=>xr.status==="completed"&&xr.accountDetails).map(xr=>({...xr.accountDetails,productName:xr.productName,saleDate:xr.saleDate,orderId:xr.id}));W(Ar),he(!1)},xt=>{console.error("Error fetching sales:",xt),ce("Error al cargar ventas"),he(!1)}),Dt=setInterval(()=>{D(xt=>xt.map(Xt=>{const Ar=new Date,xr=new Date(Xt.endDate).getTime()-new Date(Xt.startDate).getTime(),Wt=Ar.getTime()-new Date(Xt.startDate).getTime(),Oa=new Date(Xt.endDate).getTime()-Ar.getTime(),Fs=Math.max(1,Math.ceil(xr/(1e3*60*60*24))),ws=Math.max(0,Math.ceil(Oa/(1e3*60*60*24))),aa=Math.ceil(Wt/(1e3*60*60*24)),vr=Fs>0?Math.min(100,aa/Fs*100):100;return{...Xt,daysRemaining:ws,totalDays:Fs,timeElapsedPercentage:vr}}))},6e4);return()=>{Xe(),clearInterval(Dt)}},[p]),N.useEffect(()=>{if(!o)return;const Ue=H($,"providerBalances",o),Xe=$e(Ue,Dt=>{Dt.exists()?Ee(Dt.data().balance||0):(xo(Ue,{balance:0,provider:o,updatedAt:Me()}),Ee(0)),he(!1)},Dt=>{console.error("Error fetching provider balance:",Dt),ce("Error al cargar el saldo del proveedor"),he(!1)});return()=>Xe()},[o]);const M=async()=>{try{await Bm(z),g("/login")}catch(Ue){console.error("Error al cerrar sesión:",Ue),U("Error","Error al cerrar sesión")}},_=Ue=>{const{name:Xe,value:Dt,type:xt,checked:Xt}=Ue.target;X(Ar=>({...Ar,[Xe]:xt==="checkbox"?Xt:Dt}))},f=Ue=>{const{name:Xe,value:Dt}=Ue.target;je(xt=>({...xt,[Xe]:Dt}))},b=(Ue,Xe=!1)=>{const Dt=Ue.target.files[0];if(Dt){if(Dt.size>10485760){Xe?ae("La imagen no debe exceder los 10MB"):ce("La imagen no debe exceder los 10MB");return}const Xt=new FileReader;Xt.onloadend=()=>{Xe?F(Ar=>({...Ar,image:Xt.result})):X(Ar=>({...Ar,image:Xt.result}))},Xt.readAsDataURL(Dt)}},I=Ue=>{const Xe=parseInt(Ue.target.value)||1,Dt=pe.accounts||[];if(Xe>Dt.length){const xt=[...Dt];for(;xt.length<Xe;)xt.push({email:"",password:"",profile:"",pin:""});X({...pe,stock:Xe,accounts:xt})}else if(Xe<Dt.length){const xt=Dt.slice(0,Math.max(Xe,1));X({...pe,stock:Xe,accounts:xt})}else X({...pe,stock:Xe})},J=Ue=>{const Xe=parseInt(Ue.target.value)||1;let xt=[...ne.accounts||[]];if(Xe>xt.length)for(;xt.length<Xe;)xt.push({email:"",password:"",profile:"",pin:""});else Xe<xt.length&&(xt=xt.slice(0,Math.max(Xe,1)));F({...ne,stock:Xe,accounts:xt})},te=(Ue,Xe,Dt)=>{const xt=[...pe.accounts];xt[Ue]={...xt[Ue],[Xe]:Dt},X({...pe,accounts:xt})},xe=(Ue,Xe,Dt)=>{F(xt=>({...xt,accounts:xt.accounts.map((Xt,Ar)=>Ar===Ue?{...Xt,[Xe]:Dt}:Xt)}))},ye=Ue=>{const{name:Xe,value:Dt}=Ue.target;Le(xt=>({...xt,accountDetails:{...xt.accountDetails,[Xe]:Dt}}))},fe=async()=>{if(ce(""),!pe.name||!pe.price){U("Error","Por favor complete todos los campos obligatorios");return}if(pe.renewal&&!pe.renewalPrice){U("Error","Por favor ingrese el precio de renovación");return}if(pe.status==="En stock"&&pe.accounts.some(Xe=>!Xe.email||!Xe.password)){U("Error","Por favor complete todos los campos de las cuentas");return}try{const Ue={...pe,provider:o,providerId:p,providerPhone:pe.status==="En stock"?pe.providerPhone||"":pe.providerPhone||"No especificado",createdAt:Me(),availableAccounts:pe.status==="En stock"?pe.accounts.length:0},Xe=await wi(se($,"products"),Ue);if(pe.status==="En stock"){const Dt=se($,`products/${Xe.id}/accounts`);for(const xt of pe.accounts)await wi(Dt,{email:xt.email,password:xt.password,profile:xt.profile||"",pin:xt.pin||"",status:"available"})}X({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:[{email:"",password:"",profile:"",pin:""}]}),n("inventario"),U("Éxito","Producto subido exitosamente!")}catch(Ue){console.error("Error al subir el producto:",Ue),U("Error",`Error al subir el producto: ${Ue.message}`)}},le=async Ue=>{ae("");try{const Xe=ke(se($,"sales"),_e("providerId","==",p),_e("productName","==",Ue.name)),xt=(await Ft(Xe)).docs.filter(Wt=>Wt.data().status==="completed"&&Wt.data().accountDetails?.email).map(Wt=>Wt.data().accountDetails.email),Xt=se($,`products/${Ue.id}/accounts`),xr=(await Ft(Xt)).docs.filter(Wt=>Wt.data().status==="available").map(Wt=>({email:Wt.data().email||"",password:Wt.data().password||"",profile:Wt.data().profile||"",pin:Wt.data().pin||""}));F({id:Ue.id,name:Ue.name||"",image:Ue.image||"",category:Ue.category||"Netflix",accountType:Ue.accountType||"Premium",status:Ue.status||"En stock",stock:xr.length||Ue.stock||1,price:Ue.price||"",renewal:Ue.renewal||!1,renewalPrice:Ue.renewalPrice||"",duration:Ue.duration||"",providerPhone:Ue.providerPhone||"",details:Ue.details||"",terms:Ue.terms||"",providerId:Ue.providerId||p,accounts:Ue.status==="En stock"?xr.length>0?xr:Array(Math.max(Ue.stock||1,1)).fill({email:"",password:"",profile:"",pin:""}):[]}),Z(!0)}catch(Xe){console.error("Error al preparar edición del producto:",Xe),ae("Error al preparar edición del producto")}},Ce=async()=>{if(ae(""),!ne.name||!ne.price){ae("Por favor complete todos los campos obligatorios");return}if(ne.renewal&&!ne.renewalPrice){ae("Por favor ingrese el precio de renovación");return}if(ne.status==="En stock"&&ne.accounts.some(Xe=>!Xe.email||!Xe.password)){ae("Por favor complete todos los campos de las cuentas");return}try{const Ue=H($,"products",ne.id);if(await xo(Ue,{...ne,providerId:ne.providerId||p,availableAccounts:ne.status==="En stock"&&ne.accounts?.length||0},{merge:!0}),ne.status==="En stock"){const Xe=se($,`products/${ne.id}/accounts`),Dt=await Ft(Xe);for(const xt of Dt.docs)await Nu(xt.ref);for(const xt of ne.accounts)await wi(Xe,{email:xt.email,password:xt.password,profile:xt.profile||"",pin:xt.pin||"",status:"available"})}Z(!1),U("Éxito","Producto actualizado exitosamente!")}catch(Ue){console.error("Error al actualizar el producto:",Ue),ae("Error al actualizar el producto")}},qe=async Ue=>{try{await Nu(H($,"products",Ue)),U("Éxito","Producto eliminado exitosamente!")}catch(Xe){console.error("Error al eliminar el producto:",Xe),U("Error","Error al eliminar el producto")}},at=async Ue=>{try{await Nu(H($,"sales",Ue)),U("Éxito","Pedido eliminado exitosamente!")}catch(Xe){console.error("Error al eliminar el pedido:",Xe),U("Error","Error al eliminar el pedido")}},ze=async()=>{try{const Ue=z.currentUser;if(Ue){const Xe=H($,"users",Ue.uid);await xo(Xe,{preferences:He.preferences,...He.password&&{password:He.password}},{merge:!0}),U("Éxito","Configuración actualizada correctamente!")}}catch(Ue){console.error("Error al actualizar la configuración:",Ue),U("Error","Error al actualizar la configuración")}},$t=Ue=>{C(""),Le({...Ue,accountDetails:{email:Ue.accountDetails.email||"",password:Ue.accountDetails.password||"",profile:Ue.accountDetails.profile||"",pin:Ue.accountDetails.pin||""}}),Re(!0)},ct=async()=>{if(C(""),!Ge.accountDetails.email||!Ge.accountDetails.password){C("Por favor complete todos los campos obligatorios de la cuenta");return}try{const Ue=H($,"sales",Ge.id);await Hr(Ue,{accountDetails:Ge.accountDetails,updatedAt:Me()}),Re(!1),U("Éxito","Detalles de la cuenta actualizados exitosamente!")}catch(Ue){console.error("Error al actualizar los detalles de la cuenta:",Ue),C("Error al actualizar los detalles de la cuenta")}},dt=async Ue=>{try{const Xe=H($,"sales",Ue);await Hr(Xe,{status:"completed",updatedAt:Me()}),U("Éxito","Pedido activado exitosamente!")}catch(Xe){console.error("Error al activar el pedido:",Xe),U("Error","Error al activar el pedido")}},Qe=Ie?0:T.reduce((Ue,Xe)=>Ue+(Xe.amount||0),0),ut=A.reduce((Ue,Xe)=>Ue+(parseInt(Xe.stock)||0),0),pt=()=>{if(V)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-400"})});if(ie)return e.jsxs("div",{className:"bg-black/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(mt,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:ie}),e.jsx("button",{onClick:()=>ce(""),className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Aceptar"})]});switch(s){case"inicio":return e.jsx(ZL,{username:o,products:A,orders:T,providerBalance:be,balanceLoading:Ie,totalStock:ut,totalEarnings:Qe,isAdmin:Ne,email:c,setActiveSection:n,formatDate:de});case"inventario":return e.jsx(YL,{products:A,setActiveSection:n,handleEdit:le,handleDelete:qe,getCategoryDisplayName:ue,totalStock:ut});case"cuentas":return e.jsx(XL,{soldAccounts:k,formatDate:de});case"subirProducto":return e.jsx(JL,{product:pe,setProduct:X,handleChange:_,handleFileChange:b,handleStockChange:I,handleAccountFieldChange:te,handleSubmit:fe,setActiveSection:n});case"ganancias":return e.jsx(eV,{orders:T,totalEarnings:Qe,providerBalance:be,balanceLoading:Ie,getCategoryDisplayName:ue,formatDate:de});case"pedidos":return e.jsx(tV,{orders:T,searchQuery:oe,setSearchQuery:ee,getCategoryDisplayName:ue,formatDate:de,handleEditOrder:$t,handleActivateOrder:dt,handleDeleteOrder:at});case"configuracion":return e.jsx(rV,{accountDetails:He,handleAccountChange:f,handleUpdateAccount:ze});default:return e.jsxs("div",{className:"bg-black/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(mt,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),e.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Volver al inicio"})]})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-black to-gray-900 text-gray-200",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>t(!r),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:e.jsx(dr,{className:"text-xl"})})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${r?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("button",{onClick:()=>{g("/"),t(!1)},className:"text-xl font-bold text-red-400 hover:text-red-300 transition-all duration-300",children:"SZ Streaming"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:e.jsx(Ot,{className:"text-lg"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500 flex items-center justify-center text-white font-bold",children:o.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:o}),e.jsx("p",{className:"text-xs text-gray-400",children:Ne?"Admin":"Proveedor"})]})]}),e.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Qm},{id:"inventario",label:"Inventario",icon:mm},{id:"cuentas",label:"Cuentas Vendidas",icon:Xp},{id:"pedidos",label:"Pedidos",icon:Ht},{id:"ganancias",label:"Ganancias",icon:rs},{id:"subirProducto",label:"Subir Producto",icon:SL},{id:"configuracion",label:"Configuración",icon:Ud}].map(Ue=>e.jsxs("button",{onClick:()=>{n(Ue.id),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${s===Ue.id?"bg-red-500/20 text-red-400 border border-red-500/50":"text-gray-300 hover:bg-gray-800/50 hover:text-red-400"}`,children:[e.jsx(Ue.icon,{className:"text-lg"}),e.jsx("span",{children:Ue.label})]},Ue.id))}),e.jsx("div",{className:"mt-auto pt-6",children:e.jsxs("button",{onClick:M,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-red-900/20 rounded-xl transition-all duration-300 border border-red-900/50",children:[e.jsx(Zt,{className:"text-lg"}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})}),e.jsx("main",{className:"md:ml-64 p-4 sm:p-6 min-h-screen",children:pt()}),e.jsx(KL,{isOpen:K.isOpen,title:K.title,message:K.message,onClose:q}),e.jsx(sV,{editModalOpen:h,setEditModalOpen:Z,selectedProduct:ne,setSelectedProduct:F,editError:Q,setEditError:ae,handleFileChange:b,handleEditStockChange:J,handleEditAccountFieldChange:xe,handleUpdateProduct:Ce}),e.jsx(aV,{editOrderModalOpen:We,setEditOrderModalOpen:Re,selectedOrder:Ge,handleOrderAccountChange:ye,editOrderError:a,setEditOrderError:C,handleUpdateOrder:ct}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>t(!1)})]})},iV=()=>{const[r,t]=N.useState(""),[s,n]=N.useState(""),[o,u]=N.useState(0),[c,x]=N.useState([]),[p,w]=N.useState([]),[T,D]=N.useState([]),[A,O]=N.useState([]),[k,W]=N.useState([]),[V,Y]=N.useState(0),[ie,ce]=N.useState({day:0,week:0,month:0,total:0}),[pe,X]=N.useState(!0),[ne,F]=N.useState(null),h=Qt();N.useEffect(()=>{const ae=tr(ot,oe=>{oe?(n(oe.email),Z(oe.uid),X(!1)):h("/login")});return()=>ae()},[h]);const Z=async ae=>{try{const oe=H($,"users",ae),ee=await yt(oe);if(ee.exists()){const K=ee.data();t(K.username||K.email.split("@")[0])}else F("Usuario no encontrado en la base de datos")}catch(oe){console.error("Error al obtener el nombre de usuario:",oe),F("Error al cargar datos del usuario")}},Q=ae=>{const ee=ae*5,K=ee*.25,i=ee*.05;ce({day:i,week:K,month:ee,total:ee})};return N.useEffect(()=>{(async()=>{try{const je=await Ft(se($,"users")),Ne=je.size,Ae=je.docs.map(C=>({id:C.id,...C.data()}));u(Ne),x(Ae.slice(-5)),Q(Ne);const Ie=ke(se($,"pendingRegistrations"),_e("status","==","pending")),he=await Ft(Ie);w(he.docs.map(C=>({id:C.id,...C.data()})));const be=ke(se($,"pendingTopUps"),_e("status","==","pendiente")),Ee=await Ft(be);D(Ee.docs.map(C=>({id:C.id,...C.data()})));const We=ke(se($,"withdrawals"),_e("status","==","pending")),Re=await Ft(We);O(Re.docs.map(C=>({id:C.id,...C.data()})));const Le=(await Ft(se($,"sales"))).docs.map(C=>({id:C.id,...C.data()}));W(Le);const a=Le.reduce((C,g)=>C+(g.price||0),0);Y(a)}catch(je){console.error("Error al obtener datos:",je),F("Error al cargar datos")}})();const oe=$e(se($,"users"),je=>{const Ne=je.size,Ae=je.docs.map(Ie=>({id:Ie.id,...Ie.data()}));u(Ne),x(Ae.slice(-5)),Q(Ne)}),ee=$e(ke(se($,"pendingRegistrations"),_e("status","==","pending")),je=>{w(je.docs.map(Ne=>({id:Ne.id,...Ne.data()})))}),K=$e(ke(se($,"pendingTopUps"),_e("status","==","pendiente")),je=>{D(je.docs.map(Ne=>({id:Ne.id,...Ne.data()})))}),i=$e(ke(se($,"withdrawals"),_e("status","==","pending")),je=>{O(je.docs.map(Ne=>({id:Ne.id,...Ne.data()})))}),He=$e(se($,"sales"),je=>{const Ne=je.docs.map(Ie=>({id:Ie.id,...Ie.data()}));W(Ne);const Ae=Ne.reduce((Ie,he)=>Ie+(he.price||0),0);Y(Ae)});return()=>{oe(),ee(),K(),i(),He()}},[]),pe?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})}):ne?e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(mt,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:ne}),e.jsx("button",{onClick:()=>F(null),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]}):e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-cyan-400",children:r})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ml,{className:"mr-2"})," Total Usuarios"]}),e.jsx("p",{className:"text-3xl font-bold text-white",children:o}),e.jsx("button",{className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",onClick:()=>h("/usuarios"),children:"Ver usuarios"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ht,{className:"mr-2"})," Total Ventas"]}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",V.toFixed(2)]}),e.jsx("button",{className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",onClick:()=>h("/pedidos"),children:"Ver ventas"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-700/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(rs,{className:"mr-2"})," Ganancias del Mes"]}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",ie.month.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"(5 soles por usuario)"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Últimos Usuarios"}),c.length>0?c.map(ae=>e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:ae.username||"Sin nombre"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-cyan-900/80 text-cyan-400",children:ae.role||"usuario"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:ae.email})]},ae.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay usuarios registrados"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Solicitudes Pendientes"}),p.length>0?p.slice(0,3).map(ae=>e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:ae.username||"Sin nombre"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-purple-900/80 text-purple-400",children:ae.role||"usuario"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:ae.email})]},ae.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay solicitudes pendientes"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Retiros Pendientes"}),A.length>0?A.slice(0,3).map(ae=>e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:ae.provider||"Sin proveedor"}),e.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-900/80 text-yellow-400",children:["S/ ",(ae.amount||0).toFixed(2)]})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Método: ",ae.method||"No especificado"]})]},ae.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay retiros pendientes"})]})]})]})},oV=({notificationForm:r={message:"",roles:{user:!1,affiliate:!1,provider:!1,admin:!1}},setNotificationForm:t=()=>{},handleNotificationSubmit:s=()=>{},actionLoading:n={notification:!1}})=>{const o=r.roles||{user:!1,affiliate:!1,provider:!1,admin:!1},u=Object.values(o).some(c=>c);return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:["Enviar ",e.jsx("span",{className:"text-red-400",children:"Notificación"})]}),e.jsxs("form",{onSubmit:s,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Mensaje de la Notificación"}),e.jsx("textarea",{value:r.message||"",onChange:c=>t({...r,message:c.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all resize-y",rows:"5",placeholder:"Escribe el mensaje para los usuarios...",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Enviar a los siguientes roles"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:["user","affiliate","provider","admin"].map(c=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:o[c]||!1,onChange:x=>t({...r,roles:{...o,[c]:x.target.checked}}),className:"h-4 w-4 text-red-400 focus:ring-red-400 border-gray-600 rounded"}),e.jsx("span",{className:"text-gray-300 capitalize",children:c})]},c))})]}),e.jsx("button",{type:"submit",disabled:n.notification||!u,className:"w-full py-3 px-4 bg-red-500 hover:bg-red-600 text-white rounded-xl font-medium transition-all duration-300 disabled:bg-red-800",children:n.notification?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Enviar Notificación"}),!u&&e.jsx("p",{className:"text-red-400 text-sm text-center",children:"Selecciona al menos un rol para enviar la notificación"})]})]})},$1=[{value:"user",label:"Usuario"},{value:"affiliate",label:"Afiliador"},{value:"provider",label:"Proveedor"},{value:"admin",label:"Administrador"}],lV=r=>{const t=$1.find(s=>s.value===r);return t?t.label:r},cV=({isOpen:r,user:t,onClose:s,onSave:n,loading:o})=>{const[u,c]=N.useState(t?.balance||0),[x,p]=N.useState("");N.useEffect(()=>{c(t?.balance||0),p("")},[t]);const w=T=>{if(T.preventDefault(),p(""),isNaN(u)||u<0){p("Por favor, ingrese un saldo válido (número no negativo).");return}n(t.id,parseFloat(u))};return!r||!t?null:e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-white",children:["Editar Saldo de ",t.username]}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-all duration-300",children:"✕"})]}),e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nuevo Saldo (S/)"}),e.jsx("input",{type:"number",value:u,onChange:T=>c(T.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all",min:"0",step:"0.01",required:!0}),x&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:x})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:o?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar"})]})]})]})})})},dV=({isOpen:r,user:t,onClose:s,onSave:n,loading:o})=>{const[u,c]=N.useState(t?.role||"user");return N.useEffect(()=>{c(t?.role||"user")},[t]),!r||!t?null:e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-white",children:["Cambiar Rol de ",t.username]}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-all duration-300",children:"✕"})]}),e.jsxs("form",{onSubmit:x=>{x.preventDefault(),n(t.id,u)},children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nuevo Rol"}),e.jsx("select",{value:u,onChange:x=>c(x.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all",children:$1.map(x=>e.jsx("option",{value:x.value,children:x.label},x.value))})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:o?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar"})]})]})]})})})},uV=()=>{const[r,t]=N.useState([]),[s,n]=N.useState(""),[o,u]=N.useState({isOpen:!1,user:null}),[c,x]=N.useState({isOpen:!1,user:null}),[p,w]=N.useState(!0),[T,D]=N.useState({}),[A,O]=N.useState(null);N.useEffect(()=>{(async()=>{w(!0);try{const ne=(await Ft(se($,"users"))).docs.map(F=>({id:F.id,...F.data()}));t(ne)}catch(X){O("No se pudieron obtener los usuarios: "+X.message)}w(!1)})()},[]);const k=pe=>u({isOpen:!0,user:pe}),W=()=>u({isOpen:!1,user:null}),V=pe=>x({isOpen:!0,user:pe}),Y=()=>x({isOpen:!1,user:null}),ie=async(pe,X)=>{D(ne=>({...ne,[`balance_${pe}`]:!0}));try{const ne=H($,"users",pe);await Hr(ne,{balance:X}),t(F=>F.map(h=>h.id===pe?{...h,balance:X}:h)),W()}catch(ne){O("Error al actualizar saldo: "+ne.message)}D(ne=>({...ne,[`balance_${pe}`]:!1}))},ce=async(pe,X)=>{D(ne=>({...ne,[`role_${pe}`]:!0}));try{const ne=H($,"users",pe);await Hr(ne,{role:X}),t(F=>F.map(h=>h.id===pe?{...h,role:X}:h)),Y()}catch(ne){O("Error al actualizar rol: "+ne.message)}D(ne=>({...ne,[`role_${pe}`]:!1}))};return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:["Lista de ",e.jsx("span",{className:"text-red-400",children:"Usuarios"})," (",r.length,")"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar usuarios...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm placeholder-gray-500",value:s,onChange:pe=>n(pe.target.value)}),e.jsx(Vc,{className:"absolute right-3 top-2.5 text-red-400"})]})]}),p?e.jsx("div",{className:"flex justify-center items-center h-40",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-400"})}):A?e.jsx("div",{className:"text-center text-red-500 py-4",children:A}):r.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(it,{})," Usuario"]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Km,{})," Email"]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Ml,{})," Rol"]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(rs,{})," Saldo"]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:r.filter(pe=>(pe.username||"").toLowerCase().includes(s.toLowerCase())||(pe.email||"").toLowerCase().includes(s.toLowerCase())).map(pe=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:pe.username||"Sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:pe.email}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-900/80 text-red-400",children:lV(pe.role)}),e.jsx("button",{onClick:()=>V(pe),disabled:T[`role_${pe.id}`],className:"ml-2 p-1 bg-red-700 hover:bg-red-800 text-red-200 rounded-xl transition-all duration-300 disabled:bg-red-900",title:"Editar Rol",children:e.jsx(Jp,{size:14})})]}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",(pe.balance||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>k(pe),disabled:T[`balance_${pe.id}`],className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-xl transition-all duration-300 disabled:bg-red-800",title:"Editar Saldo",children:e.jsx(Jp,{size:16})})})]},pe.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ml,{className:"mx-auto text-4xl text-red-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay usuarios registrados"})]})]}),e.jsx(cV,{isOpen:o.isOpen,user:o.user,onClose:W,onSave:ie,loading:T[`balance_${o.user?.id}`]}),e.jsx(dV,{isOpen:c.isOpen,user:c.user,onClose:Y,onSave:ce,loading:T[`role_${c.user?.id}`]})]})},mV=({isOpen:r,message:t,title:s,onClose:n})=>r?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:s}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(Ot,{size:20})})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:t}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,xV=()=>{const[r,t]=N.useState([]),[s,n]=N.useState([]),[o,u]=N.useState({}),[c,x]=N.useState({isOpen:!1,message:"",title:""}),p=(O,k)=>{x({isOpen:!0,title:O,message:k})},w=()=>{x({isOpen:!1,message:"",title:""})},T=O=>{if(!O)return"No especificada";try{const k=O.toDate?O.toDate():new Date(O);return isNaN(k.getTime())?"Fecha inválida":k.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}};N.useEffect(()=>{const O=$e(ke(se($,"pendingTopUps"),_e("status","==","pendiente")),W=>{t(W.docs.map(V=>({id:V.id,...V.data()})))}),k=$e(se($,"topUpsHistory"),W=>{n(W.docs.map(V=>({id:V.id,...V.data()})))});return()=>{O(),k()}},[]);const D=async O=>{try{u(Y=>({...Y,[O]:!0}));const k=H($,"pendingTopUps",O),W=r.find(Y=>Y.id===O);if(!W?.userId)throw new Error("Usuario no encontrado para la recarga");await Hr(k,{status:"aprobado",updatedAt:Me()});const V=H($,"users",W.userId);await Hr(V,{balance:kt(W.amount||0)}),await xo(H($,"topUpsHistory",O),{...W,status:"aprobado",updatedAt:Me()}),p("Éxito","Recarga aprobada exitosamente")}catch(k){console.error("Error al aprobar recarga:",k),p("Error",k.message||"Error al aprobar la recarga")}finally{u(k=>({...k,[O]:!1}))}},A=async O=>{try{u(V=>({...V,[O]:!0}));const k=H($,"pendingTopUps",O);await Hr(k,{status:"rechazado",updatedAt:Me()});const W=r.find(V=>V.id===O);await xo(H($,"topUpsHistory",O),{...W,status:"rechazado",updatedAt:Me()}),p("Éxito","Recarga rechazada exitosamente")}catch(k){console.error("Error al rechazar recarga:",k),p("Error",k.message||"Error al rechazar la recarga")}finally{u(k=>({...k,[O]:!1}))}};return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Recargas pendientes"}),r.length>0?e.jsx("div",{className:"space-y-4",children:r.map(O=>e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-cyan-900/80 rounded-full flex items-center justify-center text-cyan-400",children:e.jsx(rs,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:O.username||"Sin nombre"}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Solicitado: ",T(O.requestedAt)]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-lg font-medium text-white",children:["S/ ",(O.amount||0).toFixed(2)]})})]}),e.jsx("div",{className:"p-4 bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:()=>D(O.id),disabled:o[O.id],className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 disabled:bg-green-800 transition-all duration-300",children:o[O.id]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(S1,{size:18})," Aprobar Recarga"]})}),e.jsx("button",{onClick:()=>A(O.id),disabled:o[O.id],className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 disabled:bg-red-800 transition-all duration-300",children:o[O.id]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(Ot,{size:18})," Rechazar Recarga"]})})]})})]},O.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(rs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay recargas pendientes"}),e.jsx("p",{className:"text-gray-400",children:"Todas las solicitudes han sido procesadas"})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de recargas"}),s.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:s.map(O=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:O.username||"Sin nombre"}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",(O.amount||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${O.status==="aprobado"?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:O.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:T(O.updatedAt)})]},O.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(rs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay historial de recargas"})]})]}),e.jsx(mV,{isOpen:c.isOpen,title:c.title,message:c.message,onClose:w})]})},hV=({withdrawals:r,formatDate:t,actionLoading:s,setActionLoading:n,showNotificationModal:o})=>{const u=async(c,x)=>{try{n(w=>({...w,[c]:!0}));const p=H($,"withdrawals",c);await Hr(p,{status:x==="approve"?"completed":"rejected",updatedAt:Me()}),o("Éxito",`Retiro ${x==="approve"?"aprobado":"rechazado"} exitosamente`)}catch(p){o("Error",p.message||`Error al ${x==="approve"?"aprobar":"rechazar"} el retiro`)}finally{n(p=>({...p,[c]:!1}))}};return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Retiros ",e.jsx("span",{className:"text-red-400",children:"Pendientes"})]}),r.length===0?e.jsxs("div",{className:"text-center text-gray-300 py-8",children:[e.jsx(rs,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("p",{children:"No hay retiros pendientes"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-600/50",children:[e.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Usuario"}),e.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Monto"}),e.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Fecha"}),e.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Acciones"})]})}),e.jsx("tbody",{children:r.map(c=>e.jsxs("tr",{className:"border-b border-gray-700/50 hover:bg-gray-700/30 transition-all duration-300",children:[e.jsx("td",{className:"py-3 px-4",children:c.userEmail||"No especificado"}),e.jsxs("td",{className:"py-3 px-4",children:["S/ ",c.amount?.toFixed(2)||"0.00"]}),e.jsx("td",{className:"py-3 px-4",children:t(c.createdAt)}),e.jsxs("td",{className:"py-3 px-4 flex space-x-2",children:[e.jsxs("button",{onClick:()=>u(c.id,"approve"),disabled:s[c.id],className:`px-3 py-1 rounded-xl text-white flex items-center space-x-1 transition-all duration-300 ${s[c.id]?"bg-gray-600 cursor-not-allowed":"bg-green-500 hover:bg-green-600"}`,children:[e.jsx(S1,{}),e.jsx("span",{children:"Aprobar"})]}),e.jsxs("button",{onClick:()=>u(c.id,"reject"),disabled:s[c.id],className:`px-3 py-1 rounded-xl text-white flex items-center space-x-1 transition-all duration-300 ${s[c.id]?"bg-gray-600 cursor-not-allowed":"bg-red-500 hover:bg-red-600"}`,children:[e.jsx(Ot,{}),e.jsx("span",{children:"Rechazar"})]})]})]},c.id))})]})})]})},pV=({sales:r,totalSales:t,formatDate:s,getOrderStatus:n})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Ventas General"}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center mb-6 border border-gray-600/50",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Total Ventas"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",t.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:"Suma de todos los pedidos realizados"})]}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de Pedidos"}),r.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Nombre del Producto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Precio"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Proveedor"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario Comprador"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:r.map(o=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:o.productName||"Sin nombre"}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",(o.price||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:o.provider||"Sin proveedor"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:o.buyer||"Sin comprador"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:s(o.createdAt)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${n(o)==="Pendiente"?"bg-yellow-900/80 text-yellow-400":n(o)==="Activo"?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:n(o)})})]},o.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ht,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay pedidos registrados"})]})]}),fV=({earnings:r,totalUsers:t})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Ganancias"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-2 flex items-center",children:[e.jsx(mo,{className:"mr-2"})," Ganancias Diarias"]}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["S/ ",r.day.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Estimado por día"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-2 flex items-center",children:[e.jsx(mo,{className:"mr-2"})," Ganancias Semanales"]}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["S/ ",r.week.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Estimado por semana"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-2 flex items-center",children:[e.jsx(mo,{className:"mr-2"})," Ganancias Mensuales"]}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["S/ ",r.month.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Estimado por mes"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-2 flex items-center",children:[e.jsx(mo,{className:"mr-2"})," Ganancias Totales"]}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["S/ ",r.total.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Total acumulado"})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Resumen"}),e.jsxs("p",{className:"text-gray-300",children:["Total de usuarios registrados: ",e.jsx("span",{className:"font-medium text-white",children:t})]}),e.jsxs("p",{className:"text-gray-300 mt-1",children:["Ganancia por usuario: ",e.jsx("span",{className:"font-medium text-white",children:"S/ 5.00"})]}),e.jsx("p",{className:"text-gray-300 mt-1",children:"Las ganancias se calculan asumiendo S/ 5.00 por cada usuario registrado. Las estimaciones diarias y semanales son proporciones del total (5% y 25%, respectivamente)."})]})]}),gV=({userName:r,setUserName:t,email:s,handleSaveChanges:n,handleLogout:o,actionLoading:u})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuración"}),e.jsxs("form",{onSubmit:n,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center",children:[e.jsx(it,{className:"mr-2 text-cyan-400"})," Nombre de usuario"]}),e.jsx("input",{type:"text",value:r,onChange:c=>t(c.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",placeholder:"Ingresa tu nombre de usuario",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center",children:[e.jsx(Km,{className:"mr-2 text-cyan-400"})," Correo electrónico"]}),e.jsx("input",{type:"email",value:s,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"El correo no puede ser modificado."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center",children:[e.jsx(Yg,{className:"mr-2 text-cyan-400"})," Nueva contraseña (opcional)"]}),e.jsx("input",{type:"password",name:"password",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",placeholder:"Ingresa una nueva contraseña"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Mínimo 6 caracteres. Déjalo en blanco para no cambiarla."})]}),e.jsx("button",{type:"submit",disabled:u.config,className:"w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium transition-all duration-300 disabled:bg-cyan-800",children:u.config?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar Cambios"})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:o,className:"w-full py-3 px-4 bg-red-600 hover:bg-red-700 text-white rounded-xl font-medium transition-all duration-300 flex items-center justify-center gap-2",children:[e.jsx(Zt,{size:18})," Cerrar Sesión"]})})]}),yV=({isOpen:r,message:t,title:s,onClose:n})=>r?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:s}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(Ot,{size:20})})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:t}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,bV=({isOpen:r,user:t,onClose:s,onSave:n})=>{const[o,u]=N.useState(t?.balance||0),[c,x]=N.useState(""),p=w=>{if(w.preventDefault(),x(""),isNaN(o)||o<0){x("Por favor, ingrese un saldo válido (número no negativo).");return}n(t.id,parseFloat(o))};return r?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-white",children:["Editar Saldo de ",t.username]}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(Ot,{size:20})})]}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nuevo Saldo (S/)"}),e.jsx("input",{type:"number",value:o,onChange:w=>u(w.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",min:"0",step:"0.01",required:!0}),c&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:c})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},vV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState("inicio"),[o,u]=N.useState(""),[c,x]=N.useState(""),[p,w]=N.useState([]),[T,D]=N.useState([]),[A,O]=N.useState([]),[k,W]=N.useState([]),[V,Y]=N.useState([]),[ie,ce]=N.useState(0),[pe,X]=N.useState(0),[ne,F]=N.useState(0),[h,Z]=N.useState(0),[Q,ae]=N.useState({day:0,week:0,month:0,total:0}),[oe,ee]=N.useState(!0),[K,i]=N.useState(null),[He,je]=N.useState({}),[Ne,Ae]=N.useState({isOpen:!1,message:"",title:""}),[Ie,he]=N.useState({isOpen:!1,user:null}),be=Qt();N.useEffect(()=>{const q=tr(ot,de=>{de?(x(de.email||"No especificado"),ee(!1)):be("/login")});return()=>q()},[be]),N.useEffect(()=>{const q=H($,"users",ot.currentUser?.uid),de=$e(q,ue=>{if(ue.exists()){const E=ue.data();u(E.username||"Admin")}else i("Usuario no encontrado")},ue=>{i("Error al cargar datos del usuario: "+ue.message)});return()=>de()},[]),N.useEffect(()=>{const q=se($,"users"),de=se($,"sales"),ue=ke(se($,"pendingTopUps"),_e("status","==","pendiente")),E=ke(se($,"withdrawals"),_e("status","==","pendiente")),M=$e(q,I=>{const J=I.docs.map(te=>({id:te.id,...te.data()}));w(J),ce(J.length)}),_=$e(de,I=>{const J=I.docs.map(xe=>({id:xe.id,...xe.data()}));D(J);const te=J.reduce((xe,ye)=>xe+(parseFloat(ye.price)||0),0);X(te)}),f=$e(ue,I=>{const J=I.docs.map(te=>({id:te.id,...te.data()}));O(J),F(J.length)}),b=$e(E,I=>{const J=I.docs.map(te=>({id:te.id,...te.data()}));W(J),Z(J.length)});return()=>{M(),_(),f(),b()}},[]),N.useEffect(()=>{const q=$e(H($,"notifications","adminMessage"),de=>{if(de.exists()){const ue=de.data();Y([{id:de.id,...ue}])}else Y([])},de=>{i("Error al cargar notificaciones: "+de.message)});return()=>q()},[]),N.useEffect(()=>{const q=ie*5;ae({day:q*.05,week:q*.25,month:q,total:q})},[ie]);const Ee=(q,de)=>{Ae({isOpen:!0,title:q,message:de})},We=()=>{Ae({isOpen:!1,message:"",title:""})},Re=q=>{he({isOpen:!0,user:q})},Ge=()=>{he({isOpen:!1,user:null})},Le=async(q,de)=>{try{je(E=>({...E,balance:!0}));const ue=H($,"users",q);await Hr(ue,{balance:de,updatedAt:Me()}),Ee("Éxito","Saldo actualizado exitosamente"),Ge()}catch(ue){Ee("Error",ue.message||"Error al actualizar el saldo")}finally{je(ue=>({...ue,balance:!1}))}},a=async q=>{q.preventDefault();try{je(M=>({...M,config:!0}));const de=q.target.password.value,ue=H($,"users",ot.currentUser.uid),E={username:o,updatedAt:Me()};if(de){if(de.length<6){Ee("Error","La contraseña debe tener al menos 6 caracteres");return}await dg(ot.currentUser,de)}await Hr(ue,E),Ee("Éxito","Cambios guardados correctamente"),q.target.reset()}catch(de){Ee("Error",de.message||"Error al guardar los cambios")}finally{je(de=>({...de,config:!1}))}},C=async()=>{try{await Bm(ot),be("/")}catch(q){Ee("Error",q.message||"Error al cerrar sesión")}},g=q=>{if(!q)return"No especificada";try{const de=q instanceof Date?q:new Date(q);return isNaN(de.getTime())?"Fecha inválida":de.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},z=q=>{const de=q.endDate?.toDate?.()||new Date,ue=new Date;return q.status==="pending"?"Pendiente":de>ue&&q.status==="completed"?"Activo":"Expirado"},U=()=>{if(oe)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-400"})});if(K)return e.jsxs("div",{className:"bg-black/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(mt,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:K}),e.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Aceptar"})]});switch(s){case"inicio":return e.jsx(iV,{totalUsers:ie,totalSales:pe,pendingTopUps:ne,pendingWithdrawals:h});case"notificaciones":return e.jsx(oV,{notifications:V,formatDate:g});case"usuarios":return e.jsx(uV,{users:p,openEditBalanceModal:Re});case"recargas":return e.jsx(xV,{topUps:A,formatDate:g,actionLoading:He,setActionLoading:je,showNotificationModal:Ee});case"retiros":return e.jsx(hV,{withdrawals:k,formatDate:g,actionLoading:He,setActionLoading:je,showNotificationModal:Ee});case"pedidos":return e.jsx(pV,{sales:T,totalSales:pe,formatDate:g,getOrderStatus:z});case"ganancias":return e.jsx(fV,{earnings:Q,totalUsers:ie});case"configuracion":return e.jsx(gV,{userName:o,setUserName:u,email:c,handleSaveChanges:a,handleLogout:C,actionLoading:He});default:return e.jsxs("div",{className:"bg-black/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(mt,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),e.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Volver al inicio"})]})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-black to-gray-900 text-gray-200",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>t(!r),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:e.jsx(dr,{className:"text-xl"})})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${r?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("button",{onClick:()=>{be("/"),t(!1)},className:"text-xl font-bold text-red-400 hover:text-red-300 transition-all duration-300",children:"SZ Streaming"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:e.jsx(Ot,{className:"text-lg"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500 flex items-center justify-center text-white font-bold",children:o.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:o}),e.jsx("p",{className:"text-xs text-gray-400",children:"Administrador"})]})]}),e.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Qm},{id:"notificaciones",label:"Notificaciones",icon:Rl},{id:"usuarios",label:"Usuarios",icon:Ml},{id:"recargas",label:"Recargas",icon:rs},{id:"retiros",label:"Retiros",icon:rs},{id:"pedidos",label:"Pedidos",icon:Ht},{id:"ganancias",label:"Ganancias",icon:mo},{id:"configuracion",label:"Configuración",icon:Ud}].map(q=>e.jsxs("button",{onClick:()=>{n(q.id),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${s===q.id?"bg-red-500/20 text-red-400 border border-red-500/50":"text-gray-300 hover:bg-gray-800/50 hover:text-red-400"}`,children:[e.jsx(q.icon,{className:"text-lg"}),e.jsx("span",{children:q.label})]},q.id))}),e.jsx("div",{className:"mt-auto pt-6",children:e.jsxs("button",{onClick:C,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-red-900/20 rounded-xl transition-all duration-300 border border-red-900/50",children:[e.jsx(Zt,{className:"text-lg"}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})}),e.jsx("main",{className:"md:ml-64 p-4 sm:p-6 min-h-screen",children:U()}),e.jsx(yV,{isOpen:Ne.isOpen,title:Ne.title,message:Ne.message,onClose:We}),e.jsx(bV,{isOpen:Ie.isOpen,user:Ie.user,onClose:Ge,onSave:Le}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>t(!1)})]})},A1=N.createContext({theme:"dark",toggleTheme:()=>{}}),jV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(A1.Provider,{value:{theme:t,toggleTheme:n},children:r})},wV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(A1),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Netflix")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,netflix:_.length}))},E=>{O("Error al cargar productos de Netflix"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"netflix_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"netflix"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"netflix"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Netflix`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Netflix...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1522869635100-9f4c5e86aa37?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Netflix"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de tus series y películas favoritas con nuestras cuentas premium de Netflix"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:13}),Le(a.duration)]})]}),e.jsx("h3",{className:"font-extrabold text-lg text-white mb-2 truncate leading-tight drop-shadow",children:a.name}),e.jsxs("div",{className:"flex items-center gap-1 mb-1.5",children:[Ne(oe[a.providerId]||1),e.jsx("span",{className:`ml-1 text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:(oe[a.providerId]||1).toFixed(1)})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:`flex items-center text-xs ${i==="dark"?"text-gray-300":"text-gray-600"} gap-1`,children:[e.jsx(Xg,{className:"text-red-500",size:13}),a.provider]}),e.jsxs("span",{className:`flex items-center text-xs ${i==="dark"?"text-gray-400":"text-gray-600"} gap-1`,children:[e.jsx(Zg,{className:"text-red-500",size:13}),a.status]})]}),e.jsx("div",{className:"flex items-center mb-2",children:e.jsx("div",{className:"flex items-center mb-2",children:a.renewal?e.jsxs("span",{className:"text-green-500 text-xs font-medium",children:["Renovación S/ ",je(a.renewalPrice)]}):e.jsx("span",{className:"text-yellow-500 text-xs font-medium",children:"Sin renovación"})})}),e.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[e.jsx("div",{className:"flex items-end justify-between mb-2",children:e.jsxs("span",{className:"text-white font-bold text-xl tracking-tight drop-shadow",children:["S/ ",je(a.price)]})}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${i==="dark"?"bg-gray-800/60 hover:bg-red-500/20":"bg-gray-200/60 hover:bg-red-600/20"} text-gray-100 transition-all border border-red-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[e.jsx(mr,{className:"text-red-500",size:14}),e.jsx("span",{children:"Detalles"})]}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${i==="dark"?"bg-gray-800/60 hover:bg-red-500/20":"bg-gray-200/60 hover:bg-red-600/20"} text-gray-100 transition-all border border-red-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[e.jsx(tt,{className:"text-red-500",size:14}),e.jsx("span",{children:"Términos"})]})]}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`w-full py-2 px-3 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 shadow-lg transition-all duration-200 ${Number(a.stock)>0||a.status==="A pedido"?"bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800 text-white":"bg-gray-800/60 text-gray-400 cursor-not-allowed"}`,disabled:Number(a.stock)<=0&&a.status!=="A pedido",children:[e.jsx(Ht,{size:16}),a.status==="A pedido"?"Pedir Ahora":"Comprar"]})]})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("p",{className:`text-gray-300 mb-4 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Estás a punto de comprar"," ",e.jsx("span",{className:"font-semibold text-white",children:k.product.name})," ","por"," ",e.jsxs("span",{className:"font-semibold text-white",children:["S/ ",je(k.product.price)]}),"."]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"} mb-1`,children:"Nombre"}),e.jsxs("div",{className:"relative",children:[e.jsx(it,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,placeholder:"Tu nombre"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"} mb-1`,children:"Número de WhatsApp"}),e.jsxs("div",{className:"relative",children:[e.jsx(it,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,placeholder:"9 dígitos (sin código de país)"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 bg-transparent border-red-500/50 rounded focus:ring-red-500/50"}),e.jsxs("label",{htmlFor:"termsCheck",className:`ml-2 text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("button",{onClick:()=>be(k.product),className:"text-red-500 hover:text-red-400 underline underline-offset-2",children:"términos y condiciones"})]})]}),A&&e.jsxs("div",{className:"p-3 bg-gradient-to-r from-red-900/80 to-red-800/80 border-l-4 border-red-500 rounded-xl flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-white",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>O(null),className:"text-white hover:text-red-300",children:e.jsx(Ot,{size:16})})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-gray-300 ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60":"bg-gray-200/60 hover:bg-gray-300/60"} border border-gray-600/50 transition-all shadow-md`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-md`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:18}):"Confirmar Compra"})]})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre del Producto"}),e.jsx("p",{className:"text-white font-semibold",children:V.name})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Tipo de Cuenta"}),e.jsx("p",{className:"text-white",children:V.accountType})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Proveedor"}),e.jsx("p",{className:"text-white",children:V.provider})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Detalles de la Cuenta"}),e.jsx("p",{className:"text-white",children:V.accountDetails})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-gray-300 ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60":"bg-gray-200/60 hover:bg-gray-300/60"} border border-gray-600/50 transition-all shadow-md mt-4`,children:"Cerrar"})]})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Producto"}),e.jsx("p",{className:"text-white font-semibold",children:V.name})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Términos"}),e.jsx("p",{className:"text-white",children:V.terms})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Proveedor"}),e.jsx("p",{className:"text-white",children:V.provider})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-gray-300 ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60":"bg-gray-200/60 hover:bg-gray-300/60"} border border-gray-600/50 transition-all shadow-md mt-4`,children:"Cerrar"})]})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-white",children:[e.jsx("li",{children:"No compartir las credenciales de la cuenta con terceros."}),e.jsx("li",{children:"Las cuentas son para uso personal y no comercial."}),e.jsx("li",{children:"El proveedor puede contactarte para coordinar la entrega de los detalles de la cuenta."}),e.jsx("li",{children:"Los reembolsos están sujetos a la política del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por el mal uso de las cuentas."})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-gray-300 ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60":"bg-gray-200/60 hover:bg-gray-300/60"} border border-gray-600/50 transition-all shadow-md mt-4`,children:"Cerrar"})]})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-md mt-6`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})},NV=()=>e.jsx(jV,{children:e.jsx(wV,{})}),R1=N.createContext({theme:"dark",toggleTheme:()=>{}}),kV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(R1.Provider,{value:{theme:t,toggleTheme:n},children:r})},SV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(R1),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Disney")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,disney:_.length}))},E=>{O("Error al cargar productos de Disney+"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"disney_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"disney"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"disney"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Disney`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Disney+...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1626814026160-2237a95fc5a0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Disney+"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de películas, series y contenido exclusivo con nuestras cuentas premium de Disney+"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:13}),Le(a.duration)]})]}),e.jsx("h3",{className:"font-extrabold text-lg text-white mb-2 truncate leading-tight drop-shadow",children:a.name}),e.jsxs("div",{className:"flex items-center gap-1 mb-1.5",children:[Ne(oe[a.providerId]||1),e.jsx("span",{className:`ml-1 text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:(oe[a.providerId]||1).toFixed(1)})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:`flex items-center text-xs ${i==="dark"?"text-gray-300":"text-gray-600"} gap-1`,children:[e.jsx(Xg,{className:"text-red-500",size:13}),a.provider]}),e.jsxs("span",{className:`flex items-center text-xs ${i==="dark"?"text-gray-400":"text-gray-600"} gap-1`,children:[e.jsx(Zg,{className:"text-red-500",size:13}),a.status]})]}),e.jsx("div",{className:"flex items-center mb-2",children:a.renewal?e.jsxs("span",{className:"text-green-500 text-xs font-medium",children:["Renovación S/ ",je(a.renewalPrice)]}):e.jsx("span",{className:"text-yellow-500 text-xs font-medium",children:"Sin renovación"})}),e.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[e.jsx("div",{className:"flex items-end justify-between mb-2",children:e.jsxs("span",{className:"text-white font-bold text-xl tracking-tight drop-shadow",children:["S/ ",je(a.price)]})}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${i==="dark"?"bg-gray-800/60 hover:bg-red-500/20":"bg-gray-200/60 hover:bg-red-600/20"} text-gray-100 transition-all border border-red-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[e.jsx(mr,{className:"text-red-500",size:14}),e.jsx("span",{children:"Detalles"})]}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${i==="dark"?"bg-gray-800/60 hover:bg-red-500/20":"bg-gray-200/60 hover:bg-red-600/20"} text-gray-100 transition-all border border-red-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[e.jsx(tt,{className:"text-red-500",size:14}),e.jsx("span",{children:"Términos"})]})]}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`w-full py-2 px-3 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 shadow-lg transition-all duration-200 ${Number(a.stock)>0||a.status==="A pedido"?"bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800 text-white":"bg-gray-800/60 text-gray-400 cursor-not-allowed"}`,disabled:Number(a.stock)<=0&&a.status!=="A pedido",children:[e.jsx(Ht,{size:16}),a.status==="A pedido"?"Pedir Ahora":"Comprar"]})]})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("p",{className:`text-gray-300 mb-4 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Estás a punto de comprar"," ",e.jsx("span",{className:"font-semibold text-white",children:k.product.name})," ","por"," ",e.jsxs("span",{className:"font-semibold text-white",children:["S/ ",je(k.product.price)]}),"."]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"} mb-1`,children:"Nombre"}),e.jsxs("div",{className:"relative",children:[e.jsx(it,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,placeholder:"Tu nombre"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"} mb-1`,children:"Número de WhatsApp"}),e.jsxs("div",{className:"relative",children:[e.jsx(it,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,placeholder:"9 dígitos (sin código de país)"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 bg-transparent border-red-500/50 rounded focus:ring-red-500/50"}),e.jsxs("label",{htmlFor:"termsCheck",className:`ml-2 text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("button",{onClick:()=>be(k.product),className:"text-red-500 hover:text-red-400 underline underline-offset-2",children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function TV(){return e.jsx(kV,{children:e.jsx(SV,{})})}const M1=N.createContext({theme:"dark",toggleTheme:()=>{}}),IV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(M1.Provider,{value:{theme:t,toggleTheme:n},children:r})},PV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(M1),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Max")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,max:_.length}))},E=>{O("Error al cargar productos de Max"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"max_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"max"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"max"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Max`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Max...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1616530940355-351fabd68b6f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Max"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de series, películas y contenido exclusivo con nuestras cuentas premium de Max"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function EV(){return e.jsx(IV,{children:e.jsx(PV,{})})}const O1=N.createContext({theme:"dark",toggleTheme:()=>{}}),CV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(O1.Provider,{value:{theme:t,toggleTheme:n},children:r})},DV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(O1),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Spotify")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,spotify:_.length}))},E=>{O("Error al cargar productos de Spotify"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"spotify_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"spotify"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"spotify"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Spotify`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Spotify...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1616531770192-6b04a0c365ea?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Spotify"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Escucha tu música favorita sin anuncios con nuestras cuentas premium de Spotify"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:13}),Le(a.duration)]})]}),e.jsx("h3",{className:"font-extrabold text-lg text-white mb-2 truncate leading-tight drop-shadow",children:a.name}),e.jsxs("div",{className:"flex items-center gap-1 mb-1.5",children:[Ne(oe[a.providerId]||1),e.jsx("span",{className:`ml-1 text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:(oe[a.providerId]||1).toFixed(1)})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:`flex items-center text-xs ${i==="dark"?"text-gray-300":"text-gray-600"} gap-1`,children:[e.jsx(Xg,{className:"text-red-500",size:13}),a.provider]}),e.jsxs("span",{className:`flex items-center text-xs ${i==="dark"?"text-gray-400":"text-gray-600"} gap-1`,children:[e.jsx(Zg,{className:"text-red-500",size:13}),a.status]})]}),e.jsx("div",{className:"flex items-center mb-2",children:a.renewal?e.jsxs("span",{className:"text-green-500 text-xs font-medium",children:["Renovación S/ ",je(a.renewalPrice)]}):e.jsx("span",{className:"text-yellow-500 text-xs font-medium",children:"Sin renovación"})}),e.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[e.jsx("div",{className:"flex items-end justify-between mb-2",children:e.jsxs("span",{className:"text-white font-bold text-xl tracking-tight drop-shadow",children:["S/ ",je(a.price)]})}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${i==="dark"?"bg-gray-800/60 hover:bg-red-500/20":"bg-gray-200/60 hover:bg-red-600/20"} text-gray-100 transition-all border border-red-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[e.jsx(mr,{className:"text-red-500",size:14}),e.jsx("span",{children:"Detalles"})]}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${i==="dark"?"bg-gray-800/60 hover:bg-red-500/20":"bg-gray-200/60 hover:bg-red-600/20"} text-gray-100 transition-all border border-red-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[e.jsx(tt,{className:"text-red-500",size:14}),e.jsx("span",{children:"Términos"})]})]}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`w-full py-2 px-3 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 shadow-lg transition-all duration-200 ${Number(a.stock)>0||a.status==="A pedido"?"bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800 text-white":"bg-gray-800/60 text-gray-400 cursor-not-allowed"}`,disabled:Number(a.stock)<=0&&a.status!=="A pedido",children:[e.jsx(Ht,{size:16}),a.status==="A pedido"?"Pedir Ahora":"Comprar"]})]})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("p",{className:`text-gray-300 mb-4 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Estás a punto de comprar"," ",e.jsx("span",{className:"font-semibold text-white",children:k.product.name})," ","por"," ",e.jsxs("span",{className:"font-semibold text-white",children:["S/ ",je(k.product.price)]}),"."]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"} mb-1`,children:"Nombre"}),e.jsxs("div",{className:"relative",children:[e.jsx(it,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,placeholder:"Tu nombre"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"} mb-1`,children:"Número de WhatsApp"}),e.jsxs("div",{className:"relative",children:[e.jsx(it,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,placeholder:"9 dígitos (sin código de país)"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 bg-transparent border-red-500/50 rounded focus:ring-red-500/50"}),e.jsxs("label",{htmlFor:"termsCheck",className:`ml-2 text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("button",{onClick:()=>be(k.product),className:"text-red-500 hover:text-red-400 underline underline-offset-2",children:"términos y condiciones"})]})]}),A&&e.jsxs("div",{className:"p-3 bg-gradient-to-r from-red-900/80 to-red-700/80 rounded-lg flex items-center gap-2",children:[e.jsx(mt,{className:"text-red-400",size:20}),e.jsx("p",{className:"text-sm text-white",children:A})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-gray-600/50 shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} text-white shadow-lg transition-all`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Producto"}),e.jsx("p",{className:"text-white font-semibold",children:V.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Tipo de Cuenta"}),e.jsx("p",{className:"text-white font-semibold",children:V.accountType})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Proveedor"}),e.jsx("p",{className:"text-white font-semibold",children:V.provider})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Detalles"}),e.jsx("p",{className:"text-white font-semibold",children:V.accountDetails})]}),ie&&e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Términos y Condiciones"}),e.jsx("p",{className:"text-white font-semibold",children:V.terms})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Y(null),ce(!1)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-gray-600/50 shadow-inner`,children:"Cerrar"})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-gray-300",children:[e.jsx("p",{className:"text-sm",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos:"}),e.jsxs("ul",{className:"list-disc pl-5 text-sm space-y-2",children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse."}),e.jsx("li",{children:"El tiempo de entrega puede variar según el proveedor."}),e.jsx("li",{children:"No se aceptan reembolsos una vez entregada la cuenta."}),e.jsx("li",{children:"El proveedor se contactará contigo para coordinar los detalles de acceso."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por mal uso de las cuentas."})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-gray-600/50 shadow-inner`,children:"Cerrar"})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:"text-gray-300 mb-4",children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-gray-600/50 shadow-inner`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function _V(){return e.jsx(CV,{children:e.jsx(DV,{})})}const L1=N.createContext({theme:"dark",toggleTheme:()=>{}}),$V=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(L1.Provider,{value:{theme:t,toggleTheme:n},children:r})},AV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(L1),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Prime Video")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,primevideo:_.length}))},E=>{O("Error al cargar productos de Prime Video"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"primevideo_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"primevideo"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"primevideo"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Prime Video`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Prime Video...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1616530940355-351fabd68b6f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Prime Video"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de series, películas y contenido exclusivo con nuestras cuentas premium de Prime Video"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg mt-4`,children:"Cerrar"})]})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg mt-4`,children:"Cerrar"})]})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} list-disc pl-5 space-y-2`,children:[e.jsx("li",{children:"Las cuentas son de uso personal y no deben compartirse."}),e.jsx("li",{children:"Los tiempos de entrega pueden variar según el proveedor."}),e.jsx("li",{children:"No se aceptan reembolsos una vez entregada la cuenta, salvo en casos de fallos verificados."}),e.jsx("li",{children:"El proveedor se contactará contigo para coordinar los detalles de acceso."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por el mal uso de las cuentas."})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg mt-4`,children:"Cerrar"})]})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-4`,children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})},RV=()=>e.jsx($V,{children:e.jsx(AV,{})}),V1=N.createContext({theme:"dark",toggleTheme:()=>{}}),MV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(V1.Provider,{value:{theme:t,toggleTheme:n},children:r})},OV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(V1),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Vix")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,vix:_.length}))},E=>{O("Error al cargar productos de Vix"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"vix_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"vix"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"vix"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Vix`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Vix...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1616530940355-351fabd68b6f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Vix"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de series, películas y contenido exclusivo con nuestras cuentas premium de Vix"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),ie&&e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos y Condiciones:"})," ",V.terms]})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Y(null),ce(!1)},className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cerrar"}),!ie&&e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ce(!0),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Ver Términos"})]})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:`space-y-4 text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} overflow-y-auto max-h-[60vh]`,children:[e.jsx("p",{children:"Bienvenido a SZ Streaming. Al utilizar nuestros servicios, aceptas los siguientes términos y condiciones:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"Las cuentas proporcionadas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones en el servicio debido a cambios en las políticas de las plataformas de streaming."}),e.jsx("li",{children:"Los pagos son procesados de forma segura, y no se ofrecen reembolsos una vez que la cuenta ha sido entregada."}),e.jsx("li",{children:"El usuario es responsable de proporcionar información precisa para la entrega de las credenciales."}),e.jsx("li",{children:"SZ Streaming se reserva el derecho de suspender cuentas en caso de uso indebido o violación de estos términos."}),e.jsx("li",{children:'Los tiempos de entrega para productos "A pedido" pueden variar según la disponibilidad del proveedor.'})]}),e.jsx("p",{children:"Para más información, contáctanos a través de nuestro soporte en WhatsApp o correo electrónico."})]}),e.jsx("div",{className:"mt-6",children:e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cerrar"})})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:ne.message}),e.jsx("div",{className:"mt-6",children:e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})},LV=()=>e.jsx(MV,{children:e.jsx(OV,{})}),z1=N.createContext({theme:"dark",toggleTheme:()=>{}}),VV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(z1.Provider,{value:{theme:t,toggleTheme:n},children:r})},zV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(z1),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Canva")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,canva:_.length}))},E=>{O("Error al cargar productos de Canva"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"canva_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"canva"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"canva"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Canva`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Canva...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1616530940355-351fabd68b6f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Canva"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Crea diseños increíbles con nuestras cuentas premium de Canva Pro"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`mt-6 w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`mt-6 w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`text-sm list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la compra."}),e.jsx("li",{children:'No se garantiza la disponibilidad de stock en productos "A pedido".'}),e.jsx("li",{children:"Los reembolsos están sujetos a la política del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por el mal uso de las cuentas."})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`mt-6 w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`mt-6 w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`mt-auto p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center text-center sm:text-left",children:[e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["© ",new Date().getFullYear()," SZ Streaming. Todos los derechos reservados."]}),e.jsxs("div",{className:"flex space-x-4 mt-3 sm:mt-0",children:[e.jsx(S,{to:"/terms",className:`text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all`,children:"Términos"}),e.jsx(S,{to:"/privacy",className:`text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all`,children:"Privacidad"}),e.jsx(S,{to:"/contact",className:`text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all`,children:"Contacto"})]})]})})]})};function BV(){return e.jsx(VV,{children:e.jsx(zV,{})})}const B1=N.createContext({theme:"dark",toggleTheme:()=>{}}),UV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(B1.Provider,{value:{theme:t,toggleTheme:n},children:r})},FV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(B1),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","ChatGPT")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,chatgpt:_.length}))},E=>{O("Error al cargar productos de ChatGPT"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"chatgpt_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"chatgpt"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"chatgpt"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=ChatGPT`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en ChatGPT...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1677442136019-2b8a3e742f5e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de ChatGPT"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Accede a funciones avanzadas de ChatGPT con nuestras cuentas premium"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})})]})}),ie&&V&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} whitespace-pre-wrap`,children:V.terms})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`text-sm list-disc pl-5 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse."}),e.jsx("li",{children:"El proveedor se contactará contigo para entregar los detalles de acceso tras la compra."}),e.jsx("li",{children:"Los tiempos de entrega pueden variar según el producto (en stock o a pedido)."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por mal uso de las cuentas por parte del usuario."}),e.jsx("li",{children:"El proveedor puede establecer términos adicionales específicos para cada producto."})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:ne.message}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})})]})}),e.jsx("footer",{className:`mt-auto border-t ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"} backdrop-blur-md py-6 px-4 sm:px-6`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qt,alt:"SZ Streaming",className:"h-8 w-auto"}),e.jsx("span",{className:`text-sm font-semibold ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"SZ Streaming © 2025"})]}),e.jsxs("div",{className:"flex space-x-4 sm:space-x-6",children:[e.jsx(S,{to:"/terms",className:`text-sm ${i==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-all`,children:"Términos"}),e.jsx(S,{to:"/privacy",className:`text-sm ${i==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-all`,children:"Privacidad"}),e.jsx(S,{to:"/contact",className:`text-sm ${i==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-all`,children:"Contacto"})]})]})})]})};function HV(){return e.jsx(UV,{children:e.jsx(FV,{})})}const U1=N.createContext({theme:"dark",toggleTheme:()=>{}}),WV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(U1.Provider,{value:{theme:t,toggleTheme:n},children:r})},qV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(U1),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Crunchyroll")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,crunchyroll:_.length}))},E=>{O("Error al cargar productos de Crunchyroll"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"crunchyroll_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"crunchyroll"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"crunchyroll"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Crunchyroll`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Crunchyroll...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1616530940355-351fabd68b6f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Crunchyroll"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de anime, manga y contenido exclusivo con nuestras cuentas premium de Crunchyroll"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]})]}),e.jsx("div",{className:"mt-6 flex gap-3",children:e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cerrar"})})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:V.terms})]}),e.jsx("div",{className:"mt-6 flex gap-3",children:e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cerrar"})})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Al utilizar SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} list-disc pl-5 space-y-2`,children:[e.jsx("li",{children:"Las cuentas son personales y no transferibles."}),e.jsx("li",{children:"El uso indebido de las cuentas puede resultar en la suspensión del servicio."}),e.jsx("li",{children:"Los precios y la disponibilidad de los productos están sujetos a cambios sin previo aviso."}),e.jsx("li",{children:"El proveedor se contactará contigo para coordinar los detalles de acceso tras la compra."}),e.jsx("li",{children:"SZ Streaming no se hace responsable por interrupciones del servicio causadas por terceros."})]})]}),e.jsx("div",{className:"mt-6 flex gap-3",children:e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cerrar"})})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:ne.message}),e.jsx("div",{className:"mt-6 flex gap-3",children:e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cerrar"})})]})})]})},GV=()=>e.jsx(WV,{children:e.jsx(qV,{})}),F1=N.createContext({theme:"dark",toggleTheme:()=>{}}),QV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(F1.Provider,{value:{theme:t,toggleTheme:n},children:r})},KV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(F1),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Redes Sociales")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,redessociales:_.length}))},E=>{O("Error al cargar productos de Redes Sociales"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"redes_sociales_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"redes_sociales"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"redes_sociales"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Redes Sociales`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Redes Sociales...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321310762-6d0c4f0db7d0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Redes Sociales"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Accede a funciones premium y mejora tu experiencia en redes sociales"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function ZV(){return e.jsx(QV,{children:e.jsx(KV,{})})}const H1=N.createContext({theme:"dark",toggleTheme:()=>{}}),YV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(H1.Provider,{value:{theme:t,toggleTheme:n},children:r})},XV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(H1),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Apple Music")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,applemusic:_.length}))},E=>{O("Error al cargar productos de Apple Music"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"apple_music_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(availableAccountsQuery);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"apple_music"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"apple_music"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Apple Music`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/"),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Volver al Inicio"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Apple Music...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px ambulatory care unit px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1514320291840-2f2a7b7690a3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Apple Music"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de música ilimitada y funciones exclusivas con Apple Music Premium"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function JV(){return e.jsx(YV,{children:e.jsx(XV,{})})}const W1=N.createContext({theme:"dark",toggleTheme:()=>{}}),e7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(W1.Provider,{value:{theme:t,toggleTheme:n},children:r})},t7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(W1),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Apple Tv")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,appletv:_.length}))},E=>{O("Error al cargar productos de Apple Tv"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"appletv_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"appletv"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"appletv"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Apple Tv`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-grid duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Apple Tv...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1522202176988-66273c2b6e3c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Servicios Premium de Apple Tv"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de tus programas y películas favoritas con nuestras suscripciones premium de Apple Tv"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function r7(){return e.jsx(e7,{children:e.jsx(t7,{})})}const q1=N.createContext({theme:"dark",toggleTheme:()=>{}}),s7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(q1.Provider,{value:{theme:t,toggleTheme:n},children:r})},a7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(q1),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Iptv")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,iptv:_.length}))},E=>{O("Error al cargar productos de IPTV"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"iptv_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profileprops.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"iptv"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"iptv"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Iptv`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en IPTV...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",class3080:!0,className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1512428559087-560fa5ceab76?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de IPTV"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de una amplia variedad de canales en vivo y contenido a demanda con nuestras cuentas premium de IPTV"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function n7(){return e.jsx(s7,{children:e.jsx(a7,{})})}const G1=N.createContext({theme:"dark",toggleTheme:()=>{}}),i7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(G1.Provider,{value:{theme:t,toggleTheme:n},children:r})},o7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(G1),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Flujo Tv")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,flujotv:_.length}))},E=>{O("Error al cargar productos de Flujo Tv"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"flujotv_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"flujotv"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"flujotv"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Flujo Tv`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Flujo Tv...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321310762-6d0c4f0db7d0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Flujo Tv"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Accede a funciones premium y mejora tu experiencia en Flujo Tv"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function l7(){return e.jsx(i7,{children:e.jsx(o7,{})})}const Q1=N.createContext({theme:"dark",toggleTheme:()=>{}}),c7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(Q1.Provider,{value:{theme:t,toggleTheme:n},children:r})},d7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(Q1),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Viki Rakuten")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,vikirakuten:_.length}))},E=>{O("Error al cargar productos de Viki Rakuten"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"viki_rakuten_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"viki_rakuten"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"viki_rakuten"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Viki Rakuten`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Reintentar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/"),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg mt-4",children:"Volver al Inicio"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Viki Rakuten...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e756b6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Viki Rakuten"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de dramas asiáticos y contenido exclusivo con Viki Rakuten Premium"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function u7(){return e.jsx(c7,{children:e.jsx(d7,{})})}const K1=N.createContext({theme:"dark",toggleTheme:()=>{}}),m7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(K1.Provider,{value:{theme:t,toggleTheme:n},children:r})},x7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(K1),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Pornhub")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,pornhub:_.length}))},E=>{O("Error al cargar productos de Pornhub"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"pornhub_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profileprops.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"pornhub"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"pornhub"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Pornhub`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Pornhub...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1512428559087-560fa5ceab76?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Pornhub"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de contenido exclusivo con nuestras cuentas premium de Pornhub"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function h7(){return e.jsx(m7,{children:e.jsx(x7,{})})}const Z1=N.createContext({theme:"dark",toggleTheme:()=>{}}),p7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(Z1.Provider,{value:{theme:t,toggleTheme:n},children:r})},f7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(Z1),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Paramount")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,paramount:_.length}))},E=>{O("Error al cargar productos de Paramount"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"paramount_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"paramount"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"paramount"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Paramount`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Reintentar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/"),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg mt-4",children:"Volver al Inicio"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Paramount...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1536440136628-849c177e76a1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Paramount"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de películas y series exclusivas con Paramount+"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Servicios de Paramount Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function g7(){return e.jsx(p7,{children:e.jsx(f7,{})})}const Y1=N.createContext({theme:"dark",toggleTheme:()=>{}}),y7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(Y1.Provider,{value:{theme:t,toggleTheme:n},children:r})},b7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(Y1),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Licencias")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,licencias:_.length}))},E=>{O("Error al cargar productos de Licencias"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"licencias_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"licencias"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"licencias"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Licencias`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Reintentar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/"),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg mt-4",children:"Volver al Inicio"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Licencias...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e756b6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Licencias de Software"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Obtén licencias de software premium para tus necesidades"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Licencias Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function v7(){return e.jsx(y7,{children:e.jsx(b7,{})})}const X1=N.createContext({theme:"dark",toggleTheme:()=>{}}),j7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(X1.Provider,{value:{theme:t,toggleTheme:n},children:r})},w7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(X1),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Capcut")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,capcut:_.length}))},E=>{O("Error al cargar productos de Capcut"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"capcut_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"capcut"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"capcut"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Capcut`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Reintentar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/"),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg mt-4",children:"Volver al Inicio"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Capcut...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e756b6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Capcut"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Edita videos de manera profesional y creativa con Capcut"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Servicios de Capcut Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function N7(){return e.jsx(j7,{children:e.jsx(w7,{})})}const J1=N.createContext({theme:"dark",toggleTheme:()=>{}}),k7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(J1.Provider,{value:{theme:t,toggleTheme:n},children:r})},S7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(J1),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Duolingo")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,duolingo:_.length}))},E=>{O("Error al cargar productos de Duolingo"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"duolingo_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"duolingo"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"duolingo"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Duolingo`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Reintentar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/"),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg mt-4",children:"Volver al Inicio"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Duolingo...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,ofr:!0,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e756b6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Duolingo"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Aprende idiomas de manera divertida y efectiva con Duolingo"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Servicios de Duolingo Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function T7(){return e.jsx(k7,{children:e.jsx(S7,{})})}const e3=N.createContext({theme:"dark",toggleTheme:()=>{}}),I7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(e3.Provider,{value:{theme:t,toggleTheme:n},children:r})},P7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(e3),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Dgo")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,dgo:_.length}))},E=>{O("Error al cargar productos de Dgo"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"dgo_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"dgo"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"dgo"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Dgo`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Dgo...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1522869635100-9f4c5e86aa37?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Dgo"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de streaming en vivo y contenido exclusivo con nuestras cuentas premium de Dgo"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),ie&&e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Y(null),ce(!1)},className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cerrar"}),!ie&&e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ce(!0),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Ver Términos"})]})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"1. Condiciones de Uso:"})," Al adquirir una cuenta en SZ Streaming, aceptas cumplir con las políticas de uso de cada plataforma. No se permite compartir cuentas fuera de los términos establecidos por el proveedor."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"2. Responsabilidad:"})," SZ Streaming actúa como intermediario entre el cliente y el proveedor. No nos hacemos responsables por el mal uso de las cuentas o interrupciones del servicio causadas por terceros."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"3. Pagos y Reembolsos:"})," Todos los pagos son finales. Los reembolsos solo se procesarán en caso de que el proveedor no pueda entregar la cuenta adquirida dentro del plazo establecido."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"4. Soporte:"})," El soporte será proporcionado por el proveedor de la cuenta. Contacta al proveedor directamente a través del número de WhatsApp proporcionado al momento de la compra."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"5. Cambios en los Términos:"})," SZ Streaming se reserva el derecho de modificar estos términos en cualquier momento. Los cambios serán notificados a través de nuestra plataforma."]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cerrar"})})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:ne.message}),e.jsx("div",{className:"mt-6",children:e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})})]})}),e.jsx("footer",{className:`mt-auto p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"}`,children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["© ",new Date().getFullYear()," SZ Streaming. Todos los derechos reservados."]}),e.jsxs("div",{className:"mt-4 flex justify-center space-x-4",children:[e.jsx(S,{to:"/terms",className:`text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all`,children:"Términos y Condiciones"}),e.jsx(S,{to:"/privacy",className:`text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all`,children:"Política de Privacidad"}),e.jsx(S,{to:"/contact",className:`text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all`,children:"Contacto"})]})]})})]})};function E7(){return e.jsx(I7,{children:e.jsx(P7,{})})}const t3=N.createContext({theme:"dark",toggleTheme:()=>{}}),C7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(t3.Provider,{value:{theme:t,toggleTheme:n},children:r})},D7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(t3),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Liga Max")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,ligamax:_.length}))},E=>{O("Error al cargar productos de Liga Max"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"ligamax_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"ligamax"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"ligamax"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Liga Max`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Liga Max...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1553481187-2de44ae95cf0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Liga Max"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de deportes en vivo y contenido exclusivo con nuestras cuentas premium de Liga Max"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:V.terms})]}),e.jsx("div",{className:"mt-6",children:e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Uso de Cuentas:"})," Las cuentas adquiridas en SZ Streaming son para uso personal y no deben ser revendidas o compartidas con terceros no autorizados."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Responsabilidad:"})," SZ Streaming actúa como intermediario entre los proveedores y los clientes. No nos hacemos responsables por el mal uso de las cuentas o problemas derivados del proveedor."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Pagos:"})," Todos los pagos se procesan a través de métodos seguros. No se realizarán reembolsos una vez que la cuenta haya sido entregada al cliente."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Soporte:"})," Cualquier problema con las cuentas debe ser reportado al proveedor correspondiente a través de los datos de contacto proporcionados."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," La duración de las cuentas varía según el producto. Asegúrate de verificar los detalles antes de realizar la compra."]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:ne.message}),e.jsx("div",{className:"mt-6",children:e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})})]})}),e.jsx("footer",{className:`mt-auto py-8 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"}`,children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"SZ Streaming"}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Tu plataforma confiable para cuentas premium de streaming y más. Disfruta del mejor entretenimiento al mejor precio."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Enlaces Rápidos"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(S,{to:"/",className:`text-sm ${i==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-all`,children:"Inicio"})}),e.jsx("li",{children:e.jsx(S,{to:"/dashboard",className:`text-sm ${i==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-all`,children:"Dashboard"})}),e.jsx("li",{children:e.jsx(S,{to:"/support",className:`text-sm ${i==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-all`,children:"Soporte"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Contacto"}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Email: soporte@szstreaming.com"}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"WhatsApp: +51 987 654 321"})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-500"}`,children:["© ",new Date().getFullYear()," SZ Streaming. Todos los derechos reservados."]})})]})})]})};function _7(){return e.jsx(C7,{children:e.jsx(D7,{})})}const r3=N.createContext({theme:"dark",toggleTheme:()=>{}}),$7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(r3.Provider,{value:{theme:t,toggleTheme:n},children:r})},A7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(r3),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Movistar Play")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,movistarplay:_.length}))},E=>{O("Error al cargar productos de Movistar Play"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"movistarplay_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"movistarplay"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"movistarplay"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Movistar Play`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Movistar Play...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1616530940355-351fabd68b6f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Movistar Play"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},"Old:transition":{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de entretenimiento sin límites con nuestras cuentas premium de Movistar Play"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),ie&&e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Y(null),ce(!1)},className:`py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:`space-y-4 max-h-[60vh] overflow-y-auto text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("p",{children:"Bienvenido a SZ Streaming. Al realizar una compra, aceptas los siguientes términos y condiciones:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"Todas las cuentas proporcionadas son para uso personal y no deben ser compartidas o revendidas."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por los proveedores de streaming."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las compras no son reembolsables una vez que se han entregado los detalles de la cuenta."}),e.jsx("li",{children:"En caso de problemas con la cuenta, contacta al proveedor a través del número de WhatsApp proporcionado."}),e.jsx("li",{children:"SZ Streaming se reserva el derecho de suspender cuentas en caso de uso indebido."})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:ne.message}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})})]})}),e.jsx("footer",{className:`py-8 px-4 mt-12 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"}`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("div",{className:"mb-4 sm:mb-0",children:e.jsxs("p",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["© ",new Date().getFullYear()," SZ Streaming. Todos los derechos reservados."]})}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(S,{to:"/terms",className:`text-sm ${i==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-all`,children:"Términos y Condiciones"}),e.jsx(S,{to:"/privacy",className:`text-sm ${i==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-all`,children:"Política de Privacidad"}),e.jsx(S,{to:"/contact",className:`text-sm ${i==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-all`,children:"Contacto"})]})]})})]})},R7=()=>e.jsx($7,{children:e.jsx(A7,{})}),s3=N.createContext({theme:"dark",toggleTheme:()=>{}}),M7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(s3.Provider,{value:{theme:t,toggleTheme:n},children:r})},O7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(s3),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Youtube")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,youtube:_.length}))},E=>{O("Error al cargar productos de Youtube"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"youtube_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"youtube"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"youtube"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Youtube`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Youtube...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1611162617210-7d673bf0f Crawford?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Youtube"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de videos sin anuncios, contenido exclusivo y más con nuestras cuentas premium de Youtube"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function L7(){return e.jsx(M7,{children:e.jsx(O7,{})})}const a3=N.createContext({theme:"dark",toggleTheme:()=>{}}),V7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(a3.Provider,{value:{theme:t,toggleTheme:n},children:r})},z7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(a3),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Deezer")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,deezer:_.length}))},E=>{O("Error al cargar productos de Deezer"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"deezer_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"deezer"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"deezer"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Deezer`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Deezer...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Deezer"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de música sin límites con nuestras cuentas premium de Deezer"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]}),ie&&e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos y Condiciones:"})," ",V.terms]})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Y(null),ce(!1)},className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cerrar"}),!ie&&e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ce(!0),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Ver Términos"})]})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"1. Uso de Cuentas:"})," Las cuentas adquiridas en SZ Streaming son para uso personal y no deben compartirse ni revenderse. El incumplimiento puede resultar en la suspensión de la cuenta sin reembolso."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"2. Entrega:"})," Las cuentas en stock se entregan inmediatamente tras la compra. Las cuentas a pedido pueden tardar hasta 24-48 horas, dependiendo del proveedor."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"3. Reembolsos:"})," No se ofrecen reembolsos una vez que la cuenta ha sido entregada y activada. En caso de problemas, contacte al proveedor a través del número proporcionado."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"4. Soporte:"})," SZ Streaming ofrece soporte para problemas relacionados con la compra. Para problemas con la cuenta, contacte directamente al proveedor."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"5. Renovaciones:"})," Algunas cuentas ofrecen renovación a un precio reducido. Verifique los detalles en cada producto."]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cerrar"})})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:ne.message}),e.jsx("div",{className:"mt-6",children:e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})})]})}),e.jsx("footer",{className:`mt-auto py-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"}`,children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["© ",new Date().getFullYear()," SZ Streaming. Todos los derechos reservados."]}),e.jsxs("div",{className:"mt-2 flex justify-center space-x-4",children:[e.jsx(S,{to:"/terms",className:`text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all`,children:"Términos y Condiciones"}),e.jsx(S,{to:"/privacy",className:`text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all`,children:"Política de Privacidad"}),e.jsx(S,{to:"/contact",className:`text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all`,children:"Contacto"})]})]})})]})},B7=()=>e.jsx(V7,{children:e.jsx(z7,{})}),n3=N.createContext({theme:"dark",toggleTheme:()=>{}}),U7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(n3.Provider,{value:{theme:t,toggleTheme:n},children:r})},F7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(n3),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Tidal")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,tidal:_.length}))},E=>{O("Error al cargar productos de Tidal"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"tidal_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"tidal"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"tidal"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Tidal`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Tidal...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1514320291840-2e0a9bf2a596?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Tidal"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de música en alta fidelidad y contenido exclusivo con nuestras cuentas premium de Tidal"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function H7(){return e.jsx(U7,{children:e.jsx(F7,{})})}const i3=N.createContext({theme:"dark",toggleTheme:()=>{}}),W7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(i3.Provider,{value:{theme:t,toggleTheme:n},children:r})},q7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(i3),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Vpn")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,vpn:_.length}))},E=>{O("Error al cargar productos de VPN"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"vpn_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"vpn"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"vpn"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Vpn`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-grid duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en VPN...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Servicios Premium de VPN"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Navega de forma segura y privada con nuestras suscripciones premium de VPN"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function G7(){return e.jsx(W7,{children:e.jsx(q7,{})})}const o3=N.createContext({theme:"dark",toggleTheme:()=>{}}),Q7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(o3.Provider,{value:{theme:t,toggleTheme:n},children:r})},K7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(o3),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","Win Tv")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,wintv:_.length}))},E=>{O("Error al cargar productos de Win Tv"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"wintv_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"wintv"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"wintv"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Win Tv`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-grid duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Win Tv...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1522202176988-66273c2b6e3c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Servicios Premium de Win Tv"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de tus programas y canales favoritos con nuestras suscripciones premium de Win Tv"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function Z7(){return e.jsx(Q7,{children:e.jsx(K7,{})})}const l3=N.createContext({theme:"dark",toggleTheme:()=>{}}),Y7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(l3.Provider,{value:{theme:t,toggleTheme:n},children:r})},X7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,x]=N.useState(null),[p,w]=N.useState(0),[T,D]=N.useState(!0),[A,O]=N.useState(null),[k,W]=N.useState(null),[V,Y]=N.useState(null),[ie,ce]=N.useState(!1),[pe,X]=N.useState(!1),[ne,F]=N.useState(null),[h,Z]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[oe,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:He}=N.useContext(l3),je=a=>{const C=Number(a);return isNaN(C)?"0.00":C.toFixed(2)},Ne=a=>{const C=Math.floor(a),g=a%1>=.5,z=5-C-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(C)].map((U,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((U,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async C=>{if(C)try{const g=await yt(H($,"users",C.uid));if(g.exists()){const z=g.data();x({id:C.uid,name:z.username||"Usuario",email:C.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),w(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else x(null),w(0);D(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se($,"products"),_e("category","==","BuscaPersonas")),C=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),_=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await yt(H($,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n(_),Z(f=>({...f,buscapersonas:_.length}))},E=>{O("Error al cargar productos de Busca Personas"),console.error(E)}),g=ke(se($,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const _={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;_[f]=Math.min(Math.max(I,1),5)}),ee(_)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),U=ke(se($,"buscapersonas_accounts"),_e("status","==","available")),q=$e(U,E=>{const M=E.docs.map(_=>({id:_.id,..._.data(),productId:_.data().productId||"",providerId:_.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),_=ke(se($,"products"),_e("category","==",E));return $e(_,f=>{Z(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{C(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){F({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){F({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){F({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}W({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{D(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let C=null;a.status==="En stock"?C=await St($,async g=>{const z=H($,"products",a.id),U=await g.get(z);if(!U.exists())throw new Error("Producto no encontrado");const q=U.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se($,`products/${a.id}/accounts`),ue=ke(de,_e("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],_=M.ref,f=M.data(),b=H($,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=H($,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const xe=H($,"providerBalances",a.providerId),ye=await g.get(xe);let fe=0;ye.exists()?fe=parseFloat(ye.data().balance)||0:g.set(xe,{balance:0,provider:a.providerId,updatedAt:Me()});let le=a.providerPhone||"";le||(le=te.data().phoneNumber||""),g.update(_,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],ze={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"buscapersonas"};g.update(b,{balance:qe,orders:[...at,ze]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Qe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:le,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Qe]});const ut=fe+a.price;g.set(xe,{balance:ut,provider:a.providerId,updatedAt:Me()},{merge:!0});const pt=H(se($,"sales"));return g.set(pt,{...ze,provider:a.provider,providerId:a.providerId,providerPhone:le,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Qe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St($,async g=>{const z=H($,"users",c.id),U=await g.get(z);if(!U.exists())throw new Error("Usuario no encontrado");const q=H($,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=H($,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let _=a.providerPhone||"";_||(_=de.data().phoneNumber||"");const b=(Number(U.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=U.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"buscapersonas"};g.update(z,{balance:b,orders:[...I,J]});const xe=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],fe={saleId:H(se($,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:_,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:xe,sales:[...ye,fe]});const le=M+a.price;g.set(ue,{balance:le,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ce=H(se($,"sales"));g.set(Ce,{...J,provider:a.provider,providerId:a.providerId,providerPhone:_,saleDate:new Date().toISOString(),status:"pending",saleId:fe.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),w(g=>g-a.price),x(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:C?.email||"No proporcionado",password:C?.password||"No proporcionado",profile:C?.profile||"No proporcionado",pin:C?.pin||"No proporcionado"}:null}]})),W(null),F({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{D(!1)}},he=a=>{Y({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Y({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),ce(!0)},Ee=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Busca%20Personas`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const C=a.match(/(\d+)\s*(mes|meses)/i);if(C)return`${parseInt(C[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Ct,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(mt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Reintentar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/"),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg mt-4",children:"Volver al Inicio"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(dr,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Busca Personas...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(v.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:He,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(it,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ee,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(it,{className:"text-red-500",size:20})}),e.jsxs(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Et,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e756b6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Busca Personas"}),e.jsx(v.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Encuentra servicios para buscar personas de manera rápida y confiable"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Servicios de Búsqueda Disponibles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(v.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(cr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),oe[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(oe[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>W({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>W({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Ct,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ie&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ce(!1),Y(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ne&&e.jsx(v.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(v.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(mt,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ne.message}),e.jsx(v.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ne.onClose&&ne.onClose(),F(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function J7(){return e.jsx(Y7,{children:e.jsx(X7,{})})}N.memo(()=>{const[r,t]=N.useState(null),[s,n]=N.useState(0),[o,u]=N.useState(!0),[c,x]=N.useState(null),[p,w]=N.useState(!1),[T,D]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0}),[A,O]=N.useState(""),k=Qt();N.useEffect(()=>{const Y=tr(ot,async ie=>{if(ie)try{const ce=await yt(H($,"users",ie.uid));if(ce.exists()){const pe=ce.data();t({id:ie.uid,name:pe.username||"Usuario",email:ie.email,orders:pe.orders||[],role:pe.role||"user"}),n(Number(pe.balance)||0)}else x("Usuario no encontrado"),console.error("Usuario no encontrado en la base de datos")}catch(ce){x("Error al cargar datos"),console.error(ce)}else t(null),n(0);u(!1)});return()=>Y()},[]),N.useEffect(()=>{const ie=[{name:"Netflix",key:"netflix"},{name:"Spotify",key:"spotify"},{name:"Disney",key:"disney"},{name:"Max",key:"max"},{name:"Prime Video",key:"primevideo"},{name:"Vix",key:"vix"},{name:"Crunchyroll",key:"crunchyroll"},{name:"Canva",key:"canva"},{name:"ChatGPT",key:"chatgpt"},{name:"Redes Sociales",key:"redessociales"}].map(({name:ce,key:pe})=>{const X=ke(se($,"products"),_e("category","==",ce));return $e(X,ne=>{D(F=>({...F,[pe]:ne.docs.length}))},ne=>console.error(`Error loading ${ce}:`,ne))});return()=>ie.forEach(ce=>ce())},[]);const W=()=>{if(!r)return k("/login");k({user:"/dashboard/user",affiliate:"/dashboard/affiliate",provider:"/dashboard/provider",admin:"/dashboard/admin"}[r.role]||"/dashboard/user")},V=Y=>{Y.preventDefault(),A.trim()&&k(`/search?q=${encodeURIComponent(A)}`)};return o?e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:[e.jsx(tp,{className:"animate-spin text-4xl text-cyan-500"}),e.jsx("span",{className:"ml-2 text-white",children:"Cargando..."})]}):c?e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-900 p-4",children:[e.jsx(tp,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-400 mb-6",children:c}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600",children:"Reintentar"})]}):e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-800/80 backdrop-blur-sm",children:e.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(S,{to:"/",className:"flex items-center gap-2",children:[e.jsx("img",{src:qt,alt:"BlackStreaming",className:"h-8"}),e.jsx("span",{className:"text-lg font-bold text-cyan-500 hidden sm:block",children:"BlackStreaming"})]})}),e.jsx("form",{onSubmit:V,className:"flex-1 max-w-md mx-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar productos...",className:"w-full py-2 px-4 rounded-lg bg-gray-700 text-white border border-gray-600 focus:ring-2 focus:ring-cyan-500 focus:border-transparent",value:A,onChange:Y=>O(Y.target.value)}),e.jsx("button",{type:"submit",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-cyan-500",children:e.jsx(vt,{size:20})})]})}),e.jsx("div",{className:"flex items-center gap-2",children:r?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"hidden sm:block text-sm text-gray-300",children:r.name}),e.jsxs("span",{className:"px-3 py-1 bg-gray-700 rounded-lg text-sm",children:["S/ ",s.toFixed(2)]}),e.jsx("button",{onClick:W,className:"p-2 hover:bg-gray-700 rounded-lg",title:"Dashboard",children:e.jsx(it,{className:"text-cyan-500",size:20})}),e.jsxs("button",{onClick:()=>{ot.signOut(),k("/")},className:"flex items-center gap-1 px-3 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:[e.jsx(Zt,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>k("/login"),className:"px-3 py-2 text-sm hover:text-cyan-500",children:"Ingresar"}),e.jsx("button",{onClick:()=>k("/register"),className:"px-3 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 text-sm",children:"Registrarse"})]})})]})}),e.jsx("main",{className:"flex-1 p-6 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-lg text-center",children:[e.jsx("div",{className:"p-4 bg-gray-800 rounded-full inline-flex mb-6",children:e.jsx(tp,{className:"text-4xl text-cyan-500"})}),e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"En Mantenimiento"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Estamos mejorando nuestra plataforma para ti."}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-300 mb-6",children:[e.jsx(cr,{className:"text-yellow-500"}),e.jsx("span",{children:"Volveremos pronto."})]}),e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"¿Qué estamos haciendo?"}),e.jsxs("ul",{className:"text-left space-y-2 text-gray-300",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Corrección de errores en el sistema de pedidos"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Solución de fallos en el retiro de dinero"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Arreglo de errores al pasar del sistema al pedido"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Actualización del dashboard del proveedor"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Actualización del dashboard del usuario"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Refuerzo de la seguridad general del sitio"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Mejora en la visualización y diseño"]})]}),e.jsx("button",{onClick:()=>w(!0),className:"mt-4 text-cyan-500 hover:text-cyan-400 underline",children:"Términos Generales"})]})]})}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-800 rounded-lg max-w-lg w-full max-h-[80vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Términos y Condiciones"}),e.jsx("button",{onClick:()=>w(!1),className:"hover:text-gray-300",children:e.jsx(FiX,{size:24})})]}),e.jsx("div",{className:"space-y-4 text-gray-300",children:[{title:"Proceso de Compra",text:"El proveedor te contactará en 24 horas hábiles para los accesos."},{title:"Garantía",text:"7 días de garantía. El proveedor resolverá problemas o reembolsará."},{title:"Uso Responsable",text:"No nos responsabilizamos por suspensiones por mal uso."},{title:"Soporte",text:"Contacta al proveedor vía WhatsApp."},{title:"Renovaciones",text:"Solicita renovaciones manuales antes del fin del período."}].map(({title:Y,text:ie},ce)=>e.jsxs("div",{className:"p-4 bg-gray-700 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:Y}),e.jsx("p",{children:ie})]},ce))}),e.jsx("button",{onClick:()=>w(!1),className:"w-full mt-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-800 py-6",children:e.jsxs("div",{className:"container mx-auto px-4 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:qt,alt:"BlackStreaming",className:"h-6"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-500",children:"BlackStreaming"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Desarrollado por Saiph"})]})})]})});const ez=N.createContext(),tz=({children:r})=>{const t=xg(Od),[s,n]=N.useState(null),[o,u]=N.useState(!0);return N.useEffect(()=>{const c=tr(t,x=>{n(x),u(!1)});return()=>c()},[]),e.jsx(ez.Provider,{value:{user:s,loading:o},children:!o&&r})},rz=()=>e.jsx(uS,{children:e.jsxs(e.Fragment,{children:[e.jsx(Yt,{path:"/",element:e.jsx(wL,{})}),e.jsx(Yt,{path:"/login",element:e.jsx(PL,{})}),e.jsx(Yt,{path:"/register",element:e.jsx($L,{})}),e.jsx(Yt,{path:"/dashboard/user",element:e.jsx(WL,{})}),e.jsx(Yt,{path:"/dashboard/affiliate",element:e.jsx(QL,{})}),e.jsx(Yt,{path:"/dashboard/provider",element:e.jsx(nV,{})}),e.jsx(Yt,{path:"/dashboard/admin",element:e.jsx(vV,{})}),e.jsx(Yt,{path:"/netflix",element:e.jsx(NV,{})}),e.jsx(Yt,{path:"/disney",element:e.jsx(TV,{})}),e.jsx(Yt,{path:"/max",element:e.jsx(EV,{})}),e.jsx(Yt,{path:"/spotify",element:e.jsx(_V,{})}),e.jsx(Yt,{path:"/primevideo",element:e.jsx(RV,{})}),e.jsx(Yt,{path:"/vix",element:e.jsx(LV,{})}),e.jsx(Yt,{path:"/canva",element:e.jsx(BV,{})}),e.jsx(Yt,{path:"/chatgpt",element:e.jsx(HV,{})}),e.jsx(Yt,{path:"/crunchyroll",element:e.jsx(GV,{})}),e.jsx(Yt,{path:"/redessociales",element:e.jsx(ZV,{})}),e.jsx(Yt,{path:"/applemusic",element:e.jsx(JV,{})}),e.jsx(Yt,{path:"/appletv",element:e.jsx(r7,{})}),e.jsx(Yt,{path:"/iptv",element:e.jsx(n7,{})}),e.jsx(Yt,{path:"/flujotv",element:e.jsx(l7,{})}),e.jsx(Yt,{path:"/vikirakuten",element:e.jsx(u7,{})}),e.jsx(Yt,{path:"/pornhub",element:e.jsx(h7,{})}),e.jsx(Yt,{path:"/paramount",element:e.jsx(g7,{})}),e.jsx(Yt,{path:"/licencias",element:e.jsx(v7,{})}),e.jsx(Yt,{path:"/capcut",element:e.jsx(N7,{})}),e.jsx(Yt,{path:"/duolingo",element:e.jsx(T7,{})}),e.jsx(Yt,{path:"/dgo",element:e.jsx(E7,{})}),e.jsx(Yt,{path:"/ligamax",element:e.jsx(_7,{})}),e.jsx(Yt,{path:"/movistarplay",element:e.jsx(R7,{})}),e.jsx(Yt,{path:"/youtube",element:e.jsx(L7,{})}),e.jsx(Yt,{path:"/deezer",element:e.jsx(B7,{})}),e.jsx(Yt,{path:"/tidal",element:e.jsx(H7,{})}),e.jsx(Yt,{path:"/vpn",element:e.jsx(G7,{})}),e.jsx(Yt,{path:"/wintv",element:e.jsx(Z7,{})}),e.jsx(Yt,{path:"/buscapersonas",element:e.jsx(J7,{})})]})});j4.createRoot(document.getElementById("root")).render(e.jsx(gi.StrictMode,{children:e.jsx(AS,{children:e.jsx(tz,{children:e.jsx(rz,{})})})}));
