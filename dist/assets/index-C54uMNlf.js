(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}})();function CN(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Nh={exports:{}},Cc={},kh={exports:{}},Kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function h4(){if(iv)return Kt;iv=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),P=Symbol.iterator;function A(he){return he===null||typeof he!="object"?null:(he=P&&he[P]||he["@@iterator"],typeof he=="function"?he:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,H={};function V(he,be,Ce){this.props=he,this.context=be,this.refs=H,this.updater=Ce||O}V.prototype.isReactComponent={},V.prototype.setState=function(he,be){if(typeof he!="object"&&typeof he!="function"&&he!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,he,be,"setState")},V.prototype.forceUpdate=function(he){this.updater.enqueueForceUpdate(this,he,"forceUpdate")};function Z(){}Z.prototype=V.prototype;function ne(he,be,Ce){this.props=he,this.context=be,this.refs=H,this.updater=Ce||O}var oe=ne.prototype=new Z;oe.constructor=ne,k(oe,V.prototype),oe.isPureReactComponent=!0;var pe=Array.isArray,X=Object.prototype.hasOwnProperty,ie={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function h(he,be,Ce){var We,Re={},Ge=null,Le=null;if(be!=null)for(We in be.ref!==void 0&&(Le=be.ref),be.key!==void 0&&(Ge=""+be.key),be)X.call(be,We)&&!U.hasOwnProperty(We)&&(Re[We]=be[We]);var a=arguments.length-2;if(a===1)Re.children=Ce;else if(1<a){for(var D=Array(a),g=0;g<a;g++)D[g]=arguments[g+2];Re.children=D}if(he&&he.defaultProps)for(We in a=he.defaultProps,a)Re[We]===void 0&&(Re[We]=a[We]);return{$$typeof:r,type:he,key:Ge,ref:Le,props:Re,_owner:ie.current}}function Y(he,be){return{$$typeof:r,type:he.type,key:be,ref:he.ref,props:he.props,_owner:he._owner}}function Q(he){return typeof he=="object"&&he!==null&&he.$$typeof===r}function ae(he){var be={"=":"=0",":":"=2"};return"$"+he.replace(/[=:]/g,function(Ce){return be[Ce]})}var le=/\/+/g;function ee(he,be){return typeof he=="object"&&he!==null&&he.key!=null?ae(""+he.key):be.toString(36)}function K(he,be,Ce,We,Re){var Ge=typeof he;(Ge==="undefined"||Ge==="boolean")&&(he=null);var Le=!1;if(he===null)Le=!0;else switch(Ge){case"string":case"number":Le=!0;break;case"object":switch(he.$$typeof){case r:case t:Le=!0}}if(Le)return Le=he,Re=Re(Le),he=We===""?"."+ee(Le,0):We,pe(Re)?(Ce="",he!=null&&(Ce=he.replace(le,"$&/")+"/"),K(Re,be,Ce,"",function(g){return g})):Re!=null&&(Q(Re)&&(Re=Y(Re,Ce+(!Re.key||Le&&Le.key===Re.key?"":(""+Re.key).replace(le,"$&/")+"/")+he)),be.push(Re)),1;if(Le=0,We=We===""?".":We+":",pe(he))for(var a=0;a<he.length;a++){Ge=he[a];var D=We+ee(Ge,a);Le+=K(Ge,be,Ce,D,Re)}else if(D=A(he),typeof D=="function")for(he=D.call(he),a=0;!(Ge=he.next()).done;)Ge=Ge.value,D=We+ee(Ge,a++),Le+=K(Ge,be,Ce,D,Re);else if(Ge==="object")throw be=String(he),Error("Objects are not valid as a React child (found: "+(be==="[object Object]"?"object with keys {"+Object.keys(he).join(", ")+"}":be)+"). If you meant to render a collection of children, use an array instead.");return Le}function i(he,be,Ce){if(he==null)return he;var We=[],Re=0;return K(he,We,"","",function(Ge){return be.call(Ce,Ge,Re++)}),We}function Fe(he){if(he._status===-1){var be=he._result;be=be(),be.then(function(Ce){(he._status===0||he._status===-1)&&(he._status=1,he._result=Ce)},function(Ce){(he._status===0||he._status===-1)&&(he._status=2,he._result=Ce)}),he._status===-1&&(he._status=0,he._result=be)}if(he._status===1)return he._result.default;throw he._result}var je={current:null},Ne={transition:null},Ae={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:Ne,ReactCurrentOwner:ie};function Ie(){throw Error("act(...) is not supported in production builds of React.")}return Kt.Children={map:i,forEach:function(he,be,Ce){i(he,function(){be.apply(this,arguments)},Ce)},count:function(he){var be=0;return i(he,function(){be++}),be},toArray:function(he){return i(he,function(be){return be})||[]},only:function(he){if(!Q(he))throw Error("React.Children.only expected to receive a single React element child.");return he}},Kt.Component=V,Kt.Fragment=s,Kt.Profiler=o,Kt.PureComponent=ne,Kt.StrictMode=n,Kt.Suspense=p,Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ae,Kt.act=Ie,Kt.cloneElement=function(he,be,Ce){if(he==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+he+".");var We=k({},he.props),Re=he.key,Ge=he.ref,Le=he._owner;if(be!=null){if(be.ref!==void 0&&(Ge=be.ref,Le=ie.current),be.key!==void 0&&(Re=""+be.key),he.type&&he.type.defaultProps)var a=he.type.defaultProps;for(D in be)X.call(be,D)&&!U.hasOwnProperty(D)&&(We[D]=be[D]===void 0&&a!==void 0?a[D]:be[D])}var D=arguments.length-2;if(D===1)We.children=Ce;else if(1<D){a=Array(D);for(var g=0;g<D;g++)a[g]=arguments[g+2];We.children=a}return{$$typeof:r,type:he.type,key:Re,ref:Ge,props:We,_owner:Le}},Kt.createContext=function(he){return he={$$typeof:c,_currentValue:he,_currentValue2:he,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},he.Provider={$$typeof:u,_context:he},he.Consumer=he},Kt.createElement=h,Kt.createFactory=function(he){var be=h.bind(null,he);return be.type=he,be},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(he){return{$$typeof:m,render:he}},Kt.isValidElement=Q,Kt.lazy=function(he){return{$$typeof:T,_payload:{_status:-1,_result:he},_init:Fe}},Kt.memo=function(he,be){return{$$typeof:v,type:he,compare:be===void 0?null:be}},Kt.startTransition=function(he){var be=Ne.transition;Ne.transition={};try{he()}finally{Ne.transition=be}},Kt.unstable_act=Ie,Kt.useCallback=function(he,be){return je.current.useCallback(he,be)},Kt.useContext=function(he){return je.current.useContext(he)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(he){return je.current.useDeferredValue(he)},Kt.useEffect=function(he,be){return je.current.useEffect(he,be)},Kt.useId=function(){return je.current.useId()},Kt.useImperativeHandle=function(he,be,Ce){return je.current.useImperativeHandle(he,be,Ce)},Kt.useInsertionEffect=function(he,be){return je.current.useInsertionEffect(he,be)},Kt.useLayoutEffect=function(he,be){return je.current.useLayoutEffect(he,be)},Kt.useMemo=function(he,be){return je.current.useMemo(he,be)},Kt.useReducer=function(he,be,Ce){return je.current.useReducer(he,be,Ce)},Kt.useRef=function(he){return je.current.useRef(he)},Kt.useState=function(he){return je.current.useState(he)},Kt.useSyncExternalStore=function(he,be,Ce){return je.current.useSyncExternalStore(he,be,Ce)},Kt.useTransition=function(){return je.current.useTransition()},Kt.version="18.3.1",Kt}var ov;function rf(){return ov||(ov=1,kh.exports=h4()),kh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function p4(){if(lv)return Cc;lv=1;var r=rf(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(m,p,v){var T,P={},A=null,O=null;v!==void 0&&(A=""+v),p.key!==void 0&&(A=""+p.key),p.ref!==void 0&&(O=p.ref);for(T in p)n.call(p,T)&&!u.hasOwnProperty(T)&&(P[T]=p[T]);if(m&&m.defaultProps)for(T in p=m.defaultProps,p)P[T]===void 0&&(P[T]=p[T]);return{$$typeof:t,type:m,key:A,ref:O,props:P,_owner:o.current}}return Cc.Fragment=s,Cc.jsx=c,Cc.jsxs=c,Cc}var cv;function f4(){return cv||(cv=1,Nh.exports=p4()),Nh.exports}var e=f4(),N=rf();const gi=CN(N);var ru={},Sh={exports:{}},Ls={},Th={exports:{}},Ih={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function g4(){return dv||(dv=1,(function(r){function t(Ne,Ae){var Ie=Ne.length;Ne.push(Ae);e:for(;0<Ie;){var he=Ie-1>>>1,be=Ne[he];if(0<o(be,Ae))Ne[he]=Ae,Ne[Ie]=be,Ie=he;else break e}}function s(Ne){return Ne.length===0?null:Ne[0]}function n(Ne){if(Ne.length===0)return null;var Ae=Ne[0],Ie=Ne.pop();if(Ie!==Ae){Ne[0]=Ie;e:for(var he=0,be=Ne.length,Ce=be>>>1;he<Ce;){var We=2*(he+1)-1,Re=Ne[We],Ge=We+1,Le=Ne[Ge];if(0>o(Re,Ie))Ge<be&&0>o(Le,Re)?(Ne[he]=Le,Ne[Ge]=Ie,he=Ge):(Ne[he]=Re,Ne[We]=Ie,he=We);else if(Ge<be&&0>o(Le,Ie))Ne[he]=Le,Ne[Ge]=Ie,he=Ge;else break e}}return Ae}function o(Ne,Ae){var Ie=Ne.sortIndex-Ae.sortIndex;return Ie!==0?Ie:Ne.id-Ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();r.unstable_now=function(){return c.now()-m}}var p=[],v=[],T=1,P=null,A=3,O=!1,k=!1,H=!1,V=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function oe(Ne){for(var Ae=s(v);Ae!==null;){if(Ae.callback===null)n(v);else if(Ae.startTime<=Ne)n(v),Ae.sortIndex=Ae.expirationTime,t(p,Ae);else break;Ae=s(v)}}function pe(Ne){if(H=!1,oe(Ne),!k)if(s(p)!==null)k=!0,Fe(X);else{var Ae=s(v);Ae!==null&&je(pe,Ae.startTime-Ne)}}function X(Ne,Ae){k=!1,H&&(H=!1,Z(h),h=-1),O=!0;var Ie=A;try{for(oe(Ae),P=s(p);P!==null&&(!(P.expirationTime>Ae)||Ne&&!ae());){var he=P.callback;if(typeof he=="function"){P.callback=null,A=P.priorityLevel;var be=he(P.expirationTime<=Ae);Ae=r.unstable_now(),typeof be=="function"?P.callback=be:P===s(p)&&n(p),oe(Ae)}else n(p);P=s(p)}if(P!==null)var Ce=!0;else{var We=s(v);We!==null&&je(pe,We.startTime-Ae),Ce=!1}return Ce}finally{P=null,A=Ie,O=!1}}var ie=!1,U=null,h=-1,Y=5,Q=-1;function ae(){return!(r.unstable_now()-Q<Y)}function le(){if(U!==null){var Ne=r.unstable_now();Q=Ne;var Ae=!0;try{Ae=U(!0,Ne)}finally{Ae?ee():(ie=!1,U=null)}}else ie=!1}var ee;if(typeof ne=="function")ee=function(){ne(le)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,i=K.port2;K.port1.onmessage=le,ee=function(){i.postMessage(null)}}else ee=function(){V(le,0)};function Fe(Ne){U=Ne,ie||(ie=!0,ee())}function je(Ne,Ae){h=V(function(){Ne(r.unstable_now())},Ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Ne){Ne.callback=null},r.unstable_continueExecution=function(){k||O||(k=!0,Fe(X))},r.unstable_forceFrameRate=function(Ne){0>Ne||125<Ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<Ne?Math.floor(1e3/Ne):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_getFirstCallbackNode=function(){return s(p)},r.unstable_next=function(Ne){switch(A){case 1:case 2:case 3:var Ae=3;break;default:Ae=A}var Ie=A;A=Ae;try{return Ne()}finally{A=Ie}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Ne,Ae){switch(Ne){case 1:case 2:case 3:case 4:case 5:break;default:Ne=3}var Ie=A;A=Ne;try{return Ae()}finally{A=Ie}},r.unstable_scheduleCallback=function(Ne,Ae,Ie){var he=r.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?he+Ie:he):Ie=he,Ne){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=Ie+be,Ne={id:T++,callback:Ae,priorityLevel:Ne,startTime:Ie,expirationTime:be,sortIndex:-1},Ie>he?(Ne.sortIndex=Ie,t(v,Ne),s(p)===null&&Ne===s(v)&&(H?(Z(h),h=-1):H=!0,je(pe,Ie-he))):(Ne.sortIndex=be,t(p,Ne),k||O||(k=!0,Fe(X))),Ne},r.unstable_shouldYield=ae,r.unstable_wrapCallback=function(Ne){var Ae=A;return function(){var Ie=A;A=Ae;try{return Ne.apply(this,arguments)}finally{A=Ie}}}})(Ih)),Ih}var uv;function y4(){return uv||(uv=1,Th.exports=g4()),Th.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function b4(){if(xv)return Ls;xv=1;var r=rf(),t=y4();function s(l){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+l,x=1;x<arguments.length;x++)d+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function u(l,d){c(l,d),c(l+"Capture",d)}function c(l,d){for(o[l]=d,l=0;l<d.length;l++)n.add(d[l])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},P={};function A(l){return p.call(P,l)?!0:p.call(T,l)?!1:v.test(l)?P[l]=!0:(T[l]=!0,!1)}function O(l,d,x,w){if(x!==null&&x.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return w?!1:x!==null?!x.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function k(l,d,x,w){if(d===null||typeof d>"u"||O(l,d,x,w))return!0;if(w)return!1;if(x!==null)switch(x.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function H(l,d,x,w,C,L,G){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=w,this.attributeNamespace=C,this.mustUseProperty=x,this.propertyName=l,this.type=d,this.sanitizeURL=L,this.removeEmptyString=G}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){V[l]=new H(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var d=l[0];V[d]=new H(d,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){V[l]=new H(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){V[l]=new H(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){V[l]=new H(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){V[l]=new H(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){V[l]=new H(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){V[l]=new H(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){V[l]=new H(l,5,!1,l.toLowerCase(),null,!1,!1)});var Z=/[\-:]([a-z])/g;function ne(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var d=l.replace(Z,ne);V[d]=new H(d,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var d=l.replace(Z,ne);V[d]=new H(d,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var d=l.replace(Z,ne);V[d]=new H(d,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){V[l]=new H(l,1,!1,l.toLowerCase(),null,!1,!1)}),V.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){V[l]=new H(l,1,!1,l.toLowerCase(),null,!0,!0)});function oe(l,d,x,w){var C=V.hasOwnProperty(d)?V[d]:null;(C!==null?C.type!==0:w||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(k(d,x,C,w)&&(x=null),w||C===null?A(d)&&(x===null?l.removeAttribute(d):l.setAttribute(d,""+x)):C.mustUseProperty?l[C.propertyName]=x===null?C.type===3?!1:"":x:(d=C.attributeName,w=C.attributeNamespace,x===null?l.removeAttribute(d):(C=C.type,x=C===3||C===4&&x===!0?"":""+x,w?l.setAttributeNS(w,d,x):l.setAttribute(d,x))))}var pe=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),ie=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),ae=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),i=Symbol.for("react.memo"),Fe=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),Ne=Symbol.iterator;function Ae(l){return l===null||typeof l!="object"?null:(l=Ne&&l[Ne]||l["@@iterator"],typeof l=="function"?l:null)}var Ie=Object.assign,he;function be(l){if(he===void 0)try{throw Error()}catch(x){var d=x.stack.trim().match(/\n( *(at )?)/);he=d&&d[1]||""}return`
`+he+l}var Ce=!1;function We(l,d){if(!l||Ce)return"";Ce=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Ee){var w=Ee}Reflect.construct(l,[],d)}else{try{d.call()}catch(Ee){w=Ee}l.call(d.prototype)}else{try{throw Error()}catch(Ee){w=Ee}l()}}catch(Ee){if(Ee&&w&&typeof Ee.stack=="string"){for(var C=Ee.stack.split(`
`),L=w.stack.split(`
`),G=C.length-1,xe=L.length-1;1<=G&&0<=xe&&C[G]!==L[xe];)xe--;for(;1<=G&&0<=xe;G--,xe--)if(C[G]!==L[xe]){if(G!==1||xe!==1)do if(G--,xe--,0>xe||C[G]!==L[xe]){var ve=`
`+C[G].replace(" at new "," at ");return l.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",l.displayName)),ve}while(1<=G&&0<=xe);break}}}finally{Ce=!1,Error.prepareStackTrace=x}return(l=l?l.displayName||l.name:"")?be(l):""}function Re(l){switch(l.tag){case 5:return be(l.type);case 16:return be("Lazy");case 13:return be("Suspense");case 19:return be("SuspenseList");case 0:case 2:case 15:return l=We(l.type,!1),l;case 11:return l=We(l.type.render,!1),l;case 1:return l=We(l.type,!0),l;default:return""}}function Ge(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case U:return"Fragment";case ie:return"Portal";case Y:return"Profiler";case h:return"StrictMode";case ee:return"Suspense";case K:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case ae:return(l.displayName||"Context")+".Consumer";case Q:return(l._context.displayName||"Context")+".Provider";case le:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case i:return d=l.displayName||null,d!==null?d:Ge(l.type)||"Memo";case Fe:d=l._payload,l=l._init;try{return Ge(l(d))}catch{}}return null}function Le(l){var d=l.type;switch(l.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=d.render,l=l.displayName||l.name||"",d.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ge(d);case 8:return d===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function a(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function D(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function g(l){var d=D(l)?"checked":"value",x=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),w=""+l[d];if(!l.hasOwnProperty(d)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var C=x.get,L=x.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return C.call(this)},set:function(G){w=""+G,L.call(this,G)}}),Object.defineProperty(l,d,{enumerable:x.enumerable}),{getValue:function(){return w},setValue:function(G){w=""+G},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function z(l){l._valueTracker||(l._valueTracker=g(l))}function F(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var x=d.getValue(),w="";return l&&(w=D(l)?l.checked?"true":"false":l.value),l=w,l!==x?(d.setValue(l),!0):!1}function q(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function de(l,d){var x=d.checked;return Ie({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??l._wrapperState.initialChecked})}function ue(l,d){var x=d.defaultValue==null?"":d.defaultValue,w=d.checked!=null?d.checked:d.defaultChecked;x=a(d.value!=null?d.value:x),l._wrapperState={initialChecked:w,initialValue:x,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function E(l,d){d=d.checked,d!=null&&oe(l,"checked",d,!1)}function M(l,d){E(l,d);var x=a(d.value),w=d.type;if(x!=null)w==="number"?(x===0&&l.value===""||l.value!=x)&&(l.value=""+x):l.value!==""+x&&(l.value=""+x);else if(w==="submit"||w==="reset"){l.removeAttribute("value");return}d.hasOwnProperty("value")?f(l,d.type,x):d.hasOwnProperty("defaultValue")&&f(l,d.type,a(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(l.defaultChecked=!!d.defaultChecked)}function $(l,d,x){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var w=d.type;if(!(w!=="submit"&&w!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+l._wrapperState.initialValue,x||d===l.value||(l.value=d),l.defaultValue=d}x=l.name,x!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,x!==""&&(l.name=x)}function f(l,d,x){(d!=="number"||q(l.ownerDocument)!==l)&&(x==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+x&&(l.defaultValue=""+x))}var b=Array.isArray;function I(l,d,x,w){if(l=l.options,d){d={};for(var C=0;C<x.length;C++)d["$"+x[C]]=!0;for(x=0;x<l.length;x++)C=d.hasOwnProperty("$"+l[x].value),l[x].selected!==C&&(l[x].selected=C),C&&w&&(l[x].defaultSelected=!0)}else{for(x=""+a(x),d=null,C=0;C<l.length;C++){if(l[C].value===x){l[C].selected=!0,w&&(l[C].defaultSelected=!0);return}d!==null||l[C].disabled||(d=l[C])}d!==null&&(d.selected=!0)}}function J(l,d){if(d.dangerouslySetInnerHTML!=null)throw Error(s(91));return Ie({},d,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function te(l,d){var x=d.value;if(x==null){if(x=d.children,d=d.defaultValue,x!=null){if(d!=null)throw Error(s(92));if(b(x)){if(1<x.length)throw Error(s(93));x=x[0]}d=x}d==null&&(d=""),x=d}l._wrapperState={initialValue:a(x)}}function me(l,d){var x=a(d.value),w=a(d.defaultValue);x!=null&&(x=""+x,x!==l.value&&(l.value=x),d.defaultValue==null&&l.defaultValue!==x&&(l.defaultValue=x)),w!=null&&(l.defaultValue=""+w)}function ye(l){var d=l.textContent;d===l._wrapperState.initialValue&&d!==""&&d!==null&&(l.value=d)}function ge(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(l,d){return l==null||l==="http://www.w3.org/1999/xhtml"?ge(d):l==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var _e,qe=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,x,w,C){MSApp.execUnsafeLocalFunction(function(){return l(d,x,w,C)})}:l})(function(l,d){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=d;else{for(_e=_e||document.createElement("div"),_e.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=_e.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;d.firstChild;)l.appendChild(d.firstChild)}});function at(l,d){if(d){var x=l.firstChild;if(x&&x===l.lastChild&&x.nodeType===3){x.nodeValue=d;return}}l.textContent=d}var He={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dt=["Webkit","ms","Moz","O"];Object.keys(He).forEach(function(l){Dt.forEach(function(d){d=d+l.charAt(0).toUpperCase()+l.substring(1),He[d]=He[l]})});function ct(l,d,x){return d==null||typeof d=="boolean"||d===""?"":x||typeof d!="number"||d===0||He.hasOwnProperty(l)&&He[l]?(""+d).trim():d+"px"}function dt(l,d){l=l.style;for(var x in d)if(d.hasOwnProperty(x)){var w=x.indexOf("--")===0,C=ct(x,d[x],w);x==="float"&&(x="cssFloat"),w?l.setProperty(x,C):l[x]=C}}var Ke=Ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pt(l,d){if(d){if(Ke[l]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(s(137,l));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(s(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(s(61))}if(d.style!=null&&typeof d.style!="object")throw Error(s(62))}}function bt(l,d){if(l.indexOf("-")===-1)return typeof d.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Be=null;function Xe(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var $t=null,xt=null,Xt=null;function Ar(l){if(l=hc(l)){if(typeof $t!="function")throw Error(s(280));var d=l.stateNode;d&&(d=g0(d),$t(l.stateNode,l.type,d))}}function mr(l){xt?Xt?Xt.push(l):Xt=[l]:xt=l}function Wt(){if(xt){var l=xt,d=Xt;if(Xt=xt=null,Ar(l),d)for(l=0;l<d.length;l++)Ar(d[l])}}function Oa(l,d){return l(d)}function Fs(){}var ws=!1;function aa(l,d,x){if(ws)return l(d,x);ws=!0;try{return Oa(l,d,x)}finally{ws=!1,(xt!==null||Xt!==null)&&(Fs(),Wt())}}function vr(l,d){var x=l.stateNode;if(x===null)return null;var w=g0(x);if(w===null)return null;x=w[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(l=l.type,w=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!w;break e;default:l=!1}if(l)return null;if(x&&typeof x!="function")throw Error(s(231,d,typeof x));return x}var La=!1;if(m)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){La=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{La=!1}function Va(l,d,x,w,C,L,G,xe,ve){var Ee=Array.prototype.slice.call(arguments,3);try{d.apply(x,Ee)}catch(Ze){this.onError(Ze)}}var dn=!1,Vn=null,Hs=!1,un=null,Ql={onError:function(l){dn=!0,Vn=l}};function zn(l,d,x,w,C,L,G,xe,ve){dn=!1,Vn=null,Va.apply(Ql,arguments)}function Co(l,d,x,w,C,L,G,xe,ve){if(zn.apply(this,arguments),dn){if(dn){var Ee=Vn;dn=!1,Vn=null}else throw Error(s(198));Hs||(Hs=!0,un=Ee)}}function Ws(l){var d=l,x=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(x=d.return),l=d.return;while(l)}return d.tag===3?x:null}function Oi(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function ba(l){if(Ws(l)!==l)throw Error(s(188))}function Fd(l){var d=l.alternate;if(!d){if(d=Ws(l),d===null)throw Error(s(188));return d!==l?null:l}for(var x=l,w=d;;){var C=x.return;if(C===null)break;var L=C.alternate;if(L===null){if(w=C.return,w!==null){x=w;continue}break}if(C.child===L.child){for(L=C.child;L;){if(L===x)return ba(C),l;if(L===w)return ba(C),d;L=L.sibling}throw Error(s(188))}if(x.return!==w.return)x=C,w=L;else{for(var G=!1,xe=C.child;xe;){if(xe===x){G=!0,x=C,w=L;break}if(xe===w){G=!0,w=C,x=L;break}xe=xe.sibling}if(!G){for(xe=L.child;xe;){if(xe===x){G=!0,x=L,w=C;break}if(xe===w){G=!0,w=L,x=C;break}xe=xe.sibling}if(!G)throw Error(s(189))}}if(x.alternate!==w)throw Error(s(190))}if(x.tag!==3)throw Error(s(188));return x.stateNode.current===x?l:d}function Kl(l){return l=Fd(l),l!==null?Eo(l):null}function Eo(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var d=Eo(l);if(d!==null)return d;l=l.sibling}return null}var Do=t.unstable_scheduleCallback,Zl=t.unstable_cancelCallback,Hd=t.unstable_shouldYield,Xx=t.unstable_requestPaint,jr=t.unstable_now,Wd=t.unstable_getCurrentPriorityLevel,Li=t.unstable_ImmediatePriority,Bn=t.unstable_UserBlockingPriority,na=t.unstable_NormalPriority,Yl=t.unstable_LowPriority,qd=t.unstable_IdlePriority,Vi=null,qs=null;function Gd(l){if(qs&&typeof qs.onCommitFiberRoot=="function")try{qs.onCommitFiberRoot(Vi,l,void 0,(l.current.flags&128)===128)}catch{}}var Ns=Math.clz32?Math.clz32:Kd,Xl=Math.log,Qd=Math.LN2;function Kd(l){return l>>>=0,l===0?32:31-(Xl(l)/Qd|0)|0}var $o=64,_o=4194304;function Un(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function zi(l,d){var x=l.pendingLanes;if(x===0)return 0;var w=0,C=l.suspendedLanes,L=l.pingedLanes,G=x&268435455;if(G!==0){var xe=G&~C;xe!==0?w=Un(xe):(L&=G,L!==0&&(w=Un(L)))}else G=x&~C,G!==0?w=Un(G):L!==0&&(w=Un(L));if(w===0)return 0;if(d!==0&&d!==w&&(d&C)===0&&(C=w&-w,L=d&-d,C>=L||C===16&&(L&4194240)!==0))return d;if((w&4)!==0&&(w|=x&16),d=l.entangledLanes,d!==0)for(l=l.entanglements,d&=w;0<d;)x=31-Ns(d),C=1<<x,w|=l[x],d&=~C;return w}function Jx(l,d){switch(l){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xn(l,d){for(var x=l.suspendedLanes,w=l.pingedLanes,C=l.expirationTimes,L=l.pendingLanes;0<L;){var G=31-Ns(L),xe=1<<G,ve=C[G];ve===-1?((xe&x)===0||(xe&w)!==0)&&(C[G]=Jx(xe,d)):ve<=d&&(l.expiredLanes|=xe),L&=~xe}}function Gs(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Bi(){var l=$o;return $o<<=1,($o&4194240)===0&&($o=64),l}function Fn(l){for(var d=[],x=0;31>x;x++)d.push(l);return d}function Hn(l,d,x){l.pendingLanes|=d,d!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,d=31-Ns(d),l[d]=x}function gr(l,d){var x=l.pendingLanes&~d;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=d,l.mutableReadLanes&=d,l.entangledLanes&=d,d=l.entanglements;var w=l.eventTimes;for(l=l.expirationTimes;0<x;){var C=31-Ns(x),L=1<<C;d[C]=0,w[C]=-1,l[C]=-1,x&=~L}}function Wn(l,d){var x=l.entangledLanes|=d;for(l=l.entanglements;x;){var w=31-Ns(x),C=1<<w;C&d|l[w]&d&&(l[w]|=d),x&=~C}}var rr=0;function qn(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Zd,Ao,Yd,Xd,Jd,Jl=!1,za=[],ss=null,va=null,ja=null,Gn=new Map,ia=new Map,Ba=[],em="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function e0(l,d){switch(l){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":Gn.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":ia.delete(d.pointerId)}}function Ds(l,d,x,w,C,L){return l===null||l.nativeEvent!==L?(l={blockedOn:d,domEventName:x,eventSystemFlags:w,nativeEvent:L,targetContainers:[C]},d!==null&&(d=hc(d),d!==null&&Ao(d)),l):(l.eventSystemFlags|=w,d=l.targetContainers,C!==null&&d.indexOf(C)===-1&&d.push(C),l)}function tm(l,d,x,w,C){switch(d){case"focusin":return ss=Ds(ss,l,d,x,w,C),!0;case"dragenter":return va=Ds(va,l,d,x,w,C),!0;case"mouseover":return ja=Ds(ja,l,d,x,w,C),!0;case"pointerover":var L=C.pointerId;return Gn.set(L,Ds(Gn.get(L)||null,l,d,x,w,C)),!0;case"gotpointercapture":return L=C.pointerId,ia.set(L,Ds(ia.get(L)||null,l,d,x,w,C)),!0}return!1}function t0(l){var d=qi(l.target);if(d!==null){var x=Ws(d);if(x!==null){if(d=x.tag,d===13){if(d=Oi(x),d!==null){l.blockedOn=d,Jd(l.priority,function(){Yd(x)});return}}else if(d===3&&x.stateNode.current.memoizedState.isDehydrated){l.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}l.blockedOn=null}function mn(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var x=Ro(l.domEventName,l.eventSystemFlags,d[0],l.nativeEvent);if(x===null){x=l.nativeEvent;var w=new x.constructor(x.type,x);Be=w,x.target.dispatchEvent(w),Be=null}else return d=hc(x),d!==null&&Ao(d),l.blockedOn=x,!1;d.shift()}return!0}function Ui(l,d,x){mn(l)&&x.delete(d)}function r0(){Jl=!1,ss!==null&&mn(ss)&&(ss=null),va!==null&&mn(va)&&(va=null),ja!==null&&mn(ja)&&(ja=null),Gn.forEach(Ui),ia.forEach(Ui)}function wa(l,d){l.blockedOn===d&&(l.blockedOn=null,Jl||(Jl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,r0)))}function Na(l){function d(C){return wa(C,l)}if(0<za.length){wa(za[0],l);for(var x=1;x<za.length;x++){var w=za[x];w.blockedOn===l&&(w.blockedOn=null)}}for(ss!==null&&wa(ss,l),va!==null&&wa(va,l),ja!==null&&wa(ja,l),Gn.forEach(d),ia.forEach(d),x=0;x<Ba.length;x++)w=Ba[x],w.blockedOn===l&&(w.blockedOn=null);for(;0<Ba.length&&(x=Ba[0],x.blockedOn===null);)t0(x),x.blockedOn===null&&Ba.shift()}var hn=pe.ReactCurrentBatchConfig,Qn=!0;function Tr(l,d,x,w){var C=rr,L=hn.transition;hn.transition=null;try{rr=1,ec(l,d,x,w)}finally{rr=C,hn.transition=L}}function rm(l,d,x,w){var C=rr,L=hn.transition;hn.transition=null;try{rr=4,ec(l,d,x,w)}finally{rr=C,hn.transition=L}}function ec(l,d,x,w){if(Qn){var C=Ro(l,d,x,w);if(C===null)mm(l,d,w,Fi,x),e0(l,w);else if(tm(C,l,d,x,w))w.stopPropagation();else if(e0(l,w),d&4&&-1<em.indexOf(l)){for(;C!==null;){var L=hc(C);if(L!==null&&Zd(L),L=Ro(l,d,x,w),L===null&&mm(l,d,w,Fi,x),L===C)break;C=L}C!==null&&w.stopPropagation()}else mm(l,d,w,null,x)}}var Fi=null;function Ro(l,d,x,w){if(Fi=null,l=Xe(w),l=qi(l),l!==null)if(d=Ws(l),d===null)l=null;else if(x=d.tag,x===13){if(l=Oi(d),l!==null)return l;l=null}else if(x===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null);return Fi=l,null}function tc(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wd()){case Li:return 1;case Bn:return 4;case na:case Yl:return 16;case qd:return 536870912;default:return 16}default:return 16}}var Qs=null,Mo=null,$s=null;function rc(){if($s)return $s;var l,d=Mo,x=d.length,w,C="value"in Qs?Qs.value:Qs.textContent,L=C.length;for(l=0;l<x&&d[l]===C[l];l++);var G=x-l;for(w=1;w<=G&&d[x-w]===C[L-w];w++);return $s=C.slice(l,1<w?1-w:void 0)}function Oo(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function Ua(){return!0}function sc(){return!1}function as(l){function d(x,w,C,L,G){this._reactName=x,this._targetInst=C,this.type=w,this.nativeEvent=L,this.target=G,this.currentTarget=null;for(var xe in l)l.hasOwnProperty(xe)&&(x=l[xe],this[xe]=x?x(L):L[xe]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?Ua:sc,this.isPropagationStopped=sc,this}return Ie(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),d}var ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lo=as(ka),Fa=Ie({},ka,{view:0,detail:0}),sm=as(Fa),Vo,pn,Kn,Hi=Ie({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Kn&&(Kn&&l.type==="mousemove"?(Vo=l.screenX-Kn.screenX,pn=l.screenY-Kn.screenY):pn=Vo=0,Kn=l),Vo)},movementY:function(l){return"movementY"in l?l.movementY:pn}}),zo=as(Hi),ac=Ie({},Hi,{dataTransfer:0}),s0=as(ac),Bo=Ie({},Fa,{relatedTarget:0}),Uo=as(Bo),a0=Ie({},ka,{animationName:0,elapsedTime:0,pseudoElement:0}),fn=as(a0),n0=Ie({},ka,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),i0=as(n0),o0=Ie({},ka,{data:0}),nc=as(o0),Fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ks={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c0(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=l0[l])?!!d[l]:!1}function Ha(){return c0}var y=Ie({},Fa,{key:function(l){if(l.key){var d=Fo[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=Oo(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?ks[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(l){return l.type==="keypress"?Oo(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Oo(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),R=as(y),B=Ie({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),re=as(B),Se=Ie({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),Oe=as(Se),it=Ie({},ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),pr=as(it),Wr=Ie({},Hi,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),sr=as(Wr),Zr=[9,13,27,32],zr=m&&"CompositionEvent"in window,oa=null;m&&"documentMode"in document&&(oa=document.documentMode);var Ks=m&&"TextEvent"in window&&!oa,Wi=m&&(!zr||oa&&8<oa&&11>=oa),Ho=" ",ey=!1;function ty(l,d){switch(l){case"keyup":return Zr.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ry(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Wo=!1;function u3(l,d){switch(l){case"compositionend":return ry(d);case"keypress":return d.which!==32?null:(ey=!0,Ho);case"textInput":return l=d.data,l===Ho&&ey?null:l;default:return null}}function x3(l,d){if(Wo)return l==="compositionend"||!zr&&ty(l,d)?(l=rc(),$s=Mo=Qs=null,Wo=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Wi&&d.locale!=="ko"?null:d.data;default:return null}}var m3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sy(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!m3[l.type]:d==="textarea"}function ay(l,d,x,w){mr(w),d=h0(d,"onChange"),0<d.length&&(x=new Lo("onChange","change",null,x,w),l.push({event:x,listeners:d}))}var ic=null,oc=null;function h3(l){wy(l,0)}function d0(l){var d=Zo(l);if(F(d))return l}function p3(l,d){if(l==="change")return d}var ny=!1;if(m){var am;if(m){var nm="oninput"in document;if(!nm){var iy=document.createElement("div");iy.setAttribute("oninput","return;"),nm=typeof iy.oninput=="function"}am=nm}else am=!1;ny=am&&(!document.documentMode||9<document.documentMode)}function oy(){ic&&(ic.detachEvent("onpropertychange",ly),oc=ic=null)}function ly(l){if(l.propertyName==="value"&&d0(oc)){var d=[];ay(d,oc,l,Xe(l)),aa(h3,d)}}function f3(l,d,x){l==="focusin"?(oy(),ic=d,oc=x,ic.attachEvent("onpropertychange",ly)):l==="focusout"&&oy()}function g3(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return d0(oc)}function y3(l,d){if(l==="click")return d0(d)}function b3(l,d){if(l==="input"||l==="change")return d0(d)}function v3(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var Sa=typeof Object.is=="function"?Object.is:v3;function lc(l,d){if(Sa(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var x=Object.keys(l),w=Object.keys(d);if(x.length!==w.length)return!1;for(w=0;w<x.length;w++){var C=x[w];if(!p.call(d,C)||!Sa(l[C],d[C]))return!1}return!0}function cy(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function dy(l,d){var x=cy(l);l=0;for(var w;x;){if(x.nodeType===3){if(w=l+x.textContent.length,l<=d&&w>=d)return{node:x,offset:d-l};l=w}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=cy(x)}}function uy(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?uy(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function xy(){for(var l=window,d=q();d instanceof l.HTMLIFrameElement;){try{var x=typeof d.contentWindow.location.href=="string"}catch{x=!1}if(x)l=d.contentWindow;else break;d=q(l.document)}return d}function im(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function j3(l){var d=xy(),x=l.focusedElem,w=l.selectionRange;if(d!==x&&x&&x.ownerDocument&&uy(x.ownerDocument.documentElement,x)){if(w!==null&&im(x)){if(d=w.start,l=w.end,l===void 0&&(l=d),"selectionStart"in x)x.selectionStart=d,x.selectionEnd=Math.min(l,x.value.length);else if(l=(d=x.ownerDocument||document)&&d.defaultView||window,l.getSelection){l=l.getSelection();var C=x.textContent.length,L=Math.min(w.start,C);w=w.end===void 0?L:Math.min(w.end,C),!l.extend&&L>w&&(C=w,w=L,L=C),C=dy(x,L);var G=dy(x,w);C&&G&&(l.rangeCount!==1||l.anchorNode!==C.node||l.anchorOffset!==C.offset||l.focusNode!==G.node||l.focusOffset!==G.offset)&&(d=d.createRange(),d.setStart(C.node,C.offset),l.removeAllRanges(),L>w?(l.addRange(d),l.extend(G.node,G.offset)):(d.setEnd(G.node,G.offset),l.addRange(d)))}}for(d=[],l=x;l=l.parentNode;)l.nodeType===1&&d.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<d.length;x++)l=d[x],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var w3=m&&"documentMode"in document&&11>=document.documentMode,qo=null,om=null,cc=null,lm=!1;function my(l,d,x){var w=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;lm||qo==null||qo!==q(w)||(w=qo,"selectionStart"in w&&im(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),cc&&lc(cc,w)||(cc=w,w=h0(om,"onSelect"),0<w.length&&(d=new Lo("onSelect","select",null,d,x),l.push({event:d,listeners:w}),d.target=qo)))}function u0(l,d){var x={};return x[l.toLowerCase()]=d.toLowerCase(),x["Webkit"+l]="webkit"+d,x["Moz"+l]="moz"+d,x}var Go={animationend:u0("Animation","AnimationEnd"),animationiteration:u0("Animation","AnimationIteration"),animationstart:u0("Animation","AnimationStart"),transitionend:u0("Transition","TransitionEnd")},cm={},hy={};m&&(hy=document.createElement("div").style,"AnimationEvent"in window||(delete Go.animationend.animation,delete Go.animationiteration.animation,delete Go.animationstart.animation),"TransitionEvent"in window||delete Go.transitionend.transition);function x0(l){if(cm[l])return cm[l];if(!Go[l])return l;var d=Go[l],x;for(x in d)if(d.hasOwnProperty(x)&&x in hy)return cm[l]=d[x];return l}var py=x0("animationend"),fy=x0("animationiteration"),gy=x0("animationstart"),yy=x0("transitionend"),by=new Map,vy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zn(l,d){by.set(l,d),u(d,[l])}for(var dm=0;dm<vy.length;dm++){var um=vy[dm],N3=um.toLowerCase(),k3=um[0].toUpperCase()+um.slice(1);Zn(N3,"on"+k3)}Zn(py,"onAnimationEnd"),Zn(fy,"onAnimationIteration"),Zn(gy,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(yy,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S3=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function jy(l,d,x){var w=l.type||"unknown-event";l.currentTarget=x,Co(w,d,void 0,l),l.currentTarget=null}function wy(l,d){d=(d&4)!==0;for(var x=0;x<l.length;x++){var w=l[x],C=w.event;w=w.listeners;e:{var L=void 0;if(d)for(var G=w.length-1;0<=G;G--){var xe=w[G],ve=xe.instance,Ee=xe.currentTarget;if(xe=xe.listener,ve!==L&&C.isPropagationStopped())break e;jy(C,xe,Ee),L=ve}else for(G=0;G<w.length;G++){if(xe=w[G],ve=xe.instance,Ee=xe.currentTarget,xe=xe.listener,ve!==L&&C.isPropagationStopped())break e;jy(C,xe,Ee),L=ve}}}if(Hs)throw l=un,Hs=!1,un=null,l}function Nr(l,d){var x=d[bm];x===void 0&&(x=d[bm]=new Set);var w=l+"__bubble";x.has(w)||(Ny(d,l,2,!1),x.add(w))}function xm(l,d,x){var w=0;d&&(w|=4),Ny(x,l,w,d)}var m0="_reactListening"+Math.random().toString(36).slice(2);function uc(l){if(!l[m0]){l[m0]=!0,n.forEach(function(x){x!=="selectionchange"&&(S3.has(x)||xm(x,!1,l),xm(x,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[m0]||(d[m0]=!0,xm("selectionchange",!1,d))}}function Ny(l,d,x,w){switch(tc(d)){case 1:var C=Tr;break;case 4:C=rm;break;default:C=ec}x=C.bind(null,d,x,l),C=void 0,!La||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(C=!0),w?C!==void 0?l.addEventListener(d,x,{capture:!0,passive:C}):l.addEventListener(d,x,!0):C!==void 0?l.addEventListener(d,x,{passive:C}):l.addEventListener(d,x,!1)}function mm(l,d,x,w,C){var L=w;if((d&1)===0&&(d&2)===0&&w!==null)e:for(;;){if(w===null)return;var G=w.tag;if(G===3||G===4){var xe=w.stateNode.containerInfo;if(xe===C||xe.nodeType===8&&xe.parentNode===C)break;if(G===4)for(G=w.return;G!==null;){var ve=G.tag;if((ve===3||ve===4)&&(ve=G.stateNode.containerInfo,ve===C||ve.nodeType===8&&ve.parentNode===C))return;G=G.return}for(;xe!==null;){if(G=qi(xe),G===null)return;if(ve=G.tag,ve===5||ve===6){w=L=G;continue e}xe=xe.parentNode}}w=w.return}aa(function(){var Ee=L,Ze=Xe(x),Ye=[];e:{var Qe=by.get(l);if(Qe!==void 0){var mt=Lo,yt=l;switch(l){case"keypress":if(Oo(x)===0)break e;case"keydown":case"keyup":mt=R;break;case"focusin":yt="focus",mt=Uo;break;case"focusout":yt="blur",mt=Uo;break;case"beforeblur":case"afterblur":mt=Uo;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":mt=zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":mt=s0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":mt=Oe;break;case py:case fy:case gy:mt=fn;break;case yy:mt=pr;break;case"scroll":mt=sm;break;case"wheel":mt=sr;break;case"copy":case"cut":case"paste":mt=i0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":mt=re}var wt=(d&4)!==0,Or=!wt&&l==="scroll",Te=wt?Qe!==null?Qe+"Capture":null:Qe;wt=[];for(var we=Ee,Pe;we!==null;){Pe=we;var Je=Pe.stateNode;if(Pe.tag===5&&Je!==null&&(Pe=Je,Te!==null&&(Je=vr(we,Te),Je!=null&&wt.push(xc(we,Je,Pe)))),Or)break;we=we.return}0<wt.length&&(Qe=new mt(Qe,yt,null,x,Ze),Ye.push({event:Qe,listeners:wt}))}}if((d&7)===0){e:{if(Qe=l==="mouseover"||l==="pointerover",mt=l==="mouseout"||l==="pointerout",Qe&&x!==Be&&(yt=x.relatedTarget||x.fromElement)&&(qi(yt)||yt[gn]))break e;if((mt||Qe)&&(Qe=Ze.window===Ze?Ze:(Qe=Ze.ownerDocument)?Qe.defaultView||Qe.parentWindow:window,mt?(yt=x.relatedTarget||x.toElement,mt=Ee,yt=yt?qi(yt):null,yt!==null&&(Or=Ws(yt),yt!==Or||yt.tag!==5&&yt.tag!==6)&&(yt=null)):(mt=null,yt=Ee),mt!==yt)){if(wt=zo,Je="onMouseLeave",Te="onMouseEnter",we="mouse",(l==="pointerout"||l==="pointerover")&&(wt=re,Je="onPointerLeave",Te="onPointerEnter",we="pointer"),Or=mt==null?Qe:Zo(mt),Pe=yt==null?Qe:Zo(yt),Qe=new wt(Je,we+"leave",mt,x,Ze),Qe.target=Or,Qe.relatedTarget=Pe,Je=null,qi(Ze)===Ee&&(wt=new wt(Te,we+"enter",yt,x,Ze),wt.target=Pe,wt.relatedTarget=Or,Je=wt),Or=Je,mt&&yt)t:{for(wt=mt,Te=yt,we=0,Pe=wt;Pe;Pe=Qo(Pe))we++;for(Pe=0,Je=Te;Je;Je=Qo(Je))Pe++;for(;0<we-Pe;)wt=Qo(wt),we--;for(;0<Pe-we;)Te=Qo(Te),Pe--;for(;we--;){if(wt===Te||Te!==null&&wt===Te.alternate)break t;wt=Qo(wt),Te=Qo(Te)}wt=null}else wt=null;mt!==null&&ky(Ye,Qe,mt,wt,!1),yt!==null&&Or!==null&&ky(Ye,Or,yt,wt,!0)}}e:{if(Qe=Ee?Zo(Ee):window,mt=Qe.nodeName&&Qe.nodeName.toLowerCase(),mt==="select"||mt==="input"&&Qe.type==="file")var Nt=p3;else if(sy(Qe))if(ny)Nt=b3;else{Nt=g3;var At=f3}else(mt=Qe.nodeName)&&mt.toLowerCase()==="input"&&(Qe.type==="checkbox"||Qe.type==="radio")&&(Nt=y3);if(Nt&&(Nt=Nt(l,Ee))){ay(Ye,Nt,x,Ze);break e}At&&At(l,Qe,Ee),l==="focusout"&&(At=Qe._wrapperState)&&At.controlled&&Qe.type==="number"&&f(Qe,"number",Qe.value)}switch(At=Ee?Zo(Ee):window,l){case"focusin":(sy(At)||At.contentEditable==="true")&&(qo=At,om=Ee,cc=null);break;case"focusout":cc=om=qo=null;break;case"mousedown":lm=!0;break;case"contextmenu":case"mouseup":case"dragend":lm=!1,my(Ye,x,Ze);break;case"selectionchange":if(w3)break;case"keydown":case"keyup":my(Ye,x,Ze)}var Rt;if(zr)e:{switch(l){case"compositionstart":var Bt="onCompositionStart";break e;case"compositionend":Bt="onCompositionEnd";break e;case"compositionupdate":Bt="onCompositionUpdate";break e}Bt=void 0}else Wo?ty(l,x)&&(Bt="onCompositionEnd"):l==="keydown"&&x.keyCode===229&&(Bt="onCompositionStart");Bt&&(Wi&&x.locale!=="ko"&&(Wo||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&Wo&&(Rt=rc()):(Qs=Ze,Mo="value"in Qs?Qs.value:Qs.textContent,Wo=!0)),At=h0(Ee,Bt),0<At.length&&(Bt=new nc(Bt,l,null,x,Ze),Ye.push({event:Bt,listeners:At}),Rt?Bt.data=Rt:(Rt=ry(x),Rt!==null&&(Bt.data=Rt)))),(Rt=Ks?u3(l,x):x3(l,x))&&(Ee=h0(Ee,"onBeforeInput"),0<Ee.length&&(Ze=new nc("onBeforeInput","beforeinput",null,x,Ze),Ye.push({event:Ze,listeners:Ee}),Ze.data=Rt))}wy(Ye,d)})}function xc(l,d,x){return{instance:l,listener:d,currentTarget:x}}function h0(l,d){for(var x=d+"Capture",w=[];l!==null;){var C=l,L=C.stateNode;C.tag===5&&L!==null&&(C=L,L=vr(l,x),L!=null&&w.unshift(xc(l,L,C)),L=vr(l,d),L!=null&&w.push(xc(l,L,C))),l=l.return}return w}function Qo(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function ky(l,d,x,w,C){for(var L=d._reactName,G=[];x!==null&&x!==w;){var xe=x,ve=xe.alternate,Ee=xe.stateNode;if(ve!==null&&ve===w)break;xe.tag===5&&Ee!==null&&(xe=Ee,C?(ve=vr(x,L),ve!=null&&G.unshift(xc(x,ve,xe))):C||(ve=vr(x,L),ve!=null&&G.push(xc(x,ve,xe)))),x=x.return}G.length!==0&&l.push({event:d,listeners:G})}var T3=/\r\n?/g,I3=/\u0000|\uFFFD/g;function Sy(l){return(typeof l=="string"?l:""+l).replace(T3,`
`).replace(I3,"")}function p0(l,d,x){if(d=Sy(d),Sy(l)!==d&&x)throw Error(s(425))}function f0(){}var hm=null,pm=null;function fm(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var gm=typeof setTimeout=="function"?setTimeout:void 0,P3=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,C3=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(l){return Ty.resolve(null).then(l).catch(E3)}:gm;function E3(l){setTimeout(function(){throw l})}function ym(l,d){var x=d,w=0;do{var C=x.nextSibling;if(l.removeChild(x),C&&C.nodeType===8)if(x=C.data,x==="/$"){if(w===0){l.removeChild(C),Na(d);return}w--}else x!=="$"&&x!=="$?"&&x!=="$!"||w++;x=C}while(x);Na(d)}function Yn(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return l}function Iy(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var x=l.data;if(x==="$"||x==="$!"||x==="$?"){if(d===0)return l;d--}else x==="/$"&&d++}l=l.previousSibling}return null}var Ko=Math.random().toString(36).slice(2),Wa="__reactFiber$"+Ko,mc="__reactProps$"+Ko,gn="__reactContainer$"+Ko,bm="__reactEvents$"+Ko,D3="__reactListeners$"+Ko,$3="__reactHandles$"+Ko;function qi(l){var d=l[Wa];if(d)return d;for(var x=l.parentNode;x;){if(d=x[gn]||x[Wa]){if(x=d.alternate,d.child!==null||x!==null&&x.child!==null)for(l=Iy(l);l!==null;){if(x=l[Wa])return x;l=Iy(l)}return d}l=x,x=l.parentNode}return null}function hc(l){return l=l[Wa]||l[gn],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Zo(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(s(33))}function g0(l){return l[mc]||null}var vm=[],Yo=-1;function Xn(l){return{current:l}}function kr(l){0>Yo||(l.current=vm[Yo],vm[Yo]=null,Yo--)}function wr(l,d){Yo++,vm[Yo]=l.current,l.current=d}var Jn={},ms=Xn(Jn),_s=Xn(!1),Gi=Jn;function Xo(l,d){var x=l.type.contextTypes;if(!x)return Jn;var w=l.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===d)return w.__reactInternalMemoizedMaskedChildContext;var C={},L;for(L in x)C[L]=d[L];return w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=d,l.__reactInternalMemoizedMaskedChildContext=C),C}function As(l){return l=l.childContextTypes,l!=null}function y0(){kr(_s),kr(ms)}function Py(l,d,x){if(ms.current!==Jn)throw Error(s(168));wr(ms,d),wr(_s,x)}function Cy(l,d,x){var w=l.stateNode;if(d=d.childContextTypes,typeof w.getChildContext!="function")return x;w=w.getChildContext();for(var C in w)if(!(C in d))throw Error(s(108,Le(l)||"Unknown",C));return Ie({},x,w)}function b0(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Jn,Gi=ms.current,wr(ms,l),wr(_s,_s.current),!0}function Ey(l,d,x){var w=l.stateNode;if(!w)throw Error(s(169));x?(l=Cy(l,d,Gi),w.__reactInternalMemoizedMergedChildContext=l,kr(_s),kr(ms),wr(ms,l)):kr(_s),wr(_s,x)}var yn=null,v0=!1,jm=!1;function Dy(l){yn===null?yn=[l]:yn.push(l)}function _3(l){v0=!0,Dy(l)}function ei(){if(!jm&&yn!==null){jm=!0;var l=0,d=rr;try{var x=yn;for(rr=1;l<x.length;l++){var w=x[l];do w=w(!0);while(w!==null)}yn=null,v0=!1}catch(C){throw yn!==null&&(yn=yn.slice(l+1)),Do(Li,ei),C}finally{rr=d,jm=!1}}return null}var Jo=[],el=0,j0=null,w0=0,la=[],ca=0,Qi=null,bn=1,vn="";function Ki(l,d){Jo[el++]=w0,Jo[el++]=j0,j0=l,w0=d}function $y(l,d,x){la[ca++]=bn,la[ca++]=vn,la[ca++]=Qi,Qi=l;var w=bn;l=vn;var C=32-Ns(w)-1;w&=~(1<<C),x+=1;var L=32-Ns(d)+C;if(30<L){var G=C-C%5;L=(w&(1<<G)-1).toString(32),w>>=G,C-=G,bn=1<<32-Ns(d)+C|x<<C|w,vn=L+l}else bn=1<<L|x<<C|w,vn=l}function wm(l){l.return!==null&&(Ki(l,1),$y(l,1,0))}function Nm(l){for(;l===j0;)j0=Jo[--el],Jo[el]=null,w0=Jo[--el],Jo[el]=null;for(;l===Qi;)Qi=la[--ca],la[ca]=null,vn=la[--ca],la[ca]=null,bn=la[--ca],la[ca]=null}var Zs=null,Ys=null,Ir=!1,Ta=null;function _y(l,d){var x=ma(5,null,null,0);x.elementType="DELETED",x.stateNode=d,x.return=l,d=l.deletions,d===null?(l.deletions=[x],l.flags|=16):d.push(x)}function Ay(l,d){switch(l.tag){case 5:var x=l.type;return d=d.nodeType!==1||x.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(l.stateNode=d,Zs=l,Ys=Yn(d.firstChild),!0):!1;case 6:return d=l.pendingProps===""||d.nodeType!==3?null:d,d!==null?(l.stateNode=d,Zs=l,Ys=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(x=Qi!==null?{id:bn,overflow:vn}:null,l.memoizedState={dehydrated:d,treeContext:x,retryLane:1073741824},x=ma(18,null,null,0),x.stateNode=d,x.return=l,l.child=x,Zs=l,Ys=null,!0):!1;default:return!1}}function km(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Sm(l){if(Ir){var d=Ys;if(d){var x=d;if(!Ay(l,d)){if(km(l))throw Error(s(418));d=Yn(x.nextSibling);var w=Zs;d&&Ay(l,d)?_y(w,x):(l.flags=l.flags&-4097|2,Ir=!1,Zs=l)}}else{if(km(l))throw Error(s(418));l.flags=l.flags&-4097|2,Ir=!1,Zs=l}}}function Ry(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Zs=l}function N0(l){if(l!==Zs)return!1;if(!Ir)return Ry(l),Ir=!0,!1;var d;if((d=l.tag!==3)&&!(d=l.tag!==5)&&(d=l.type,d=d!=="head"&&d!=="body"&&!fm(l.type,l.memoizedProps)),d&&(d=Ys)){if(km(l))throw My(),Error(s(418));for(;d;)_y(l,d),d=Yn(d.nextSibling)}if(Ry(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(s(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8){var x=l.data;if(x==="/$"){if(d===0){Ys=Yn(l.nextSibling);break e}d--}else x!=="$"&&x!=="$!"&&x!=="$?"||d++}l=l.nextSibling}Ys=null}}else Ys=Zs?Yn(l.stateNode.nextSibling):null;return!0}function My(){for(var l=Ys;l;)l=Yn(l.nextSibling)}function tl(){Ys=Zs=null,Ir=!1}function Tm(l){Ta===null?Ta=[l]:Ta.push(l)}var A3=pe.ReactCurrentBatchConfig;function pc(l,d,x){if(l=x.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(s(309));var w=x.stateNode}if(!w)throw Error(s(147,l));var C=w,L=""+l;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===L?d.ref:(d=function(G){var xe=C.refs;G===null?delete xe[L]:xe[L]=G},d._stringRef=L,d)}if(typeof l!="string")throw Error(s(284));if(!x._owner)throw Error(s(290,l))}return l}function k0(l,d){throw l=Object.prototype.toString.call(d),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l))}function Oy(l){var d=l._init;return d(l._payload)}function Ly(l){function d(Te,we){if(l){var Pe=Te.deletions;Pe===null?(Te.deletions=[we],Te.flags|=16):Pe.push(we)}}function x(Te,we){if(!l)return null;for(;we!==null;)d(Te,we),we=we.sibling;return null}function w(Te,we){for(Te=new Map;we!==null;)we.key!==null?Te.set(we.key,we):Te.set(we.index,we),we=we.sibling;return Te}function C(Te,we){return Te=li(Te,we),Te.index=0,Te.sibling=null,Te}function L(Te,we,Pe){return Te.index=Pe,l?(Pe=Te.alternate,Pe!==null?(Pe=Pe.index,Pe<we?(Te.flags|=2,we):Pe):(Te.flags|=2,we)):(Te.flags|=1048576,we)}function G(Te){return l&&Te.alternate===null&&(Te.flags|=2),Te}function xe(Te,we,Pe,Je){return we===null||we.tag!==6?(we=gh(Pe,Te.mode,Je),we.return=Te,we):(we=C(we,Pe),we.return=Te,we)}function ve(Te,we,Pe,Je){var Nt=Pe.type;return Nt===U?Ze(Te,we,Pe.props.children,Je,Pe.key):we!==null&&(we.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===Fe&&Oy(Nt)===we.type)?(Je=C(we,Pe.props),Je.ref=pc(Te,we,Pe),Je.return=Te,Je):(Je=Q0(Pe.type,Pe.key,Pe.props,null,Te.mode,Je),Je.ref=pc(Te,we,Pe),Je.return=Te,Je)}function Ee(Te,we,Pe,Je){return we===null||we.tag!==4||we.stateNode.containerInfo!==Pe.containerInfo||we.stateNode.implementation!==Pe.implementation?(we=yh(Pe,Te.mode,Je),we.return=Te,we):(we=C(we,Pe.children||[]),we.return=Te,we)}function Ze(Te,we,Pe,Je,Nt){return we===null||we.tag!==7?(we=so(Pe,Te.mode,Je,Nt),we.return=Te,we):(we=C(we,Pe),we.return=Te,we)}function Ye(Te,we,Pe){if(typeof we=="string"&&we!==""||typeof we=="number")return we=gh(""+we,Te.mode,Pe),we.return=Te,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case X:return Pe=Q0(we.type,we.key,we.props,null,Te.mode,Pe),Pe.ref=pc(Te,null,we),Pe.return=Te,Pe;case ie:return we=yh(we,Te.mode,Pe),we.return=Te,we;case Fe:var Je=we._init;return Ye(Te,Je(we._payload),Pe)}if(b(we)||Ae(we))return we=so(we,Te.mode,Pe,null),we.return=Te,we;k0(Te,we)}return null}function Qe(Te,we,Pe,Je){var Nt=we!==null?we.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return Nt!==null?null:xe(Te,we,""+Pe,Je);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case X:return Pe.key===Nt?ve(Te,we,Pe,Je):null;case ie:return Pe.key===Nt?Ee(Te,we,Pe,Je):null;case Fe:return Nt=Pe._init,Qe(Te,we,Nt(Pe._payload),Je)}if(b(Pe)||Ae(Pe))return Nt!==null?null:Ze(Te,we,Pe,Je,null);k0(Te,Pe)}return null}function mt(Te,we,Pe,Je,Nt){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return Te=Te.get(Pe)||null,xe(we,Te,""+Je,Nt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case X:return Te=Te.get(Je.key===null?Pe:Je.key)||null,ve(we,Te,Je,Nt);case ie:return Te=Te.get(Je.key===null?Pe:Je.key)||null,Ee(we,Te,Je,Nt);case Fe:var At=Je._init;return mt(Te,we,Pe,At(Je._payload),Nt)}if(b(Je)||Ae(Je))return Te=Te.get(Pe)||null,Ze(we,Te,Je,Nt,null);k0(we,Je)}return null}function yt(Te,we,Pe,Je){for(var Nt=null,At=null,Rt=we,Bt=we=0,Jr=null;Rt!==null&&Bt<Pe.length;Bt++){Rt.index>Bt?(Jr=Rt,Rt=null):Jr=Rt.sibling;var xr=Qe(Te,Rt,Pe[Bt],Je);if(xr===null){Rt===null&&(Rt=Jr);break}l&&Rt&&xr.alternate===null&&d(Te,Rt),we=L(xr,we,Bt),At===null?Nt=xr:At.sibling=xr,At=xr,Rt=Jr}if(Bt===Pe.length)return x(Te,Rt),Ir&&Ki(Te,Bt),Nt;if(Rt===null){for(;Bt<Pe.length;Bt++)Rt=Ye(Te,Pe[Bt],Je),Rt!==null&&(we=L(Rt,we,Bt),At===null?Nt=Rt:At.sibling=Rt,At=Rt);return Ir&&Ki(Te,Bt),Nt}for(Rt=w(Te,Rt);Bt<Pe.length;Bt++)Jr=mt(Rt,Te,Bt,Pe[Bt],Je),Jr!==null&&(l&&Jr.alternate!==null&&Rt.delete(Jr.key===null?Bt:Jr.key),we=L(Jr,we,Bt),At===null?Nt=Jr:At.sibling=Jr,At=Jr);return l&&Rt.forEach(function(ci){return d(Te,ci)}),Ir&&Ki(Te,Bt),Nt}function wt(Te,we,Pe,Je){var Nt=Ae(Pe);if(typeof Nt!="function")throw Error(s(150));if(Pe=Nt.call(Pe),Pe==null)throw Error(s(151));for(var At=Nt=null,Rt=we,Bt=we=0,Jr=null,xr=Pe.next();Rt!==null&&!xr.done;Bt++,xr=Pe.next()){Rt.index>Bt?(Jr=Rt,Rt=null):Jr=Rt.sibling;var ci=Qe(Te,Rt,xr.value,Je);if(ci===null){Rt===null&&(Rt=Jr);break}l&&Rt&&ci.alternate===null&&d(Te,Rt),we=L(ci,we,Bt),At===null?Nt=ci:At.sibling=ci,At=ci,Rt=Jr}if(xr.done)return x(Te,Rt),Ir&&Ki(Te,Bt),Nt;if(Rt===null){for(;!xr.done;Bt++,xr=Pe.next())xr=Ye(Te,xr.value,Je),xr!==null&&(we=L(xr,we,Bt),At===null?Nt=xr:At.sibling=xr,At=xr);return Ir&&Ki(Te,Bt),Nt}for(Rt=w(Te,Rt);!xr.done;Bt++,xr=Pe.next())xr=mt(Rt,Te,Bt,xr.value,Je),xr!==null&&(l&&xr.alternate!==null&&Rt.delete(xr.key===null?Bt:xr.key),we=L(xr,we,Bt),At===null?Nt=xr:At.sibling=xr,At=xr);return l&&Rt.forEach(function(m4){return d(Te,m4)}),Ir&&Ki(Te,Bt),Nt}function Or(Te,we,Pe,Je){if(typeof Pe=="object"&&Pe!==null&&Pe.type===U&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case X:e:{for(var Nt=Pe.key,At=we;At!==null;){if(At.key===Nt){if(Nt=Pe.type,Nt===U){if(At.tag===7){x(Te,At.sibling),we=C(At,Pe.props.children),we.return=Te,Te=we;break e}}else if(At.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===Fe&&Oy(Nt)===At.type){x(Te,At.sibling),we=C(At,Pe.props),we.ref=pc(Te,At,Pe),we.return=Te,Te=we;break e}x(Te,At);break}else d(Te,At);At=At.sibling}Pe.type===U?(we=so(Pe.props.children,Te.mode,Je,Pe.key),we.return=Te,Te=we):(Je=Q0(Pe.type,Pe.key,Pe.props,null,Te.mode,Je),Je.ref=pc(Te,we,Pe),Je.return=Te,Te=Je)}return G(Te);case ie:e:{for(At=Pe.key;we!==null;){if(we.key===At)if(we.tag===4&&we.stateNode.containerInfo===Pe.containerInfo&&we.stateNode.implementation===Pe.implementation){x(Te,we.sibling),we=C(we,Pe.children||[]),we.return=Te,Te=we;break e}else{x(Te,we);break}else d(Te,we);we=we.sibling}we=yh(Pe,Te.mode,Je),we.return=Te,Te=we}return G(Te);case Fe:return At=Pe._init,Or(Te,we,At(Pe._payload),Je)}if(b(Pe))return yt(Te,we,Pe,Je);if(Ae(Pe))return wt(Te,we,Pe,Je);k0(Te,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"?(Pe=""+Pe,we!==null&&we.tag===6?(x(Te,we.sibling),we=C(we,Pe),we.return=Te,Te=we):(x(Te,we),we=gh(Pe,Te.mode,Je),we.return=Te,Te=we),G(Te)):x(Te,we)}return Or}var rl=Ly(!0),Vy=Ly(!1),S0=Xn(null),T0=null,sl=null,Im=null;function Pm(){Im=sl=T0=null}function Cm(l){var d=S0.current;kr(S0),l._currentValue=d}function Em(l,d,x){for(;l!==null;){var w=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,w!==null&&(w.childLanes|=d)):w!==null&&(w.childLanes&d)!==d&&(w.childLanes|=d),l===x)break;l=l.return}}function al(l,d){T0=l,Im=sl=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&d)!==0&&(Rs=!0),l.firstContext=null)}function da(l){var d=l._currentValue;if(Im!==l)if(l={context:l,memoizedValue:d,next:null},sl===null){if(T0===null)throw Error(s(308));sl=l,T0.dependencies={lanes:0,firstContext:l}}else sl=sl.next=l;return d}var Zi=null;function Dm(l){Zi===null?Zi=[l]:Zi.push(l)}function zy(l,d,x,w){var C=d.interleaved;return C===null?(x.next=x,Dm(d)):(x.next=C.next,C.next=x),d.interleaved=x,jn(l,w)}function jn(l,d){l.lanes|=d;var x=l.alternate;for(x!==null&&(x.lanes|=d),x=l,l=l.return;l!==null;)l.childLanes|=d,x=l.alternate,x!==null&&(x.childLanes|=d),x=l,l=l.return;return x.tag===3?x.stateNode:null}var ti=!1;function $m(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function By(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function wn(l,d){return{eventTime:l,lane:d,tag:0,payload:null,callback:null,next:null}}function ri(l,d,x){var w=l.updateQueue;if(w===null)return null;if(w=w.shared,(ir&2)!==0){var C=w.pending;return C===null?d.next=d:(d.next=C.next,C.next=d),w.pending=d,jn(l,x)}return C=w.interleaved,C===null?(d.next=d,Dm(w)):(d.next=C.next,C.next=d),w.interleaved=d,jn(l,x)}function I0(l,d,x){if(d=d.updateQueue,d!==null&&(d=d.shared,(x&4194240)!==0)){var w=d.lanes;w&=l.pendingLanes,x|=w,d.lanes=x,Wn(l,x)}}function Uy(l,d){var x=l.updateQueue,w=l.alternate;if(w!==null&&(w=w.updateQueue,x===w)){var C=null,L=null;if(x=x.firstBaseUpdate,x!==null){do{var G={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};L===null?C=L=G:L=L.next=G,x=x.next}while(x!==null);L===null?C=L=d:L=L.next=d}else C=L=d;x={baseState:w.baseState,firstBaseUpdate:C,lastBaseUpdate:L,shared:w.shared,effects:w.effects},l.updateQueue=x;return}l=x.lastBaseUpdate,l===null?x.firstBaseUpdate=d:l.next=d,x.lastBaseUpdate=d}function P0(l,d,x,w){var C=l.updateQueue;ti=!1;var L=C.firstBaseUpdate,G=C.lastBaseUpdate,xe=C.shared.pending;if(xe!==null){C.shared.pending=null;var ve=xe,Ee=ve.next;ve.next=null,G===null?L=Ee:G.next=Ee,G=ve;var Ze=l.alternate;Ze!==null&&(Ze=Ze.updateQueue,xe=Ze.lastBaseUpdate,xe!==G&&(xe===null?Ze.firstBaseUpdate=Ee:xe.next=Ee,Ze.lastBaseUpdate=ve))}if(L!==null){var Ye=C.baseState;G=0,Ze=Ee=ve=null,xe=L;do{var Qe=xe.lane,mt=xe.eventTime;if((w&Qe)===Qe){Ze!==null&&(Ze=Ze.next={eventTime:mt,lane:0,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null});e:{var yt=l,wt=xe;switch(Qe=d,mt=x,wt.tag){case 1:if(yt=wt.payload,typeof yt=="function"){Ye=yt.call(mt,Ye,Qe);break e}Ye=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=wt.payload,Qe=typeof yt=="function"?yt.call(mt,Ye,Qe):yt,Qe==null)break e;Ye=Ie({},Ye,Qe);break e;case 2:ti=!0}}xe.callback!==null&&xe.lane!==0&&(l.flags|=64,Qe=C.effects,Qe===null?C.effects=[xe]:Qe.push(xe))}else mt={eventTime:mt,lane:Qe,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null},Ze===null?(Ee=Ze=mt,ve=Ye):Ze=Ze.next=mt,G|=Qe;if(xe=xe.next,xe===null){if(xe=C.shared.pending,xe===null)break;Qe=xe,xe=Qe.next,Qe.next=null,C.lastBaseUpdate=Qe,C.shared.pending=null}}while(!0);if(Ze===null&&(ve=Ye),C.baseState=ve,C.firstBaseUpdate=Ee,C.lastBaseUpdate=Ze,d=C.shared.interleaved,d!==null){C=d;do G|=C.lane,C=C.next;while(C!==d)}else L===null&&(C.shared.lanes=0);Ji|=G,l.lanes=G,l.memoizedState=Ye}}function Fy(l,d,x){if(l=d.effects,d.effects=null,l!==null)for(d=0;d<l.length;d++){var w=l[d],C=w.callback;if(C!==null){if(w.callback=null,w=x,typeof C!="function")throw Error(s(191,C));C.call(w)}}}var fc={},qa=Xn(fc),gc=Xn(fc),yc=Xn(fc);function Yi(l){if(l===fc)throw Error(s(174));return l}function _m(l,d){switch(wr(yc,d),wr(gc,l),wr(qa,fc),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:ce(null,"");break;default:l=l===8?d.parentNode:d,d=l.namespaceURI||null,l=l.tagName,d=ce(d,l)}kr(qa),wr(qa,d)}function nl(){kr(qa),kr(gc),kr(yc)}function Hy(l){Yi(yc.current);var d=Yi(qa.current),x=ce(d,l.type);d!==x&&(wr(gc,l),wr(qa,x))}function Am(l){gc.current===l&&(kr(qa),kr(gc))}var Pr=Xn(0);function C0(l){for(var d=l;d!==null;){if(d.tag===13){var x=d.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Rm=[];function Mm(){for(var l=0;l<Rm.length;l++)Rm[l]._workInProgressVersionPrimary=null;Rm.length=0}var E0=pe.ReactCurrentDispatcher,Om=pe.ReactCurrentBatchConfig,Xi=0,Cr=null,qr=null,Yr=null,D0=!1,bc=!1,vc=0,R3=0;function hs(){throw Error(s(321))}function Lm(l,d){if(d===null)return!1;for(var x=0;x<d.length&&x<l.length;x++)if(!Sa(l[x],d[x]))return!1;return!0}function Vm(l,d,x,w,C,L){if(Xi=L,Cr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,E0.current=l===null||l.memoizedState===null?V3:z3,l=x(w,C),bc){L=0;do{if(bc=!1,vc=0,25<=L)throw Error(s(301));L+=1,Yr=qr=null,d.updateQueue=null,E0.current=B3,l=x(w,C)}while(bc)}if(E0.current=A0,d=qr!==null&&qr.next!==null,Xi=0,Yr=qr=Cr=null,D0=!1,d)throw Error(s(300));return l}function zm(){var l=vc!==0;return vc=0,l}function Ga(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yr===null?Cr.memoizedState=Yr=l:Yr=Yr.next=l,Yr}function ua(){if(qr===null){var l=Cr.alternate;l=l!==null?l.memoizedState:null}else l=qr.next;var d=Yr===null?Cr.memoizedState:Yr.next;if(d!==null)Yr=d,qr=l;else{if(l===null)throw Error(s(310));qr=l,l={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},Yr===null?Cr.memoizedState=Yr=l:Yr=Yr.next=l}return Yr}function jc(l,d){return typeof d=="function"?d(l):d}function Bm(l){var d=ua(),x=d.queue;if(x===null)throw Error(s(311));x.lastRenderedReducer=l;var w=qr,C=w.baseQueue,L=x.pending;if(L!==null){if(C!==null){var G=C.next;C.next=L.next,L.next=G}w.baseQueue=C=L,x.pending=null}if(C!==null){L=C.next,w=w.baseState;var xe=G=null,ve=null,Ee=L;do{var Ze=Ee.lane;if((Xi&Ze)===Ze)ve!==null&&(ve=ve.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),w=Ee.hasEagerState?Ee.eagerState:l(w,Ee.action);else{var Ye={lane:Ze,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};ve===null?(xe=ve=Ye,G=w):ve=ve.next=Ye,Cr.lanes|=Ze,Ji|=Ze}Ee=Ee.next}while(Ee!==null&&Ee!==L);ve===null?G=w:ve.next=xe,Sa(w,d.memoizedState)||(Rs=!0),d.memoizedState=w,d.baseState=G,d.baseQueue=ve,x.lastRenderedState=w}if(l=x.interleaved,l!==null){C=l;do L=C.lane,Cr.lanes|=L,Ji|=L,C=C.next;while(C!==l)}else C===null&&(x.lanes=0);return[d.memoizedState,x.dispatch]}function Um(l){var d=ua(),x=d.queue;if(x===null)throw Error(s(311));x.lastRenderedReducer=l;var w=x.dispatch,C=x.pending,L=d.memoizedState;if(C!==null){x.pending=null;var G=C=C.next;do L=l(L,G.action),G=G.next;while(G!==C);Sa(L,d.memoizedState)||(Rs=!0),d.memoizedState=L,d.baseQueue===null&&(d.baseState=L),x.lastRenderedState=L}return[L,w]}function Wy(){}function qy(l,d){var x=Cr,w=ua(),C=d(),L=!Sa(w.memoizedState,C);if(L&&(w.memoizedState=C,Rs=!0),w=w.queue,Fm(Ky.bind(null,x,w,l),[l]),w.getSnapshot!==d||L||Yr!==null&&Yr.memoizedState.tag&1){if(x.flags|=2048,wc(9,Qy.bind(null,x,w,C,d),void 0,null),Xr===null)throw Error(s(349));(Xi&30)!==0||Gy(x,d,C)}return C}function Gy(l,d,x){l.flags|=16384,l={getSnapshot:d,value:x},d=Cr.updateQueue,d===null?(d={lastEffect:null,stores:null},Cr.updateQueue=d,d.stores=[l]):(x=d.stores,x===null?d.stores=[l]:x.push(l))}function Qy(l,d,x,w){d.value=x,d.getSnapshot=w,Zy(d)&&Yy(l)}function Ky(l,d,x){return x(function(){Zy(d)&&Yy(l)})}function Zy(l){var d=l.getSnapshot;l=l.value;try{var x=d();return!Sa(l,x)}catch{return!0}}function Yy(l){var d=jn(l,1);d!==null&&Ea(d,l,1,-1)}function Xy(l){var d=Ga();return typeof l=="function"&&(l=l()),d.memoizedState=d.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jc,lastRenderedState:l},d.queue=l,l=l.dispatch=L3.bind(null,Cr,l),[d.memoizedState,l]}function wc(l,d,x,w){return l={tag:l,create:d,destroy:x,deps:w,next:null},d=Cr.updateQueue,d===null?(d={lastEffect:null,stores:null},Cr.updateQueue=d,d.lastEffect=l.next=l):(x=d.lastEffect,x===null?d.lastEffect=l.next=l:(w=x.next,x.next=l,l.next=w,d.lastEffect=l)),l}function Jy(){return ua().memoizedState}function $0(l,d,x,w){var C=Ga();Cr.flags|=l,C.memoizedState=wc(1|d,x,void 0,w===void 0?null:w)}function _0(l,d,x,w){var C=ua();w=w===void 0?null:w;var L=void 0;if(qr!==null){var G=qr.memoizedState;if(L=G.destroy,w!==null&&Lm(w,G.deps)){C.memoizedState=wc(d,x,L,w);return}}Cr.flags|=l,C.memoizedState=wc(1|d,x,L,w)}function eb(l,d){return $0(8390656,8,l,d)}function Fm(l,d){return _0(2048,8,l,d)}function tb(l,d){return _0(4,2,l,d)}function rb(l,d){return _0(4,4,l,d)}function sb(l,d){if(typeof d=="function")return l=l(),d(l),function(){d(null)};if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function ab(l,d,x){return x=x!=null?x.concat([l]):null,_0(4,4,sb.bind(null,d,l),x)}function Hm(){}function nb(l,d){var x=ua();d=d===void 0?null:d;var w=x.memoizedState;return w!==null&&d!==null&&Lm(d,w[1])?w[0]:(x.memoizedState=[l,d],l)}function ib(l,d){var x=ua();d=d===void 0?null:d;var w=x.memoizedState;return w!==null&&d!==null&&Lm(d,w[1])?w[0]:(l=l(),x.memoizedState=[l,d],l)}function ob(l,d,x){return(Xi&21)===0?(l.baseState&&(l.baseState=!1,Rs=!0),l.memoizedState=x):(Sa(x,d)||(x=Bi(),Cr.lanes|=x,Ji|=x,l.baseState=!0),d)}function M3(l,d){var x=rr;rr=x!==0&&4>x?x:4,l(!0);var w=Om.transition;Om.transition={};try{l(!1),d()}finally{rr=x,Om.transition=w}}function lb(){return ua().memoizedState}function O3(l,d,x){var w=ii(l);if(x={lane:w,action:x,hasEagerState:!1,eagerState:null,next:null},cb(l))db(d,x);else if(x=zy(l,d,x,w),x!==null){var C=Ts();Ea(x,l,w,C),ub(x,d,w)}}function L3(l,d,x){var w=ii(l),C={lane:w,action:x,hasEagerState:!1,eagerState:null,next:null};if(cb(l))db(d,C);else{var L=l.alternate;if(l.lanes===0&&(L===null||L.lanes===0)&&(L=d.lastRenderedReducer,L!==null))try{var G=d.lastRenderedState,xe=L(G,x);if(C.hasEagerState=!0,C.eagerState=xe,Sa(xe,G)){var ve=d.interleaved;ve===null?(C.next=C,Dm(d)):(C.next=ve.next,ve.next=C),d.interleaved=C;return}}catch{}finally{}x=zy(l,d,C,w),x!==null&&(C=Ts(),Ea(x,l,w,C),ub(x,d,w))}}function cb(l){var d=l.alternate;return l===Cr||d!==null&&d===Cr}function db(l,d){bc=D0=!0;var x=l.pending;x===null?d.next=d:(d.next=x.next,x.next=d),l.pending=d}function ub(l,d,x){if((x&4194240)!==0){var w=d.lanes;w&=l.pendingLanes,x|=w,d.lanes=x,Wn(l,x)}}var A0={readContext:da,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useInsertionEffect:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useSyncExternalStore:hs,useId:hs,unstable_isNewReconciler:!1},V3={readContext:da,useCallback:function(l,d){return Ga().memoizedState=[l,d===void 0?null:d],l},useContext:da,useEffect:eb,useImperativeHandle:function(l,d,x){return x=x!=null?x.concat([l]):null,$0(4194308,4,sb.bind(null,d,l),x)},useLayoutEffect:function(l,d){return $0(4194308,4,l,d)},useInsertionEffect:function(l,d){return $0(4,2,l,d)},useMemo:function(l,d){var x=Ga();return d=d===void 0?null:d,l=l(),x.memoizedState=[l,d],l},useReducer:function(l,d,x){var w=Ga();return d=x!==void 0?x(d):d,w.memoizedState=w.baseState=d,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:d},w.queue=l,l=l.dispatch=O3.bind(null,Cr,l),[w.memoizedState,l]},useRef:function(l){var d=Ga();return l={current:l},d.memoizedState=l},useState:Xy,useDebugValue:Hm,useDeferredValue:function(l){return Ga().memoizedState=l},useTransition:function(){var l=Xy(!1),d=l[0];return l=M3.bind(null,l[1]),Ga().memoizedState=l,[d,l]},useMutableSource:function(){},useSyncExternalStore:function(l,d,x){var w=Cr,C=Ga();if(Ir){if(x===void 0)throw Error(s(407));x=x()}else{if(x=d(),Xr===null)throw Error(s(349));(Xi&30)!==0||Gy(w,d,x)}C.memoizedState=x;var L={value:x,getSnapshot:d};return C.queue=L,eb(Ky.bind(null,w,L,l),[l]),w.flags|=2048,wc(9,Qy.bind(null,w,L,x,d),void 0,null),x},useId:function(){var l=Ga(),d=Xr.identifierPrefix;if(Ir){var x=vn,w=bn;x=(w&~(1<<32-Ns(w)-1)).toString(32)+x,d=":"+d+"R"+x,x=vc++,0<x&&(d+="H"+x.toString(32)),d+=":"}else x=R3++,d=":"+d+"r"+x.toString(32)+":";return l.memoizedState=d},unstable_isNewReconciler:!1},z3={readContext:da,useCallback:nb,useContext:da,useEffect:Fm,useImperativeHandle:ab,useInsertionEffect:tb,useLayoutEffect:rb,useMemo:ib,useReducer:Bm,useRef:Jy,useState:function(){return Bm(jc)},useDebugValue:Hm,useDeferredValue:function(l){var d=ua();return ob(d,qr.memoizedState,l)},useTransition:function(){var l=Bm(jc)[0],d=ua().memoizedState;return[l,d]},useMutableSource:Wy,useSyncExternalStore:qy,useId:lb,unstable_isNewReconciler:!1},B3={readContext:da,useCallback:nb,useContext:da,useEffect:Fm,useImperativeHandle:ab,useInsertionEffect:tb,useLayoutEffect:rb,useMemo:ib,useReducer:Um,useRef:Jy,useState:function(){return Um(jc)},useDebugValue:Hm,useDeferredValue:function(l){var d=ua();return qr===null?d.memoizedState=l:ob(d,qr.memoizedState,l)},useTransition:function(){var l=Um(jc)[0],d=ua().memoizedState;return[l,d]},useMutableSource:Wy,useSyncExternalStore:qy,useId:lb,unstable_isNewReconciler:!1};function Ia(l,d){if(l&&l.defaultProps){d=Ie({},d),l=l.defaultProps;for(var x in l)d[x]===void 0&&(d[x]=l[x]);return d}return d}function Wm(l,d,x,w){d=l.memoizedState,x=x(w,d),x=x==null?d:Ie({},d,x),l.memoizedState=x,l.lanes===0&&(l.updateQueue.baseState=x)}var R0={isMounted:function(l){return(l=l._reactInternals)?Ws(l)===l:!1},enqueueSetState:function(l,d,x){l=l._reactInternals;var w=Ts(),C=ii(l),L=wn(w,C);L.payload=d,x!=null&&(L.callback=x),d=ri(l,L,C),d!==null&&(Ea(d,l,C,w),I0(d,l,C))},enqueueReplaceState:function(l,d,x){l=l._reactInternals;var w=Ts(),C=ii(l),L=wn(w,C);L.tag=1,L.payload=d,x!=null&&(L.callback=x),d=ri(l,L,C),d!==null&&(Ea(d,l,C,w),I0(d,l,C))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var x=Ts(),w=ii(l),C=wn(x,w);C.tag=2,d!=null&&(C.callback=d),d=ri(l,C,w),d!==null&&(Ea(d,l,w,x),I0(d,l,w))}};function xb(l,d,x,w,C,L,G){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(w,L,G):d.prototype&&d.prototype.isPureReactComponent?!lc(x,w)||!lc(C,L):!0}function mb(l,d,x){var w=!1,C=Jn,L=d.contextType;return typeof L=="object"&&L!==null?L=da(L):(C=As(d)?Gi:ms.current,w=d.contextTypes,L=(w=w!=null)?Xo(l,C):Jn),d=new d(x,L),l.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=R0,l.stateNode=d,d._reactInternals=l,w&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=C,l.__reactInternalMemoizedMaskedChildContext=L),d}function hb(l,d,x,w){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(x,w),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(x,w),d.state!==l&&R0.enqueueReplaceState(d,d.state,null)}function qm(l,d,x,w){var C=l.stateNode;C.props=x,C.state=l.memoizedState,C.refs={},$m(l);var L=d.contextType;typeof L=="object"&&L!==null?C.context=da(L):(L=As(d)?Gi:ms.current,C.context=Xo(l,L)),C.state=l.memoizedState,L=d.getDerivedStateFromProps,typeof L=="function"&&(Wm(l,d,L,x),C.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(d=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),d!==C.state&&R0.enqueueReplaceState(C,C.state,null),P0(l,x,C,w),C.state=l.memoizedState),typeof C.componentDidMount=="function"&&(l.flags|=4194308)}function il(l,d){try{var x="",w=d;do x+=Re(w),w=w.return;while(w);var C=x}catch(L){C=`
Error generating stack: `+L.message+`
`+L.stack}return{value:l,source:d,stack:C,digest:null}}function Gm(l,d,x){return{value:l,source:null,stack:x??null,digest:d??null}}function Qm(l,d){try{console.error(d.value)}catch(x){setTimeout(function(){throw x})}}var U3=typeof WeakMap=="function"?WeakMap:Map;function pb(l,d,x){x=wn(-1,x),x.tag=3,x.payload={element:null};var w=d.value;return x.callback=function(){U0||(U0=!0,ch=w),Qm(l,d)},x}function fb(l,d,x){x=wn(-1,x),x.tag=3;var w=l.type.getDerivedStateFromError;if(typeof w=="function"){var C=d.value;x.payload=function(){return w(C)},x.callback=function(){Qm(l,d)}}var L=l.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(x.callback=function(){Qm(l,d),typeof w!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var G=d.stack;this.componentDidCatch(d.value,{componentStack:G!==null?G:""})}),x}function gb(l,d,x){var w=l.pingCache;if(w===null){w=l.pingCache=new U3;var C=new Set;w.set(d,C)}else C=w.get(d),C===void 0&&(C=new Set,w.set(d,C));C.has(x)||(C.add(x),l=r4.bind(null,l,d,x),d.then(l,l))}function yb(l){do{var d;if((d=l.tag===13)&&(d=l.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return l;l=l.return}while(l!==null);return null}function bb(l,d,x,w,C){return(l.mode&1)===0?(l===d?l.flags|=65536:(l.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(d=wn(-1,1),d.tag=2,ri(x,d,1))),x.lanes|=1),l):(l.flags|=65536,l.lanes=C,l)}var F3=pe.ReactCurrentOwner,Rs=!1;function Ss(l,d,x,w){d.child=l===null?Vy(d,null,x,w):rl(d,l.child,x,w)}function vb(l,d,x,w,C){x=x.render;var L=d.ref;return al(d,C),w=Vm(l,d,x,w,L,C),x=zm(),l!==null&&!Rs?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~C,Nn(l,d,C)):(Ir&&x&&wm(d),d.flags|=1,Ss(l,d,w,C),d.child)}function jb(l,d,x,w,C){if(l===null){var L=x.type;return typeof L=="function"&&!fh(L)&&L.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(d.tag=15,d.type=L,wb(l,d,L,w,C)):(l=Q0(x.type,null,w,d,d.mode,C),l.ref=d.ref,l.return=d,d.child=l)}if(L=l.child,(l.lanes&C)===0){var G=L.memoizedProps;if(x=x.compare,x=x!==null?x:lc,x(G,w)&&l.ref===d.ref)return Nn(l,d,C)}return d.flags|=1,l=li(L,w),l.ref=d.ref,l.return=d,d.child=l}function wb(l,d,x,w,C){if(l!==null){var L=l.memoizedProps;if(lc(L,w)&&l.ref===d.ref)if(Rs=!1,d.pendingProps=w=L,(l.lanes&C)!==0)(l.flags&131072)!==0&&(Rs=!0);else return d.lanes=l.lanes,Nn(l,d,C)}return Km(l,d,x,w,C)}function Nb(l,d,x){var w=d.pendingProps,C=w.children,L=l!==null?l.memoizedState:null;if(w.mode==="hidden")if((d.mode&1)===0)d.memoizedState={baseLanes:0,cachePool:null,transitions:null},wr(ll,Xs),Xs|=x;else{if((x&1073741824)===0)return l=L!==null?L.baseLanes|x:x,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:l,cachePool:null,transitions:null},d.updateQueue=null,wr(ll,Xs),Xs|=l,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=L!==null?L.baseLanes:x,wr(ll,Xs),Xs|=w}else L!==null?(w=L.baseLanes|x,d.memoizedState=null):w=x,wr(ll,Xs),Xs|=w;return Ss(l,d,C,x),d.child}function kb(l,d){var x=d.ref;(l===null&&x!==null||l!==null&&l.ref!==x)&&(d.flags|=512,d.flags|=2097152)}function Km(l,d,x,w,C){var L=As(x)?Gi:ms.current;return L=Xo(d,L),al(d,C),x=Vm(l,d,x,w,L,C),w=zm(),l!==null&&!Rs?(d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~C,Nn(l,d,C)):(Ir&&w&&wm(d),d.flags|=1,Ss(l,d,x,C),d.child)}function Sb(l,d,x,w,C){if(As(x)){var L=!0;b0(d)}else L=!1;if(al(d,C),d.stateNode===null)O0(l,d),mb(d,x,w),qm(d,x,w,C),w=!0;else if(l===null){var G=d.stateNode,xe=d.memoizedProps;G.props=xe;var ve=G.context,Ee=x.contextType;typeof Ee=="object"&&Ee!==null?Ee=da(Ee):(Ee=As(x)?Gi:ms.current,Ee=Xo(d,Ee));var Ze=x.getDerivedStateFromProps,Ye=typeof Ze=="function"||typeof G.getSnapshotBeforeUpdate=="function";Ye||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(xe!==w||ve!==Ee)&&hb(d,G,w,Ee),ti=!1;var Qe=d.memoizedState;G.state=Qe,P0(d,w,G,C),ve=d.memoizedState,xe!==w||Qe!==ve||_s.current||ti?(typeof Ze=="function"&&(Wm(d,x,Ze,w),ve=d.memoizedState),(xe=ti||xb(d,x,xe,w,Qe,ve,Ee))?(Ye||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(d.flags|=4194308)):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=w,d.memoizedState=ve),G.props=w,G.state=ve,G.context=Ee,w=xe):(typeof G.componentDidMount=="function"&&(d.flags|=4194308),w=!1)}else{G=d.stateNode,By(l,d),xe=d.memoizedProps,Ee=d.type===d.elementType?xe:Ia(d.type,xe),G.props=Ee,Ye=d.pendingProps,Qe=G.context,ve=x.contextType,typeof ve=="object"&&ve!==null?ve=da(ve):(ve=As(x)?Gi:ms.current,ve=Xo(d,ve));var mt=x.getDerivedStateFromProps;(Ze=typeof mt=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(xe!==Ye||Qe!==ve)&&hb(d,G,w,ve),ti=!1,Qe=d.memoizedState,G.state=Qe,P0(d,w,G,C);var yt=d.memoizedState;xe!==Ye||Qe!==yt||_s.current||ti?(typeof mt=="function"&&(Wm(d,x,mt,w),yt=d.memoizedState),(Ee=ti||xb(d,x,Ee,w,Qe,yt,ve)||!1)?(Ze||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(w,yt,ve),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(w,yt,ve)),typeof G.componentDidUpdate=="function"&&(d.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof G.componentDidUpdate!="function"||xe===l.memoizedProps&&Qe===l.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||xe===l.memoizedProps&&Qe===l.memoizedState||(d.flags|=1024),d.memoizedProps=w,d.memoizedState=yt),G.props=w,G.state=yt,G.context=ve,w=Ee):(typeof G.componentDidUpdate!="function"||xe===l.memoizedProps&&Qe===l.memoizedState||(d.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||xe===l.memoizedProps&&Qe===l.memoizedState||(d.flags|=1024),w=!1)}return Zm(l,d,x,w,L,C)}function Zm(l,d,x,w,C,L){kb(l,d);var G=(d.flags&128)!==0;if(!w&&!G)return C&&Ey(d,x,!1),Nn(l,d,L);w=d.stateNode,F3.current=d;var xe=G&&typeof x.getDerivedStateFromError!="function"?null:w.render();return d.flags|=1,l!==null&&G?(d.child=rl(d,l.child,null,L),d.child=rl(d,null,xe,L)):Ss(l,d,xe,L),d.memoizedState=w.state,C&&Ey(d,x,!0),d.child}function Tb(l){var d=l.stateNode;d.pendingContext?Py(l,d.pendingContext,d.pendingContext!==d.context):d.context&&Py(l,d.context,!1),_m(l,d.containerInfo)}function Ib(l,d,x,w,C){return tl(),Tm(C),d.flags|=256,Ss(l,d,x,w),d.child}var Ym={dehydrated:null,treeContext:null,retryLane:0};function Xm(l){return{baseLanes:l,cachePool:null,transitions:null}}function Pb(l,d,x){var w=d.pendingProps,C=Pr.current,L=!1,G=(d.flags&128)!==0,xe;if((xe=G)||(xe=l!==null&&l.memoizedState===null?!1:(C&2)!==0),xe?(L=!0,d.flags&=-129):(l===null||l.memoizedState!==null)&&(C|=1),wr(Pr,C&1),l===null)return Sm(d),l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((d.mode&1)===0?d.lanes=1:l.data==="$!"?d.lanes=8:d.lanes=1073741824,null):(G=w.children,l=w.fallback,L?(w=d.mode,L=d.child,G={mode:"hidden",children:G},(w&1)===0&&L!==null?(L.childLanes=0,L.pendingProps=G):L=K0(G,w,0,null),l=so(l,w,x,null),L.return=d,l.return=d,L.sibling=l,d.child=L,d.child.memoizedState=Xm(x),d.memoizedState=Ym,l):Jm(d,G));if(C=l.memoizedState,C!==null&&(xe=C.dehydrated,xe!==null))return H3(l,d,G,w,xe,C,x);if(L){L=w.fallback,G=d.mode,C=l.child,xe=C.sibling;var ve={mode:"hidden",children:w.children};return(G&1)===0&&d.child!==C?(w=d.child,w.childLanes=0,w.pendingProps=ve,d.deletions=null):(w=li(C,ve),w.subtreeFlags=C.subtreeFlags&14680064),xe!==null?L=li(xe,L):(L=so(L,G,x,null),L.flags|=2),L.return=d,w.return=d,w.sibling=L,d.child=w,w=L,L=d.child,G=l.child.memoizedState,G=G===null?Xm(x):{baseLanes:G.baseLanes|x,cachePool:null,transitions:G.transitions},L.memoizedState=G,L.childLanes=l.childLanes&~x,d.memoizedState=Ym,w}return L=l.child,l=L.sibling,w=li(L,{mode:"visible",children:w.children}),(d.mode&1)===0&&(w.lanes=x),w.return=d,w.sibling=null,l!==null&&(x=d.deletions,x===null?(d.deletions=[l],d.flags|=16):x.push(l)),d.child=w,d.memoizedState=null,w}function Jm(l,d){return d=K0({mode:"visible",children:d},l.mode,0,null),d.return=l,l.child=d}function M0(l,d,x,w){return w!==null&&Tm(w),rl(d,l.child,null,x),l=Jm(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function H3(l,d,x,w,C,L,G){if(x)return d.flags&256?(d.flags&=-257,w=Gm(Error(s(422))),M0(l,d,G,w)):d.memoizedState!==null?(d.child=l.child,d.flags|=128,null):(L=w.fallback,C=d.mode,w=K0({mode:"visible",children:w.children},C,0,null),L=so(L,C,G,null),L.flags|=2,w.return=d,L.return=d,w.sibling=L,d.child=w,(d.mode&1)!==0&&rl(d,l.child,null,G),d.child.memoizedState=Xm(G),d.memoizedState=Ym,L);if((d.mode&1)===0)return M0(l,d,G,null);if(C.data==="$!"){if(w=C.nextSibling&&C.nextSibling.dataset,w)var xe=w.dgst;return w=xe,L=Error(s(419)),w=Gm(L,w,void 0),M0(l,d,G,w)}if(xe=(G&l.childLanes)!==0,Rs||xe){if(w=Xr,w!==null){switch(G&-G){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(w.suspendedLanes|G))!==0?0:C,C!==0&&C!==L.retryLane&&(L.retryLane=C,jn(l,C),Ea(w,l,C,-1))}return ph(),w=Gm(Error(s(421))),M0(l,d,G,w)}return C.data==="$?"?(d.flags|=128,d.child=l.child,d=s4.bind(null,l),C._reactRetry=d,null):(l=L.treeContext,Ys=Yn(C.nextSibling),Zs=d,Ir=!0,Ta=null,l!==null&&(la[ca++]=bn,la[ca++]=vn,la[ca++]=Qi,bn=l.id,vn=l.overflow,Qi=d),d=Jm(d,w.children),d.flags|=4096,d)}function Cb(l,d,x){l.lanes|=d;var w=l.alternate;w!==null&&(w.lanes|=d),Em(l.return,d,x)}function eh(l,d,x,w,C){var L=l.memoizedState;L===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:w,tail:x,tailMode:C}:(L.isBackwards=d,L.rendering=null,L.renderingStartTime=0,L.last=w,L.tail=x,L.tailMode=C)}function Eb(l,d,x){var w=d.pendingProps,C=w.revealOrder,L=w.tail;if(Ss(l,d,w.children,x),w=Pr.current,(w&2)!==0)w=w&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Cb(l,x,d);else if(l.tag===19)Cb(l,x,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}w&=1}if(wr(Pr,w),(d.mode&1)===0)d.memoizedState=null;else switch(C){case"forwards":for(x=d.child,C=null;x!==null;)l=x.alternate,l!==null&&C0(l)===null&&(C=x),x=x.sibling;x=C,x===null?(C=d.child,d.child=null):(C=x.sibling,x.sibling=null),eh(d,!1,C,x,L);break;case"backwards":for(x=null,C=d.child,d.child=null;C!==null;){if(l=C.alternate,l!==null&&C0(l)===null){d.child=C;break}l=C.sibling,C.sibling=x,x=C,C=l}eh(d,!0,x,null,L);break;case"together":eh(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function O0(l,d){(d.mode&1)===0&&l!==null&&(l.alternate=null,d.alternate=null,d.flags|=2)}function Nn(l,d,x){if(l!==null&&(d.dependencies=l.dependencies),Ji|=d.lanes,(x&d.childLanes)===0)return null;if(l!==null&&d.child!==l.child)throw Error(s(153));if(d.child!==null){for(l=d.child,x=li(l,l.pendingProps),d.child=x,x.return=d;l.sibling!==null;)l=l.sibling,x=x.sibling=li(l,l.pendingProps),x.return=d;x.sibling=null}return d.child}function W3(l,d,x){switch(d.tag){case 3:Tb(d),tl();break;case 5:Hy(d);break;case 1:As(d.type)&&b0(d);break;case 4:_m(d,d.stateNode.containerInfo);break;case 10:var w=d.type._context,C=d.memoizedProps.value;wr(S0,w._currentValue),w._currentValue=C;break;case 13:if(w=d.memoizedState,w!==null)return w.dehydrated!==null?(wr(Pr,Pr.current&1),d.flags|=128,null):(x&d.child.childLanes)!==0?Pb(l,d,x):(wr(Pr,Pr.current&1),l=Nn(l,d,x),l!==null?l.sibling:null);wr(Pr,Pr.current&1);break;case 19:if(w=(x&d.childLanes)!==0,(l.flags&128)!==0){if(w)return Eb(l,d,x);d.flags|=128}if(C=d.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),wr(Pr,Pr.current),w)break;return null;case 22:case 23:return d.lanes=0,Nb(l,d,x)}return Nn(l,d,x)}var Db,th,$b,_b;Db=function(l,d){for(var x=d.child;x!==null;){if(x.tag===5||x.tag===6)l.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===d)break;for(;x.sibling===null;){if(x.return===null||x.return===d)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},th=function(){},$b=function(l,d,x,w){var C=l.memoizedProps;if(C!==w){l=d.stateNode,Yi(qa.current);var L=null;switch(x){case"input":C=de(l,C),w=de(l,w),L=[];break;case"select":C=Ie({},C,{value:void 0}),w=Ie({},w,{value:void 0}),L=[];break;case"textarea":C=J(l,C),w=J(l,w),L=[];break;default:typeof C.onClick!="function"&&typeof w.onClick=="function"&&(l.onclick=f0)}pt(x,w);var G;x=null;for(Ee in C)if(!w.hasOwnProperty(Ee)&&C.hasOwnProperty(Ee)&&C[Ee]!=null)if(Ee==="style"){var xe=C[Ee];for(G in xe)xe.hasOwnProperty(G)&&(x||(x={}),x[G]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(o.hasOwnProperty(Ee)?L||(L=[]):(L=L||[]).push(Ee,null));for(Ee in w){var ve=w[Ee];if(xe=C?.[Ee],w.hasOwnProperty(Ee)&&ve!==xe&&(ve!=null||xe!=null))if(Ee==="style")if(xe){for(G in xe)!xe.hasOwnProperty(G)||ve&&ve.hasOwnProperty(G)||(x||(x={}),x[G]="");for(G in ve)ve.hasOwnProperty(G)&&xe[G]!==ve[G]&&(x||(x={}),x[G]=ve[G])}else x||(L||(L=[]),L.push(Ee,x)),x=ve;else Ee==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,xe=xe?xe.__html:void 0,ve!=null&&xe!==ve&&(L=L||[]).push(Ee,ve)):Ee==="children"?typeof ve!="string"&&typeof ve!="number"||(L=L||[]).push(Ee,""+ve):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(o.hasOwnProperty(Ee)?(ve!=null&&Ee==="onScroll"&&Nr("scroll",l),L||xe===ve||(L=[])):(L=L||[]).push(Ee,ve))}x&&(L=L||[]).push("style",x);var Ee=L;(d.updateQueue=Ee)&&(d.flags|=4)}},_b=function(l,d,x,w){x!==w&&(d.flags|=4)};function Nc(l,d){if(!Ir)switch(l.tailMode){case"hidden":d=l.tail;for(var x=null;d!==null;)d.alternate!==null&&(x=d),d=d.sibling;x===null?l.tail=null:x.sibling=null;break;case"collapsed":x=l.tail;for(var w=null;x!==null;)x.alternate!==null&&(w=x),x=x.sibling;w===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:w.sibling=null}}function ps(l){var d=l.alternate!==null&&l.alternate.child===l.child,x=0,w=0;if(d)for(var C=l.child;C!==null;)x|=C.lanes|C.childLanes,w|=C.subtreeFlags&14680064,w|=C.flags&14680064,C.return=l,C=C.sibling;else for(C=l.child;C!==null;)x|=C.lanes|C.childLanes,w|=C.subtreeFlags,w|=C.flags,C.return=l,C=C.sibling;return l.subtreeFlags|=w,l.childLanes=x,d}function q3(l,d,x){var w=d.pendingProps;switch(Nm(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ps(d),null;case 1:return As(d.type)&&y0(),ps(d),null;case 3:return w=d.stateNode,nl(),kr(_s),kr(ms),Mm(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(l===null||l.child===null)&&(N0(d)?d.flags|=4:l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Ta!==null&&(xh(Ta),Ta=null))),th(l,d),ps(d),null;case 5:Am(d);var C=Yi(yc.current);if(x=d.type,l!==null&&d.stateNode!=null)$b(l,d,x,w,C),l.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!w){if(d.stateNode===null)throw Error(s(166));return ps(d),null}if(l=Yi(qa.current),N0(d)){w=d.stateNode,x=d.type;var L=d.memoizedProps;switch(w[Wa]=d,w[mc]=L,l=(d.mode&1)!==0,x){case"dialog":Nr("cancel",w),Nr("close",w);break;case"iframe":case"object":case"embed":Nr("load",w);break;case"video":case"audio":for(C=0;C<dc.length;C++)Nr(dc[C],w);break;case"source":Nr("error",w);break;case"img":case"image":case"link":Nr("error",w),Nr("load",w);break;case"details":Nr("toggle",w);break;case"input":ue(w,L),Nr("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!L.multiple},Nr("invalid",w);break;case"textarea":te(w,L),Nr("invalid",w)}pt(x,L),C=null;for(var G in L)if(L.hasOwnProperty(G)){var xe=L[G];G==="children"?typeof xe=="string"?w.textContent!==xe&&(L.suppressHydrationWarning!==!0&&p0(w.textContent,xe,l),C=["children",xe]):typeof xe=="number"&&w.textContent!==""+xe&&(L.suppressHydrationWarning!==!0&&p0(w.textContent,xe,l),C=["children",""+xe]):o.hasOwnProperty(G)&&xe!=null&&G==="onScroll"&&Nr("scroll",w)}switch(x){case"input":z(w),$(w,L,!0);break;case"textarea":z(w),ye(w);break;case"select":case"option":break;default:typeof L.onClick=="function"&&(w.onclick=f0)}w=C,d.updateQueue=w,w!==null&&(d.flags|=4)}else{G=C.nodeType===9?C:C.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=ge(x)),l==="http://www.w3.org/1999/xhtml"?x==="script"?(l=G.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof w.is=="string"?l=G.createElement(x,{is:w.is}):(l=G.createElement(x),x==="select"&&(G=l,w.multiple?G.multiple=!0:w.size&&(G.size=w.size))):l=G.createElementNS(l,x),l[Wa]=d,l[mc]=w,Db(l,d,!1,!1),d.stateNode=l;e:{switch(G=bt(x,w),x){case"dialog":Nr("cancel",l),Nr("close",l),C=w;break;case"iframe":case"object":case"embed":Nr("load",l),C=w;break;case"video":case"audio":for(C=0;C<dc.length;C++)Nr(dc[C],l);C=w;break;case"source":Nr("error",l),C=w;break;case"img":case"image":case"link":Nr("error",l),Nr("load",l),C=w;break;case"details":Nr("toggle",l),C=w;break;case"input":ue(l,w),C=de(l,w),Nr("invalid",l);break;case"option":C=w;break;case"select":l._wrapperState={wasMultiple:!!w.multiple},C=Ie({},w,{value:void 0}),Nr("invalid",l);break;case"textarea":te(l,w),C=J(l,w),Nr("invalid",l);break;default:C=w}pt(x,C),xe=C;for(L in xe)if(xe.hasOwnProperty(L)){var ve=xe[L];L==="style"?dt(l,ve):L==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&qe(l,ve)):L==="children"?typeof ve=="string"?(x!=="textarea"||ve!=="")&&at(l,ve):typeof ve=="number"&&at(l,""+ve):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(o.hasOwnProperty(L)?ve!=null&&L==="onScroll"&&Nr("scroll",l):ve!=null&&oe(l,L,ve,G))}switch(x){case"input":z(l),$(l,w,!1);break;case"textarea":z(l),ye(l);break;case"option":w.value!=null&&l.setAttribute("value",""+a(w.value));break;case"select":l.multiple=!!w.multiple,L=w.value,L!=null?I(l,!!w.multiple,L,!1):w.defaultValue!=null&&I(l,!!w.multiple,w.defaultValue,!0);break;default:typeof C.onClick=="function"&&(l.onclick=f0)}switch(x){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return ps(d),null;case 6:if(l&&d.stateNode!=null)_b(l,d,l.memoizedProps,w);else{if(typeof w!="string"&&d.stateNode===null)throw Error(s(166));if(x=Yi(yc.current),Yi(qa.current),N0(d)){if(w=d.stateNode,x=d.memoizedProps,w[Wa]=d,(L=w.nodeValue!==x)&&(l=Zs,l!==null))switch(l.tag){case 3:p0(w.nodeValue,x,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&p0(w.nodeValue,x,(l.mode&1)!==0)}L&&(d.flags|=4)}else w=(x.nodeType===9?x:x.ownerDocument).createTextNode(w),w[Wa]=d,d.stateNode=w}return ps(d),null;case 13:if(kr(Pr),w=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Ir&&Ys!==null&&(d.mode&1)!==0&&(d.flags&128)===0)My(),tl(),d.flags|=98560,L=!1;else if(L=N0(d),w!==null&&w.dehydrated!==null){if(l===null){if(!L)throw Error(s(318));if(L=d.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(s(317));L[Wa]=d}else tl(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;ps(d),L=!1}else Ta!==null&&(xh(Ta),Ta=null),L=!0;if(!L)return d.flags&65536?d:null}return(d.flags&128)!==0?(d.lanes=x,d):(w=w!==null,w!==(l!==null&&l.memoizedState!==null)&&w&&(d.child.flags|=8192,(d.mode&1)!==0&&(l===null||(Pr.current&1)!==0?Gr===0&&(Gr=3):ph())),d.updateQueue!==null&&(d.flags|=4),ps(d),null);case 4:return nl(),th(l,d),l===null&&uc(d.stateNode.containerInfo),ps(d),null;case 10:return Cm(d.type._context),ps(d),null;case 17:return As(d.type)&&y0(),ps(d),null;case 19:if(kr(Pr),L=d.memoizedState,L===null)return ps(d),null;if(w=(d.flags&128)!==0,G=L.rendering,G===null)if(w)Nc(L,!1);else{if(Gr!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(G=C0(l),G!==null){for(d.flags|=128,Nc(L,!1),w=G.updateQueue,w!==null&&(d.updateQueue=w,d.flags|=4),d.subtreeFlags=0,w=x,x=d.child;x!==null;)L=x,l=w,L.flags&=14680066,G=L.alternate,G===null?(L.childLanes=0,L.lanes=l,L.child=null,L.subtreeFlags=0,L.memoizedProps=null,L.memoizedState=null,L.updateQueue=null,L.dependencies=null,L.stateNode=null):(L.childLanes=G.childLanes,L.lanes=G.lanes,L.child=G.child,L.subtreeFlags=0,L.deletions=null,L.memoizedProps=G.memoizedProps,L.memoizedState=G.memoizedState,L.updateQueue=G.updateQueue,L.type=G.type,l=G.dependencies,L.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),x=x.sibling;return wr(Pr,Pr.current&1|2),d.child}l=l.sibling}L.tail!==null&&jr()>cl&&(d.flags|=128,w=!0,Nc(L,!1),d.lanes=4194304)}else{if(!w)if(l=C0(G),l!==null){if(d.flags|=128,w=!0,x=l.updateQueue,x!==null&&(d.updateQueue=x,d.flags|=4),Nc(L,!0),L.tail===null&&L.tailMode==="hidden"&&!G.alternate&&!Ir)return ps(d),null}else 2*jr()-L.renderingStartTime>cl&&x!==1073741824&&(d.flags|=128,w=!0,Nc(L,!1),d.lanes=4194304);L.isBackwards?(G.sibling=d.child,d.child=G):(x=L.last,x!==null?x.sibling=G:d.child=G,L.last=G)}return L.tail!==null?(d=L.tail,L.rendering=d,L.tail=d.sibling,L.renderingStartTime=jr(),d.sibling=null,x=Pr.current,wr(Pr,w?x&1|2:x&1),d):(ps(d),null);case 22:case 23:return hh(),w=d.memoizedState!==null,l!==null&&l.memoizedState!==null!==w&&(d.flags|=8192),w&&(d.mode&1)!==0?(Xs&1073741824)!==0&&(ps(d),d.subtreeFlags&6&&(d.flags|=8192)):ps(d),null;case 24:return null;case 25:return null}throw Error(s(156,d.tag))}function G3(l,d){switch(Nm(d),d.tag){case 1:return As(d.type)&&y0(),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return nl(),kr(_s),kr(ms),Mm(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 5:return Am(d),null;case 13:if(kr(Pr),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(s(340));tl()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return kr(Pr),null;case 4:return nl(),null;case 10:return Cm(d.type._context),null;case 22:case 23:return hh(),null;case 24:return null;default:return null}}var L0=!1,fs=!1,Q3=typeof WeakSet=="function"?WeakSet:Set,ft=null;function ol(l,d){var x=l.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(w){Rr(l,d,w)}else x.current=null}function rh(l,d,x){try{x()}catch(w){Rr(l,d,w)}}var Ab=!1;function K3(l,d){if(hm=Qn,l=xy(),im(l)){if("selectionStart"in l)var x={start:l.selectionStart,end:l.selectionEnd};else e:{x=(x=l.ownerDocument)&&x.defaultView||window;var w=x.getSelection&&x.getSelection();if(w&&w.rangeCount!==0){x=w.anchorNode;var C=w.anchorOffset,L=w.focusNode;w=w.focusOffset;try{x.nodeType,L.nodeType}catch{x=null;break e}var G=0,xe=-1,ve=-1,Ee=0,Ze=0,Ye=l,Qe=null;t:for(;;){for(var mt;Ye!==x||C!==0&&Ye.nodeType!==3||(xe=G+C),Ye!==L||w!==0&&Ye.nodeType!==3||(ve=G+w),Ye.nodeType===3&&(G+=Ye.nodeValue.length),(mt=Ye.firstChild)!==null;)Qe=Ye,Ye=mt;for(;;){if(Ye===l)break t;if(Qe===x&&++Ee===C&&(xe=G),Qe===L&&++Ze===w&&(ve=G),(mt=Ye.nextSibling)!==null)break;Ye=Qe,Qe=Ye.parentNode}Ye=mt}x=xe===-1||ve===-1?null:{start:xe,end:ve}}else x=null}x=x||{start:0,end:0}}else x=null;for(pm={focusedElem:l,selectionRange:x},Qn=!1,ft=d;ft!==null;)if(d=ft,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,ft=l;else for(;ft!==null;){d=ft;try{var yt=d.alternate;if((d.flags&1024)!==0)switch(d.tag){case 0:case 11:case 15:break;case 1:if(yt!==null){var wt=yt.memoizedProps,Or=yt.memoizedState,Te=d.stateNode,we=Te.getSnapshotBeforeUpdate(d.elementType===d.type?wt:Ia(d.type,wt),Or);Te.__reactInternalSnapshotBeforeUpdate=we}break;case 3:var Pe=d.stateNode.containerInfo;Pe.nodeType===1?Pe.textContent="":Pe.nodeType===9&&Pe.documentElement&&Pe.removeChild(Pe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Je){Rr(d,d.return,Je)}if(l=d.sibling,l!==null){l.return=d.return,ft=l;break}ft=d.return}return yt=Ab,Ab=!1,yt}function kc(l,d,x){var w=d.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var C=w=w.next;do{if((C.tag&l)===l){var L=C.destroy;C.destroy=void 0,L!==void 0&&rh(d,x,L)}C=C.next}while(C!==w)}}function V0(l,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var x=d=d.next;do{if((x.tag&l)===l){var w=x.create;x.destroy=w()}x=x.next}while(x!==d)}}function sh(l){var d=l.ref;if(d!==null){var x=l.stateNode;switch(l.tag){case 5:l=x;break;default:l=x}typeof d=="function"?d(l):d.current=l}}function Rb(l){var d=l.alternate;d!==null&&(l.alternate=null,Rb(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&(delete d[Wa],delete d[mc],delete d[bm],delete d[D3],delete d[$3])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Mb(l){return l.tag===5||l.tag===3||l.tag===4}function Ob(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Mb(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function ah(l,d,x){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?x.nodeType===8?x.parentNode.insertBefore(l,d):x.insertBefore(l,d):(x.nodeType===8?(d=x.parentNode,d.insertBefore(l,x)):(d=x,d.appendChild(l)),x=x._reactRootContainer,x!=null||d.onclick!==null||(d.onclick=f0));else if(w!==4&&(l=l.child,l!==null))for(ah(l,d,x),l=l.sibling;l!==null;)ah(l,d,x),l=l.sibling}function nh(l,d,x){var w=l.tag;if(w===5||w===6)l=l.stateNode,d?x.insertBefore(l,d):x.appendChild(l);else if(w!==4&&(l=l.child,l!==null))for(nh(l,d,x),l=l.sibling;l!==null;)nh(l,d,x),l=l.sibling}var ns=null,Pa=!1;function si(l,d,x){for(x=x.child;x!==null;)Lb(l,d,x),x=x.sibling}function Lb(l,d,x){if(qs&&typeof qs.onCommitFiberUnmount=="function")try{qs.onCommitFiberUnmount(Vi,x)}catch{}switch(x.tag){case 5:fs||ol(x,d);case 6:var w=ns,C=Pa;ns=null,si(l,d,x),ns=w,Pa=C,ns!==null&&(Pa?(l=ns,x=x.stateNode,l.nodeType===8?l.parentNode.removeChild(x):l.removeChild(x)):ns.removeChild(x.stateNode));break;case 18:ns!==null&&(Pa?(l=ns,x=x.stateNode,l.nodeType===8?ym(l.parentNode,x):l.nodeType===1&&ym(l,x),Na(l)):ym(ns,x.stateNode));break;case 4:w=ns,C=Pa,ns=x.stateNode.containerInfo,Pa=!0,si(l,d,x),ns=w,Pa=C;break;case 0:case 11:case 14:case 15:if(!fs&&(w=x.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){C=w=w.next;do{var L=C,G=L.destroy;L=L.tag,G!==void 0&&((L&2)!==0||(L&4)!==0)&&rh(x,d,G),C=C.next}while(C!==w)}si(l,d,x);break;case 1:if(!fs&&(ol(x,d),w=x.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=x.memoizedProps,w.state=x.memoizedState,w.componentWillUnmount()}catch(xe){Rr(x,d,xe)}si(l,d,x);break;case 21:si(l,d,x);break;case 22:x.mode&1?(fs=(w=fs)||x.memoizedState!==null,si(l,d,x),fs=w):si(l,d,x);break;default:si(l,d,x)}}function Vb(l){var d=l.updateQueue;if(d!==null){l.updateQueue=null;var x=l.stateNode;x===null&&(x=l.stateNode=new Q3),d.forEach(function(w){var C=a4.bind(null,l,w);x.has(w)||(x.add(w),w.then(C,C))})}}function Ca(l,d){var x=d.deletions;if(x!==null)for(var w=0;w<x.length;w++){var C=x[w];try{var L=l,G=d,xe=G;e:for(;xe!==null;){switch(xe.tag){case 5:ns=xe.stateNode,Pa=!1;break e;case 3:ns=xe.stateNode.containerInfo,Pa=!0;break e;case 4:ns=xe.stateNode.containerInfo,Pa=!0;break e}xe=xe.return}if(ns===null)throw Error(s(160));Lb(L,G,C),ns=null,Pa=!1;var ve=C.alternate;ve!==null&&(ve.return=null),C.return=null}catch(Ee){Rr(C,d,Ee)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)zb(d,l),d=d.sibling}function zb(l,d){var x=l.alternate,w=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Ca(d,l),Qa(l),w&4){try{kc(3,l,l.return),V0(3,l)}catch(wt){Rr(l,l.return,wt)}try{kc(5,l,l.return)}catch(wt){Rr(l,l.return,wt)}}break;case 1:Ca(d,l),Qa(l),w&512&&x!==null&&ol(x,x.return);break;case 5:if(Ca(d,l),Qa(l),w&512&&x!==null&&ol(x,x.return),l.flags&32){var C=l.stateNode;try{at(C,"")}catch(wt){Rr(l,l.return,wt)}}if(w&4&&(C=l.stateNode,C!=null)){var L=l.memoizedProps,G=x!==null?x.memoizedProps:L,xe=l.type,ve=l.updateQueue;if(l.updateQueue=null,ve!==null)try{xe==="input"&&L.type==="radio"&&L.name!=null&&E(C,L),bt(xe,G);var Ee=bt(xe,L);for(G=0;G<ve.length;G+=2){var Ze=ve[G],Ye=ve[G+1];Ze==="style"?dt(C,Ye):Ze==="dangerouslySetInnerHTML"?qe(C,Ye):Ze==="children"?at(C,Ye):oe(C,Ze,Ye,Ee)}switch(xe){case"input":M(C,L);break;case"textarea":me(C,L);break;case"select":var Qe=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!L.multiple;var mt=L.value;mt!=null?I(C,!!L.multiple,mt,!1):Qe!==!!L.multiple&&(L.defaultValue!=null?I(C,!!L.multiple,L.defaultValue,!0):I(C,!!L.multiple,L.multiple?[]:"",!1))}C[mc]=L}catch(wt){Rr(l,l.return,wt)}}break;case 6:if(Ca(d,l),Qa(l),w&4){if(l.stateNode===null)throw Error(s(162));C=l.stateNode,L=l.memoizedProps;try{C.nodeValue=L}catch(wt){Rr(l,l.return,wt)}}break;case 3:if(Ca(d,l),Qa(l),w&4&&x!==null&&x.memoizedState.isDehydrated)try{Na(d.containerInfo)}catch(wt){Rr(l,l.return,wt)}break;case 4:Ca(d,l),Qa(l);break;case 13:Ca(d,l),Qa(l),C=l.child,C.flags&8192&&(L=C.memoizedState!==null,C.stateNode.isHidden=L,!L||C.alternate!==null&&C.alternate.memoizedState!==null||(lh=jr())),w&4&&Vb(l);break;case 22:if(Ze=x!==null&&x.memoizedState!==null,l.mode&1?(fs=(Ee=fs)||Ze,Ca(d,l),fs=Ee):Ca(d,l),Qa(l),w&8192){if(Ee=l.memoizedState!==null,(l.stateNode.isHidden=Ee)&&!Ze&&(l.mode&1)!==0)for(ft=l,Ze=l.child;Ze!==null;){for(Ye=ft=Ze;ft!==null;){switch(Qe=ft,mt=Qe.child,Qe.tag){case 0:case 11:case 14:case 15:kc(4,Qe,Qe.return);break;case 1:ol(Qe,Qe.return);var yt=Qe.stateNode;if(typeof yt.componentWillUnmount=="function"){w=Qe,x=Qe.return;try{d=w,yt.props=d.memoizedProps,yt.state=d.memoizedState,yt.componentWillUnmount()}catch(wt){Rr(w,x,wt)}}break;case 5:ol(Qe,Qe.return);break;case 22:if(Qe.memoizedState!==null){Fb(Ye);continue}}mt!==null?(mt.return=Qe,ft=mt):Fb(Ye)}Ze=Ze.sibling}e:for(Ze=null,Ye=l;;){if(Ye.tag===5){if(Ze===null){Ze=Ye;try{C=Ye.stateNode,Ee?(L=C.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none"):(xe=Ye.stateNode,ve=Ye.memoizedProps.style,G=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,xe.style.display=ct("display",G))}catch(wt){Rr(l,l.return,wt)}}}else if(Ye.tag===6){if(Ze===null)try{Ye.stateNode.nodeValue=Ee?"":Ye.memoizedProps}catch(wt){Rr(l,l.return,wt)}}else if((Ye.tag!==22&&Ye.tag!==23||Ye.memoizedState===null||Ye===l)&&Ye.child!==null){Ye.child.return=Ye,Ye=Ye.child;continue}if(Ye===l)break e;for(;Ye.sibling===null;){if(Ye.return===null||Ye.return===l)break e;Ze===Ye&&(Ze=null),Ye=Ye.return}Ze===Ye&&(Ze=null),Ye.sibling.return=Ye.return,Ye=Ye.sibling}}break;case 19:Ca(d,l),Qa(l),w&4&&Vb(l);break;case 21:break;default:Ca(d,l),Qa(l)}}function Qa(l){var d=l.flags;if(d&2){try{e:{for(var x=l.return;x!==null;){if(Mb(x)){var w=x;break e}x=x.return}throw Error(s(160))}switch(w.tag){case 5:var C=w.stateNode;w.flags&32&&(at(C,""),w.flags&=-33);var L=Ob(l);nh(l,L,C);break;case 3:case 4:var G=w.stateNode.containerInfo,xe=Ob(l);ah(l,xe,G);break;default:throw Error(s(161))}}catch(ve){Rr(l,l.return,ve)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function Z3(l,d,x){ft=l,Bb(l)}function Bb(l,d,x){for(var w=(l.mode&1)!==0;ft!==null;){var C=ft,L=C.child;if(C.tag===22&&w){var G=C.memoizedState!==null||L0;if(!G){var xe=C.alternate,ve=xe!==null&&xe.memoizedState!==null||fs;xe=L0;var Ee=fs;if(L0=G,(fs=ve)&&!Ee)for(ft=C;ft!==null;)G=ft,ve=G.child,G.tag===22&&G.memoizedState!==null?Hb(C):ve!==null?(ve.return=G,ft=ve):Hb(C);for(;L!==null;)ft=L,Bb(L),L=L.sibling;ft=C,L0=xe,fs=Ee}Ub(l)}else(C.subtreeFlags&8772)!==0&&L!==null?(L.return=C,ft=L):Ub(l)}}function Ub(l){for(;ft!==null;){var d=ft;if((d.flags&8772)!==0){var x=d.alternate;try{if((d.flags&8772)!==0)switch(d.tag){case 0:case 11:case 15:fs||V0(5,d);break;case 1:var w=d.stateNode;if(d.flags&4&&!fs)if(x===null)w.componentDidMount();else{var C=d.elementType===d.type?x.memoizedProps:Ia(d.type,x.memoizedProps);w.componentDidUpdate(C,x.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var L=d.updateQueue;L!==null&&Fy(d,L,w);break;case 3:var G=d.updateQueue;if(G!==null){if(x=null,d.child!==null)switch(d.child.tag){case 5:x=d.child.stateNode;break;case 1:x=d.child.stateNode}Fy(d,G,x)}break;case 5:var xe=d.stateNode;if(x===null&&d.flags&4){x=xe;var ve=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&x.focus();break;case"img":ve.src&&(x.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var Ee=d.alternate;if(Ee!==null){var Ze=Ee.memoizedState;if(Ze!==null){var Ye=Ze.dehydrated;Ye!==null&&Na(Ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}fs||d.flags&512&&sh(d)}catch(Qe){Rr(d,d.return,Qe)}}if(d===l){ft=null;break}if(x=d.sibling,x!==null){x.return=d.return,ft=x;break}ft=d.return}}function Fb(l){for(;ft!==null;){var d=ft;if(d===l){ft=null;break}var x=d.sibling;if(x!==null){x.return=d.return,ft=x;break}ft=d.return}}function Hb(l){for(;ft!==null;){var d=ft;try{switch(d.tag){case 0:case 11:case 15:var x=d.return;try{V0(4,d)}catch(ve){Rr(d,x,ve)}break;case 1:var w=d.stateNode;if(typeof w.componentDidMount=="function"){var C=d.return;try{w.componentDidMount()}catch(ve){Rr(d,C,ve)}}var L=d.return;try{sh(d)}catch(ve){Rr(d,L,ve)}break;case 5:var G=d.return;try{sh(d)}catch(ve){Rr(d,G,ve)}}}catch(ve){Rr(d,d.return,ve)}if(d===l){ft=null;break}var xe=d.sibling;if(xe!==null){xe.return=d.return,ft=xe;break}ft=d.return}}var Y3=Math.ceil,z0=pe.ReactCurrentDispatcher,ih=pe.ReactCurrentOwner,xa=pe.ReactCurrentBatchConfig,ir=0,Xr=null,Br=null,is=0,Xs=0,ll=Xn(0),Gr=0,Sc=null,Ji=0,B0=0,oh=0,Tc=null,Ms=null,lh=0,cl=1/0,kn=null,U0=!1,ch=null,ai=null,F0=!1,ni=null,H0=0,Ic=0,dh=null,W0=-1,q0=0;function Ts(){return(ir&6)!==0?jr():W0!==-1?W0:W0=jr()}function ii(l){return(l.mode&1)===0?1:(ir&2)!==0&&is!==0?is&-is:A3.transition!==null?(q0===0&&(q0=Bi()),q0):(l=rr,l!==0||(l=window.event,l=l===void 0?16:tc(l.type)),l)}function Ea(l,d,x,w){if(50<Ic)throw Ic=0,dh=null,Error(s(185));Hn(l,x,w),((ir&2)===0||l!==Xr)&&(l===Xr&&((ir&2)===0&&(B0|=x),Gr===4&&oi(l,is)),Os(l,w),x===1&&ir===0&&(d.mode&1)===0&&(cl=jr()+500,v0&&ei()))}function Os(l,d){var x=l.callbackNode;xn(l,d);var w=zi(l,l===Xr?is:0);if(w===0)x!==null&&Zl(x),l.callbackNode=null,l.callbackPriority=0;else if(d=w&-w,l.callbackPriority!==d){if(x!=null&&Zl(x),d===1)l.tag===0?_3(qb.bind(null,l)):Dy(qb.bind(null,l)),C3(function(){(ir&6)===0&&ei()}),x=null;else{switch(qn(w)){case 1:x=Li;break;case 4:x=Bn;break;case 16:x=na;break;case 536870912:x=qd;break;default:x=na}x=ev(x,Wb.bind(null,l))}l.callbackPriority=d,l.callbackNode=x}}function Wb(l,d){if(W0=-1,q0=0,(ir&6)!==0)throw Error(s(327));var x=l.callbackNode;if(dl()&&l.callbackNode!==x)return null;var w=zi(l,l===Xr?is:0);if(w===0)return null;if((w&30)!==0||(w&l.expiredLanes)!==0||d)d=G0(l,w);else{d=w;var C=ir;ir|=2;var L=Qb();(Xr!==l||is!==d)&&(kn=null,cl=jr()+500,to(l,d));do try{e4();break}catch(xe){Gb(l,xe)}while(!0);Pm(),z0.current=L,ir=C,Br!==null?d=0:(Xr=null,is=0,d=Gr)}if(d!==0){if(d===2&&(C=Gs(l),C!==0&&(w=C,d=uh(l,C))),d===1)throw x=Sc,to(l,0),oi(l,w),Os(l,jr()),x;if(d===6)oi(l,w);else{if(C=l.current.alternate,(w&30)===0&&!X3(C)&&(d=G0(l,w),d===2&&(L=Gs(l),L!==0&&(w=L,d=uh(l,L))),d===1))throw x=Sc,to(l,0),oi(l,w),Os(l,jr()),x;switch(l.finishedWork=C,l.finishedLanes=w,d){case 0:case 1:throw Error(s(345));case 2:ro(l,Ms,kn);break;case 3:if(oi(l,w),(w&130023424)===w&&(d=lh+500-jr(),10<d)){if(zi(l,0)!==0)break;if(C=l.suspendedLanes,(C&w)!==w){Ts(),l.pingedLanes|=l.suspendedLanes&C;break}l.timeoutHandle=gm(ro.bind(null,l,Ms,kn),d);break}ro(l,Ms,kn);break;case 4:if(oi(l,w),(w&4194240)===w)break;for(d=l.eventTimes,C=-1;0<w;){var G=31-Ns(w);L=1<<G,G=d[G],G>C&&(C=G),w&=~L}if(w=C,w=jr()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*Y3(w/1960))-w,10<w){l.timeoutHandle=gm(ro.bind(null,l,Ms,kn),w);break}ro(l,Ms,kn);break;case 5:ro(l,Ms,kn);break;default:throw Error(s(329))}}}return Os(l,jr()),l.callbackNode===x?Wb.bind(null,l):null}function uh(l,d){var x=Tc;return l.current.memoizedState.isDehydrated&&(to(l,d).flags|=256),l=G0(l,d),l!==2&&(d=Ms,Ms=x,d!==null&&xh(d)),l}function xh(l){Ms===null?Ms=l:Ms.push.apply(Ms,l)}function X3(l){for(var d=l;;){if(d.flags&16384){var x=d.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var w=0;w<x.length;w++){var C=x[w],L=C.getSnapshot;C=C.value;try{if(!Sa(L(),C))return!1}catch{return!1}}}if(x=d.child,d.subtreeFlags&16384&&x!==null)x.return=d,d=x;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function oi(l,d){for(d&=~oh,d&=~B0,l.suspendedLanes|=d,l.pingedLanes&=~d,l=l.expirationTimes;0<d;){var x=31-Ns(d),w=1<<x;l[x]=-1,d&=~w}}function qb(l){if((ir&6)!==0)throw Error(s(327));dl();var d=zi(l,0);if((d&1)===0)return Os(l,jr()),null;var x=G0(l,d);if(l.tag!==0&&x===2){var w=Gs(l);w!==0&&(d=w,x=uh(l,w))}if(x===1)throw x=Sc,to(l,0),oi(l,d),Os(l,jr()),x;if(x===6)throw Error(s(345));return l.finishedWork=l.current.alternate,l.finishedLanes=d,ro(l,Ms,kn),Os(l,jr()),null}function mh(l,d){var x=ir;ir|=1;try{return l(d)}finally{ir=x,ir===0&&(cl=jr()+500,v0&&ei())}}function eo(l){ni!==null&&ni.tag===0&&(ir&6)===0&&dl();var d=ir;ir|=1;var x=xa.transition,w=rr;try{if(xa.transition=null,rr=1,l)return l()}finally{rr=w,xa.transition=x,ir=d,(ir&6)===0&&ei()}}function hh(){Xs=ll.current,kr(ll)}function to(l,d){l.finishedWork=null,l.finishedLanes=0;var x=l.timeoutHandle;if(x!==-1&&(l.timeoutHandle=-1,P3(x)),Br!==null)for(x=Br.return;x!==null;){var w=x;switch(Nm(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&y0();break;case 3:nl(),kr(_s),kr(ms),Mm();break;case 5:Am(w);break;case 4:nl();break;case 13:kr(Pr);break;case 19:kr(Pr);break;case 10:Cm(w.type._context);break;case 22:case 23:hh()}x=x.return}if(Xr=l,Br=l=li(l.current,null),is=Xs=d,Gr=0,Sc=null,oh=B0=Ji=0,Ms=Tc=null,Zi!==null){for(d=0;d<Zi.length;d++)if(x=Zi[d],w=x.interleaved,w!==null){x.interleaved=null;var C=w.next,L=x.pending;if(L!==null){var G=L.next;L.next=C,w.next=G}x.pending=w}Zi=null}return l}function Gb(l,d){do{var x=Br;try{if(Pm(),E0.current=A0,D0){for(var w=Cr.memoizedState;w!==null;){var C=w.queue;C!==null&&(C.pending=null),w=w.next}D0=!1}if(Xi=0,Yr=qr=Cr=null,bc=!1,vc=0,ih.current=null,x===null||x.return===null){Gr=1,Sc=d,Br=null;break}e:{var L=l,G=x.return,xe=x,ve=d;if(d=is,xe.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Ee=ve,Ze=xe,Ye=Ze.tag;if((Ze.mode&1)===0&&(Ye===0||Ye===11||Ye===15)){var Qe=Ze.alternate;Qe?(Ze.updateQueue=Qe.updateQueue,Ze.memoizedState=Qe.memoizedState,Ze.lanes=Qe.lanes):(Ze.updateQueue=null,Ze.memoizedState=null)}var mt=yb(G);if(mt!==null){mt.flags&=-257,bb(mt,G,xe,L,d),mt.mode&1&&gb(L,Ee,d),d=mt,ve=Ee;var yt=d.updateQueue;if(yt===null){var wt=new Set;wt.add(ve),d.updateQueue=wt}else yt.add(ve);break e}else{if((d&1)===0){gb(L,Ee,d),ph();break e}ve=Error(s(426))}}else if(Ir&&xe.mode&1){var Or=yb(G);if(Or!==null){(Or.flags&65536)===0&&(Or.flags|=256),bb(Or,G,xe,L,d),Tm(il(ve,xe));break e}}L=ve=il(ve,xe),Gr!==4&&(Gr=2),Tc===null?Tc=[L]:Tc.push(L),L=G;do{switch(L.tag){case 3:L.flags|=65536,d&=-d,L.lanes|=d;var Te=pb(L,ve,d);Uy(L,Te);break e;case 1:xe=ve;var we=L.type,Pe=L.stateNode;if((L.flags&128)===0&&(typeof we.getDerivedStateFromError=="function"||Pe!==null&&typeof Pe.componentDidCatch=="function"&&(ai===null||!ai.has(Pe)))){L.flags|=65536,d&=-d,L.lanes|=d;var Je=fb(L,xe,d);Uy(L,Je);break e}}L=L.return}while(L!==null)}Zb(x)}catch(Nt){d=Nt,Br===x&&x!==null&&(Br=x=x.return);continue}break}while(!0)}function Qb(){var l=z0.current;return z0.current=A0,l===null?A0:l}function ph(){(Gr===0||Gr===3||Gr===2)&&(Gr=4),Xr===null||(Ji&268435455)===0&&(B0&268435455)===0||oi(Xr,is)}function G0(l,d){var x=ir;ir|=2;var w=Qb();(Xr!==l||is!==d)&&(kn=null,to(l,d));do try{J3();break}catch(C){Gb(l,C)}while(!0);if(Pm(),ir=x,z0.current=w,Br!==null)throw Error(s(261));return Xr=null,is=0,Gr}function J3(){for(;Br!==null;)Kb(Br)}function e4(){for(;Br!==null&&!Hd();)Kb(Br)}function Kb(l){var d=Jb(l.alternate,l,Xs);l.memoizedProps=l.pendingProps,d===null?Zb(l):Br=d,ih.current=null}function Zb(l){var d=l;do{var x=d.alternate;if(l=d.return,(d.flags&32768)===0){if(x=q3(x,d,Xs),x!==null){Br=x;return}}else{if(x=G3(x,d),x!==null){x.flags&=32767,Br=x;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Gr=6,Br=null;return}}if(d=d.sibling,d!==null){Br=d;return}Br=d=l}while(d!==null);Gr===0&&(Gr=5)}function ro(l,d,x){var w=rr,C=xa.transition;try{xa.transition=null,rr=1,t4(l,d,x,w)}finally{xa.transition=C,rr=w}return null}function t4(l,d,x,w){do dl();while(ni!==null);if((ir&6)!==0)throw Error(s(327));x=l.finishedWork;var C=l.finishedLanes;if(x===null)return null;if(l.finishedWork=null,l.finishedLanes=0,x===l.current)throw Error(s(177));l.callbackNode=null,l.callbackPriority=0;var L=x.lanes|x.childLanes;if(gr(l,L),l===Xr&&(Br=Xr=null,is=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||F0||(F0=!0,ev(na,function(){return dl(),null})),L=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||L){L=xa.transition,xa.transition=null;var G=rr;rr=1;var xe=ir;ir|=4,ih.current=null,K3(l,x),zb(x,l),j3(pm),Qn=!!hm,pm=hm=null,l.current=x,Z3(x),Xx(),ir=xe,rr=G,xa.transition=L}else l.current=x;if(F0&&(F0=!1,ni=l,H0=C),L=l.pendingLanes,L===0&&(ai=null),Gd(x.stateNode),Os(l,jr()),d!==null)for(w=l.onRecoverableError,x=0;x<d.length;x++)C=d[x],w(C.value,{componentStack:C.stack,digest:C.digest});if(U0)throw U0=!1,l=ch,ch=null,l;return(H0&1)!==0&&l.tag!==0&&dl(),L=l.pendingLanes,(L&1)!==0?l===dh?Ic++:(Ic=0,dh=l):Ic=0,ei(),null}function dl(){if(ni!==null){var l=qn(H0),d=xa.transition,x=rr;try{if(xa.transition=null,rr=16>l?16:l,ni===null)var w=!1;else{if(l=ni,ni=null,H0=0,(ir&6)!==0)throw Error(s(331));var C=ir;for(ir|=4,ft=l.current;ft!==null;){var L=ft,G=L.child;if((ft.flags&16)!==0){var xe=L.deletions;if(xe!==null){for(var ve=0;ve<xe.length;ve++){var Ee=xe[ve];for(ft=Ee;ft!==null;){var Ze=ft;switch(Ze.tag){case 0:case 11:case 15:kc(8,Ze,L)}var Ye=Ze.child;if(Ye!==null)Ye.return=Ze,ft=Ye;else for(;ft!==null;){Ze=ft;var Qe=Ze.sibling,mt=Ze.return;if(Rb(Ze),Ze===Ee){ft=null;break}if(Qe!==null){Qe.return=mt,ft=Qe;break}ft=mt}}}var yt=L.alternate;if(yt!==null){var wt=yt.child;if(wt!==null){yt.child=null;do{var Or=wt.sibling;wt.sibling=null,wt=Or}while(wt!==null)}}ft=L}}if((L.subtreeFlags&2064)!==0&&G!==null)G.return=L,ft=G;else e:for(;ft!==null;){if(L=ft,(L.flags&2048)!==0)switch(L.tag){case 0:case 11:case 15:kc(9,L,L.return)}var Te=L.sibling;if(Te!==null){Te.return=L.return,ft=Te;break e}ft=L.return}}var we=l.current;for(ft=we;ft!==null;){G=ft;var Pe=G.child;if((G.subtreeFlags&2064)!==0&&Pe!==null)Pe.return=G,ft=Pe;else e:for(G=we;ft!==null;){if(xe=ft,(xe.flags&2048)!==0)try{switch(xe.tag){case 0:case 11:case 15:V0(9,xe)}}catch(Nt){Rr(xe,xe.return,Nt)}if(xe===G){ft=null;break e}var Je=xe.sibling;if(Je!==null){Je.return=xe.return,ft=Je;break e}ft=xe.return}}if(ir=C,ei(),qs&&typeof qs.onPostCommitFiberRoot=="function")try{qs.onPostCommitFiberRoot(Vi,l)}catch{}w=!0}return w}finally{rr=x,xa.transition=d}}return!1}function Yb(l,d,x){d=il(x,d),d=pb(l,d,1),l=ri(l,d,1),d=Ts(),l!==null&&(Hn(l,1,d),Os(l,d))}function Rr(l,d,x){if(l.tag===3)Yb(l,l,x);else for(;d!==null;){if(d.tag===3){Yb(d,l,x);break}else if(d.tag===1){var w=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(ai===null||!ai.has(w))){l=il(x,l),l=fb(d,l,1),d=ri(d,l,1),l=Ts(),d!==null&&(Hn(d,1,l),Os(d,l));break}}d=d.return}}function r4(l,d,x){var w=l.pingCache;w!==null&&w.delete(d),d=Ts(),l.pingedLanes|=l.suspendedLanes&x,Xr===l&&(is&x)===x&&(Gr===4||Gr===3&&(is&130023424)===is&&500>jr()-lh?to(l,0):oh|=x),Os(l,d)}function Xb(l,d){d===0&&((l.mode&1)===0?d=1:(d=_o,_o<<=1,(_o&130023424)===0&&(_o=4194304)));var x=Ts();l=jn(l,d),l!==null&&(Hn(l,d,x),Os(l,x))}function s4(l){var d=l.memoizedState,x=0;d!==null&&(x=d.retryLane),Xb(l,x)}function a4(l,d){var x=0;switch(l.tag){case 13:var w=l.stateNode,C=l.memoizedState;C!==null&&(x=C.retryLane);break;case 19:w=l.stateNode;break;default:throw Error(s(314))}w!==null&&w.delete(d),Xb(l,x)}var Jb;Jb=function(l,d,x){if(l!==null)if(l.memoizedProps!==d.pendingProps||_s.current)Rs=!0;else{if((l.lanes&x)===0&&(d.flags&128)===0)return Rs=!1,W3(l,d,x);Rs=(l.flags&131072)!==0}else Rs=!1,Ir&&(d.flags&1048576)!==0&&$y(d,w0,d.index);switch(d.lanes=0,d.tag){case 2:var w=d.type;O0(l,d),l=d.pendingProps;var C=Xo(d,ms.current);al(d,x),C=Vm(null,d,w,l,C,x);var L=zm();return d.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,As(w)?(L=!0,b0(d)):L=!1,d.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,$m(d),C.updater=R0,d.stateNode=C,C._reactInternals=d,qm(d,w,l,x),d=Zm(null,d,w,!0,L,x)):(d.tag=0,Ir&&L&&wm(d),Ss(null,d,C,x),d=d.child),d;case 16:w=d.elementType;e:{switch(O0(l,d),l=d.pendingProps,C=w._init,w=C(w._payload),d.type=w,C=d.tag=i4(w),l=Ia(w,l),C){case 0:d=Km(null,d,w,l,x);break e;case 1:d=Sb(null,d,w,l,x);break e;case 11:d=vb(null,d,w,l,x);break e;case 14:d=jb(null,d,w,Ia(w.type,l),x);break e}throw Error(s(306,w,""))}return d;case 0:return w=d.type,C=d.pendingProps,C=d.elementType===w?C:Ia(w,C),Km(l,d,w,C,x);case 1:return w=d.type,C=d.pendingProps,C=d.elementType===w?C:Ia(w,C),Sb(l,d,w,C,x);case 3:e:{if(Tb(d),l===null)throw Error(s(387));w=d.pendingProps,L=d.memoizedState,C=L.element,By(l,d),P0(d,w,null,x);var G=d.memoizedState;if(w=G.element,L.isDehydrated)if(L={element:w,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},d.updateQueue.baseState=L,d.memoizedState=L,d.flags&256){C=il(Error(s(423)),d),d=Ib(l,d,w,x,C);break e}else if(w!==C){C=il(Error(s(424)),d),d=Ib(l,d,w,x,C);break e}else for(Ys=Yn(d.stateNode.containerInfo.firstChild),Zs=d,Ir=!0,Ta=null,x=Vy(d,null,w,x),d.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(tl(),w===C){d=Nn(l,d,x);break e}Ss(l,d,w,x)}d=d.child}return d;case 5:return Hy(d),l===null&&Sm(d),w=d.type,C=d.pendingProps,L=l!==null?l.memoizedProps:null,G=C.children,fm(w,C)?G=null:L!==null&&fm(w,L)&&(d.flags|=32),kb(l,d),Ss(l,d,G,x),d.child;case 6:return l===null&&Sm(d),null;case 13:return Pb(l,d,x);case 4:return _m(d,d.stateNode.containerInfo),w=d.pendingProps,l===null?d.child=rl(d,null,w,x):Ss(l,d,w,x),d.child;case 11:return w=d.type,C=d.pendingProps,C=d.elementType===w?C:Ia(w,C),vb(l,d,w,C,x);case 7:return Ss(l,d,d.pendingProps,x),d.child;case 8:return Ss(l,d,d.pendingProps.children,x),d.child;case 12:return Ss(l,d,d.pendingProps.children,x),d.child;case 10:e:{if(w=d.type._context,C=d.pendingProps,L=d.memoizedProps,G=C.value,wr(S0,w._currentValue),w._currentValue=G,L!==null)if(Sa(L.value,G)){if(L.children===C.children&&!_s.current){d=Nn(l,d,x);break e}}else for(L=d.child,L!==null&&(L.return=d);L!==null;){var xe=L.dependencies;if(xe!==null){G=L.child;for(var ve=xe.firstContext;ve!==null;){if(ve.context===w){if(L.tag===1){ve=wn(-1,x&-x),ve.tag=2;var Ee=L.updateQueue;if(Ee!==null){Ee=Ee.shared;var Ze=Ee.pending;Ze===null?ve.next=ve:(ve.next=Ze.next,Ze.next=ve),Ee.pending=ve}}L.lanes|=x,ve=L.alternate,ve!==null&&(ve.lanes|=x),Em(L.return,x,d),xe.lanes|=x;break}ve=ve.next}}else if(L.tag===10)G=L.type===d.type?null:L.child;else if(L.tag===18){if(G=L.return,G===null)throw Error(s(341));G.lanes|=x,xe=G.alternate,xe!==null&&(xe.lanes|=x),Em(G,x,d),G=L.sibling}else G=L.child;if(G!==null)G.return=L;else for(G=L;G!==null;){if(G===d){G=null;break}if(L=G.sibling,L!==null){L.return=G.return,G=L;break}G=G.return}L=G}Ss(l,d,C.children,x),d=d.child}return d;case 9:return C=d.type,w=d.pendingProps.children,al(d,x),C=da(C),w=w(C),d.flags|=1,Ss(l,d,w,x),d.child;case 14:return w=d.type,C=Ia(w,d.pendingProps),C=Ia(w.type,C),jb(l,d,w,C,x);case 15:return wb(l,d,d.type,d.pendingProps,x);case 17:return w=d.type,C=d.pendingProps,C=d.elementType===w?C:Ia(w,C),O0(l,d),d.tag=1,As(w)?(l=!0,b0(d)):l=!1,al(d,x),mb(d,w,C),qm(d,w,C,x),Zm(null,d,w,!0,l,x);case 19:return Eb(l,d,x);case 22:return Nb(l,d,x)}throw Error(s(156,d.tag))};function ev(l,d){return Do(l,d)}function n4(l,d,x,w){this.tag=l,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ma(l,d,x,w){return new n4(l,d,x,w)}function fh(l){return l=l.prototype,!(!l||!l.isReactComponent)}function i4(l){if(typeof l=="function")return fh(l)?1:0;if(l!=null){if(l=l.$$typeof,l===le)return 11;if(l===i)return 14}return 2}function li(l,d){var x=l.alternate;return x===null?(x=ma(l.tag,d,l.key,l.mode),x.elementType=l.elementType,x.type=l.type,x.stateNode=l.stateNode,x.alternate=l,l.alternate=x):(x.pendingProps=d,x.type=l.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=l.flags&14680064,x.childLanes=l.childLanes,x.lanes=l.lanes,x.child=l.child,x.memoizedProps=l.memoizedProps,x.memoizedState=l.memoizedState,x.updateQueue=l.updateQueue,d=l.dependencies,x.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},x.sibling=l.sibling,x.index=l.index,x.ref=l.ref,x}function Q0(l,d,x,w,C,L){var G=2;if(w=l,typeof l=="function")fh(l)&&(G=1);else if(typeof l=="string")G=5;else e:switch(l){case U:return so(x.children,C,L,d);case h:G=8,C|=8;break;case Y:return l=ma(12,x,d,C|2),l.elementType=Y,l.lanes=L,l;case ee:return l=ma(13,x,d,C),l.elementType=ee,l.lanes=L,l;case K:return l=ma(19,x,d,C),l.elementType=K,l.lanes=L,l;case je:return K0(x,C,L,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case Q:G=10;break e;case ae:G=9;break e;case le:G=11;break e;case i:G=14;break e;case Fe:G=16,w=null;break e}throw Error(s(130,l==null?l:typeof l,""))}return d=ma(G,x,d,C),d.elementType=l,d.type=w,d.lanes=L,d}function so(l,d,x,w){return l=ma(7,l,w,d),l.lanes=x,l}function K0(l,d,x,w){return l=ma(22,l,w,d),l.elementType=je,l.lanes=x,l.stateNode={isHidden:!1},l}function gh(l,d,x){return l=ma(6,l,null,d),l.lanes=x,l}function yh(l,d,x){return d=ma(4,l.children!==null?l.children:[],l.key,d),d.lanes=x,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function o4(l,d,x,w,C){this.tag=d,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fn(0),this.expirationTimes=Fn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fn(0),this.identifierPrefix=w,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function bh(l,d,x,w,C,L,G,xe,ve){return l=new o4(l,d,x,xe,ve),d===1?(d=1,L===!0&&(d|=8)):d=0,L=ma(3,null,null,d),l.current=L,L.stateNode=l,L.memoizedState={element:w,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},$m(L),l}function l4(l,d,x){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:w==null?null:""+w,children:l,containerInfo:d,implementation:x}}function tv(l){if(!l)return Jn;l=l._reactInternals;e:{if(Ws(l)!==l||l.tag!==1)throw Error(s(170));var d=l;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(As(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(s(171))}if(l.tag===1){var x=l.type;if(As(x))return Cy(l,x,d)}return d}function rv(l,d,x,w,C,L,G,xe,ve){return l=bh(x,w,!0,l,C,L,G,xe,ve),l.context=tv(null),x=l.current,w=Ts(),C=ii(x),L=wn(w,C),L.callback=d??null,ri(x,L,C),l.current.lanes=C,Hn(l,C,w),Os(l,w),l}function Z0(l,d,x,w){var C=d.current,L=Ts(),G=ii(C);return x=tv(x),d.context===null?d.context=x:d.pendingContext=x,d=wn(L,G),d.payload={element:l},w=w===void 0?null:w,w!==null&&(d.callback=w),l=ri(C,d,G),l!==null&&(Ea(l,C,G,L),I0(l,C,G)),G}function Y0(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function sv(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var x=l.retryLane;l.retryLane=x!==0&&x<d?x:d}}function vh(l,d){sv(l,d),(l=l.alternate)&&sv(l,d)}function c4(){return null}var av=typeof reportError=="function"?reportError:function(l){console.error(l)};function jh(l){this._internalRoot=l}X0.prototype.render=jh.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(s(409));Z0(l,d,null,null)},X0.prototype.unmount=jh.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;eo(function(){Z0(null,l,null,null)}),d[gn]=null}};function X0(l){this._internalRoot=l}X0.prototype.unstable_scheduleHydration=function(l){if(l){var d=Xd();l={blockedOn:null,target:l,priority:d};for(var x=0;x<Ba.length&&d!==0&&d<Ba[x].priority;x++);Ba.splice(x,0,l),x===0&&t0(l)}};function wh(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function J0(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function nv(){}function d4(l,d,x,w,C){if(C){if(typeof w=="function"){var L=w;w=function(){var Ee=Y0(G);L.call(Ee)}}var G=rv(d,w,l,0,null,!1,!1,"",nv);return l._reactRootContainer=G,l[gn]=G.current,uc(l.nodeType===8?l.parentNode:l),eo(),G}for(;C=l.lastChild;)l.removeChild(C);if(typeof w=="function"){var xe=w;w=function(){var Ee=Y0(ve);xe.call(Ee)}}var ve=bh(l,0,!1,null,null,!1,!1,"",nv);return l._reactRootContainer=ve,l[gn]=ve.current,uc(l.nodeType===8?l.parentNode:l),eo(function(){Z0(d,ve,x,w)}),ve}function eu(l,d,x,w,C){var L=x._reactRootContainer;if(L){var G=L;if(typeof C=="function"){var xe=C;C=function(){var ve=Y0(G);xe.call(ve)}}Z0(d,G,l,C)}else G=d4(x,d,l,C,w);return Y0(G)}Zd=function(l){switch(l.tag){case 3:var d=l.stateNode;if(d.current.memoizedState.isDehydrated){var x=Un(d.pendingLanes);x!==0&&(Wn(d,x|1),Os(d,jr()),(ir&6)===0&&(cl=jr()+500,ei()))}break;case 13:eo(function(){var w=jn(l,1);if(w!==null){var C=Ts();Ea(w,l,1,C)}}),vh(l,1)}},Ao=function(l){if(l.tag===13){var d=jn(l,134217728);if(d!==null){var x=Ts();Ea(d,l,134217728,x)}vh(l,134217728)}},Yd=function(l){if(l.tag===13){var d=ii(l),x=jn(l,d);if(x!==null){var w=Ts();Ea(x,l,d,w)}vh(l,d)}},Xd=function(){return rr},Jd=function(l,d){var x=rr;try{return rr=l,d()}finally{rr=x}},$t=function(l,d,x){switch(d){case"input":if(M(l,x),d=x.name,x.type==="radio"&&d!=null){for(x=l;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<x.length;d++){var w=x[d];if(w!==l&&w.form===l.form){var C=g0(w);if(!C)throw Error(s(90));F(w),M(w,C)}}}break;case"textarea":me(l,x);break;case"select":d=x.value,d!=null&&I(l,!!x.multiple,d,!1)}},Oa=mh,Fs=eo;var u4={usingClientEntryPoint:!1,Events:[hc,Zo,g0,mr,Wt,mh]},Pc={findFiberByHostInstance:qi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x4={bundleType:Pc.bundleType,version:Pc.version,rendererPackageName:Pc.rendererPackageName,rendererConfig:Pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pe.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Kl(l),l===null?null:l.stateNode},findFiberByHostInstance:Pc.findFiberByHostInstance||c4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{Vi=tu.inject(x4),qs=tu}catch{}}return Ls.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u4,Ls.createPortal=function(l,d){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wh(d))throw Error(s(200));return l4(l,d,null,x)},Ls.createRoot=function(l,d){if(!wh(l))throw Error(s(299));var x=!1,w="",C=av;return d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onRecoverableError!==void 0&&(C=d.onRecoverableError)),d=bh(l,1,!1,null,null,x,!1,w,C),l[gn]=d.current,uc(l.nodeType===8?l.parentNode:l),new jh(d)},Ls.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return l=Kl(d),l=l===null?null:l.stateNode,l},Ls.flushSync=function(l){return eo(l)},Ls.hydrate=function(l,d,x){if(!J0(d))throw Error(s(200));return eu(null,l,d,!0,x)},Ls.hydrateRoot=function(l,d,x){if(!wh(l))throw Error(s(405));var w=x!=null&&x.hydratedSources||null,C=!1,L="",G=av;if(x!=null&&(x.unstable_strictMode===!0&&(C=!0),x.identifierPrefix!==void 0&&(L=x.identifierPrefix),x.onRecoverableError!==void 0&&(G=x.onRecoverableError)),d=rv(d,null,l,1,x??null,C,!1,L,G),l[gn]=d.current,uc(l),w)for(l=0;l<w.length;l++)x=w[l],C=x._getVersion,C=C(x._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[x,C]:d.mutableSourceEagerHydrationData.push(x,C);return new X0(d)},Ls.render=function(l,d,x){if(!J0(d))throw Error(s(200));return eu(null,l,d,!1,x)},Ls.unmountComponentAtNode=function(l){if(!J0(l))throw Error(s(40));return l._reactRootContainer?(eo(function(){eu(null,null,l,!1,function(){l._reactRootContainer=null,l[gn]=null})}),!0):!1},Ls.unstable_batchedUpdates=mh,Ls.unstable_renderSubtreeIntoContainer=function(l,d,x,w){if(!J0(x))throw Error(s(200));if(l==null||l._reactInternals===void 0)throw Error(s(38));return eu(l,d,x,!1,w)},Ls.version="18.3.1-next-f1338f8080-20240426",Ls}var mv;function v4(){if(mv)return Sh.exports;mv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Sh.exports=b4(),Sh.exports}var hv;function j4(){if(hv)return ru;hv=1;var r=v4();return ru.createRoot=r.createRoot,ru.hydrateRoot=r.hydrateRoot,ru}var w4=j4();const N4=CN(w4);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pv="popstate";function k4(r={}){function t(n,o){let{pathname:u,search:c,hash:m}=n.location;return ap("",{pathname:u,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function s(n,o){return typeof o=="string"?o:Jc(o)}return T4(t,s,null,r)}function Dr(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function sn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function S4(){return Math.random().toString(36).substring(2,10)}function fv(r,t){return{usr:r.state,key:r.key,idx:t}}function ap(r,t,s=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ol(t):t,state:s,key:t&&t.key||n||S4()}}function Jc({pathname:r="/",search:t="",hash:s=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function Ol(r){let t={};if(r){let s=r.indexOf("#");s>=0&&(t.hash=r.substring(s),r=r.substring(0,s));let n=r.indexOf("?");n>=0&&(t.search=r.substring(n),r=r.substring(0,n)),r&&(t.pathname=r)}return t}function T4(r,t,s,n={}){let{window:o=document.defaultView,v5Compat:u=!1}=n,c=o.history,m="POP",p=null,v=T();v==null&&(v=0,c.replaceState({...c.state,idx:v},""));function T(){return(c.state||{idx:null}).idx}function P(){m="POP";let V=T(),Z=V==null?null:V-v;v=V,p&&p({action:m,location:H.location,delta:Z})}function A(V,Z){m="PUSH";let ne=ap(H.location,V,Z);v=T()+1;let oe=fv(ne,v),pe=H.createHref(ne);try{c.pushState(oe,"",pe)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;o.location.assign(pe)}u&&p&&p({action:m,location:H.location,delta:1})}function O(V,Z){m="REPLACE";let ne=ap(H.location,V,Z);v=T();let oe=fv(ne,v),pe=H.createHref(ne);c.replaceState(oe,"",pe),u&&p&&p({action:m,location:H.location,delta:0})}function k(V){return I4(V)}let H={get action(){return m},get location(){return r(o,c)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(pv,P),p=V,()=>{o.removeEventListener(pv,P),p=null}},createHref(V){return t(o,V)},createURL:k,encodeLocation(V){let Z=k(V);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:A,replace:O,go(V){return c.go(V)}};return H}function I4(r,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Dr(s,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:Jc(r);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=s+n),new URL(n,s)}function EN(r,t,s="/"){return P4(r,t,s,!1)}function P4(r,t,s,n){let o=typeof t=="string"?Ol(t):t,u=Cn(o.pathname||"/",s);if(u==null)return null;let c=DN(r);C4(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let v=z4(u);m=L4(c[p],v,n)}return m}function DN(r,t=[],s=[],n="",o=!1){let u=(c,m,p=o,v)=>{let T={relativePath:v===void 0?c.path||"":v,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(n)&&p)return;Dr(T.relativePath.startsWith(n),`Absolute route path "${T.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(n.length)}let P=In([n,T.relativePath]),A=s.concat(T);c.children&&c.children.length>0&&(Dr(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${P}".`),DN(c.children,t,A,P,p)),!(c.path==null&&!c.index)&&t.push({path:P,score:M4(P,c.index),routesMeta:A})};return r.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))u(c,m);else for(let p of $N(c.path))u(c,m,!0,p)}),t}function $N(r){let t=r.split("/");if(t.length===0)return[];let[s,...n]=t,o=s.endsWith("?"),u=s.replace(/\?$/,"");if(n.length===0)return o?[u,""]:[u];let c=$N(n.join("/")),m=[];return m.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...c),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function C4(r){r.sort((t,s)=>t.score!==s.score?s.score-t.score:O4(t.routesMeta.map(n=>n.childrenIndex),s.routesMeta.map(n=>n.childrenIndex)))}var E4=/^:[\w-]+$/,D4=3,$4=2,_4=1,A4=10,R4=-2,gv=r=>r==="*";function M4(r,t){let s=r.split("/"),n=s.length;return s.some(gv)&&(n+=R4),t&&(n+=$4),s.filter(o=>!gv(o)).reduce((o,u)=>o+(E4.test(u)?D4:u===""?_4:A4),n)}function O4(r,t){return r.length===t.length&&r.slice(0,-1).every((n,o)=>n===t[o])?r[r.length-1]-t[t.length-1]:0}function L4(r,t,s=!1){let{routesMeta:n}=r,o={},u="/",c=[];for(let m=0;m<n.length;++m){let p=n[m],v=m===n.length-1,T=u==="/"?t:t.slice(u.length)||"/",P=$u({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},T),A=p.route;if(!P&&v&&s&&!n[n.length-1].route.index&&(P=$u({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!P)return null;Object.assign(o,P.params),c.push({params:o,pathname:In([u,P.pathname]),pathnameBase:H4(In([u,P.pathnameBase])),route:A}),P.pathnameBase!=="/"&&(u=In([u,P.pathnameBase]))}return c}function $u(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,n]=V4(r.path,r.caseSensitive,r.end),o=t.match(s);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:n.reduce((v,{paramName:T,isOptional:P},A)=>{if(T==="*"){let k=m[A]||"";c=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const O=m[A];return P&&!O?v[T]=void 0:v[T]=(O||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:c,pattern:r}}function V4(r,t=!1,s=!0){sn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(n.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),n]}function z4(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Cn(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,n=r.charAt(s);return n&&n!=="/"?null:r.slice(s)||"/"}function B4(r,t="/"){let{pathname:s,search:n="",hash:o=""}=typeof r=="string"?Ol(r):r;return{pathname:s?s.startsWith("/")?s:U4(s,t):t,search:W4(n),hash:q4(o)}}function U4(r,t){let s=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function Ph(r,t,s,n){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function F4(r){return r.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function _N(r){let t=F4(r);return t.map((s,n)=>n===t.length-1?s.pathname:s.pathnameBase)}function AN(r,t,s,n=!1){let o;typeof r=="string"?o=Ol(r):(o={...r},Dr(!o.pathname||!o.pathname.includes("?"),Ph("?","pathname","search",o)),Dr(!o.pathname||!o.pathname.includes("#"),Ph("#","pathname","hash",o)),Dr(!o.search||!o.search.includes("#"),Ph("#","search","hash",o)));let u=r===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=s;else{let P=t.length-1;if(!n&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),P-=1;o.pathname=A.join("/")}m=P>=0?t[P]:"/"}let p=B4(o,m),v=c&&c!=="/"&&c.endsWith("/"),T=(u||c===".")&&s.endsWith("/");return!p.pathname.endsWith("/")&&(v||T)&&(p.pathname+="/"),p}var In=r=>r.join("/").replace(/\/\/+/g,"/"),H4=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),W4=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,q4=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function G4(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var RN=["POST","PUT","PATCH","DELETE"];new Set(RN);var Q4=["GET",...RN];new Set(Q4);var Ll=N.createContext(null);Ll.displayName="DataRouter";var hx=N.createContext(null);hx.displayName="DataRouterState";N.createContext(!1);var MN=N.createContext({isTransitioning:!1});MN.displayName="ViewTransition";var K4=N.createContext(new Map);K4.displayName="Fetchers";var Z4=N.createContext(null);Z4.displayName="Await";var ln=N.createContext(null);ln.displayName="Navigation";var bd=N.createContext(null);bd.displayName="Location";var Mn=N.createContext({outlet:null,matches:[],isDataRoute:!1});Mn.displayName="Route";var sf=N.createContext(null);sf.displayName="RouteError";function Y4(r,{relative:t}={}){Dr(vd(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:n}=N.useContext(ln),{hash:o,pathname:u,search:c}=jd(r,{relative:t}),m=u;return s!=="/"&&(m=u==="/"?s:In([s,u])),n.createHref({pathname:m,search:c,hash:o})}function vd(){return N.useContext(bd)!=null}function No(){return Dr(vd(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(bd).location}var ON="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LN(r){N.useContext(ln).static||N.useLayoutEffect(r)}function Qt(){let{isDataRoute:r}=N.useContext(Mn);return r?dS():X4()}function X4(){Dr(vd(),"useNavigate() may be used only in the context of a <Router> component.");let r=N.useContext(Ll),{basename:t,navigator:s}=N.useContext(ln),{matches:n}=N.useContext(Mn),{pathname:o}=No(),u=JSON.stringify(_N(n)),c=N.useRef(!1);return LN(()=>{c.current=!0}),N.useCallback((p,v={})=>{if(sn(c.current,ON),!c.current)return;if(typeof p=="number"){s.go(p);return}let T=AN(p,JSON.parse(u),o,v.relative==="path");r==null&&t!=="/"&&(T.pathname=T.pathname==="/"?t:In([t,T.pathname])),(v.replace?s.replace:s.push)(T,v.state,v)},[t,s,u,o,r])}N.createContext(null);function jd(r,{relative:t}={}){let{matches:s}=N.useContext(Mn),{pathname:n}=No(),o=JSON.stringify(_N(s));return N.useMemo(()=>AN(r,JSON.parse(o),n,t==="path"),[r,o,n,t])}function J4(r,t){return VN(r,t)}function VN(r,t,s,n,o){Dr(vd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=N.useContext(ln),{matches:c}=N.useContext(Mn),m=c[c.length-1],p=m?m.params:{},v=m?m.pathname:"/",T=m?m.pathnameBase:"/",P=m&&m.route;{let ne=P&&P.path||"";zN(v,!P||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let A=No(),O;if(t){let ne=typeof t=="string"?Ol(t):t;Dr(T==="/"||ne.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),O=ne}else O=A;let k=O.pathname||"/",H=k;if(T!=="/"){let ne=T.replace(/^\//,"").split("/");H="/"+k.replace(/^\//,"").split("/").slice(ne.length).join("/")}let V=EN(r,{pathname:H});sn(P||V!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),sn(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=aS(V&&V.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:In([T,u.encodeLocation?u.encodeLocation(ne.pathname).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?T:In([T,u.encodeLocation?u.encodeLocation(ne.pathnameBase).pathname:ne.pathnameBase])})),c,s,n,o);return t&&Z?N.createElement(bd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},Z):Z}function eS(){let r=cS(),t=G4(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:n},u={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:u},"ErrorBoundary")," or"," ",N.createElement("code",{style:u},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),s?N.createElement("pre",{style:o},s):null,c)}var tS=N.createElement(eS,null),rS=class extends N.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.unstable_onError?this.props.unstable_onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?N.createElement(Mn.Provider,{value:this.props.routeContext},N.createElement(sf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sS({routeContext:r,match:t,children:s}){let n=N.useContext(Ll);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Mn.Provider,{value:r},s)}function aS(r,t=[],s=null,n=null,o=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let u=r,c=s?.errors;if(c!=null){let v=u.findIndex(T=>T.route.id&&c?.[T.route.id]!==void 0);Dr(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let m=!1,p=-1;if(s)for(let v=0;v<u.length;v++){let T=u[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=v),T.route.id){let{loaderData:P,errors:A}=s,O=T.route.loader&&!P.hasOwnProperty(T.route.id)&&(!A||A[T.route.id]===void 0);if(T.route.lazy||O){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((v,T,P)=>{let A,O=!1,k=null,H=null;s&&(A=c&&T.route.id?c[T.route.id]:void 0,k=T.route.errorElement||tS,m&&(p<0&&P===0?(zN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,H=null):p===P&&(O=!0,H=T.route.hydrateFallbackElement||null)));let V=t.concat(u.slice(0,P+1)),Z=()=>{let ne;return A?ne=k:O?ne=H:T.route.Component?ne=N.createElement(T.route.Component,null):T.route.element?ne=T.route.element:ne=v,N.createElement(sS,{match:T,routeContext:{outlet:v,matches:V,isDataRoute:s!=null},children:ne})};return s&&(T.route.ErrorBoundary||T.route.errorElement||P===0)?N.createElement(rS,{location:s.location,revalidation:s.revalidation,component:k,error:A,children:Z(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:n}):Z()},null)}function af(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nS(r){let t=N.useContext(Ll);return Dr(t,af(r)),t}function iS(r){let t=N.useContext(hx);return Dr(t,af(r)),t}function oS(r){let t=N.useContext(Mn);return Dr(t,af(r)),t}function nf(r){let t=oS(r),s=t.matches[t.matches.length-1];return Dr(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function lS(){return nf("useRouteId")}function cS(){let r=N.useContext(sf),t=iS("useRouteError"),s=nf("useRouteError");return r!==void 0?r:t.errors?.[s]}function dS(){let{router:r}=nS("useNavigate"),t=nf("useNavigate"),s=N.useRef(!1);return LN(()=>{s.current=!0}),N.useCallback(async(o,u={})=>{sn(s.current,ON),s.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var yv={};function zN(r,t,s){!t&&!yv[r]&&(yv[r]=!0,sn(!1,s))}N.memo(uS);function uS({routes:r,future:t,state:s,unstable_onError:n}){return VN(r,void 0,s,n,t)}function Yt(r){Dr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xS({basename:r="/",children:t=null,location:s,navigationType:n="POP",navigator:o,static:u=!1}){Dr(!vd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),m=N.useMemo(()=>({basename:c,navigator:o,static:u,future:{}}),[c,o,u]);typeof s=="string"&&(s=Ol(s));let{pathname:p="/",search:v="",hash:T="",state:P=null,key:A="default"}=s,O=N.useMemo(()=>{let k=Cn(p,c);return k==null?null:{location:{pathname:k,search:v,hash:T,state:P,key:A},navigationType:n}},[c,p,v,T,P,A,n]);return sn(O!=null,`<Router basename="${c}"> is not able to match the URL "${p}${v}${T}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:N.createElement(ln.Provider,{value:m},N.createElement(bd.Provider,{children:t,value:O}))}function mS({children:r,location:t}){return J4(np(r),t)}function np(r,t=[]){let s=[];return N.Children.forEach(r,(n,o)=>{if(!N.isValidElement(n))return;let u=[...t,o];if(n.type===N.Fragment){s.push.apply(s,np(n.props.children,u));return}Dr(n.type===Yt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Dr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||u.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=np(n.props.children,u)),s.push(c)}),s}var pu="get",fu="application/x-www-form-urlencoded";function px(r){return r!=null&&typeof r.tagName=="string"}function hS(r){return px(r)&&r.tagName.toLowerCase()==="button"}function pS(r){return px(r)&&r.tagName.toLowerCase()==="form"}function fS(r){return px(r)&&r.tagName.toLowerCase()==="input"}function gS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function yS(r,t){return r.button===0&&(!t||t==="_self")&&!gS(r)}var su=null;function bS(){if(su===null)try{new FormData(document.createElement("form"),0),su=!1}catch{su=!0}return su}var vS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ch(r){return r!=null&&!vS.has(r)?(sn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fu}"`),null):r}function jS(r,t){let s,n,o,u,c;if(pS(r)){let m=r.getAttribute("action");n=m?Cn(m,t):null,s=r.getAttribute("method")||pu,o=Ch(r.getAttribute("enctype"))||fu,u=new FormData(r)}else if(hS(r)||fS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(n=p?Cn(p,t):null,s=r.getAttribute("formmethod")||m.getAttribute("method")||pu,o=Ch(r.getAttribute("formenctype"))||Ch(m.getAttribute("enctype"))||fu,u=new FormData(m,r),!bS()){let{name:v,type:T,value:P}=r;if(T==="image"){let A=v?`${v}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else v&&u.append(v,P)}}else{if(px(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=pu,n=null,o=fu,c=r}return u&&o==="text/plain"&&(c=u,u=void 0),{action:n,method:s.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function of(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function wS(r,t,s){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${s}`:t&&Cn(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${s}`,n}async function NS(r,t){if(r.id in t)return t[r.id];try{let s=await import(r.module);return t[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function kS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function SS(r,t,s){let n=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let c=await NS(u,s);return c.links?c.links():[]}return[]}));return CS(n.flat(1).filter(kS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function bv(r,t,s,n,o,u){let c=(p,v)=>s[v]?p.route.id!==s[v].route.id:!0,m=(p,v)=>s[v].pathname!==p.pathname||s[v].route.path?.endsWith("*")&&s[v].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,v)=>c(p,v)||m(p,v)):u==="data"?t.filter((p,v)=>{let T=n.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(c(p,v)||m(p,v))return!0;if(p.route.shouldRevalidate){let P=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof P=="boolean")return P}return!0}):[]}function TS(r,t,{includeHydrateFallback:s}={}){return IS(r.map(n=>{let o=t.routes[n.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function IS(r){return[...new Set(r)]}function PS(r){let t={},s=Object.keys(r).sort();for(let n of s)t[n]=r[n];return t}function CS(r,t){let s=new Set;return new Set(t),r.reduce((n,o)=>{let u=JSON.stringify(PS(o));return s.has(u)||(s.add(u),n.push({key:u,link:o})),n},[])}function BN(){let r=N.useContext(Ll);return of(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ES(){let r=N.useContext(hx);return of(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var lf=N.createContext(void 0);lf.displayName="FrameworkContext";function UN(){let r=N.useContext(lf);return of(r,"You must render this element inside a <HydratedRouter> element"),r}function DS(r,t){let s=N.useContext(lf),[n,o]=N.useState(!1),[u,c]=N.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:v,onMouseLeave:T,onTouchStart:P}=t,A=N.useRef(null);N.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let H=Z=>{Z.forEach(ne=>{c(ne.isIntersecting)})},V=new IntersectionObserver(H,{threshold:.5});return A.current&&V.observe(A.current),()=>{V.disconnect()}}},[r]),N.useEffect(()=>{if(n){let H=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(H)}}},[n]);let O=()=>{o(!0)},k=()=>{o(!1),c(!1)};return s?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Ec(m,O),onBlur:Ec(p,k),onMouseEnter:Ec(v,O),onMouseLeave:Ec(T,k),onTouchStart:Ec(P,O)}]:[!1,A,{}]}function Ec(r,t){return s=>{r&&r(s),s.defaultPrevented||t(s)}}function $S({page:r,...t}){let{router:s}=BN(),n=N.useMemo(()=>EN(s.routes,r,s.basename),[s.routes,r,s.basename]);return n?N.createElement(AS,{page:r,matches:n,...t}):null}function _S(r){let{manifest:t,routeModules:s}=UN(),[n,o]=N.useState([]);return N.useEffect(()=>{let u=!1;return SS(r,t,s).then(c=>{u||o(c)}),()=>{u=!0}},[r,t,s]),n}function AS({page:r,matches:t,...s}){let n=No(),{manifest:o,routeModules:u}=UN(),{basename:c}=BN(),{loaderData:m,matches:p}=ES(),v=N.useMemo(()=>bv(r,t,p,o,n,"data"),[r,t,p,o,n]),T=N.useMemo(()=>bv(r,t,p,o,n,"assets"),[r,t,p,o,n]),P=N.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let k=new Set,H=!1;if(t.forEach(Z=>{let ne=o.routes[Z.route.id];!ne||!ne.hasLoader||(!v.some(oe=>oe.route.id===Z.route.id)&&Z.route.id in m&&u[Z.route.id]?.shouldRevalidate||ne.hasClientLoader?H=!0:k.add(Z.route.id))}),k.size===0)return[];let V=wS(r,c,"data");return H&&k.size>0&&V.searchParams.set("_routes",t.filter(Z=>k.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[V.pathname+V.search]},[c,m,n,o,v,t,r,u]),A=N.useMemo(()=>TS(T,o),[T,o]),O=_S(T);return N.createElement(N.Fragment,null,P.map(k=>N.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...s})),A.map(k=>N.createElement("link",{key:k,rel:"modulepreload",href:k,...s})),O.map(({key:k,link:H})=>N.createElement("link",{key:k,nonce:s.nonce,...H})))}function RS(...r){return t=>{r.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var FN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FN&&(window.__reactRouterVersion="7.8.2")}catch{}function MS({basename:r,children:t,window:s}){let n=N.useRef();n.current==null&&(n.current=k4({window:s,v5Compat:!0}));let o=n.current,[u,c]=N.useState({action:o.action,location:o.location}),m=N.useCallback(p=>{N.startTransition(()=>c(p))},[c]);return N.useLayoutEffect(()=>o.listen(m),[o,m]),N.createElement(xS,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var HN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,S=N.forwardRef(function({onClick:t,discover:s="render",prefetch:n="none",relative:o,reloadDocument:u,replace:c,state:m,target:p,to:v,preventScrollReset:T,viewTransition:P,...A},O){let{basename:k}=N.useContext(ln),H=typeof v=="string"&&HN.test(v),V,Z=!1;if(typeof v=="string"&&H&&(V=v,FN))try{let Y=new URL(window.location.href),Q=v.startsWith("//")?new URL(Y.protocol+v):new URL(v),ae=Cn(Q.pathname,k);Q.origin===Y.origin&&ae!=null?v=ae+Q.search+Q.hash:Z=!0}catch{sn(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=Y4(v,{relative:o}),[oe,pe,X]=DS(n,A),ie=zS(v,{replace:c,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:P});function U(Y){t&&t(Y),Y.defaultPrevented||ie(Y)}let h=N.createElement("a",{...A,...X,href:V||ne,onClick:Z||u?t:U,ref:RS(O,pe),target:p,"data-discover":!H&&s==="render"?"true":void 0});return oe&&!H?N.createElement(N.Fragment,null,h,N.createElement($S,{page:ne})):h});S.displayName="Link";var OS=N.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:n="",end:o=!1,style:u,to:c,viewTransition:m,children:p,...v},T){let P=jd(c,{relative:v.relative}),A=No(),O=N.useContext(hx),{navigator:k,basename:H}=N.useContext(ln),V=O!=null&&WS(P)&&m===!0,Z=k.encodeLocation?k.encodeLocation(P).pathname:P.pathname,ne=A.pathname,oe=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;s||(ne=ne.toLowerCase(),oe=oe?oe.toLowerCase():null,Z=Z.toLowerCase()),oe&&H&&(oe=Cn(oe,H)||oe);const pe=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let X=ne===Z||!o&&ne.startsWith(Z)&&ne.charAt(pe)==="/",ie=oe!=null&&(oe===Z||!o&&oe.startsWith(Z)&&oe.charAt(Z.length)==="/"),U={isActive:X,isPending:ie,isTransitioning:V},h=X?t:void 0,Y;typeof n=="function"?Y=n(U):Y=[n,X?"active":null,ie?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let Q=typeof u=="function"?u(U):u;return N.createElement(S,{...v,"aria-current":h,className:Y,ref:T,style:Q,to:c,viewTransition:m},typeof p=="function"?p(U):p)});OS.displayName="NavLink";var LS=N.forwardRef(({discover:r="render",fetcherKey:t,navigate:s,reloadDocument:n,replace:o,state:u,method:c=pu,action:m,onSubmit:p,relative:v,preventScrollReset:T,viewTransition:P,...A},O)=>{let k=FS(),H=HS(m,{relative:v}),V=c.toLowerCase()==="get"?"get":"post",Z=typeof m=="string"&&HN.test(m),ne=oe=>{if(p&&p(oe),oe.defaultPrevented)return;oe.preventDefault();let pe=oe.nativeEvent.submitter,X=pe?.getAttribute("formmethod")||c;k(pe||oe.currentTarget,{fetcherKey:t,method:X,navigate:s,replace:o,state:u,relative:v,preventScrollReset:T,viewTransition:P})};return N.createElement("form",{ref:O,method:V,action:H,onSubmit:n?p:ne,...A,"data-discover":!Z&&r==="render"?"true":void 0})});LS.displayName="Form";function VS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WN(r){let t=N.useContext(Ll);return Dr(t,VS(r)),t}function zS(r,{target:t,replace:s,state:n,preventScrollReset:o,relative:u,viewTransition:c}={}){let m=Qt(),p=No(),v=jd(r,{relative:u});return N.useCallback(T=>{if(yS(T,t)){T.preventDefault();let P=s!==void 0?s:Jc(p)===Jc(v);m(r,{replace:P,state:n,preventScrollReset:o,relative:u,viewTransition:c})}},[p,m,v,s,n,t,r,o,u,c])}var BS=0,US=()=>`__${String(++BS)}__`;function FS(){let{router:r}=WN("useSubmit"),{basename:t}=N.useContext(ln),s=lS();return N.useCallback(async(n,o={})=>{let{action:u,method:c,encType:m,formData:p,body:v}=jS(n,t);if(o.navigate===!1){let T=o.fetcherKey||US();await r.fetch(T,s,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:v,formMethod:o.method||c,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:v,formMethod:o.method||c,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:s,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,s])}function HS(r,{relative:t}={}){let{basename:s}=N.useContext(ln),n=N.useContext(Mn);Dr(n,"useFormAction must be used inside a RouteContext");let[o]=n.matches.slice(-1),u={...jd(r||".",{relative:t})},c=No();if(r==null){u.search=c.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(P=>P).forEach(P=>m.append("index",P));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:In([s,u.pathname])),Jc(u)}function WS(r,{relative:t}={}){let s=N.useContext(MN);Dr(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=WN("useViewTransitionState"),o=jd(r,{relative:t});if(!s.isTransitioning)return!1;let u=Cn(s.currentLocation.pathname,n)||s.currentLocation.pathname,c=Cn(s.nextLocation.pathname,n)||s.nextLocation.pathname;return $u(o.pathname,c)!=null||$u(o.pathname,u)!=null}const qS=()=>{};var vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=function(r){const t=[];let s=0;for(let n=0;n<r.length;n++){let o=r.charCodeAt(n);o<128?t[s++]=o:o<2048?(t[s++]=o>>6|192,t[s++]=o&63|128):(o&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++n)&1023),t[s++]=o>>18|240,t[s++]=o>>12&63|128,t[s++]=o>>6&63|128,t[s++]=o&63|128):(t[s++]=o>>12|224,t[s++]=o>>6&63|128,t[s++]=o&63|128)}return t},GS=function(r){const t=[];let s=0,n=0;for(;s<r.length;){const o=r[s++];if(o<128)t[n++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[s++];t[n++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[s++],c=r[s++],m=r[s++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;t[n++]=String.fromCharCode(55296+(p>>10)),t[n++]=String.fromCharCode(56320+(p&1023))}else{const u=r[s++],c=r[s++];t[n++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},GN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let o=0;o<r.length;o+=3){const u=r[o],c=o+1<r.length,m=c?r[o+1]:0,p=o+2<r.length,v=p?r[o+2]:0,T=u>>2,P=(u&3)<<4|m>>4;let A=(m&15)<<2|v>>6,O=v&63;p||(O=64,c||(A=64)),n.push(s[T],s[P],s[A],s[O])}return n.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(qN(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):GS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const s=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let o=0;o<r.length;){const u=s[r.charAt(o++)],m=o<r.length?s[r.charAt(o)]:0;++o;const v=o<r.length?s[r.charAt(o)]:64;++o;const P=o<r.length?s[r.charAt(o)]:64;if(++o,u==null||m==null||v==null||P==null)throw new QS;const A=u<<2|m>>4;if(n.push(A),v!==64){const O=m<<4&240|v>>2;if(n.push(O),P!==64){const k=v<<6&192|P;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class QS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KS=function(r){const t=qN(r);return GN.encodeByteArray(t,!0)},_u=function(r){return KS(r).replace(/\./g,"")},QN=function(r){try{return GN.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=()=>ZS().__FIREBASE_DEFAULTS__,XS=()=>{if(typeof process>"u"||typeof vv>"u")return;const r=vv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},JS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&QN(r[1]);return t&&JSON.parse(t)},fx=()=>{try{return qS()||YS()||XS()||JS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},KN=r=>{var t,s;return(s=(t=fx())===null||t===void 0?void 0:t.emulatorHosts)===null||s===void 0?void 0:s[r]},ZN=r=>{const t=KN(r);if(!t)return;const s=t.lastIndexOf(":");if(s<=0||s+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(s+1),10);return t[0]==="["?[t.substring(1,s-1),n]:[t.substring(0,s),n]},YN=()=>{var r;return(r=fx())===null||r===void 0?void 0:r.config},XN=r=>{var t;return(t=fx())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,s)=>{this.resolve=t,this.reject=s})}wrapCallback(t){return(s,n)=>{s?this.reject(s):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(s):t(s,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},n=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[_u(JSON.stringify(s)),_u(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(js())}function rT(){var r;const t=(r=fx())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e5(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function aT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nT(){const r=js();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function iT(){return!rT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t5(){try{return typeof indexedDB=="object"}catch{return!1}}function r5(){return new Promise((r,t)=>{try{let s=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(n),r(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(s){t(s)}})}function oT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="FirebaseError";class ya extends Error{constructor(t,s,n){super(s),this.code=t,this.customData=n,this.name=lT,Object.setPrototypeOf(this,ya.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ko.prototype.create)}}class ko{constructor(t,s,n){this.service=t,this.serviceName=s,this.errors=n}create(t,...s){const n=s[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?cT(u,n):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new ya(o,m,n)}}function cT(r,t){return r.replace(dT,(s,n)=>{const o=t[n];return o!=null?String(o):`<${n}?>`})}const dT=/\{\$([^}]+)}/g;function uT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ni(r,t){if(r===t)return!0;const s=Object.keys(r),n=Object.keys(t);for(const o of s){if(!n.includes(o))return!1;const u=r[o],c=t[o];if(jv(u)&&jv(c)){if(!Ni(u,c))return!1}else if(u!==c)return!1}for(const o of n)if(!s.includes(o))return!1;return!0}function jv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(r){const t=[];for(const[s,n]of Object.entries(r))Array.isArray(n)?n.forEach(o=>{t.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(s)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function $c(r){const t={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[o,u]=n.split("=");t[decodeURIComponent(o)]=decodeURIComponent(u)}}),t}function _c(r){const t=r.indexOf("?");if(!t)return"";const s=r.indexOf("#",t);return r.substring(t,s>0?s:void 0)}function xT(r,t){const s=new mT(r,t);return s.subscribe.bind(s)}class mT{constructor(t,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(s=>{s.next(t)})}error(t){this.forEachObserver(s=>{s.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,s,n){let o;if(t===void 0&&s===void 0&&n===void 0)throw new Error("Missing Observer.");hT(t,["next","error","complete"])?o=t:o={next:t,error:s,complete:n},o.next===void 0&&(o.next=Eh),o.error===void 0&&(o.error=Eh),o.complete===void 0&&(o.complete=Eh);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,t)}sendOne(t,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{s(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hT(r,t){if(typeof r!="object"||r===null)return!1;for(const s of t)if(s in r&&typeof r[s]=="function")return!0;return!1}function Eh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=1e3,fT=2,gT=14400*1e3,yT=.5;function wv(r,t=pT,s=fT){const n=t*Math.pow(s,r),o=Math.round(yT*n*(Math.random()-.5)*2);return Math.min(gT,n+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(r){return r&&r._delegate?r._delegate:r}class ga{constructor(t,s,n){this.name=t,this.instanceFactory=s,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(t,s){this.name=t,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const s=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(s)){const n=new eT;if(this.instancesDeferred.set(s,n),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&n.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(t){var s;const n=this.normalizeInstanceIdentifier(t?.identifier),o=(s=t?.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jT(t))try{this.getOrInitializeService({instanceIdentifier:no})}catch{}for(const[s,n]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const u=this.getOrInitializeService({instanceIdentifier:o});n.resolve(u)}catch{}}}}clearInstance(t=no){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...t.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=no){return this.instances.has(t)}getOptions(t=no){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:s={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:n,options:s});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);n===m&&c.resolve(o)}return o}onInit(t,s){var n;const o=this.normalizeInstanceIdentifier(s),u=(n=this.onInitCallbacks.get(o))!==null&&n!==void 0?n:new Set;u.add(t),this.onInitCallbacks.set(o,u);const c=this.instances.get(o);return c&&t(c,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,s){const n=this.onInitCallbacks.get(s);if(n)for(const o of n)try{o(t,s)}catch{}}getOrInitializeService({instanceIdentifier:t,options:s={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:vT(t),options:s}),this.instances.set(t,n),this.instancesOptions.set(t,s),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=no){return this.component?this.component.multipleInstances?t:no:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vT(r){return r===no?void 0:r}function jT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const s=this.getProvider(t.name);if(s.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);s.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const s=new bT(t,this);return this.providers.set(t,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Jt||(Jt={}));const NT={debug:Jt.DEBUG,verbose:Jt.VERBOSE,info:Jt.INFO,warn:Jt.WARN,error:Jt.ERROR,silent:Jt.SILENT},kT=Jt.INFO,ST={[Jt.DEBUG]:"log",[Jt.VERBOSE]:"log",[Jt.INFO]:"info",[Jt.WARN]:"warn",[Jt.ERROR]:"error"},TT=(r,t,...s)=>{if(t<r.logLevel)return;const n=new Date().toISOString(),o=ST[t];if(o)console[o](`[${n}]  ${r.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gx{constructor(t){this.name=t,this._logLevel=kT,this._logHandler=TT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?NT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Jt.DEBUG,...t),this._logHandler(this,Jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Jt.VERBOSE,...t),this._logHandler(this,Jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Jt.INFO,...t),this._logHandler(this,Jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Jt.WARN,...t),this._logHandler(this,Jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Jt.ERROR,...t),this._logHandler(this,Jt.ERROR,...t)}}const IT=(r,t)=>t.some(s=>r instanceof s);let Nv,kv;function PT(){return Nv||(Nv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CT(){return kv||(kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s5=new WeakMap,ip=new WeakMap,a5=new WeakMap,Dh=new WeakMap,cf=new WeakMap;function ET(r){const t=new Promise((s,n)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",c)},u=()=>{s(yi(r.result)),o()},c=()=>{n(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",c)});return t.then(s=>{s instanceof IDBCursor&&s5.set(s,r)}).catch(()=>{}),cf.set(t,r),t}function DT(r){if(ip.has(r))return;const t=new Promise((s,n)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",c),r.removeEventListener("abort",c)},u=()=>{s(),o()},c=()=>{n(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",c),r.addEventListener("abort",c)});ip.set(r,t)}let op={get(r,t,s){if(r instanceof IDBTransaction){if(t==="done")return ip.get(r);if(t==="objectStoreNames")return r.objectStoreNames||a5.get(r);if(t==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return yi(r[t])},set(r,t,s){return r[t]=s,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function $T(r){op=r(op)}function _T(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...s){const n=r.call($h(this),t,...s);return a5.set(n,t.sort?t.sort():[t]),yi(n)}:CT().includes(r)?function(...t){return r.apply($h(this),t),yi(s5.get(this))}:function(...t){return yi(r.apply($h(this),t))}}function AT(r){return typeof r=="function"?_T(r):(r instanceof IDBTransaction&&DT(r),IT(r,PT())?new Proxy(r,op):r)}function yi(r){if(r instanceof IDBRequest)return ET(r);if(Dh.has(r))return Dh.get(r);const t=AT(r);return t!==r&&(Dh.set(r,t),cf.set(t,r)),t}const $h=r=>cf.get(r);function n5(r,t,{blocked:s,upgrade:n,blocking:o,terminated:u}={}){const c=indexedDB.open(r,t),m=yi(c);return n&&c.addEventListener("upgradeneeded",p=>{n(yi(c.result),p.oldVersion,p.newVersion,yi(c.transaction),p)}),s&&c.addEventListener("blocked",p=>s(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const RT=["get","getKey","getAll","getAllKeys","count"],MT=["put","add","delete","clear"],_h=new Map;function Sv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(_h.get(t))return _h.get(t);const s=t.replace(/FromIndex$/,""),n=t!==s,o=MT.includes(s);if(!(s in(n?IDBIndex:IDBObjectStore).prototype)||!(o||RT.includes(s)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let v=p.store;return n&&(v=v.index(m.shift())),(await Promise.all([v[s](...m),o&&p.done]))[0]};return _h.set(t,u),u}$T(r=>({...r,get:(t,s,n)=>Sv(t,s)||r.get(t,s,n),has:(t,s)=>!!Sv(t,s)||r.has(t,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(LT(s)){const n=s.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(s=>s).join(" ")}}function LT(r){const t=r.getComponent();return t?.type==="VERSION"}const lp="@firebase/app",Tv="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En=new gx("@firebase/app"),VT="@firebase/app-compat",zT="@firebase/analytics-compat",BT="@firebase/analytics",UT="@firebase/app-check-compat",FT="@firebase/app-check",HT="@firebase/auth",WT="@firebase/auth-compat",qT="@firebase/database",GT="@firebase/data-connect",QT="@firebase/database-compat",KT="@firebase/functions",ZT="@firebase/functions-compat",YT="@firebase/installations",XT="@firebase/installations-compat",JT="@firebase/messaging",eI="@firebase/messaging-compat",tI="@firebase/performance",rI="@firebase/performance-compat",sI="@firebase/remote-config",aI="@firebase/remote-config-compat",nI="@firebase/storage",iI="@firebase/storage-compat",oI="@firebase/firestore",lI="@firebase/vertexai",cI="@firebase/firestore-compat",dI="firebase",uI="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="[DEFAULT]",xI={[lp]:"fire-core",[VT]:"fire-core-compat",[BT]:"fire-analytics",[zT]:"fire-analytics-compat",[FT]:"fire-app-check",[UT]:"fire-app-check-compat",[HT]:"fire-auth",[WT]:"fire-auth-compat",[qT]:"fire-rtdb",[GT]:"fire-data-connect",[QT]:"fire-rtdb-compat",[KT]:"fire-fn",[ZT]:"fire-fn-compat",[YT]:"fire-iid",[XT]:"fire-iid-compat",[JT]:"fire-fcm",[eI]:"fire-fcm-compat",[tI]:"fire-perf",[rI]:"fire-perf-compat",[sI]:"fire-rc",[aI]:"fire-rc-compat",[nI]:"fire-gcs",[iI]:"fire-gcs-compat",[oI]:"fire-fst",[cI]:"fire-fst-compat",[lI]:"fire-vertex","fire-js":"fire-js",[dI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=new Map,mI=new Map,dp=new Map;function Iv(r,t){try{r.container.addComponent(t)}catch(s){En.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,s)}}function Aa(r){const t=r.name;if(dp.has(t))return En.debug(`There were multiple attempts to register component ${t}.`),!1;dp.set(t,r);for(const s of Au.values())Iv(s,r);for(const s of mI.values())Iv(s,r);return!0}function $i(r,t){const s=r.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),r.container.getProvider(t)}function ea(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bi=new ko("app","Firebase",hI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t,s,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=uI;function i5(r,t={}){let s=r;typeof t!="object"&&(t={name:t});const n=Object.assign({name:cp,automaticDataCollectionEnabled:!1},t),o=n.name;if(typeof o!="string"||!o)throw bi.create("bad-app-name",{appName:String(o)});if(s||(s=YN()),!s)throw bi.create("no-options");const u=Au.get(o);if(u){if(Ni(s,u.options)&&Ni(n,u.config))return u;throw bi.create("duplicate-app",{appName:o})}const c=new wT(o);for(const p of dp.values())c.addComponent(p);const m=new pI(s,n,c);return Au.set(o,m),m}function yx(r=cp){const t=Au.get(r);if(!t&&r===cp&&YN())return i5();if(!t)throw bi.create("no-app",{appName:r});return t}function Bs(r,t,s){var n;let o=(n=xI[r])!==null&&n!==void 0?n:r;s&&(o+=`-${s}`);const u=o.match(/\s|\//),c=t.match(/\s|\//);if(u||c){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&c&&m.push("and"),c&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),En.warn(m.join(" "));return}Aa(new ga(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="firebase-heartbeat-database",gI=1,ed="firebase-heartbeat-store";let Ah=null;function o5(){return Ah||(Ah=n5(fI,gI,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(ed)}catch(s){console.warn(s)}}}}).catch(r=>{throw bi.create("idb-open",{originalErrorMessage:r.message})})),Ah}async function yI(r){try{const s=(await o5()).transaction(ed),n=await s.objectStore(ed).get(l5(r));return await s.done,n}catch(t){if(t instanceof ya)En.warn(t.message);else{const s=bi.create("idb-get",{originalErrorMessage:t?.message});En.warn(s.message)}}}async function Pv(r,t){try{const n=(await o5()).transaction(ed,"readwrite");await n.objectStore(ed).put(t,l5(r)),await n.done}catch(s){if(s instanceof ya)En.warn(s.message);else{const n=bi.create("idb-set",{originalErrorMessage:s?.message});En.warn(n.message)}}}function l5(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=1024,vI=30;class jI{constructor(t){this.container=t,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new NI(s),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,s;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Cv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>vI){const c=kI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){En.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=Cv(),{heartbeatsToSend:n,unsentEntries:o}=wI(this._heartbeatsCache.heartbeats),u=_u(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=s,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(s){return En.warn(s),""}}}function Cv(){return new Date().toISOString().substring(0,10)}function wI(r,t=bI){const s=[];let n=r.slice();for(const o of r){const u=s.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),Ev(s)>t){u.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),Ev(s)>t){s.pop();break}n=n.slice(1)}return{heartbeatsToSend:s,unsentEntries:n}}class NI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t5()?r5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await yI(this.app);return s?.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var s;if(await this._canUseIndexedDBPromise){const o=await this.read();return Pv(this.app,{lastSentHeartbeatDate:(s=t.lastSentHeartbeatDate)!==null&&s!==void 0?s:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var s;if(await this._canUseIndexedDBPromise){const o=await this.read();return Pv(this.app,{lastSentHeartbeatDate:(s=t.lastSentHeartbeatDate)!==null&&s!==void 0?s:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Ev(r){return _u(JSON.stringify({version:2,heartbeats:r})).length}function kI(r){if(r.length===0)return-1;let t=0,s=r[0].date;for(let n=1;n<r.length;n++)r[n].date<s&&(s=r[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(r){Aa(new ga("platform-logger",t=>new OT(t),"PRIVATE")),Aa(new ga("heartbeat",t=>new jI(t),"PRIVATE")),Bs(lp,Tv,r),Bs(lp,Tv,"esm2017"),Bs("fire-js","")}SI("");var Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vi,c5;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(U,h){function Y(){}Y.prototype=h.prototype,U.D=h.prototype,U.prototype=new Y,U.prototype.constructor=U,U.C=function(Q,ae,le){for(var ee=Array(arguments.length-2),K=2;K<arguments.length;K++)ee[K-2]=arguments[K];return h.prototype[ae].apply(Q,ee)}}function s(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,s),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(U,h,Y){Y||(Y=0);var Q=Array(16);if(typeof h=="string")for(var ae=0;16>ae;++ae)Q[ae]=h.charCodeAt(Y++)|h.charCodeAt(Y++)<<8|h.charCodeAt(Y++)<<16|h.charCodeAt(Y++)<<24;else for(ae=0;16>ae;++ae)Q[ae]=h[Y++]|h[Y++]<<8|h[Y++]<<16|h[Y++]<<24;h=U.g[0],Y=U.g[1],ae=U.g[2];var le=U.g[3],ee=h+(le^Y&(ae^le))+Q[0]+3614090360&4294967295;h=Y+(ee<<7&4294967295|ee>>>25),ee=le+(ae^h&(Y^ae))+Q[1]+3905402710&4294967295,le=h+(ee<<12&4294967295|ee>>>20),ee=ae+(Y^le&(h^Y))+Q[2]+606105819&4294967295,ae=le+(ee<<17&4294967295|ee>>>15),ee=Y+(h^ae&(le^h))+Q[3]+3250441966&4294967295,Y=ae+(ee<<22&4294967295|ee>>>10),ee=h+(le^Y&(ae^le))+Q[4]+4118548399&4294967295,h=Y+(ee<<7&4294967295|ee>>>25),ee=le+(ae^h&(Y^ae))+Q[5]+1200080426&4294967295,le=h+(ee<<12&4294967295|ee>>>20),ee=ae+(Y^le&(h^Y))+Q[6]+2821735955&4294967295,ae=le+(ee<<17&4294967295|ee>>>15),ee=Y+(h^ae&(le^h))+Q[7]+4249261313&4294967295,Y=ae+(ee<<22&4294967295|ee>>>10),ee=h+(le^Y&(ae^le))+Q[8]+1770035416&4294967295,h=Y+(ee<<7&4294967295|ee>>>25),ee=le+(ae^h&(Y^ae))+Q[9]+2336552879&4294967295,le=h+(ee<<12&4294967295|ee>>>20),ee=ae+(Y^le&(h^Y))+Q[10]+4294925233&4294967295,ae=le+(ee<<17&4294967295|ee>>>15),ee=Y+(h^ae&(le^h))+Q[11]+2304563134&4294967295,Y=ae+(ee<<22&4294967295|ee>>>10),ee=h+(le^Y&(ae^le))+Q[12]+1804603682&4294967295,h=Y+(ee<<7&4294967295|ee>>>25),ee=le+(ae^h&(Y^ae))+Q[13]+4254626195&4294967295,le=h+(ee<<12&4294967295|ee>>>20),ee=ae+(Y^le&(h^Y))+Q[14]+2792965006&4294967295,ae=le+(ee<<17&4294967295|ee>>>15),ee=Y+(h^ae&(le^h))+Q[15]+1236535329&4294967295,Y=ae+(ee<<22&4294967295|ee>>>10),ee=h+(ae^le&(Y^ae))+Q[1]+4129170786&4294967295,h=Y+(ee<<5&4294967295|ee>>>27),ee=le+(Y^ae&(h^Y))+Q[6]+3225465664&4294967295,le=h+(ee<<9&4294967295|ee>>>23),ee=ae+(h^Y&(le^h))+Q[11]+643717713&4294967295,ae=le+(ee<<14&4294967295|ee>>>18),ee=Y+(le^h&(ae^le))+Q[0]+3921069994&4294967295,Y=ae+(ee<<20&4294967295|ee>>>12),ee=h+(ae^le&(Y^ae))+Q[5]+3593408605&4294967295,h=Y+(ee<<5&4294967295|ee>>>27),ee=le+(Y^ae&(h^Y))+Q[10]+38016083&4294967295,le=h+(ee<<9&4294967295|ee>>>23),ee=ae+(h^Y&(le^h))+Q[15]+3634488961&4294967295,ae=le+(ee<<14&4294967295|ee>>>18),ee=Y+(le^h&(ae^le))+Q[4]+3889429448&4294967295,Y=ae+(ee<<20&4294967295|ee>>>12),ee=h+(ae^le&(Y^ae))+Q[9]+568446438&4294967295,h=Y+(ee<<5&4294967295|ee>>>27),ee=le+(Y^ae&(h^Y))+Q[14]+3275163606&4294967295,le=h+(ee<<9&4294967295|ee>>>23),ee=ae+(h^Y&(le^h))+Q[3]+4107603335&4294967295,ae=le+(ee<<14&4294967295|ee>>>18),ee=Y+(le^h&(ae^le))+Q[8]+1163531501&4294967295,Y=ae+(ee<<20&4294967295|ee>>>12),ee=h+(ae^le&(Y^ae))+Q[13]+2850285829&4294967295,h=Y+(ee<<5&4294967295|ee>>>27),ee=le+(Y^ae&(h^Y))+Q[2]+4243563512&4294967295,le=h+(ee<<9&4294967295|ee>>>23),ee=ae+(h^Y&(le^h))+Q[7]+1735328473&4294967295,ae=le+(ee<<14&4294967295|ee>>>18),ee=Y+(le^h&(ae^le))+Q[12]+2368359562&4294967295,Y=ae+(ee<<20&4294967295|ee>>>12),ee=h+(Y^ae^le)+Q[5]+4294588738&4294967295,h=Y+(ee<<4&4294967295|ee>>>28),ee=le+(h^Y^ae)+Q[8]+2272392833&4294967295,le=h+(ee<<11&4294967295|ee>>>21),ee=ae+(le^h^Y)+Q[11]+1839030562&4294967295,ae=le+(ee<<16&4294967295|ee>>>16),ee=Y+(ae^le^h)+Q[14]+4259657740&4294967295,Y=ae+(ee<<23&4294967295|ee>>>9),ee=h+(Y^ae^le)+Q[1]+2763975236&4294967295,h=Y+(ee<<4&4294967295|ee>>>28),ee=le+(h^Y^ae)+Q[4]+1272893353&4294967295,le=h+(ee<<11&4294967295|ee>>>21),ee=ae+(le^h^Y)+Q[7]+4139469664&4294967295,ae=le+(ee<<16&4294967295|ee>>>16),ee=Y+(ae^le^h)+Q[10]+3200236656&4294967295,Y=ae+(ee<<23&4294967295|ee>>>9),ee=h+(Y^ae^le)+Q[13]+681279174&4294967295,h=Y+(ee<<4&4294967295|ee>>>28),ee=le+(h^Y^ae)+Q[0]+3936430074&4294967295,le=h+(ee<<11&4294967295|ee>>>21),ee=ae+(le^h^Y)+Q[3]+3572445317&4294967295,ae=le+(ee<<16&4294967295|ee>>>16),ee=Y+(ae^le^h)+Q[6]+76029189&4294967295,Y=ae+(ee<<23&4294967295|ee>>>9),ee=h+(Y^ae^le)+Q[9]+3654602809&4294967295,h=Y+(ee<<4&4294967295|ee>>>28),ee=le+(h^Y^ae)+Q[12]+3873151461&4294967295,le=h+(ee<<11&4294967295|ee>>>21),ee=ae+(le^h^Y)+Q[15]+530742520&4294967295,ae=le+(ee<<16&4294967295|ee>>>16),ee=Y+(ae^le^h)+Q[2]+3299628645&4294967295,Y=ae+(ee<<23&4294967295|ee>>>9),ee=h+(ae^(Y|~le))+Q[0]+4096336452&4294967295,h=Y+(ee<<6&4294967295|ee>>>26),ee=le+(Y^(h|~ae))+Q[7]+1126891415&4294967295,le=h+(ee<<10&4294967295|ee>>>22),ee=ae+(h^(le|~Y))+Q[14]+2878612391&4294967295,ae=le+(ee<<15&4294967295|ee>>>17),ee=Y+(le^(ae|~h))+Q[5]+4237533241&4294967295,Y=ae+(ee<<21&4294967295|ee>>>11),ee=h+(ae^(Y|~le))+Q[12]+1700485571&4294967295,h=Y+(ee<<6&4294967295|ee>>>26),ee=le+(Y^(h|~ae))+Q[3]+2399980690&4294967295,le=h+(ee<<10&4294967295|ee>>>22),ee=ae+(h^(le|~Y))+Q[10]+4293915773&4294967295,ae=le+(ee<<15&4294967295|ee>>>17),ee=Y+(le^(ae|~h))+Q[1]+2240044497&4294967295,Y=ae+(ee<<21&4294967295|ee>>>11),ee=h+(ae^(Y|~le))+Q[8]+1873313359&4294967295,h=Y+(ee<<6&4294967295|ee>>>26),ee=le+(Y^(h|~ae))+Q[15]+4264355552&4294967295,le=h+(ee<<10&4294967295|ee>>>22),ee=ae+(h^(le|~Y))+Q[6]+2734768916&4294967295,ae=le+(ee<<15&4294967295|ee>>>17),ee=Y+(le^(ae|~h))+Q[13]+1309151649&4294967295,Y=ae+(ee<<21&4294967295|ee>>>11),ee=h+(ae^(Y|~le))+Q[4]+4149444226&4294967295,h=Y+(ee<<6&4294967295|ee>>>26),ee=le+(Y^(h|~ae))+Q[11]+3174756917&4294967295,le=h+(ee<<10&4294967295|ee>>>22),ee=ae+(h^(le|~Y))+Q[2]+718787259&4294967295,ae=le+(ee<<15&4294967295|ee>>>17),ee=Y+(le^(ae|~h))+Q[9]+3951481745&4294967295,U.g[0]=U.g[0]+h&4294967295,U.g[1]=U.g[1]+(ae+(ee<<21&4294967295|ee>>>11))&4294967295,U.g[2]=U.g[2]+ae&4294967295,U.g[3]=U.g[3]+le&4294967295}n.prototype.u=function(U,h){h===void 0&&(h=U.length);for(var Y=h-this.blockSize,Q=this.B,ae=this.h,le=0;le<h;){if(ae==0)for(;le<=Y;)o(this,U,le),le+=this.blockSize;if(typeof U=="string"){for(;le<h;)if(Q[ae++]=U.charCodeAt(le++),ae==this.blockSize){o(this,Q),ae=0;break}}else for(;le<h;)if(Q[ae++]=U[le++],ae==this.blockSize){o(this,Q),ae=0;break}}this.h=ae,this.o+=h},n.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var h=1;h<U.length-8;++h)U[h]=0;var Y=8*this.o;for(h=U.length-8;h<U.length;++h)U[h]=Y&255,Y/=256;for(this.u(U),U=Array(16),h=Y=0;4>h;++h)for(var Q=0;32>Q;Q+=8)U[Y++]=this.g[h]>>>Q&255;return U};function u(U,h){var Y=m;return Object.prototype.hasOwnProperty.call(Y,U)?Y[U]:Y[U]=h(U)}function c(U,h){this.h=h;for(var Y=[],Q=!0,ae=U.length-1;0<=ae;ae--){var le=U[ae]|0;Q&&le==h||(Y[ae]=le,Q=!1)}this.g=Y}var m={};function p(U){return-128<=U&&128>U?u(U,function(h){return new c([h|0],0>h?-1:0)}):new c([U|0],0>U?-1:0)}function v(U){if(isNaN(U)||!isFinite(U))return P;if(0>U)return V(v(-U));for(var h=[],Y=1,Q=0;U>=Y;Q++)h[Q]=U/Y|0,Y*=4294967296;return new c(h,0)}function T(U,h){if(U.length==0)throw Error("number format error: empty string");if(h=h||10,2>h||36<h)throw Error("radix out of range: "+h);if(U.charAt(0)=="-")return V(T(U.substring(1),h));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var Y=v(Math.pow(h,8)),Q=P,ae=0;ae<U.length;ae+=8){var le=Math.min(8,U.length-ae),ee=parseInt(U.substring(ae,ae+le),h);8>le?(le=v(Math.pow(h,le)),Q=Q.j(le).add(v(ee))):(Q=Q.j(Y),Q=Q.add(v(ee)))}return Q}var P=p(0),A=p(1),O=p(16777216);r=c.prototype,r.m=function(){if(H(this))return-V(this).m();for(var U=0,h=1,Y=0;Y<this.g.length;Y++){var Q=this.i(Y);U+=(0<=Q?Q:4294967296+Q)*h,h*=4294967296}return U},r.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(k(this))return"0";if(H(this))return"-"+V(this).toString(U);for(var h=v(Math.pow(U,6)),Y=this,Q="";;){var ae=pe(Y,h).g;Y=Z(Y,ae.j(h));var le=((0<Y.g.length?Y.g[0]:Y.h)>>>0).toString(U);if(Y=ae,k(Y))return le+Q;for(;6>le.length;)le="0"+le;Q=le+Q}},r.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function k(U){if(U.h!=0)return!1;for(var h=0;h<U.g.length;h++)if(U.g[h]!=0)return!1;return!0}function H(U){return U.h==-1}r.l=function(U){return U=Z(this,U),H(U)?-1:k(U)?0:1};function V(U){for(var h=U.g.length,Y=[],Q=0;Q<h;Q++)Y[Q]=~U.g[Q];return new c(Y,~U.h).add(A)}r.abs=function(){return H(this)?V(this):this},r.add=function(U){for(var h=Math.max(this.g.length,U.g.length),Y=[],Q=0,ae=0;ae<=h;ae++){var le=Q+(this.i(ae)&65535)+(U.i(ae)&65535),ee=(le>>>16)+(this.i(ae)>>>16)+(U.i(ae)>>>16);Q=ee>>>16,le&=65535,ee&=65535,Y[ae]=ee<<16|le}return new c(Y,Y[Y.length-1]&-2147483648?-1:0)};function Z(U,h){return U.add(V(h))}r.j=function(U){if(k(this)||k(U))return P;if(H(this))return H(U)?V(this).j(V(U)):V(V(this).j(U));if(H(U))return V(this.j(V(U)));if(0>this.l(O)&&0>U.l(O))return v(this.m()*U.m());for(var h=this.g.length+U.g.length,Y=[],Q=0;Q<2*h;Q++)Y[Q]=0;for(Q=0;Q<this.g.length;Q++)for(var ae=0;ae<U.g.length;ae++){var le=this.i(Q)>>>16,ee=this.i(Q)&65535,K=U.i(ae)>>>16,i=U.i(ae)&65535;Y[2*Q+2*ae]+=ee*i,ne(Y,2*Q+2*ae),Y[2*Q+2*ae+1]+=le*i,ne(Y,2*Q+2*ae+1),Y[2*Q+2*ae+1]+=ee*K,ne(Y,2*Q+2*ae+1),Y[2*Q+2*ae+2]+=le*K,ne(Y,2*Q+2*ae+2)}for(Q=0;Q<h;Q++)Y[Q]=Y[2*Q+1]<<16|Y[2*Q];for(Q=h;Q<2*h;Q++)Y[Q]=0;return new c(Y,0)};function ne(U,h){for(;(U[h]&65535)!=U[h];)U[h+1]+=U[h]>>>16,U[h]&=65535,h++}function oe(U,h){this.g=U,this.h=h}function pe(U,h){if(k(h))throw Error("division by zero");if(k(U))return new oe(P,P);if(H(U))return h=pe(V(U),h),new oe(V(h.g),V(h.h));if(H(h))return h=pe(U,V(h)),new oe(V(h.g),h.h);if(30<U.g.length){if(H(U)||H(h))throw Error("slowDivide_ only works with positive integers.");for(var Y=A,Q=h;0>=Q.l(U);)Y=X(Y),Q=X(Q);var ae=ie(Y,1),le=ie(Q,1);for(Q=ie(Q,2),Y=ie(Y,2);!k(Q);){var ee=le.add(Q);0>=ee.l(U)&&(ae=ae.add(Y),le=ee),Q=ie(Q,1),Y=ie(Y,1)}return h=Z(U,ae.j(h)),new oe(ae,h)}for(ae=P;0<=U.l(h);){for(Y=Math.max(1,Math.floor(U.m()/h.m())),Q=Math.ceil(Math.log(Y)/Math.LN2),Q=48>=Q?1:Math.pow(2,Q-48),le=v(Y),ee=le.j(h);H(ee)||0<ee.l(U);)Y-=Q,le=v(Y),ee=le.j(h);k(le)&&(le=A),ae=ae.add(le),U=Z(U,ee)}return new oe(ae,U)}r.A=function(U){return pe(this,U).h},r.and=function(U){for(var h=Math.max(this.g.length,U.g.length),Y=[],Q=0;Q<h;Q++)Y[Q]=this.i(Q)&U.i(Q);return new c(Y,this.h&U.h)},r.or=function(U){for(var h=Math.max(this.g.length,U.g.length),Y=[],Q=0;Q<h;Q++)Y[Q]=this.i(Q)|U.i(Q);return new c(Y,this.h|U.h)},r.xor=function(U){for(var h=Math.max(this.g.length,U.g.length),Y=[],Q=0;Q<h;Q++)Y[Q]=this.i(Q)^U.i(Q);return new c(Y,this.h^U.h)};function X(U){for(var h=U.g.length+1,Y=[],Q=0;Q<h;Q++)Y[Q]=U.i(Q)<<1|U.i(Q-1)>>>31;return new c(Y,U.h)}function ie(U,h){var Y=h>>5;h%=32;for(var Q=U.g.length-Y,ae=[],le=0;le<Q;le++)ae[le]=0<h?U.i(le+Y)>>>h|U.i(le+Y+1)<<32-h:U.i(le+Y);return new c(ae,U.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,c5=n,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=T,vi=c}).apply(typeof Dv<"u"?Dv:typeof self<"u"?self:typeof window<"u"?window:{});var au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var d5,Ac,u5,gu,up,x5,m5,h5;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,R,B){return y==Array.prototype||y==Object.prototype||(y[R]=B.value),y};function s(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof au=="object"&&au];for(var R=0;R<y.length;++R){var B=y[R];if(B&&B.Math==Math)return B}throw Error("Cannot find global object")}var n=s(this);function o(y,R){if(R)e:{var B=n;y=y.split(".");for(var re=0;re<y.length-1;re++){var Se=y[re];if(!(Se in B))break e;B=B[Se]}y=y[y.length-1],re=B[y],R=R(re),R!=re&&R!=null&&t(B,y,{configurable:!0,writable:!0,value:R})}}function u(y,R){y instanceof String&&(y+="");var B=0,re=!1,Se={next:function(){if(!re&&B<y.length){var Oe=B++;return{value:R(Oe,y[Oe]),done:!1}}return re=!0,{done:!0,value:void 0}}};return Se[Symbol.iterator]=function(){return Se},Se}o("Array.prototype.values",function(y){return y||function(){return u(this,function(R,B){return B})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},m=this||self;function p(y){var R=typeof y;return R=R!="object"?R:y?Array.isArray(y)?"array":R:"null",R=="array"||R=="object"&&typeof y.length=="number"}function v(y){var R=typeof y;return R=="object"&&y!=null||R=="function"}function T(y,R,B){return y.call.apply(y.bind,arguments)}function P(y,R,B){if(!y)throw Error();if(2<arguments.length){var re=Array.prototype.slice.call(arguments,2);return function(){var Se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Se,re),y.apply(R,Se)}}return function(){return y.apply(R,arguments)}}function A(y,R,B){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:P,A.apply(null,arguments)}function O(y,R){var B=Array.prototype.slice.call(arguments,1);return function(){var re=B.slice();return re.push.apply(re,arguments),y.apply(this,re)}}function k(y,R){function B(){}B.prototype=R.prototype,y.aa=R.prototype,y.prototype=new B,y.prototype.constructor=y,y.Qb=function(re,Se,Oe){for(var it=Array(arguments.length-2),pr=2;pr<arguments.length;pr++)it[pr-2]=arguments[pr];return R.prototype[Se].apply(re,it)}}function H(y){const R=y.length;if(0<R){const B=Array(R);for(let re=0;re<R;re++)B[re]=y[re];return B}return[]}function V(y,R){for(let B=1;B<arguments.length;B++){const re=arguments[B];if(p(re)){const Se=y.length||0,Oe=re.length||0;y.length=Se+Oe;for(let it=0;it<Oe;it++)y[Se+it]=re[it]}else y.push(re)}}class Z{constructor(R,B){this.i=R,this.j=B,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function ne(y){return/^[\s\xa0]*$/.test(y)}function oe(){var y=m.navigator;return y&&(y=y.userAgent)?y:""}function pe(y){return pe[" "](y),y}pe[" "]=function(){};var X=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function ie(y,R,B){for(const re in y)R.call(B,y[re],re,y)}function U(y,R){for(const B in y)R.call(void 0,y[B],B,y)}function h(y){const R={};for(const B in y)R[B]=y[B];return R}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(y,R){let B,re;for(let Se=1;Se<arguments.length;Se++){re=arguments[Se];for(B in re)y[B]=re[B];for(let Oe=0;Oe<Y.length;Oe++)B=Y[Oe],Object.prototype.hasOwnProperty.call(re,B)&&(y[B]=re[B])}}function ae(y){var R=1;y=y.split(":");const B=[];for(;0<R&&y.length;)B.push(y.shift()),R--;return y.length&&B.push(y.join(":")),B}function le(y){m.setTimeout(()=>{throw y},0)}function ee(){var y=Ae;let R=null;return y.g&&(R=y.g,y.g=y.g.next,y.g||(y.h=null),R.next=null),R}class K{constructor(){this.h=this.g=null}add(R,B){const re=i.get();re.set(R,B),this.h?this.h.next=re:this.g=re,this.h=re}}var i=new Z(()=>new Fe,y=>y.reset());class Fe{constructor(){this.next=this.g=this.h=null}set(R,B){this.h=R,this.g=B,this.next=null}reset(){this.next=this.g=this.h=null}}let je,Ne=!1,Ae=new K,Ie=()=>{const y=m.Promise.resolve(void 0);je=()=>{y.then(he)}};var he=()=>{for(var y;y=ee();){try{y.h.call(y.g)}catch(B){le(B)}var R=i;R.j(y),100>R.h&&(R.h++,y.next=R.g,R.g=y)}Ne=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ce(y,R){this.type=y,this.g=this.target=R,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var We=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var y=!1,R=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const B=()=>{};m.addEventListener("test",B,R),m.removeEventListener("test",B,R)}catch{}return y})();function Re(y,R){if(Ce.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var B=this.type=y.type,re=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=R,R=y.relatedTarget){if(X){e:{try{pe(R.nodeName);var Se=!0;break e}catch{}Se=!1}Se||(R=null)}}else B=="mouseover"?R=y.fromElement:B=="mouseout"&&(R=y.toElement);this.relatedTarget=R,re?(this.clientX=re.clientX!==void 0?re.clientX:re.pageX,this.clientY=re.clientY!==void 0?re.clientY:re.pageY,this.screenX=re.screenX||0,this.screenY=re.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=typeof y.pointerType=="string"?y.pointerType:Ge[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&Re.aa.h.call(this)}}k(Re,Ce);var Ge={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),a=0;function D(y,R,B,re,Se){this.listener=y,this.proxy=null,this.src=R,this.type=B,this.capture=!!re,this.ha=Se,this.key=++a,this.da=this.fa=!1}function g(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function z(y){this.src=y,this.g={},this.h=0}z.prototype.add=function(y,R,B,re,Se){var Oe=y.toString();y=this.g[Oe],y||(y=this.g[Oe]=[],this.h++);var it=q(y,R,re,Se);return-1<it?(R=y[it],B||(R.fa=!1)):(R=new D(R,this.src,Oe,!!re,Se),R.fa=B,y.push(R)),R};function F(y,R){var B=R.type;if(B in y.g){var re=y.g[B],Se=Array.prototype.indexOf.call(re,R,void 0),Oe;(Oe=0<=Se)&&Array.prototype.splice.call(re,Se,1),Oe&&(g(R),y.g[B].length==0&&(delete y.g[B],y.h--))}}function q(y,R,B,re){for(var Se=0;Se<y.length;++Se){var Oe=y[Se];if(!Oe.da&&Oe.listener==R&&Oe.capture==!!B&&Oe.ha==re)return Se}return-1}var de="closure_lm_"+(1e6*Math.random()|0),ue={};function E(y,R,B,re,Se){if(Array.isArray(R)){for(var Oe=0;Oe<R.length;Oe++)E(y,R[Oe],B,re,Se);return null}return B=ye(B),y&&y[Le]?y.K(R,B,v(re)?!!re.capture:!1,Se):M(y,R,B,!1,re,Se)}function M(y,R,B,re,Se,Oe){if(!R)throw Error("Invalid event type");var it=v(Se)?!!Se.capture:!!Se,pr=te(y);if(pr||(y[de]=pr=new z(y)),B=pr.add(R,B,re,it,Oe),B.proxy)return B;if(re=$(),B.proxy=re,re.src=y,re.listener=B,y.addEventListener)We||(Se=it),Se===void 0&&(Se=!1),y.addEventListener(R.toString(),re,Se);else if(y.attachEvent)y.attachEvent(I(R.toString()),re);else if(y.addListener&&y.removeListener)y.addListener(re);else throw Error("addEventListener and attachEvent are unavailable.");return B}function $(){function y(B){return R.call(y.src,y.listener,B)}const R=J;return y}function f(y,R,B,re,Se){if(Array.isArray(R))for(var Oe=0;Oe<R.length;Oe++)f(y,R[Oe],B,re,Se);else re=v(re)?!!re.capture:!!re,B=ye(B),y&&y[Le]?(y=y.i,R=String(R).toString(),R in y.g&&(Oe=y.g[R],B=q(Oe,B,re,Se),-1<B&&(g(Oe[B]),Array.prototype.splice.call(Oe,B,1),Oe.length==0&&(delete y.g[R],y.h--)))):y&&(y=te(y))&&(R=y.g[R.toString()],y=-1,R&&(y=q(R,B,re,Se)),(B=-1<y?R[y]:null)&&b(B))}function b(y){if(typeof y!="number"&&y&&!y.da){var R=y.src;if(R&&R[Le])F(R.i,y);else{var B=y.type,re=y.proxy;R.removeEventListener?R.removeEventListener(B,re,y.capture):R.detachEvent?R.detachEvent(I(B),re):R.addListener&&R.removeListener&&R.removeListener(re),(B=te(R))?(F(B,y),B.h==0&&(B.src=null,R[de]=null)):g(y)}}}function I(y){return y in ue?ue[y]:ue[y]="on"+y}function J(y,R){if(y.da)y=!0;else{R=new Re(R,this);var B=y.listener,re=y.ha||y.src;y.fa&&b(y),y=B.call(re,R)}return y}function te(y){return y=y[de],y instanceof z?y:null}var me="__closure_events_fn_"+(1e9*Math.random()>>>0);function ye(y){return typeof y=="function"?y:(y[me]||(y[me]=function(R){return y.handleEvent(R)}),y[me])}function ge(){be.call(this),this.i=new z(this),this.M=this,this.F=null}k(ge,be),ge.prototype[Le]=!0,ge.prototype.removeEventListener=function(y,R,B,re){f(this,y,R,B,re)};function ce(y,R){var B,re=y.F;if(re)for(B=[];re;re=re.F)B.push(re);if(y=y.M,re=R.type||R,typeof R=="string")R=new Ce(R,y);else if(R instanceof Ce)R.target=R.target||y;else{var Se=R;R=new Ce(re,y),Q(R,Se)}if(Se=!0,B)for(var Oe=B.length-1;0<=Oe;Oe--){var it=R.g=B[Oe];Se=_e(it,re,!0,R)&&Se}if(it=R.g=y,Se=_e(it,re,!0,R)&&Se,Se=_e(it,re,!1,R)&&Se,B)for(Oe=0;Oe<B.length;Oe++)it=R.g=B[Oe],Se=_e(it,re,!1,R)&&Se}ge.prototype.N=function(){if(ge.aa.N.call(this),this.i){var y=this.i,R;for(R in y.g){for(var B=y.g[R],re=0;re<B.length;re++)g(B[re]);delete y.g[R],y.h--}}this.F=null},ge.prototype.K=function(y,R,B,re){return this.i.add(String(y),R,!1,B,re)},ge.prototype.L=function(y,R,B,re){return this.i.add(String(y),R,!0,B,re)};function _e(y,R,B,re){if(R=y.i.g[String(R)],!R)return!0;R=R.concat();for(var Se=!0,Oe=0;Oe<R.length;++Oe){var it=R[Oe];if(it&&!it.da&&it.capture==B){var pr=it.listener,Wr=it.ha||it.src;it.fa&&F(y.i,it),Se=pr.call(Wr,re)!==!1&&Se}}return Se&&!re.defaultPrevented}function qe(y,R,B){if(typeof y=="function")B&&(y=A(y,B));else if(y&&typeof y.handleEvent=="function")y=A(y.handleEvent,y);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:m.setTimeout(y,R||0)}function at(y){y.g=qe(()=>{y.g=null,y.i&&(y.i=!1,at(y))},y.l);const R=y.h;y.h=null,y.m.apply(null,R)}class He extends be{constructor(R,B){super(),this.m=R,this.l=B,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:at(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dt(y){be.call(this),this.h=y,this.g={}}k(Dt,be);var ct=[];function dt(y){ie(y.g,function(R,B){this.g.hasOwnProperty(B)&&b(R)},y),y.g={}}Dt.prototype.N=function(){Dt.aa.N.call(this),dt(this)},Dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ke=m.JSON.stringify,pt=m.JSON.parse,bt=class{stringify(y){return m.JSON.stringify(y,void 0)}parse(y){return m.JSON.parse(y,void 0)}};function Be(){}Be.prototype.h=null;function Xe(y){return y.h||(y.h=y.i())}function $t(){}var xt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xt(){Ce.call(this,"d")}k(Xt,Ce);function Ar(){Ce.call(this,"c")}k(Ar,Ce);var mr={},Wt=null;function Oa(){return Wt=Wt||new ge}mr.La="serverreachability";function Fs(y){Ce.call(this,mr.La,y)}k(Fs,Ce);function ws(y){const R=Oa();ce(R,new Fs(R))}mr.STAT_EVENT="statevent";function aa(y,R){Ce.call(this,mr.STAT_EVENT,y),this.stat=R}k(aa,Ce);function vr(y){const R=Oa();ce(R,new aa(R,y))}mr.Ma="timingevent";function La(y,R){Ce.call(this,mr.Ma,y),this.size=R}k(La,Ce);function Kr(y,R){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){y()},R)}function Va(){this.g=!0}Va.prototype.xa=function(){this.g=!1};function dn(y,R,B,re,Se,Oe){y.info(function(){if(y.g)if(Oe)for(var it="",pr=Oe.split("&"),Wr=0;Wr<pr.length;Wr++){var sr=pr[Wr].split("=");if(1<sr.length){var Zr=sr[0];sr=sr[1];var zr=Zr.split("_");it=2<=zr.length&&zr[1]=="type"?it+(Zr+"="+sr+"&"):it+(Zr+"=redacted&")}}else it=null;else it=Oe;return"XMLHTTP REQ ("+re+") [attempt "+Se+"]: "+R+`
`+B+`
`+it})}function Vn(y,R,B,re,Se,Oe,it){y.info(function(){return"XMLHTTP RESP ("+re+") [ attempt "+Se+"]: "+R+`
`+B+`
`+Oe+" "+it})}function Hs(y,R,B,re){y.info(function(){return"XMLHTTP TEXT ("+R+"): "+Ql(y,B)+(re?" "+re:"")})}function un(y,R){y.info(function(){return"TIMEOUT: "+R})}Va.prototype.info=function(){};function Ql(y,R){if(!y.g)return R;if(!R)return null;try{var B=JSON.parse(R);if(B){for(y=0;y<B.length;y++)if(Array.isArray(B[y])){var re=B[y];if(!(2>re.length)){var Se=re[1];if(Array.isArray(Se)&&!(1>Se.length)){var Oe=Se[0];if(Oe!="noop"&&Oe!="stop"&&Oe!="close")for(var it=1;it<Se.length;it++)Se[it]=""}}}}return Ke(B)}catch{return R}}var zn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Co={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ws;function Oi(){}k(Oi,Be),Oi.prototype.g=function(){return new XMLHttpRequest},Oi.prototype.i=function(){return{}},Ws=new Oi;function ba(y,R,B,re){this.j=y,this.i=R,this.l=B,this.R=re||1,this.U=new Dt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fd}function Fd(){this.i=null,this.g="",this.h=!1}var Kl={},Eo={};function Do(y,R,B){y.L=1,y.v=Wn(Gs(R)),y.m=B,y.P=!0,Zl(y,null)}function Zl(y,R){y.F=Date.now(),jr(y),y.A=Gs(y.v);var B=y.A,re=y.R;Array.isArray(re)||(re=[String(re)]),Gn(B.i,"t",re),y.C=0,B=y.j.J,y.h=new Fd,y.g=o0(y.j,B?R:null,!y.m),0<y.O&&(y.M=new He(A(y.Y,y,y.g),y.O)),R=y.U,B=y.g,re=y.ca;var Se="readystatechange";Array.isArray(Se)||(Se&&(ct[0]=Se.toString()),Se=ct);for(var Oe=0;Oe<Se.length;Oe++){var it=E(B,Se[Oe],re||R.handleEvent,!1,R.h||R);if(!it)break;R.g[it.key]=it}R=y.H?h(y.H):{},y.m?(y.u||(y.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,R)):(y.u="GET",y.g.ea(y.A,y.u,null,R)),ws(),dn(y.i,y.u,y.A,y.l,y.R,y.m)}ba.prototype.ca=function(y){y=y.target;const R=this.M;R&&$s(y)==3?R.j():this.Y(y)},ba.prototype.Y=function(y){try{if(y==this.g)e:{const zr=$s(this.g);var R=this.g.Ba();const oa=this.g.Z();if(!(3>zr)&&(zr!=3||this.g&&(this.h.h||this.g.oa()||rc(this.g)))){this.J||zr!=4||R==7||(R==8||0>=oa?ws(3):ws(2)),Li(this);var B=this.g.Z();this.X=B;t:if(Hd(this)){var re=rc(this.g);y="";var Se=re.length,Oe=$s(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){na(this),Bn(this);var it="";break t}this.h.i=new m.TextDecoder}for(R=0;R<Se;R++)this.h.h=!0,y+=this.h.i.decode(re[R],{stream:!(Oe&&R==Se-1)});re.length=0,this.h.g+=y,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=B==200,Vn(this.i,this.u,this.A,this.l,this.R,zr,B),this.o){if(this.T&&!this.K){t:{if(this.g){var pr,Wr=this.g;if((pr=Wr.g?Wr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(pr)){var sr=pr;break t}}sr=null}if(B=sr)Hs(this.i,this.l,B,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yl(this,B);else{this.o=!1,this.s=3,vr(12),na(this),Bn(this);break e}}if(this.P){B=!0;let Ks;for(;!this.J&&this.C<it.length;)if(Ks=Xx(this,it),Ks==Eo){zr==4&&(this.s=4,vr(14),B=!1),Hs(this.i,this.l,null,"[Incomplete Response]");break}else if(Ks==Kl){this.s=4,vr(15),Hs(this.i,this.l,it,"[Invalid Chunk]"),B=!1;break}else Hs(this.i,this.l,Ks,null),Yl(this,Ks);if(Hd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zr!=4||it.length!=0||this.h.h||(this.s=1,vr(16),B=!1),this.o=this.o&&B,!B)Hs(this.i,this.l,it,"[Invalid Chunked Response]"),na(this),Bn(this);else if(0<it.length&&!this.W){this.W=!0;var Zr=this.j;Zr.g==this&&Zr.ba&&!Zr.M&&(Zr.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),ac(Zr),Zr.M=!0,vr(11))}}else Hs(this.i,this.l,it,null),Yl(this,it);zr==4&&na(this),this.o&&!this.J&&(zr==4?Uo(this.j,this):(this.o=!1,jr(this)))}else Oo(this.g),B==400&&0<it.indexOf("Unknown SID")?(this.s=3,vr(12)):(this.s=0,vr(13)),na(this),Bn(this)}}}catch{}finally{}};function Hd(y){return y.g?y.u=="GET"&&y.L!=2&&y.j.Ca:!1}function Xx(y,R){var B=y.C,re=R.indexOf(`
`,B);return re==-1?Eo:(B=Number(R.substring(B,re)),isNaN(B)?Kl:(re+=1,re+B>R.length?Eo:(R=R.slice(re,re+B),y.C=re+B,R)))}ba.prototype.cancel=function(){this.J=!0,na(this)};function jr(y){y.S=Date.now()+y.I,Wd(y,y.I)}function Wd(y,R){if(y.B!=null)throw Error("WatchDog timer not null");y.B=Kr(A(y.ba,y),R)}function Li(y){y.B&&(m.clearTimeout(y.B),y.B=null)}ba.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(un(this.i,this.A),this.L!=2&&(ws(),vr(17)),na(this),this.s=2,Bn(this)):Wd(this,this.S-y)};function Bn(y){y.j.G==0||y.J||Uo(y.j,y)}function na(y){Li(y);var R=y.M;R&&typeof R.ma=="function"&&R.ma(),y.M=null,dt(y.U),y.g&&(R=y.g,y.g=null,R.abort(),R.ma())}function Yl(y,R){try{var B=y.j;if(B.G!=0&&(B.g==y||Ns(B.h,y))){if(!y.K&&Ns(B.h,y)&&B.G==3){try{var re=B.Da.g.parse(R)}catch{re=null}if(Array.isArray(re)&&re.length==3){var Se=re;if(Se[0]==0){e:if(!B.u){if(B.g)if(B.g.F+3e3<y.F)Bo(B),ka(B);else break e;zo(B),vr(18)}}else B.za=Se[1],0<B.za-B.T&&37500>Se[2]&&B.F&&B.v==0&&!B.C&&(B.C=Kr(A(B.Za,B),6e3));if(1>=Gd(B.h)&&B.ca){try{B.ca()}catch{}B.ca=void 0}}else fn(B,11)}else if((y.K||B.g==y)&&Bo(B),!ne(R))for(Se=B.Da.g.parse(R),R=0;R<Se.length;R++){let sr=Se[R];if(B.T=sr[0],sr=sr[1],B.G==2)if(sr[0]=="c"){B.K=sr[1],B.ia=sr[2];const Zr=sr[3];Zr!=null&&(B.la=Zr,B.j.info("VER="+B.la));const zr=sr[4];zr!=null&&(B.Aa=zr,B.j.info("SVER="+B.Aa));const oa=sr[5];oa!=null&&typeof oa=="number"&&0<oa&&(re=1.5*oa,B.L=re,B.j.info("backChannelRequestTimeoutMs_="+re)),re=B;const Ks=y.g;if(Ks){const Wi=Ks.g?Ks.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wi){var Oe=re.h;Oe.g||Wi.indexOf("spdy")==-1&&Wi.indexOf("quic")==-1&&Wi.indexOf("h2")==-1||(Oe.j=Oe.l,Oe.g=new Set,Oe.h&&(Xl(Oe,Oe.h),Oe.h=null))}if(re.D){const Ho=Ks.g?Ks.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(re.ya=Ho,gr(re.I,re.D,Ho))}}B.G=3,B.l&&B.l.ua(),B.ba&&(B.R=Date.now()-y.F,B.j.info("Handshake RTT: "+B.R+"ms")),re=B;var it=y;if(re.qa=i0(re,re.J?re.ia:null,re.W),it.K){Qd(re.h,it);var pr=it,Wr=re.L;Wr&&(pr.I=Wr),pr.B&&(Li(pr),jr(pr)),re.g=it}else Hi(re);0<B.i.length&&Fa(B)}else sr[0]!="stop"&&sr[0]!="close"||fn(B,7);else B.G==3&&(sr[0]=="stop"||sr[0]=="close"?sr[0]=="stop"?fn(B,7):as(B):sr[0]!="noop"&&B.l&&B.l.ta(sr),B.v=0)}}ws(4)}catch{}}var qd=class{constructor(y,R){this.g=y,this.map=R}};function Vi(y){this.l=y||10,m.PerformanceNavigationTiming?(y=m.performance.getEntriesByType("navigation"),y=0<y.length&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qs(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function Gd(y){return y.h?1:y.g?y.g.size:0}function Ns(y,R){return y.h?y.h==R:y.g?y.g.has(R):!1}function Xl(y,R){y.g?y.g.add(R):y.h=R}function Qd(y,R){y.h&&y.h==R?y.h=null:y.g&&y.g.has(R)&&y.g.delete(R)}Vi.prototype.cancel=function(){if(this.i=Kd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Kd(y){if(y.h!=null)return y.i.concat(y.h.D);if(y.g!=null&&y.g.size!==0){let R=y.i;for(const B of y.g.values())R=R.concat(B.D);return R}return H(y.i)}function $o(y){if(y.V&&typeof y.V=="function")return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if(typeof y=="string")return y.split("");if(p(y)){for(var R=[],B=y.length,re=0;re<B;re++)R.push(y[re]);return R}R=[],B=0;for(re in y)R[B++]=y[re];return R}function _o(y){if(y.na&&typeof y.na=="function")return y.na();if(!y.V||typeof y.V!="function"){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(p(y)||typeof y=="string"){var R=[];y=y.length;for(var B=0;B<y;B++)R.push(B);return R}R=[],B=0;for(const re in y)R[B++]=re;return R}}}function Un(y,R){if(y.forEach&&typeof y.forEach=="function")y.forEach(R,void 0);else if(p(y)||typeof y=="string")Array.prototype.forEach.call(y,R,void 0);else for(var B=_o(y),re=$o(y),Se=re.length,Oe=0;Oe<Se;Oe++)R.call(void 0,re[Oe],B&&B[Oe],y)}var zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jx(y,R){if(y){y=y.split("&");for(var B=0;B<y.length;B++){var re=y[B].indexOf("="),Se=null;if(0<=re){var Oe=y[B].substring(0,re);Se=y[B].substring(re+1)}else Oe=y[B];R(Oe,Se?decodeURIComponent(Se.replace(/\+/g," ")):"")}}}function xn(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof xn){this.h=y.h,Bi(this,y.j),this.o=y.o,this.g=y.g,Fn(this,y.s),this.l=y.l;var R=y.i,B=new za;B.i=R.i,R.g&&(B.g=new Map(R.g),B.h=R.h),Hn(this,B),this.m=y.m}else y&&(R=String(y).match(zi))?(this.h=!1,Bi(this,R[1]||"",!0),this.o=rr(R[2]||""),this.g=rr(R[3]||"",!0),Fn(this,R[4]),this.l=rr(R[5]||"",!0),Hn(this,R[6]||"",!0),this.m=rr(R[7]||"")):(this.h=!1,this.i=new za(null,this.h))}xn.prototype.toString=function(){var y=[],R=this.j;R&&y.push(qn(R,Ao,!0),":");var B=this.g;return(B||R=="file")&&(y.push("//"),(R=this.o)&&y.push(qn(R,Ao,!0),"@"),y.push(encodeURIComponent(String(B)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),B=this.s,B!=null&&y.push(":",String(B))),(B=this.l)&&(this.g&&B.charAt(0)!="/"&&y.push("/"),y.push(qn(B,B.charAt(0)=="/"?Xd:Yd,!0))),(B=this.i.toString())&&y.push("?",B),(B=this.m)&&y.push("#",qn(B,Jl)),y.join("")};function Gs(y){return new xn(y)}function Bi(y,R,B){y.j=B?rr(R,!0):R,y.j&&(y.j=y.j.replace(/:$/,""))}function Fn(y,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);y.s=R}else y.s=null}function Hn(y,R,B){R instanceof za?(y.i=R,Ba(y.i,y.h)):(B||(R=qn(R,Jd)),y.i=new za(R,y.h))}function gr(y,R,B){y.i.set(R,B)}function Wn(y){return gr(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function rr(y,R){return y?R?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function qn(y,R,B){return typeof y=="string"?(y=encodeURI(y).replace(R,Zd),B&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Zd(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Ao=/[#\/\?@]/g,Yd=/[#\?:]/g,Xd=/[#\?]/g,Jd=/[#\?@]/g,Jl=/#/g;function za(y,R){this.h=this.g=null,this.i=y||null,this.j=!!R}function ss(y){y.g||(y.g=new Map,y.h=0,y.i&&Jx(y.i,function(R,B){y.add(decodeURIComponent(R.replace(/\+/g," ")),B)}))}r=za.prototype,r.add=function(y,R){ss(this),this.i=null,y=ia(this,y);var B=this.g.get(y);return B||this.g.set(y,B=[]),B.push(R),this.h+=1,this};function va(y,R){ss(y),R=ia(y,R),y.g.has(R)&&(y.i=null,y.h-=y.g.get(R).length,y.g.delete(R))}function ja(y,R){return ss(y),R=ia(y,R),y.g.has(R)}r.forEach=function(y,R){ss(this),this.g.forEach(function(B,re){B.forEach(function(Se){y.call(R,Se,re,this)},this)},this)},r.na=function(){ss(this);const y=Array.from(this.g.values()),R=Array.from(this.g.keys()),B=[];for(let re=0;re<R.length;re++){const Se=y[re];for(let Oe=0;Oe<Se.length;Oe++)B.push(R[re])}return B},r.V=function(y){ss(this);let R=[];if(typeof y=="string")ja(this,y)&&(R=R.concat(this.g.get(ia(this,y))));else{y=Array.from(this.g.values());for(let B=0;B<y.length;B++)R=R.concat(y[B])}return R},r.set=function(y,R){return ss(this),this.i=null,y=ia(this,y),ja(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[R]),this.h+=1,this},r.get=function(y,R){return y?(y=this.V(y),0<y.length?String(y[0]):R):R};function Gn(y,R,B){va(y,R),0<B.length&&(y.i=null,y.g.set(ia(y,R),H(B)),y.h+=B.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],R=Array.from(this.g.keys());for(var B=0;B<R.length;B++){var re=R[B];const Oe=encodeURIComponent(String(re)),it=this.V(re);for(re=0;re<it.length;re++){var Se=Oe;it[re]!==""&&(Se+="="+encodeURIComponent(String(it[re]))),y.push(Se)}}return this.i=y.join("&")};function ia(y,R){return R=String(R),y.j&&(R=R.toLowerCase()),R}function Ba(y,R){R&&!y.j&&(ss(y),y.i=null,y.g.forEach(function(B,re){var Se=re.toLowerCase();re!=Se&&(va(this,re),Gn(this,Se,B))},y)),y.j=R}function em(y,R){const B=new Va;if(m.Image){const re=new Image;re.onload=O(Ds,B,"TestLoadImage: loaded",!0,R,re),re.onerror=O(Ds,B,"TestLoadImage: error",!1,R,re),re.onabort=O(Ds,B,"TestLoadImage: abort",!1,R,re),re.ontimeout=O(Ds,B,"TestLoadImage: timeout",!1,R,re),m.setTimeout(function(){re.ontimeout&&re.ontimeout()},1e4),re.src=y}else R(!1)}function e0(y,R){const B=new Va,re=new AbortController,Se=setTimeout(()=>{re.abort(),Ds(B,"TestPingServer: timeout",!1,R)},1e4);fetch(y,{signal:re.signal}).then(Oe=>{clearTimeout(Se),Oe.ok?Ds(B,"TestPingServer: ok",!0,R):Ds(B,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(Se),Ds(B,"TestPingServer: error",!1,R)})}function Ds(y,R,B,re,Se){try{Se&&(Se.onload=null,Se.onerror=null,Se.onabort=null,Se.ontimeout=null),re(B)}catch{}}function tm(){this.g=new bt}function t0(y,R,B){const re=B||"";try{Un(y,function(Se,Oe){let it=Se;v(Se)&&(it=Ke(Se)),R.push(re+Oe+"="+encodeURIComponent(it))})}catch(Se){throw R.push(re+"type="+encodeURIComponent("_badmap")),Se}}function mn(y){this.l=y.Ub||null,this.j=y.eb||!1}k(mn,Be),mn.prototype.g=function(){return new Ui(this.l,this.j)},mn.prototype.i=(function(y){return function(){return y}})({});function Ui(y,R){ge.call(this),this.D=y,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ui,ge),r=Ui.prototype,r.open=function(y,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=R,this.readyState=1,Na(this)},r.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(R.body=y),(this.D||m).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wa(this)),this.readyState=0},r.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Na(this)),this.g&&(this.readyState=3,Na(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;r0(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))};function r0(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}r.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var R=y.value?y.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!y.done}))&&(this.response=this.responseText+=R)}y.done?wa(this):Na(this),this.readyState==3&&r0(this)}},r.Ra=function(y){this.g&&(this.response=this.responseText=y,wa(this))},r.Qa=function(y){this.g&&(this.response=y,wa(this))},r.ga=function(){this.g&&wa(this)};function wa(y){y.readyState=4,y.l=null,y.j=null,y.v=null,Na(y)}r.setRequestHeader=function(y,R){this.u.append(y,R)},r.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],R=this.h.entries();for(var B=R.next();!B.done;)B=B.value,y.push(B[0]+": "+B[1]),B=R.next();return y.join(`\r
`)};function Na(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function hn(y){let R="";return ie(y,function(B,re){R+=re,R+=":",R+=B,R+=`\r
`}),R}function Qn(y,R,B){e:{for(re in B){var re=!1;break e}re=!0}re||(B=hn(B),typeof y=="string"?B!=null&&encodeURIComponent(String(B)):gr(y,R,B))}function Tr(y){ge.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Tr,ge);var rm=/^https?$/i,ec=["POST","PUT"];r=Tr.prototype,r.Ha=function(y){this.J=y},r.ea=function(y,R,B,re){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);R=R?R.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ws.g(),this.v=this.o?Xe(this.o):Xe(Ws),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(R,String(y),!0),this.B=!1}catch(Oe){Fi(this,Oe);return}if(y=B||"",B=new Map(this.headers),re)if(Object.getPrototypeOf(re)===Object.prototype)for(var Se in re)B.set(Se,re[Se]);else if(typeof re.keys=="function"&&typeof re.get=="function")for(const Oe of re.keys())B.set(Oe,re.get(Oe));else throw Error("Unknown input type for opt_headers: "+String(re));re=Array.from(B.keys()).find(Oe=>Oe.toLowerCase()=="content-type"),Se=m.FormData&&y instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ec,R,void 0))||re||Se||B.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Oe,it]of B)this.g.setRequestHeader(Oe,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mo(this),this.u=!0,this.g.send(y),this.u=!1}catch(Oe){Fi(this,Oe)}};function Fi(y,R){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=R,y.m=5,Ro(y),Qs(y)}function Ro(y){y.A||(y.A=!0,ce(y,"complete"),ce(y,"error"))}r.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,ce(this,"complete"),ce(this,"abort"),Qs(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qs(this,!0)),Tr.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?tc(this):this.bb())},r.bb=function(){tc(this)};function tc(y){if(y.h&&typeof c<"u"&&(!y.v[1]||$s(y)!=4||y.Z()!=2)){if(y.u&&$s(y)==4)qe(y.Ea,0,y);else if(ce(y,"readystatechange"),$s(y)==4){y.h=!1;try{const it=y.Z();e:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var B;if(!(B=R)){var re;if(re=it===0){var Se=String(y.D).match(zi)[1]||null;!Se&&m.self&&m.self.location&&(Se=m.self.location.protocol.slice(0,-1)),re=!rm.test(Se?Se.toLowerCase():"")}B=re}if(B)ce(y,"complete"),ce(y,"success");else{y.m=6;try{var Oe=2<$s(y)?y.g.statusText:""}catch{Oe=""}y.l=Oe+" ["+y.Z()+"]",Ro(y)}}finally{Qs(y)}}}}function Qs(y,R){if(y.g){Mo(y);const B=y.g,re=y.v[0]?()=>{}:null;y.g=null,y.v=null,R||ce(y,"ready");try{B.onreadystatechange=re}catch{}}}function Mo(y){y.I&&(m.clearTimeout(y.I),y.I=null)}r.isActive=function(){return!!this.g};function $s(y){return y.g?y.g.readyState:0}r.Z=function(){try{return 2<$s(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(y){if(this.g){var R=this.g.responseText;return y&&R.indexOf(y)==0&&(R=R.substring(y.length)),pt(R)}};function rc(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Oo(y){const R={};y=(y.g&&2<=$s(y)&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let re=0;re<y.length;re++){if(ne(y[re]))continue;var B=ae(y[re]);const Se=B[0];if(B=B[1],typeof B!="string")continue;B=B.trim();const Oe=R[Se]||[];R[Se]=Oe,Oe.push(B)}U(R,function(re){return re.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(y,R,B){return B&&B.internalChannelParams&&B.internalChannelParams[y]||R}function sc(y){this.Aa=0,this.i=[],this.j=new Va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ua("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ua("baseRetryDelayMs",5e3,y),this.cb=Ua("retryDelaySeedMs",1e4,y),this.Wa=Ua("forwardChannelMaxRetries",2,y),this.wa=Ua("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new Vi(y&&y.concurrentRequestLimit),this.Da=new tm,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=sc.prototype,r.la=8,r.G=1,r.connect=function(y,R,B,re){vr(0),this.W=y,this.H=R||{},B&&re!==void 0&&(this.H.OSID=B,this.H.OAID=re),this.F=this.X,this.I=i0(this,null,this.W),Fa(this)};function as(y){if(Lo(y),y.G==3){var R=y.U++,B=Gs(y.I);if(gr(B,"SID",y.K),gr(B,"RID",R),gr(B,"TYPE","terminate"),pn(y,B),R=new ba(y,y.j,R),R.L=2,R.v=Wn(Gs(B)),B=!1,m.navigator&&m.navigator.sendBeacon)try{B=m.navigator.sendBeacon(R.v.toString(),"")}catch{}!B&&m.Image&&(new Image().src=R.v,B=!0),B||(R.g=o0(R.j,null),R.g.ea(R.v)),R.F=Date.now(),jr(R)}n0(y)}function ka(y){y.g&&(ac(y),y.g.cancel(),y.g=null)}function Lo(y){ka(y),y.u&&(m.clearTimeout(y.u),y.u=null),Bo(y),y.h.cancel(),y.s&&(typeof y.s=="number"&&m.clearTimeout(y.s),y.s=null)}function Fa(y){if(!qs(y.h)&&!y.s){y.s=!0;var R=y.Ga;je||Ie(),Ne||(je(),Ne=!0),Ae.add(R,y),y.B=0}}function sm(y,R){return Gd(y.h)>=y.h.j-(y.s?1:0)?!1:y.s?(y.i=R.D.concat(y.i),!0):y.G==1||y.G==2||y.B>=(y.Va?0:y.Wa)?!1:(y.s=Kr(A(y.Ga,y,R),a0(y,y.B)),y.B++,!0)}r.Ga=function(y){if(this.s)if(this.s=null,this.G==1){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const Se=new ba(this,this.j,y);let Oe=this.o;if(this.S&&(Oe?(Oe=h(Oe),Q(Oe,this.S)):Oe=this.S),this.m!==null||this.O||(Se.H=Oe,Oe=null),this.P)e:{for(var R=0,B=0;B<this.i.length;B++){t:{var re=this.i[B];if("__data__"in re.map&&(re=re.map.__data__,typeof re=="string")){re=re.length;break t}re=void 0}if(re===void 0)break;if(R+=re,4096<R){R=B;break e}if(R===4096||B===this.i.length-1){R=B+1;break e}}R=1e3}else R=1e3;R=Kn(this,Se,R),B=Gs(this.I),gr(B,"RID",y),gr(B,"CVER",22),this.D&&gr(B,"X-HTTP-Session-Id",this.D),pn(this,B),Oe&&(this.O?R="headers="+encodeURIComponent(String(hn(Oe)))+"&"+R:this.m&&Qn(B,this.m,Oe)),Xl(this.h,Se),this.Ua&&gr(B,"TYPE","init"),this.P?(gr(B,"$req",R),gr(B,"SID","null"),Se.T=!0,Do(Se,B,null)):Do(Se,B,R),this.G=2}}else this.G==3&&(y?Vo(this,y):this.i.length==0||qs(this.h)||Vo(this))};function Vo(y,R){var B;R?B=R.l:B=y.U++;const re=Gs(y.I);gr(re,"SID",y.K),gr(re,"RID",B),gr(re,"AID",y.T),pn(y,re),y.m&&y.o&&Qn(re,y.m,y.o),B=new ba(y,y.j,B,y.B+1),y.m===null&&(B.H=y.o),R&&(y.i=R.D.concat(y.i)),R=Kn(y,B,1e3),B.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),Xl(y.h,B),Do(B,re,R)}function pn(y,R){y.H&&ie(y.H,function(B,re){gr(R,re,B)}),y.l&&Un({},function(B,re){gr(R,re,B)})}function Kn(y,R,B){B=Math.min(y.i.length,B);var re=y.l?A(y.l.Na,y.l,y):null;e:{var Se=y.i;let Oe=-1;for(;;){const it=["count="+B];Oe==-1?0<B?(Oe=Se[0].g,it.push("ofs="+Oe)):Oe=0:it.push("ofs="+Oe);let pr=!0;for(let Wr=0;Wr<B;Wr++){let sr=Se[Wr].g;const Zr=Se[Wr].map;if(sr-=Oe,0>sr)Oe=Math.max(0,Se[Wr].g-100),pr=!1;else try{t0(Zr,it,"req"+sr+"_")}catch{re&&re(Zr)}}if(pr){re=it.join("&");break e}}}return y=y.i.splice(0,B),R.D=y,re}function Hi(y){if(!y.g&&!y.u){y.Y=1;var R=y.Fa;je||Ie(),Ne||(je(),Ne=!0),Ae.add(R,y),y.v=0}}function zo(y){return y.g||y.u||3<=y.v?!1:(y.Y++,y.u=Kr(A(y.Fa,y),a0(y,y.v)),y.v++,!0)}r.Fa=function(){if(this.u=null,s0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=Kr(A(this.ab,this),y)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vr(10),ka(this),s0(this))};function ac(y){y.A!=null&&(m.clearTimeout(y.A),y.A=null)}function s0(y){y.g=new ba(y,y.j,"rpc",y.Y),y.m===null&&(y.g.H=y.o),y.g.O=0;var R=Gs(y.qa);gr(R,"RID","rpc"),gr(R,"SID",y.K),gr(R,"AID",y.T),gr(R,"CI",y.F?"0":"1"),!y.F&&y.ja&&gr(R,"TO",y.ja),gr(R,"TYPE","xmlhttp"),pn(y,R),y.m&&y.o&&Qn(R,y.m,y.o),y.L&&(y.g.I=y.L);var B=y.g;y=y.ia,B.L=1,B.v=Wn(Gs(R)),B.m=null,B.P=!0,Zl(B,y)}r.Za=function(){this.C!=null&&(this.C=null,ka(this),zo(this),vr(19))};function Bo(y){y.C!=null&&(m.clearTimeout(y.C),y.C=null)}function Uo(y,R){var B=null;if(y.g==R){Bo(y),ac(y),y.g=null;var re=2}else if(Ns(y.h,R))B=R.D,Qd(y.h,R),re=1;else return;if(y.G!=0){if(R.o)if(re==1){B=R.m?R.m.length:0,R=Date.now()-R.F;var Se=y.B;re=Oa(),ce(re,new La(re,B)),Fa(y)}else Hi(y);else if(Se=R.s,Se==3||Se==0&&0<R.X||!(re==1&&sm(y,R)||re==2&&zo(y)))switch(B&&0<B.length&&(R=y.h,R.i=R.i.concat(B)),Se){case 1:fn(y,5);break;case 4:fn(y,10);break;case 3:fn(y,6);break;default:fn(y,2)}}}function a0(y,R){let B=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(B*=2),B*R}function fn(y,R){if(y.j.info("Error code "+R),R==2){var B=A(y.fb,y),re=y.Xa;const Se=!re;re=new xn(re||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Bi(re,"https"),Wn(re),Se?em(re.toString(),B):e0(re.toString(),B)}else vr(2);y.G=0,y.l&&y.l.sa(R),n0(y),Lo(y)}r.fb=function(y){y?(this.j.info("Successfully pinged google.com"),vr(2)):(this.j.info("Failed to ping google.com"),vr(1))};function n0(y){if(y.G=0,y.ka=[],y.l){const R=Kd(y.h);(R.length!=0||y.i.length!=0)&&(V(y.ka,R),V(y.ka,y.i),y.h.i.length=0,H(y.i),y.i.length=0),y.l.ra()}}function i0(y,R,B){var re=B instanceof xn?Gs(B):new xn(B);if(re.g!="")R&&(re.g=R+"."+re.g),Fn(re,re.s);else{var Se=m.location;re=Se.protocol,R=R?R+"."+Se.hostname:Se.hostname,Se=+Se.port;var Oe=new xn(null);re&&Bi(Oe,re),R&&(Oe.g=R),Se&&Fn(Oe,Se),B&&(Oe.l=B),re=Oe}return B=y.D,R=y.ya,B&&R&&gr(re,B,R),gr(re,"VER",y.la),pn(y,re),re}function o0(y,R,B){if(R&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=y.Ca&&!y.pa?new Tr(new mn({eb:B})):new Tr(y.pa),R.Ha(y.J),R}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function nc(){}r=nc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Fo(){}Fo.prototype.g=function(y,R){return new ks(y,R)};function ks(y,R){ge.call(this),this.g=new sc(R),this.l=y,this.h=R&&R.messageUrlParams||null,y=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(y?y["X-WebChannel-Content-Type"]=R.messageContentType:y={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(y?y["X-WebChannel-Client-Profile"]=R.va:y={"X-WebChannel-Client-Profile":R.va}),this.g.S=y,(y=R&&R.Sb)&&!ne(y)&&(this.g.m=y),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!ne(R)&&(this.g.D=R,y=this.h,y!==null&&R in y&&(y=this.h,R in y&&delete y[R])),this.j=new Ha(this)}k(ks,ge),ks.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ks.prototype.close=function(){as(this.g)},ks.prototype.o=function(y){var R=this.g;if(typeof y=="string"){var B={};B.__data__=y,y=B}else this.u&&(B={},B.__data__=Ke(y),y=B);R.i.push(new qd(R.Ya++,y)),R.G==3&&Fa(R)},ks.prototype.N=function(){this.g.l=null,delete this.j,as(this.g),delete this.g,ks.aa.N.call(this)};function l0(y){Xt.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var R=y.__sm__;if(R){e:{for(const B in R){y=B;break e}y=void 0}(this.i=y)&&(y=this.i,R=R!==null&&y in R?R[y]:void 0),this.data=R}else this.data=y}k(l0,Xt);function c0(){Ar.call(this),this.status=1}k(c0,Ar);function Ha(y){this.g=y}k(Ha,nc),Ha.prototype.ua=function(){ce(this.g,"a")},Ha.prototype.ta=function(y){ce(this.g,new l0(y))},Ha.prototype.sa=function(y){ce(this.g,new c0)},Ha.prototype.ra=function(){ce(this.g,"b")},Fo.prototype.createWebChannel=Fo.prototype.g,ks.prototype.send=ks.prototype.o,ks.prototype.open=ks.prototype.m,ks.prototype.close=ks.prototype.close,h5=function(){return new Fo},m5=function(){return Oa()},x5=mr,up={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zn.NO_ERROR=0,zn.TIMEOUT=8,zn.HTTP_ERROR=6,gu=zn,Co.COMPLETE="complete",u5=Co,$t.EventType=xt,xt.OPEN="a",xt.CLOSE="b",xt.ERROR="c",xt.MESSAGE="d",ge.prototype.listen=ge.prototype.K,Ac=$t,Tr.prototype.listenOnce=Tr.prototype.L,Tr.prototype.getLastError=Tr.prototype.Ka,Tr.prototype.getLastErrorCode=Tr.prototype.Ba,Tr.prototype.getStatus=Tr.prototype.Z,Tr.prototype.getResponseJson=Tr.prototype.Oa,Tr.prototype.getResponseText=Tr.prototype.oa,Tr.prototype.send=Tr.prototype.ea,Tr.prototype.setWithCredentials=Tr.prototype.Ha,d5=Tr}).apply(typeof au<"u"?au:typeof self<"u"?self:typeof window<"u"?window:{});const $v="@firebase/firestore",_v="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}bs.UNAUTHENTICATED=new bs(null),bs.GOOGLE_CREDENTIALS=new bs("google-credentials-uid"),bs.FIRST_PARTY=new bs("first-party-uid"),bs.MOCK_USER=new bs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=new gx("@firebase/firestore");function ul(){return fo.logLevel}function ht(r,...t){if(fo.logLevel<=Jt.DEBUG){const s=t.map(df);fo.debug(`Firestore (${Vl}): ${r}`,...s)}}function Dn(r,...t){if(fo.logLevel<=Jt.ERROR){const s=t.map(df);fo.error(`Firestore (${Vl}): ${r}`,...s)}}function Tl(r,...t){if(fo.logLevel<=Jt.WARN){const s=t.map(df);fo.warn(`Firestore (${Vl}): ${r}`,...s)}}function df(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(s){return JSON.stringify(s)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(r="Unexpected state"){const t=`FIRESTORE (${Vl}) INTERNAL ASSERTION FAILED: `+r;throw Dn(t),new Error(t)}function nr(r,t){r||Mt()}function Ut(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ya{constructor(t,s){super(t,s),this.code=t,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.promise=new Promise(((t,s)=>{this.resolve=t,this.reject=s}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(t,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class TI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,s){t.enqueueRetryable((()=>s(bs.UNAUTHENTICATED)))}shutdown(){}}class II{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,s){this.changeListener=s,t.enqueueRetryable((()=>s(this.token.user)))}shutdown(){this.changeListener=null}}class PI{constructor(t){this.t=t,this.currentUser=bs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,s){nr(this.o===void 0);let n=this.i;const o=p=>this.i!==n?(n=this.i,s(p)):Promise.resolve();let u=new Za;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Za,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Za)}}),0),c()}getToken(){const t=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then((n=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(nr(typeof n.accessToken=="string"),new p5(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return nr(t===null||typeof t=="string"),new bs(t)}}class CI{constructor(t,s,n){this.l=t,this.h=s,this.P=n,this.type="FirstParty",this.user=bs.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class EI{constructor(t,s,n){this.l=t,this.h=s,this.P=n}getToken(){return Promise.resolve(new CI(this.l,this.h,this.P))}start(t,s){t.enqueueRetryable((()=>s(bs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Av{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DI{constructor(t,s){this.A=s,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,ea(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,s){nr(this.o===void 0);const n=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.R;return this.R=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?s(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>n(u)))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new Av(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((s=>s?(nr(typeof s.token=="string"),this.R=s.token,new Av(s.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(s);else for(let n=0;n<r;n++)s[n]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const o=$I(40);for(let u=0;u<o.length;++u)n.length<20&&o[u]<s&&(n+=t.charAt(o[u]%62))}return n}}function Gt(r,t){return r<t?-1:r>t?1:0}function xp(r,t){let s=0;for(;s<r.length&&s<t.length;){const n=r.codePointAt(s),o=t.codePointAt(s);if(n!==o){if(n<128&&o<128)return Gt(n,o);{const u=f5(),c=_I(u.encode(Rv(r,s)),u.encode(Rv(t,s)));return c!==0?c:Gt(n,o)}}s+=n>65535?2:1}return Gt(r.length,t.length)}function Rv(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function _I(r,t){for(let s=0;s<r.length&&s<t.length;++s)if(r[s]!==t[s])return Gt(r[s],t[s]);return Gt(r.length,t.length)}function Il(r,t,s){return r.length===t.length&&r.every(((n,o)=>s(n,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=-62135596800,Ov=1e6;class br{static now(){return br.fromMillis(Date.now())}static fromDate(t){return br.fromMillis(t.getTime())}static fromMillis(t){const s=Math.floor(t/1e3),n=Math.floor((t-1e3*s)*Ov);return new br(s,n)}constructor(t,s){if(this.seconds=t,this.nanoseconds=s,s<0)throw new lt(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new lt(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(t<Mv)throw new lt(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ov}_compareTo(t){return this.seconds===t.seconds?Gt(this.nanoseconds,t.nanoseconds):Gt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Mv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new br(0,0))}static max(){return new Lt(new br(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="__name__";class Ka{constructor(t,s,n){s===void 0?s=0:s>t.length&&Mt(),n===void 0?n=t.length-s:n>t.length-s&&Mt(),this.segments=t,this.offset=s,this.len=n}get length(){return this.len}isEqual(t){return Ka.comparator(this,t)===0}child(t){const s=this.segments.slice(this.offset,this.limit());return t instanceof Ka?t.forEach((n=>{s.push(n)})):s.push(t),this.construct(s)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==t.get(s))return!1;return!0}forEach(t){for(let s=this.offset,n=this.limit();s<n;s++)t(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,s){const n=Math.min(t.length,s.length);for(let o=0;o<n;o++){const u=Ka.compareSegments(t.get(o),s.get(o));if(u!==0)return u}return Gt(t.length,s.length)}static compareSegments(t,s){const n=Ka.isNumericId(t),o=Ka.isNumericId(s);return n&&!o?-1:!n&&o?1:n&&o?Ka.extractNumericId(t).compare(Ka.extractNumericId(s)):xp(t,s)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return vi.fromString(t.substring(4,t.length-2))}}class yr extends Ka{construct(t,s,n){return new yr(t,s,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const s=[];for(const n of t){if(n.indexOf("//")>=0)throw new lt(Ve.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);s.push(...n.split("/").filter((o=>o.length>0)))}return new yr(s)}static emptyPath(){return new yr([])}}const AI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cs extends Ka{construct(t,s,n){return new cs(t,s,n)}static isValidIdentifier(t){return AI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cs.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Lv}static keyField(){return new cs([Lv])}static fromServerFormat(t){const s=[];let n="",o=0;const u=()=>{if(n.length===0)throw new lt(Ve.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(n),n=""};let c=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new lt(Ve.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(Ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(n+=m,o++):(u(),o++)}if(u(),c)throw new lt(Ve.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new cs(s)}static emptyPath(){return new cs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t){this.path=t}static fromPath(t){return new _t(yr.fromString(t))}static fromName(t){return new _t(yr.fromString(t).popFirst(5))}static empty(){return new _t(yr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&yr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,s){return yr.comparator(t.path,s.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new yr(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=-1;function RI(r,t){const s=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,o=Lt.fromTimestamp(n===1e9?new br(s+1,0):new br(s,n));return new ki(o,_t.empty(),t)}function MI(r){return new ki(r.readTime,r.key,td)}class ki{constructor(t,s,n){this.readTime=t,this.documentKey=s,this.largestBatchId=n}static min(){return new ki(Lt.min(),_t.empty(),td)}static max(){return new ki(Lt.max(),_t.empty(),td)}}function OI(r,t){let s=r.readTime.compareTo(t.readTime);return s!==0?s:(s=_t.comparator(r.documentKey,t.documentKey),s!==0?s:Gt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(r){if(r.code!==Ve.FAILED_PRECONDITION||r.message!==LI)throw r;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)}),(s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)}))}catch(t){return this.next(void 0,t)}next(t,s){return this.callbackAttached&&Mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(t,this.result):new Ue(((n,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(n,o)},this.catchCallback=u=>{this.wrapFailure(s,u).next(n,o)}}))}toPromise(){return new Promise(((t,s)=>{this.next(t,s)}))}wrapUserFunction(t){try{const s=t();return s instanceof Ue?s:Ue.resolve(s)}catch(s){return Ue.reject(s)}}wrapSuccess(t,s){return t?this.wrapUserFunction((()=>t(s))):Ue.resolve(s)}wrapFailure(t,s){return t?this.wrapUserFunction((()=>t(s))):Ue.reject(s)}static resolve(t){return new Ue(((s,n)=>{s(t)}))}static reject(t){return new Ue(((s,n)=>{n(t)}))}static waitFor(t){return new Ue(((s,n)=>{let o=0,u=0,c=!1;t.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&s()}),(p=>n(p)))})),c=!0,u===o&&s()}))}static or(t){let s=Ue.resolve(!1);for(const n of t)s=s.next((o=>o?Ue.resolve(o):n()));return s}static forEach(t,s){const n=[];return t.forEach(((o,u)=>{n.push(s.call(this,o,u))})),this.waitFor(n)}static mapArray(t,s){return new Ue(((n,o)=>{const u=t.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const v=p;s(t[v]).next((T=>{c[v]=T,++m,m===u&&n(c)}),(T=>o(T)))}}))}static doWhile(t,s){return new Ue(((n,o)=>{const u=()=>{t()===!0?s().next((()=>{u()}),o):n()};u()}))}}function zI(r){const t=r.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function Bl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=n=>this.oe(n),this._e=n=>s.writeSequenceNumber(n))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}bx.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=-1;function Nd(r){return r==null}function Ru(r){return r===0&&1/r==-1/0}function BI(r){return typeof r=="number"&&Number.isInteger(r)&&!Ru(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5="";function UI(r){let t="";for(let s=0;s<r.length;s++)t.length>0&&(t=Vv(t)),t=FI(r.get(s),t);return Vv(t)}function FI(r,t){let s=t;const n=r.length;for(let o=0;o<n;o++){const u=r.charAt(o);switch(u){case"\0":s+="";break;case y5:s+="";break;default:s+=u}}return s}function Vv(r){return r+y5+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(r){let t=0;for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&t++;return t}function _i(r,t){for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&t(s,r[s])}function b5(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t,s){this.comparator=t,this.root=s||ls.EMPTY}insert(t,s){return new _r(this.comparator,this.root.insert(t,s,this.comparator).copy(null,null,ls.BLACK,null,null))}remove(t){return new _r(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ls.BLACK,null,null))}get(t){let s=this.root;for(;!s.isEmpty();){const n=this.comparator(t,s.key);if(n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}indexOf(t){let s=0,n=this.root;for(;!n.isEmpty();){const o=this.comparator(t,n.key);if(o===0)return s+n.left.size;o<0?n=n.left:(s+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((s,n)=>(t(s,n),!1)))}toString(){const t=[];return this.inorderTraversal(((s,n)=>(t.push(`${s}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nu(this.root,t,this.comparator,!1)}getReverseIterator(){return new nu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nu(this.root,t,this.comparator,!0)}}class nu{constructor(t,s,n,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=s?n(t.key,s):1,s&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const s={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ls{constructor(t,s,n,o,u){this.key=t,this.value=s,this.color=n??ls.RED,this.left=o??ls.EMPTY,this.right=u??ls.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,s,n,o,u){return new ls(t??this.key,s??this.value,n??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,s,n){let o=this;const u=n(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,s,n),null):u===0?o.copy(null,s,null,null,null):o.copy(null,null,null,null,o.right.insert(t,s,n)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ls.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,s){let n,o=this;if(s(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,s),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),s(t,o.key)===0){if(o.right.isEmpty())return ls.EMPTY;n=o.right.min(),o=o.copy(n.key,n.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,s))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ls.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ls.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,s)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Mt();const t=this.left.check();if(t!==this.right.check())throw Mt();return t+(this.isRed()?0:1)}}ls.EMPTY=null,ls.RED=!0,ls.BLACK=!1;ls.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt()}get value(){throw Mt()}get color(){throw Mt()}get left(){throw Mt()}get right(){throw Mt()}copy(t,s,n,o,u){return this}insert(t,s,n){return new ls(t,s)}remove(t,s){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t){this.comparator=t,this.data=new _r(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((s,n)=>(t(s),!1)))}forEachInRange(t,s){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const o=n.getNext();if(this.comparator(o.key,t[1])>=0)return;s(o.key)}}forEachWhile(t,s){let n;for(n=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const s=this.data.getIteratorFrom(t);return s.hasNext()?s.getNext().key:null}getIterator(){return new Bv(this.data.getIterator())}getIteratorFrom(t){return new Bv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let s=this;return s.size<t.size&&(s=t,t=this),t.forEach((n=>{s=s.add(n)})),s}isEqual(t){if(!(t instanceof Qr)||this.size!==t.size)return!1;const s=this.data.getIterator(),n=t.data.getIterator();for(;s.hasNext();){const o=s.getNext().key,u=n.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((s=>{t.push(s)})),t}toString(){const t=[];return this.forEach((s=>t.push(s))),"SortedSet("+t.toString()+")"}copy(t){const s=new Qr(this.comparator);return s.data=t,s}}class Bv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(t){this.fields=t,t.sort(cs.comparator)}static empty(){return new ta([])}unionWith(t){let s=new Qr(cs.comparator);for(const n of this.fields)s=s.add(n);for(const n of t)s=s.add(n);return new ta(s.toArray())}covers(t){for(const s of this.fields)if(s.isPrefixOf(t))return!0;return!1}isEqual(t){return Il(this.fields,t.fields,((s,n)=>s.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t){this.binaryString=t}static fromBase64String(t){const s=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new v5("Invalid base64 string: "+u):u}})(t);return new xs(s)}static fromUint8Array(t){const s=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new xs(s)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(s){return btoa(s)})(this.binaryString)}toUint8Array(){return(function(s){const n=new Uint8Array(s.length);for(let o=0;o<s.length;o++)n[o]=s.charCodeAt(o);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Gt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xs.EMPTY_BYTE_STRING=new xs("");const HI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(r){if(nr(!!r),typeof r=="string"){let t=0;const s=HI.exec(r);if(nr(!!s),s[1]){let o=s[1];o=(o+"000000000").substr(0,9),t=Number(o)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Vr(r.seconds),nanos:Vr(r.nanos)}}function Vr(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ti(r){return typeof r=="string"?xs.fromBase64String(r):xs.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5="server_timestamp",w5="__type__",N5="__previous_value__",k5="__local_write_time__";function xf(r){var t,s;return((s=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[w5])===null||s===void 0?void 0:s.stringValue)===j5}function vx(r){const t=r.mapValue.fields[N5];return xf(t)?vx(t):t}function rd(r){const t=Si(r.mapValue.fields[k5].timestampValue);return new br(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(t,s,n,o,u,c,m,p,v){this.databaseId=t,this.appId=s,this.persistenceKey=n,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=v}}const Mu="(default)";class sd{constructor(t,s){this.projectId=t,this.database=s||Mu}static empty(){return new sd("","")}get isDefaultDatabase(){return this.database===Mu}isEqual(t){return t instanceof sd&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5="__type__",qI="__max__",iu={mapValue:{}},T5="__vector__",Ou="value";function Ii(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xf(r)?4:QI(r)?9007199254740991:GI(r)?10:11:Mt()}function an(r,t){if(r===t)return!0;const s=Ii(r);if(s!==Ii(t))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return rd(r).isEqual(rd(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Si(o.timestampValue),m=Si(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return Ti(o.bytesValue).isEqual(Ti(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return Vr(o.geoPointValue.latitude)===Vr(u.geoPointValue.latitude)&&Vr(o.geoPointValue.longitude)===Vr(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Vr(o.integerValue)===Vr(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Vr(o.doubleValue),m=Vr(u.doubleValue);return c===m?Ru(c)===Ru(m):isNaN(c)&&isNaN(m)}return!1})(r,t);case 9:return Il(r.arrayValue.values||[],t.arrayValue.values||[],an);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(zv(c)!==zv(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!an(c[p],m[p])))return!1;return!0})(r,t);default:return Mt()}}function ad(r,t){return(r.values||[]).find((s=>an(s,t)))!==void 0}function Pl(r,t){if(r===t)return 0;const s=Ii(r),n=Ii(t);if(s!==n)return Gt(s,n);switch(s){case 0:case 9007199254740991:return 0;case 1:return Gt(r.booleanValue,t.booleanValue);case 2:return(function(u,c){const m=Vr(u.integerValue||u.doubleValue),p=Vr(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,t);case 3:return Uv(r.timestampValue,t.timestampValue);case 4:return Uv(rd(r),rd(t));case 5:return xp(r.stringValue,t.stringValue);case 6:return(function(u,c){const m=Ti(u),p=Ti(c);return m.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let v=0;v<m.length&&v<p.length;v++){const T=Gt(m[v],p[v]);if(T!==0)return T}return Gt(m.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,c){const m=Gt(Vr(u.latitude),Vr(c.latitude));return m!==0?m:Gt(Vr(u.longitude),Vr(c.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Fv(r.arrayValue,t.arrayValue);case 10:return(function(u,c){var m,p,v,T;const P=u.fields||{},A=c.fields||{},O=(m=P[Ou])===null||m===void 0?void 0:m.arrayValue,k=(p=A[Ou])===null||p===void 0?void 0:p.arrayValue,H=Gt(((v=O?.values)===null||v===void 0?void 0:v.length)||0,((T=k?.values)===null||T===void 0?void 0:T.length)||0);return H!==0?H:Fv(O,k)})(r.mapValue,t.mapValue);case 11:return(function(u,c){if(u===iu.mapValue&&c===iu.mapValue)return 0;if(u===iu.mapValue)return 1;if(c===iu.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),v=c.fields||{},T=Object.keys(v);p.sort(),T.sort();for(let P=0;P<p.length&&P<T.length;++P){const A=xp(p[P],T[P]);if(A!==0)return A;const O=Pl(m[p[P]],v[T[P]]);if(O!==0)return O}return Gt(p.length,T.length)})(r.mapValue,t.mapValue);default:throw Mt()}}function Uv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Gt(r,t);const s=Si(r),n=Si(t),o=Gt(s.seconds,n.seconds);return o!==0?o:Gt(s.nanos,n.nanos)}function Fv(r,t){const s=r.values||[],n=t.values||[];for(let o=0;o<s.length&&o<n.length;++o){const u=Pl(s[o],n[o]);if(u)return u}return Gt(s.length,n.length)}function Cl(r){return mp(r)}function mp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(s){const n=Si(s);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(s){return Ti(s).toBase64()})(r.bytesValue):"referenceValue"in r?(function(s){return _t.fromName(s).toString()})(r.referenceValue):"geoPointValue"in r?(function(s){return`geo(${s.latitude},${s.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(s){let n="[",o=!0;for(const u of s.values||[])o?o=!1:n+=",",n+=mp(u);return n+"]"})(r.arrayValue):"mapValue"in r?(function(s){const n=Object.keys(s.fields||{}).sort();let o="{",u=!0;for(const c of n)u?u=!1:o+=",",o+=`${c}:${mp(s.fields[c])}`;return o+"}"})(r.mapValue):Mt()}function yu(r){switch(Ii(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vx(r);return t?16+yu(t):16;case 5:return 2*r.stringValue.length;case 6:return Ti(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((o,u)=>o+yu(u)),0)})(r.arrayValue);case 10:case 11:return(function(n){let o=0;return _i(n.fields,((u,c)=>{o+=u.length+yu(c)})),o})(r.mapValue);default:throw Mt()}}function Hv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function hp(r){return!!r&&"integerValue"in r}function mf(r){return!!r&&"arrayValue"in r}function Wv(r){return!!r&&"nullValue"in r}function qv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function bu(r){return!!r&&"mapValue"in r}function GI(r){var t,s;return((s=(((t=r?.mapValue)===null||t===void 0?void 0:t.fields)||{})[S5])===null||s===void 0?void 0:s.stringValue)===T5}function zc(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return _i(r.mapValue.fields,((s,n)=>t.mapValue.fields[s]=zc(n))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let s=0;s<(r.arrayValue.values||[]).length;++s)t.arrayValue.values[s]=zc(r.arrayValue.values[s]);return t}return Object.assign({},r)}function QI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===qI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(t){this.value=t}static empty(){return new Is({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let s=this.value;for(let n=0;n<t.length-1;++n)if(s=(s.mapValue.fields||{})[t.get(n)],!bu(s))return null;return s=(s.mapValue.fields||{})[t.lastSegment()],s||null}}set(t,s){this.getFieldsMap(t.popLast())[t.lastSegment()]=zc(s)}setAll(t){let s=cs.emptyPath(),n={},o=[];t.forEach(((c,m)=>{if(!s.isImmediateParentOf(m)){const p=this.getFieldsMap(s);this.applyChanges(p,n,o),n={},o=[],s=m.popLast()}c?n[m.lastSegment()]=zc(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(s);this.applyChanges(u,n,o)}delete(t){const s=this.field(t.popLast());bu(s)&&s.mapValue.fields&&delete s.mapValue.fields[t.lastSegment()]}isEqual(t){return an(this.value,t.value)}getFieldsMap(t){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let n=0;n<t.length;++n){let o=s.mapValue.fields[t.get(n)];bu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},s.mapValue.fields[t.get(n)]=o),s=o}return s.mapValue.fields}applyChanges(t,s,n){_i(s,((o,u)=>t[o]=u));for(const o of n)delete t[o]}clone(){return new Is(zc(this.value))}}function I5(r){const t=[];return _i(r.fields,((s,n)=>{const o=new cs([s]);if(bu(n)){const u=I5(n.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new ta(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t,s,n,o,u,c,m){this.key=t,this.documentType=s,this.version=n,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(t){return new ts(t,0,Lt.min(),Lt.min(),Lt.min(),Is.empty(),0)}static newFoundDocument(t,s,n,o){return new ts(t,1,s,Lt.min(),n,o,0)}static newNoDocument(t,s){return new ts(t,2,s,Lt.min(),Lt.min(),Is.empty(),0)}static newUnknownDocument(t,s){return new ts(t,3,s,Lt.min(),Lt.min(),Is.empty(),2)}convertToFoundDocument(t,s){return!this.createTime.isEqual(Lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Is.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ts&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ts(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(t,s){this.position=t,this.inclusive=s}}function Gv(r,t,s){let n=0;for(let o=0;o<r.position.length;o++){const u=t[o],c=r.position[o];if(u.field.isKeyField()?n=_t.comparator(_t.fromName(c.referenceValue),s.key):n=Pl(c,s.data.field(u.field)),u.dir==="desc"&&(n*=-1),n!==0)break}return n}function Qv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let s=0;s<r.position.length;s++)if(!an(r.position[s],t.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(t,s="asc"){this.field=t,this.dir=s}}function KI(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{}class Fr extends P5{constructor(t,s,n){super(),this.field=t,this.op=s,this.value=n}static create(t,s,n){return t.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(t,s,n):new YI(t,s,n):s==="array-contains"?new eP(t,n):s==="in"?new tP(t,n):s==="not-in"?new rP(t,n):s==="array-contains-any"?new sP(t,n):new Fr(t,s,n)}static createKeyFieldInFilter(t,s,n){return s==="in"?new XI(t,n):new JI(t,n)}matches(t){const s=t.data.field(this.field);return this.op==="!="?s!==null&&this.matchesComparison(Pl(s,this.value)):s!==null&&Ii(this.value)===Ii(s)&&this.matchesComparison(Pl(s,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ra extends P5{constructor(t,s){super(),this.filters=t,this.op=s,this.ce=null}static create(t,s){return new Ra(t,s)}matches(t){return C5(this)?this.filters.find((s=>!s.matches(t)))===void 0:this.filters.find((s=>s.matches(t)))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce(((t,s)=>t.concat(s.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function C5(r){return r.op==="and"}function E5(r){return ZI(r)&&C5(r)}function ZI(r){for(const t of r.filters)if(t instanceof Ra)return!1;return!0}function pp(r){if(r instanceof Fr)return r.field.canonicalString()+r.op.toString()+Cl(r.value);if(E5(r))return r.filters.map((t=>pp(t))).join(",");{const t=r.filters.map((s=>pp(s))).join(",");return`${r.op}(${t})`}}function D5(r,t){return r instanceof Fr?(function(n,o){return o instanceof Fr&&n.op===o.op&&n.field.isEqual(o.field)&&an(n.value,o.value)})(r,t):r instanceof Ra?(function(n,o){return o instanceof Ra&&n.op===o.op&&n.filters.length===o.filters.length?n.filters.reduce(((u,c,m)=>u&&D5(c,o.filters[m])),!0):!1})(r,t):void Mt()}function $5(r){return r instanceof Fr?(function(s){return`${s.field.canonicalString()} ${s.op} ${Cl(s.value)}`})(r):r instanceof Ra?(function(s){return s.op.toString()+" {"+s.getFilters().map($5).join(" ,")+"}"})(r):"Filter"}class YI extends Fr{constructor(t,s,n){super(t,s,n),this.key=_t.fromName(n.referenceValue)}matches(t){const s=_t.comparator(t.key,this.key);return this.matchesComparison(s)}}class XI extends Fr{constructor(t,s){super(t,"in",s),this.keys=_5("in",s)}matches(t){return this.keys.some((s=>s.isEqual(t.key)))}}class JI extends Fr{constructor(t,s){super(t,"not-in",s),this.keys=_5("not-in",s)}matches(t){return!this.keys.some((s=>s.isEqual(t.key)))}}function _5(r,t){var s;return(((s=t.arrayValue)===null||s===void 0?void 0:s.values)||[]).map((n=>_t.fromName(n.referenceValue)))}class eP extends Fr{constructor(t,s){super(t,"array-contains",s)}matches(t){const s=t.data.field(this.field);return mf(s)&&ad(s.arrayValue,this.value)}}class tP extends Fr{constructor(t,s){super(t,"in",s)}matches(t){const s=t.data.field(this.field);return s!==null&&ad(this.value.arrayValue,s)}}class rP extends Fr{constructor(t,s){super(t,"not-in",s)}matches(t){if(ad(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=t.data.field(this.field);return s!==null&&!ad(this.value.arrayValue,s)}}class sP extends Fr{constructor(t,s){super(t,"array-contains-any",s)}matches(t){const s=t.data.field(this.field);return!(!mf(s)||!s.arrayValue.values)&&s.arrayValue.values.some((n=>ad(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(t,s=null,n=[],o=[],u=null,c=null,m=null){this.path=t,this.collectionGroup=s,this.orderBy=n,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.le=null}}function Kv(r,t=null,s=[],n=[],o=null,u=null,c=null){return new aP(r,t,s,n,o,u,c)}function hf(r){const t=Ut(r);if(t.le===null){let s=t.path.canonicalString();t.collectionGroup!==null&&(s+="|cg:"+t.collectionGroup),s+="|f:",s+=t.filters.map((n=>pp(n))).join(","),s+="|ob:",s+=t.orderBy.map((n=>(function(u){return u.field.canonicalString()+u.dir})(n))).join(","),Nd(t.limit)||(s+="|l:",s+=t.limit),t.startAt&&(s+="|lb:",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((n=>Cl(n))).join(",")),t.endAt&&(s+="|ub:",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((n=>Cl(n))).join(",")),t.le=s}return t.le}function pf(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let s=0;s<r.orderBy.length;s++)if(!KI(r.orderBy[s],t.orderBy[s]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let s=0;s<r.filters.length;s++)if(!D5(r.filters[s],t.filters[s]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Qv(r.startAt,t.startAt)&&Qv(r.endAt,t.endAt)}function fp(r){return _t.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,s=null,n=[],o=[],u=null,c="F",m=null,p=null){this.path=t,this.collectionGroup=s,this.explicitOrderBy=n,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function nP(r,t,s,n,o,u,c,m){return new Ul(r,t,s,n,o,u,c,m)}function jx(r){return new Ul(r)}function Zv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function A5(r){return r.collectionGroup!==null}function Bc(r){const t=Ut(r);if(t.he===null){t.he=[];const s=new Set;for(const u of t.explicitOrderBy)t.he.push(u),s.add(u.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Qr(cs.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(m=m.add(v.field))}))})),m})(t).forEach((u=>{s.has(u.canonicalString())||u.isKeyField()||t.he.push(new nd(u,n))})),s.has(cs.keyField().canonicalString())||t.he.push(new nd(cs.keyField(),n))}return t.he}function Ya(r){const t=Ut(r);return t.Pe||(t.Pe=iP(t,Bc(r))),t.Pe}function iP(r,t){if(r.limitType==="F")return Kv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new nd(o.field,u)}));const s=r.endAt?new Lu(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Lu(r.startAt.position,r.startAt.inclusive):null;return Kv(r.path,r.collectionGroup,t,r.filters,r.limit,s,n)}}function gp(r,t){const s=r.filters.concat([t]);return new Ul(r.path,r.collectionGroup,r.explicitOrderBy.slice(),s,r.limit,r.limitType,r.startAt,r.endAt)}function Vu(r,t,s){return new Ul(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,s,r.startAt,r.endAt)}function wx(r,t){return pf(Ya(r),Ya(t))&&r.limitType===t.limitType}function R5(r){return`${hf(Ya(r))}|lt:${r.limitType}`}function xl(r){return`Query(target=${(function(s){let n=s.path.canonicalString();return s.collectionGroup!==null&&(n+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(n+=`, filters: [${s.filters.map((o=>$5(o))).join(", ")}]`),Nd(s.limit)||(n+=", limit: "+s.limit),s.orderBy.length>0&&(n+=`, orderBy: [${s.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),s.startAt&&(n+=", startAt: ",n+=s.startAt.inclusive?"b:":"a:",n+=s.startAt.position.map((o=>Cl(o))).join(",")),s.endAt&&(n+=", endAt: ",n+=s.endAt.inclusive?"a:":"b:",n+=s.endAt.position.map((o=>Cl(o))).join(",")),`Target(${n})`})(Ya(r))}; limitType=${r.limitType})`}function Nx(r,t){return t.isFoundDocument()&&(function(n,o){const u=o.key.path;return n.collectionGroup!==null?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):_t.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)})(r,t)&&(function(n,o){for(const u of Bc(n))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(n,o){return!(n.startAt&&!(function(c,m,p){const v=Gv(c,m,p);return c.inclusive?v<=0:v<0})(n.startAt,Bc(n),o)||n.endAt&&!(function(c,m,p){const v=Gv(c,m,p);return c.inclusive?v>=0:v>0})(n.endAt,Bc(n),o))})(r,t)}function oP(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function M5(r){return(t,s)=>{let n=!1;for(const o of Bc(r)){const u=lP(o,t,s);if(u!==0)return u;n=n||o.field.isKeyField()}return 0}}function lP(r,t,s){const n=r.field.isKeyField()?_t.comparator(t.key,s.key):(function(u,c,m){const p=c.data.field(u),v=m.data.field(u);return p!==null&&v!==null?Pl(p,v):Mt()})(r.field,t,s);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Mt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t,s){this.mapKeyFn=t,this.equalsFn=s,this.inner={},this.innerSize=0}get(t){const s=this.mapKeyFn(t),n=this.inner[s];if(n!==void 0){for(const[o,u]of n)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,s){const n=this.mapKeyFn(t),o=this.inner[n];if(o===void 0)return this.inner[n]=[[t,s]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,s]);o.push([t,s]),this.innerSize++}delete(t){const s=this.mapKeyFn(t),n=this.inner[s];if(n===void 0)return!1;for(let o=0;o<n.length;o++)if(this.equalsFn(n[o][0],t))return n.length===1?delete this.inner[s]:n.splice(o,1),this.innerSize--,!0;return!1}forEach(t){_i(this.inner,((s,n)=>{for(const[o,u]of n)t(o,u)}))}isEmpty(){return b5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=new _r(_t.comparator);function $n(){return cP}const O5=new _r(_t.comparator);function Rc(...r){let t=O5;for(const s of r)t=t.insert(s.key,s);return t}function L5(r){let t=O5;return r.forEach(((s,n)=>t=t.insert(s,n.overlayedDocument))),t}function oo(){return Uc()}function V5(){return Uc()}function Uc(){return new To((r=>r.toString()),((r,t)=>r.isEqual(t)))}const dP=new _r(_t.comparator),uP=new Qr(_t.comparator);function er(...r){let t=uP;for(const s of r)t=t.add(s);return t}const xP=new Qr(Gt);function mP(){return xP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ru(t)?"-0":t}}function z5(r){return{integerValue:""+r}}function B5(r,t){return BI(t)?z5(t):ff(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this._=void 0}}function hP(r,t,s){return r instanceof id?(function(o,u){const c={fields:{[w5]:{stringValue:j5},[k5]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&xf(u)&&(u=vx(u)),u&&(c.fields[N5]=u),{mapValue:c}})(s,t):r instanceof od?F5(r,t):r instanceof ld?H5(r,t):(function(o,u){const c=U5(o,u),m=Yv(c)+Yv(o.Ie);return hp(c)&&hp(o.Ie)?z5(m):ff(o.serializer,m)})(r,t)}function pP(r,t,s){return r instanceof od?F5(r,t):r instanceof ld?H5(r,t):s}function U5(r,t){return r instanceof cd?(function(n){return hp(n)||(function(u){return!!u&&"doubleValue"in u})(n)})(t)?t:{integerValue:0}:null}class id extends kx{}class od extends kx{constructor(t){super(),this.elements=t}}function F5(r,t){const s=W5(t);for(const n of r.elements)s.some((o=>an(o,n)))||s.push(n);return{arrayValue:{values:s}}}class ld extends kx{constructor(t){super(),this.elements=t}}function H5(r,t){let s=W5(t);for(const n of r.elements)s=s.filter((o=>!an(o,n)));return{arrayValue:{values:s}}}class cd extends kx{constructor(t,s){super(),this.serializer=t,this.Ie=s}}function Yv(r){return Vr(r.integerValue||r.doubleValue)}function W5(r){return mf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(t,s){this.field=t,this.transform=s}}function fP(r,t){return r.field.isEqual(t.field)&&(function(n,o){return n instanceof od&&o instanceof od||n instanceof ld&&o instanceof ld?Il(n.elements,o.elements,an):n instanceof cd&&o instanceof cd?an(n.Ie,o.Ie):n instanceof id&&o instanceof id})(r.transform,t.transform)}class gP{constructor(t,s){this.version=t,this.transformResults=s}}class ds{constructor(t,s){this.updateTime=t,this.exists=s}static none(){return new ds}static exists(t){return new ds(void 0,t)}static updateTime(t){return new ds(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vu(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Sx{}function G5(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Tx(r.key,ds.none()):new kd(r.key,r.data,ds.none());{const s=r.data,n=Is.empty();let o=new Qr(cs.comparator);for(let u of t.fields)if(!o.has(u)){let c=s.field(u);c===null&&u.length>1&&(u=u.popLast(),c=s.field(u)),c===null?n.delete(u):n.set(u,c),o=o.add(u)}return new Ai(r.key,n,new ta(o.toArray()),ds.none())}}function yP(r,t,s){r instanceof kd?(function(o,u,c){const m=o.value.clone(),p=Jv(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(r,t,s):r instanceof Ai?(function(o,u,c){if(!vu(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=Jv(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(Q5(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(r,t,s):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,s)}function Fc(r,t,s,n){return r instanceof kd?(function(u,c,m,p){if(!vu(u.precondition,c))return m;const v=u.value.clone(),T=ej(u.fieldTransforms,p,c);return v.setAll(T),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null})(r,t,s,n):r instanceof Ai?(function(u,c,m,p){if(!vu(u.precondition,c))return m;const v=ej(u.fieldTransforms,p,c),T=c.data;return T.setAll(Q5(u)),T.setAll(v),c.convertToFoundDocument(c.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((P=>P.field)))})(r,t,s,n):(function(u,c,m){return vu(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(r,t,s)}function bP(r,t){let s=null;for(const n of r.fieldTransforms){const o=t.data.field(n.field),u=U5(n.transform,o||null);u!=null&&(s===null&&(s=Is.empty()),s.set(n.field,u))}return s||null}function Xv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(n,o){return n===void 0&&o===void 0||!(!n||!o)&&Il(n,o,((u,c)=>fP(u,c)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class kd extends Sx{constructor(t,s,n,o=[]){super(),this.key=t,this.value=s,this.precondition=n,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ai extends Sx{constructor(t,s,n,o,u=[]){super(),this.key=t,this.data=s,this.fieldMask=n,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Q5(r){const t=new Map;return r.fieldMask.fields.forEach((s=>{if(!s.isEmpty()){const n=r.data.field(s);t.set(s,n)}})),t}function Jv(r,t,s){const n=new Map;nr(r.length===s.length);for(let o=0;o<s.length;o++){const u=r[o],c=u.transform,m=t.data.field(u.field);n.set(u.field,pP(c,m,s[o]))}return n}function ej(r,t,s){const n=new Map;for(const o of r){const u=o.transform,c=s.data.field(o.field);n.set(o.field,hP(u,c,t))}return n}class Tx extends Sx{constructor(t,s){super(),this.key=t,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K5 extends Sx{constructor(t,s){super(),this.key=t,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(t,s,n,o){this.batchId=t,this.localWriteTime=s,this.baseMutations=n,this.mutations=o}applyToRemoteDocument(t,s){const n=s.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&yP(u,t,n[o])}}applyToLocalView(t,s){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(s=Fc(n,t,s,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(s=Fc(n,t,s,this.localWriteTime));return s}applyToLocalDocumentSet(t,s){const n=V5();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=s.has(o.key)?null:m;const p=G5(c,m);p!==null&&n.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Lt.min())})),n}keys(){return this.mutations.reduce(((t,s)=>t.add(s.key)),er())}isEqual(t){return this.batchId===t.batchId&&Il(this.mutations,t.mutations,((s,n)=>Xv(s,n)))&&Il(this.baseMutations,t.baseMutations,((s,n)=>Xv(s,n)))}}class gf{constructor(t,s,n,o){this.batch=t,this.commitVersion=s,this.mutationResults=n,this.docVersions=o}static from(t,s,n){nr(t.mutations.length===n.length);let o=(function(){return dP})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,n[c].version);return new gf(t,s,n,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(t,s){this.largestBatchId=t,this.mutation=s}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(t,s){this.count=t,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur,ar;function Z5(r){switch(r){case Ve.OK:return Mt();case Ve.CANCELLED:case Ve.UNKNOWN:case Ve.DEADLINE_EXCEEDED:case Ve.RESOURCE_EXHAUSTED:case Ve.INTERNAL:case Ve.UNAVAILABLE:case Ve.UNAUTHENTICATED:return!1;case Ve.INVALID_ARGUMENT:case Ve.NOT_FOUND:case Ve.ALREADY_EXISTS:case Ve.PERMISSION_DENIED:case Ve.FAILED_PRECONDITION:case Ve.ABORTED:case Ve.OUT_OF_RANGE:case Ve.UNIMPLEMENTED:case Ve.DATA_LOSS:return!0;default:return Mt()}}function Y5(r){if(r===void 0)return Dn("GRPC error has no .code"),Ve.UNKNOWN;switch(r){case Ur.OK:return Ve.OK;case Ur.CANCELLED:return Ve.CANCELLED;case Ur.UNKNOWN:return Ve.UNKNOWN;case Ur.DEADLINE_EXCEEDED:return Ve.DEADLINE_EXCEEDED;case Ur.RESOURCE_EXHAUSTED:return Ve.RESOURCE_EXHAUSTED;case Ur.INTERNAL:return Ve.INTERNAL;case Ur.UNAVAILABLE:return Ve.UNAVAILABLE;case Ur.UNAUTHENTICATED:return Ve.UNAUTHENTICATED;case Ur.INVALID_ARGUMENT:return Ve.INVALID_ARGUMENT;case Ur.NOT_FOUND:return Ve.NOT_FOUND;case Ur.ALREADY_EXISTS:return Ve.ALREADY_EXISTS;case Ur.PERMISSION_DENIED:return Ve.PERMISSION_DENIED;case Ur.FAILED_PRECONDITION:return Ve.FAILED_PRECONDITION;case Ur.ABORTED:return Ve.ABORTED;case Ur.OUT_OF_RANGE:return Ve.OUT_OF_RANGE;case Ur.UNIMPLEMENTED:return Ve.UNIMPLEMENTED;case Ur.DATA_LOSS:return Ve.DATA_LOSS;default:return Mt()}}(ar=Ur||(Ur={}))[ar.OK=0]="OK",ar[ar.CANCELLED=1]="CANCELLED",ar[ar.UNKNOWN=2]="UNKNOWN",ar[ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ar[ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ar[ar.NOT_FOUND=5]="NOT_FOUND",ar[ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",ar[ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",ar[ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",ar[ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ar[ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ar[ar.ABORTED=10]="ABORTED",ar[ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",ar[ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",ar[ar.INTERNAL=13]="INTERNAL",ar[ar.UNAVAILABLE=14]="UNAVAILABLE",ar[ar.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=new vi([4294967295,4294967295],0);function tj(r){const t=f5().encode(r),s=new c5;return s.update(t),new Uint8Array(s.digest())}function rj(r){const t=new DataView(r.buffer),s=t.getUint32(0,!0),n=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new vi([s,n],0),new vi([o,u],0)]}class yf{constructor(t,s,n){if(this.bitmap=t,this.padding=s,this.hashCount=n,s<0||s>=8)throw new Mc(`Invalid padding: ${s}`);if(n<0)throw new Mc(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Mc(`Invalid hash count: ${n}`);if(t.length===0&&s!==0)throw new Mc(`Invalid padding when bitmap length is 0: ${s}`);this.Ee=8*t.length-s,this.de=vi.fromNumber(this.Ee)}Ae(t,s,n){let o=t.add(s.multiply(vi.fromNumber(n)));return o.compare(NP)===1&&(o=new vi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const s=tj(t),[n,o]=rj(s);for(let u=0;u<this.hashCount;u++){const c=this.Ae(n,o,u);if(!this.Re(c))return!1}return!0}static create(t,s,n){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new yf(u,o,s);return n.forEach((m=>c.insert(m))),c}insert(t){if(this.Ee===0)return;const s=tj(t),[n,o]=rj(s);for(let u=0;u<this.hashCount;u++){const c=this.Ae(n,o,u);this.Ve(c)}}Ve(t){const s=Math.floor(t/8),n=t%8;this.bitmap[s]|=1<<n}}class Mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(t,s,n,o,u){this.snapshotVersion=t,this.targetChanges=s,this.targetMismatches=n,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,s,n){const o=new Map;return o.set(t,Sd.createSynthesizedTargetChangeForCurrentChange(t,s,n)),new Ix(Lt.min(),o,new _r(Gt),$n(),er())}}class Sd{constructor(t,s,n,o,u){this.resumeToken=t,this.current=s,this.addedDocuments=n,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,s,n){return new Sd(n,s,er(),er(),er())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(t,s,n,o){this.me=t,this.removedTargetIds=s,this.key=n,this.fe=o}}class X5{constructor(t,s){this.targetId=t,this.ge=s}}class J5{constructor(t,s,n=xs.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=s,this.resumeToken=n,this.cause=o}}class sj{constructor(){this.pe=0,this.ye=aj(),this.we=xs.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=er(),s=er(),n=er();return this.ye.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:s=s.add(o);break;case 1:n=n.add(o);break;default:Mt()}})),new Sd(this.we,this.Se,t,s,n)}Me(){this.be=!1,this.ye=aj()}xe(t,s){this.be=!0,this.ye=this.ye.insert(t,s)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,nr(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class kP{constructor(t){this.ke=t,this.qe=new Map,this.Qe=$n(),this.$e=ou(),this.Ue=ou(),this.Ke=new _r(Gt)}We(t){for(const s of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(s,t.fe):this.ze(s,t.key,t.fe);for(const s of t.removedTargetIds)this.ze(s,t.key,t.fe)}je(t){this.forEachTarget(t,(s=>{const n=this.He(s);switch(t.state){case 0:this.Je(s)&&n.Ce(t.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(t.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(s);break;case 3:this.Je(s)&&(n.Le(),n.Ce(t.resumeToken));break;case 4:this.Je(s)&&(this.Ye(s),n.Ce(t.resumeToken));break;default:Mt()}}))}forEachTarget(t,s){t.targetIds.length>0?t.targetIds.forEach(s):this.qe.forEach(((n,o)=>{this.Je(o)&&s(o)}))}Ze(t){const s=t.targetId,n=t.ge.count,o=this.Xe(s);if(o){const u=o.target;if(fp(u))if(n===0){const c=new _t(u.path);this.ze(s,c,ts.newNoDocument(c,Lt.min()))}else nr(n===1);else{const c=this.et(s);if(c!==n){const m=this.tt(t),p=m?this.nt(m,t,c):1;if(p!==0){this.Ye(s);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(s,v)}}}}}tt(t){const s=t.ge.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:n="",padding:o=0},hashCount:u=0}=s;let c,m;try{c=Ti(n).toUint8Array()}catch(p){if(p instanceof v5)return Tl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new yf(c,o,u)}catch(p){return Tl(p instanceof Mc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(t,s,n){return s.ge.count===n-this.st(t,s.targetId)?0:2}st(t,s){const n=this.ke.getRemoteKeysForTarget(s);let o=0;return n.forEach((u=>{const c=this.ke.it(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(s,u,null),o++)})),o}ot(t){const s=new Map;this.qe.forEach(((u,c)=>{const m=this.Xe(c);if(m){if(u.current&&fp(m.target)){const p=new _t(m.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,ts.newNoDocument(p,t))}u.ve&&(s.set(c,u.Fe()),u.Me())}}));let n=er();this.Ue.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const v=this.Xe(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(n=n.add(u))})),this.Qe.forEach(((u,c)=>c.setReadTime(t)));const o=new Ix(t,s,this.Ke,this.Qe,n);return this.Qe=$n(),this.$e=ou(),this.Ue=ou(),this.Ke=new _r(Gt),o}Ge(t,s){if(!this.Je(t))return;const n=this.ut(t,s.key)?2:0;this.He(t).xe(s.key,n),this.Qe=this.Qe.insert(s.key,s),this.$e=this.$e.insert(s.key,this._t(s.key).add(t)),this.Ue=this.Ue.insert(s.key,this.ct(s.key).add(t))}ze(t,s,n){if(!this.Je(t))return;const o=this.He(t);this.ut(t,s)?o.xe(s,1):o.Oe(s),this.Ue=this.Ue.insert(s,this.ct(s).delete(t)),this.Ue=this.Ue.insert(s,this.ct(s).add(t)),n&&(this.Qe=this.Qe.insert(s,n))}removeTarget(t){this.qe.delete(t)}et(t){const s=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+s.addedDocuments.size-s.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let s=this.qe.get(t);return s||(s=new sj,this.qe.set(t,s)),s}ct(t){let s=this.Ue.get(t);return s||(s=new Qr(Gt),this.Ue=this.Ue.insert(t,s)),s}_t(t){let s=this.$e.get(t);return s||(s=new Qr(Gt),this.$e=this.$e.insert(t,s)),s}Je(t){const s=this.Xe(t)!==null;return s||ht("WatchChangeAggregator","Detected inactive target",t),s}Xe(t){const s=this.qe.get(t);return s&&s.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new sj),this.ke.getRemoteKeysForTarget(t).forEach((s=>{this.ze(t,s,null)}))}ut(t,s){return this.ke.getRemoteKeysForTarget(t).has(s)}}function ou(){return new _r(_t.comparator)}function aj(){return new _r(_t.comparator)}const SP={asc:"ASCENDING",desc:"DESCENDING"},TP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IP={and:"AND",or:"OR"};class PP{constructor(t,s){this.databaseId=t,this.useProto3Json=s}}function yp(r,t){return r.useProto3Json||Nd(t)?t:{value:t}}function zu(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function e2(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function CP(r,t){return zu(r,t.toTimestamp())}function ra(r){return nr(!!r),Lt.fromTimestamp((function(s){const n=Si(s);return new br(n.seconds,n.nanos)})(r))}function bf(r,t){return bp(r,t).canonicalString()}function bp(r,t){const s=(function(o){return new yr(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?s:s.child(t)}function t2(r){const t=yr.fromString(r);return nr(o2(t)),t}function Bu(r,t){return bf(r.databaseId,t.path)}function Hc(r,t){const s=t2(t);if(s.get(1)!==r.databaseId.projectId)throw new lt(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+r.databaseId.projectId);if(s.get(3)!==r.databaseId.database)throw new lt(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+r.databaseId.database);return new _t(s2(s))}function r2(r,t){return bf(r.databaseId,t)}function EP(r){const t=t2(r);return t.length===4?yr.emptyPath():s2(t)}function vp(r){return new yr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function s2(r){return nr(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function nj(r,t,s){return{name:Bu(r,t),fields:s.value.mapValue.fields}}function DP(r,t){return"found"in t?(function(n,o){nr(!!o.found),o.found.name,o.found.updateTime;const u=Hc(n,o.found.name),c=ra(o.found.updateTime),m=o.found.createTime?ra(o.found.createTime):Lt.min(),p=new Is({mapValue:{fields:o.found.fields}});return ts.newFoundDocument(u,c,m,p)})(r,t):"missing"in t?(function(n,o){nr(!!o.missing),nr(!!o.readTime);const u=Hc(n,o.missing),c=ra(o.readTime);return ts.newNoDocument(u,c)})(r,t):Mt()}function $P(r,t){let s;if("targetChange"in t){t.targetChange;const n=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Mt()})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(v,T){return v.useProto3Json?(nr(T===void 0||typeof T=="string"),xs.fromBase64String(T||"")):(nr(T===void 0||T instanceof Buffer||T instanceof Uint8Array),xs.fromUint8Array(T||new Uint8Array))})(r,t.targetChange.resumeToken),c=t.targetChange.cause,m=c&&(function(v){const T=v.code===void 0?Ve.UNKNOWN:Y5(v.code);return new lt(T,v.message||"")})(c);s=new J5(n,o,u,m||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const o=Hc(r,n.document.name),u=ra(n.document.updateTime),c=n.document.createTime?ra(n.document.createTime):Lt.min(),m=new Is({mapValue:{fields:n.document.fields}}),p=ts.newFoundDocument(o,u,c,m),v=n.targetIds||[],T=n.removedTargetIds||[];s=new ju(v,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const o=Hc(r,n.document),u=n.readTime?ra(n.readTime):Lt.min(),c=ts.newNoDocument(o,u),m=n.removedTargetIds||[];s=new ju([],m,c.key,c)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const o=Hc(r,n.document),u=n.removedTargetIds||[];s=new ju([],u,o,null)}else{if(!("filter"in t))return Mt();{t.filter;const n=t.filter;n.targetId;const{count:o=0,unchangedNames:u}=n,c=new wP(o,u),m=n.targetId;s=new X5(m,c)}}return s}function a2(r,t){let s;if(t instanceof kd)s={update:nj(r,t.key,t.value)};else if(t instanceof Tx)s={delete:Bu(r,t.key)};else if(t instanceof Ai)s={update:nj(r,t.key,t.data),updateMask:BP(t.fieldMask)};else{if(!(t instanceof K5))return Mt();s={verify:Bu(r,t.key)}}return t.fieldTransforms.length>0&&(s.updateTransforms=t.fieldTransforms.map((n=>(function(u,c){const m=c.transform;if(m instanceof id)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof od)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ld)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof cd)return{fieldPath:c.field.canonicalString(),increment:m.Ie};throw Mt()})(0,n)))),t.precondition.isNone||(s.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:CP(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Mt()})(r,t.precondition)),s}function _P(r,t){return r&&r.length>0?(nr(t!==void 0),r.map((s=>(function(o,u){let c=o.updateTime?ra(o.updateTime):ra(u);return c.isEqual(Lt.min())&&(c=ra(u)),new gP(c,o.transformResults||[])})(s,t)))):[]}function AP(r,t){return{documents:[r2(r,t.path)]}}function RP(r,t){const s={structuredQuery:{}},n=t.path;let o;t.collectionGroup!==null?(o=n,s.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=n.popLast(),s.structuredQuery.from=[{collectionId:n.lastSegment()}]),s.parent=r2(r,o);const u=(function(v){if(v.length!==0)return i2(Ra.create(v,"and"))})(t.filters);u&&(s.structuredQuery.where=u);const c=(function(v){if(v.length!==0)return v.map((T=>(function(A){return{field:ml(A.field),direction:LP(A.dir)}})(T)))})(t.orderBy);c&&(s.structuredQuery.orderBy=c);const m=yp(r,t.limit);return m!==null&&(s.structuredQuery.limit=m),t.startAt&&(s.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(s.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ht:s,parent:o}}function MP(r){let t=EP(r.parent);const s=r.structuredQuery,n=s.from?s.from.length:0;let o=null;if(n>0){nr(n===1);const T=s.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];s.where&&(u=(function(P){const A=n2(P);return A instanceof Ra&&E5(A)?A.getFilters():[A]})(s.where));let c=[];s.orderBy&&(c=(function(P){return P.map((A=>(function(k){return new nd(hl(k.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(A)))})(s.orderBy));let m=null;s.limit&&(m=(function(P){let A;return A=typeof P=="object"?P.value:P,Nd(A)?null:A})(s.limit));let p=null;s.startAt&&(p=(function(P){const A=!!P.before,O=P.values||[];return new Lu(O,A)})(s.startAt));let v=null;return s.endAt&&(v=(function(P){const A=!P.before,O=P.values||[];return new Lu(O,A)})(s.endAt)),nP(t,o,c,u,m,"F",p,v)}function OP(r,t){const s=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt()}})(t.purpose);return s==null?null:{"goog-listen-tags":s}}function n2(r){return r.unaryFilter!==void 0?(function(s){switch(s.unaryFilter.op){case"IS_NAN":const n=hl(s.unaryFilter.field);return Fr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=hl(s.unaryFilter.field);return Fr.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=hl(s.unaryFilter.field);return Fr.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=hl(s.unaryFilter.field);return Fr.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Mt()}})(r):r.fieldFilter!==void 0?(function(s){return Fr.create(hl(s.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mt()}})(s.fieldFilter.op),s.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(s){return Ra.create(s.compositeFilter.filters.map((n=>n2(n))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Mt()}})(s.compositeFilter.op))})(r):Mt()}function LP(r){return SP[r]}function VP(r){return TP[r]}function zP(r){return IP[r]}function ml(r){return{fieldPath:r.canonicalString()}}function hl(r){return cs.fromServerFormat(r.fieldPath)}function i2(r){return r instanceof Fr?(function(s){if(s.op==="=="){if(qv(s.value))return{unaryFilter:{field:ml(s.field),op:"IS_NAN"}};if(Wv(s.value))return{unaryFilter:{field:ml(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(qv(s.value))return{unaryFilter:{field:ml(s.field),op:"IS_NOT_NAN"}};if(Wv(s.value))return{unaryFilter:{field:ml(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ml(s.field),op:VP(s.op),value:s.value}}})(r):r instanceof Ra?(function(s){const n=s.getFilters().map((o=>i2(o)));return n.length===1?n[0]:{compositeFilter:{op:zP(s.op),filters:n}}})(r):Mt()}function BP(r){const t=[];return r.fields.forEach((s=>t.push(s.canonicalString()))),{fieldPaths:t}}function o2(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t,s,n,o,u=Lt.min(),c=Lt.min(),m=xs.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=s,this.purpose=n,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new fi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,s){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(t){this.Tt=t}}function FP(r){const t=MP({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Vu(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(){this.Tn=new WP}addToCollectionParentIndex(t,s){return this.Tn.add(s),Ue.resolve()}getCollectionParents(t,s){return Ue.resolve(this.Tn.getEntries(s))}addFieldIndex(t,s){return Ue.resolve()}deleteFieldIndex(t,s){return Ue.resolve()}deleteAllFieldIndexes(t){return Ue.resolve()}createTargetIndexes(t,s){return Ue.resolve()}getDocumentsMatchingTarget(t,s){return Ue.resolve(null)}getIndexType(t,s){return Ue.resolve(0)}getFieldIndexes(t,s){return Ue.resolve([])}getNextCollectionGroupToUpdate(t){return Ue.resolve(null)}getMinOffset(t,s){return Ue.resolve(ki.min())}getMinOffsetFromCollectionGroup(t,s){return Ue.resolve(ki.min())}updateCollectionGroup(t,s,n){return Ue.resolve()}updateIndexEntries(t,s){return Ue.resolve()}}class WP{constructor(){this.index={}}add(t){const s=t.lastSegment(),n=t.popLast(),o=this.index[s]||new Qr(yr.comparator),u=!o.has(n);return this.index[s]=o.add(n),u}has(t){const s=t.lastSegment(),n=t.popLast(),o=this.index[s];return o&&o.has(n)}getEntries(t){return(this.index[t]||new Qr(yr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},l2=41943040;class Vs{static withCacheSize(t){return new Vs(t,Vs.DEFAULT_COLLECTION_PERCENTILE,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,s,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs.DEFAULT_COLLECTION_PERCENTILE=10,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vs.DEFAULT=new Vs(l2,Vs.DEFAULT_COLLECTION_PERCENTILE,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vs.DISABLED=new Vs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new El(0)}static Kn(){return new El(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj="LruGarbageCollector",qP=1048576;function lj([r,t],[s,n]){const o=Gt(r,s);return o===0?Gt(t,n):o}class GP{constructor(t){this.Hn=t,this.buffer=new Qr(lj),this.Jn=0}Yn(){return++this.Jn}Zn(t){const s=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(s);else{const n=this.buffer.last();lj(s,n)<0&&(this.buffer=this.buffer.delete(n).add(s))}}get maxValue(){return this.buffer.last()[0]}}class QP{constructor(t,s,n){this.garbageCollector=t,this.asyncQueue=s,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ht(oj,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){Bl(s)?ht(oj,"Ignoring IndexedDB error during garbage collection: ",s):await zl(s)}await this.er(3e5)}))}}class KP{constructor(t,s){this.tr=t,this.params=s}calculateTargetCount(t,s){return this.tr.nr(t).next((n=>Math.floor(s/100*n)))}nthSequenceNumber(t,s){if(s===0)return Ue.resolve(bx.ae);const n=new GP(s);return this.tr.forEachTarget(t,(o=>n.Zn(o.sequenceNumber))).next((()=>this.tr.rr(t,(o=>n.Zn(o))))).next((()=>n.maxValue))}removeTargets(t,s,n){return this.tr.removeTargets(t,s,n)}removeOrphanedDocuments(t,s){return this.tr.removeOrphanedDocuments(t,s)}collect(t,s){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),Ue.resolve(ij)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ij):this.ir(t,s)))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,s){let n,o,u,c,m,p,v;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((P=>(P>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),o=this.params.maximumSequenceNumbersToCollect):o=P,c=Date.now(),this.nthSequenceNumber(t,o)))).next((P=>(n=P,m=Date.now(),this.removeTargets(t,n,s)))).next((P=>(u=P,p=Date.now(),this.removeOrphanedDocuments(t,n)))).next((P=>(v=Date.now(),ul()<=Jt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-T}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${P} documents in `+(v-p)+`ms
Total Duration: ${v-T}ms`),Ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:P}))))}}function ZP(r,t){return new KP(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.changes=new To((t=>t.toString()),((t,s)=>t.isEqual(s))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,s){this.assertNotApplied(),this.changes.set(t,ts.newInvalidDocument(t).setReadTime(s))}getEntry(t,s){this.assertNotApplied();const n=this.changes.get(s);return n!==void 0?Ue.resolve(n):this.getFromCache(t,s)}getEntries(t,s){return this.getAllFromCache(t,s)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(t,s){this.overlayedDocument=t,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(t,s,n,o){this.remoteDocumentCache=t,this.mutationQueue=s,this.documentOverlayCache=n,this.indexManager=o}getDocument(t,s){let n=null;return this.documentOverlayCache.getOverlay(t,s).next((o=>(n=o,this.remoteDocumentCache.getEntry(t,s)))).next((o=>(n!==null&&Fc(n.mutation,o,ta.empty(),br.now()),o)))}getDocuments(t,s){return this.remoteDocumentCache.getEntries(t,s).next((n=>this.getLocalViewOfDocuments(t,n,er()).next((()=>n))))}getLocalViewOfDocuments(t,s,n=er()){const o=oo();return this.populateOverlays(t,o,s).next((()=>this.computeViews(t,s,o,n).next((u=>{let c=Rc();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,s){const n=oo();return this.populateOverlays(t,n,s).next((()=>this.computeViews(t,s,n,er())))}populateOverlays(t,s,n){const o=[];return n.forEach((u=>{s.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,m)=>{s.set(c,m)}))}))}computeViews(t,s,n,o){let u=$n();const c=Uc(),m=(function(){return Uc()})();return s.forEach(((p,v)=>{const T=n.get(v.key);o.has(v.key)&&(T===void 0||T.mutation instanceof Ai)?u=u.insert(v.key,v):T!==void 0?(c.set(v.key,T.mutation.getFieldMask()),Fc(T.mutation,v,T.mutation.getFieldMask(),br.now())):c.set(v.key,ta.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((v,T)=>c.set(v,T))),s.forEach(((v,T)=>{var P;return m.set(v,new XP(T,(P=c.get(v))!==null&&P!==void 0?P:null))})),m)))}recalculateAndSaveOverlays(t,s){const n=Uc();let o=new _r(((c,m)=>c-m)),u=er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,s).next((c=>{for(const m of c)m.keys().forEach((p=>{const v=s.get(p);if(v===null)return;let T=n.get(p)||ta.empty();T=m.applyToLocalView(v,T),n.set(p,T);const P=(o.get(m.batchId)||er()).add(p);o=o.insert(m.batchId,P)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),v=p.key,T=p.value,P=V5();T.forEach((A=>{if(!u.has(A)){const O=G5(s.get(A),n.get(A));O!==null&&P.set(A,O),u=u.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(t,v,P))}return Ue.waitFor(c)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,s){return this.remoteDocumentCache.getEntries(t,s).next((n=>this.recalculateAndSaveOverlays(t,n)))}getDocumentsMatchingQuery(t,s,n,o){return(function(c){return _t.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(s)?this.getDocumentsMatchingDocumentQuery(t,s.path):A5(s)?this.getDocumentsMatchingCollectionGroupQuery(t,s,n,o):this.getDocumentsMatchingCollectionQuery(t,s,n,o)}getNextDocuments(t,s,n,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,s,n,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,s,n.largestBatchId,o-u.size):Ue.resolve(oo());let m=td,p=u;return c.next((v=>Ue.forEach(v,((T,P)=>(m<P.largestBatchId&&(m=P.largestBatchId),u.get(T)?Ue.resolve():this.remoteDocumentCache.getEntry(t,T).next((A=>{p=p.insert(T,A)}))))).next((()=>this.populateOverlays(t,v,u))).next((()=>this.computeViews(t,p,v,er()))).next((T=>({batchId:m,changes:L5(T)})))))}))}getDocumentsMatchingDocumentQuery(t,s){return this.getDocument(t,new _t(s)).next((n=>{let o=Rc();return n.isFoundDocument()&&(o=o.insert(n.key,n)),o}))}getDocumentsMatchingCollectionGroupQuery(t,s,n,o){const u=s.collectionGroup;let c=Rc();return this.indexManager.getCollectionParents(t,u).next((m=>Ue.forEach(m,(p=>{const v=(function(P,A){return new Ul(A,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt)})(s,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,v,n,o).next((T=>{T.forEach(((P,A)=>{c=c.insert(P,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,s,n,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,s.path,n.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,s,n,u,o)))).next((c=>{u.forEach(((p,v)=>{const T=v.getKey();c.get(T)===null&&(c=c.insert(T,ts.newInvalidDocument(T)))}));let m=Rc();return c.forEach(((p,v)=>{const T=u.get(p);T!==void 0&&Fc(T.mutation,v,ta.empty(),br.now()),Nx(s,v)&&(m=m.insert(p,v))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,s){return Ue.resolve(this.dr.get(s))}saveBundleMetadata(t,s){return this.dr.set(s.id,(function(o){return{id:o.id,version:o.version,createTime:ra(o.createTime)}})(s)),Ue.resolve()}getNamedQuery(t,s){return Ue.resolve(this.Ar.get(s))}saveNamedQuery(t,s){return this.Ar.set(s.name,(function(o){return{name:o.name,query:FP(o.bundledQuery),readTime:ra(o.readTime)}})(s)),Ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.overlays=new _r(_t.comparator),this.Rr=new Map}getOverlay(t,s){return Ue.resolve(this.overlays.get(s))}getOverlays(t,s){const n=oo();return Ue.forEach(s,(o=>this.getOverlay(t,o).next((u=>{u!==null&&n.set(o,u)})))).next((()=>n))}saveOverlays(t,s,n){return n.forEach(((o,u)=>{this.Et(t,s,u)})),Ue.resolve()}removeOverlaysForBatchId(t,s,n){const o=this.Rr.get(n);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Rr.delete(n)),Ue.resolve()}getOverlaysForCollection(t,s,n){const o=oo(),u=s.length+1,c=new _t(s.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,v=p.getKey();if(!s.isPrefixOf(v.path))break;v.path.length===u&&p.largestBatchId>n&&o.set(p.getKey(),p)}return Ue.resolve(o)}getOverlaysForCollectionGroup(t,s,n,o){let u=new _r(((v,T)=>v-T));const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===s&&v.largestBatchId>n){let T=u.get(v.largestBatchId);T===null&&(T=oo(),u=u.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const m=oo(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,T)=>m.set(v,T))),!(m.size()>=o)););return Ue.resolve(m)}Et(t,s,n){const o=this.overlays.get(n.key);if(o!==null){const c=this.Rr.get(o.largestBatchId).delete(n.key);this.Rr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(n.key,new jP(s,n));let u=this.Rr.get(s);u===void 0&&(u=er(),this.Rr.set(s,u)),this.Rr.set(s,u.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.sessionToken=xs.EMPTY_BYTE_STRING}getSessionToken(t){return Ue.resolve(this.sessionToken)}setSessionToken(t,s){return this.sessionToken=s,Ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this.Vr=new Qr(es.mr),this.gr=new Qr(es.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,s){const n=new es(t,s);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(t,s){t.forEach((n=>this.addReference(n,s)))}removeReference(t,s){this.wr(new es(t,s))}Sr(t,s){t.forEach((n=>this.removeReference(n,s)))}br(t){const s=new _t(new yr([])),n=new es(s,t),o=new es(s,t+1),u=[];return this.gr.forEachInRange([n,o],(c=>{this.wr(c),u.push(c.key)})),u}Dr(){this.Vr.forEach((t=>this.wr(t)))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const s=new _t(new yr([])),n=new es(s,t),o=new es(s,t+1);let u=er();return this.gr.forEachInRange([n,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const s=new es(t,0),n=this.Vr.firstAfterOrEqual(s);return n!==null&&t.isEqual(n.key)}}class es{constructor(t,s){this.key=t,this.Cr=s}static mr(t,s){return _t.comparator(t.key,s.key)||Gt(t.Cr,s.Cr)}static pr(t,s){return Gt(t.Cr,s.Cr)||_t.comparator(t.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t,s){this.indexManager=t,this.referenceDelegate=s,this.mutationQueue=[],this.Fr=1,this.Mr=new Qr(es.mr)}checkEmpty(t){return Ue.resolve(this.mutationQueue.length===0)}addMutationBatch(t,s,n,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new vP(u,s,n,o);this.mutationQueue.push(c);for(const m of o)this.Mr=this.Mr.add(new es(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return Ue.resolve(c)}lookupMutationBatch(t,s){return Ue.resolve(this.Or(s))}getNextMutationBatchAfterBatchId(t,s){const n=s+1,o=this.Nr(n),u=o<0?0:o;return Ue.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Ue.resolve(this.mutationQueue.length===0?uf:this.Fr-1)}getAllMutationBatches(t){return Ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,s){const n=new es(s,0),o=new es(s,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([n,o],(c=>{const m=this.Or(c.Cr);u.push(m)})),Ue.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,s){let n=new Qr(Gt);return s.forEach((o=>{const u=new es(o,0),c=new es(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,c],(m=>{n=n.add(m.Cr)}))})),Ue.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(t,s){const n=s.path,o=n.length+1;let u=n;_t.isDocumentKey(u)||(u=u.child(""));const c=new es(new _t(u),0);let m=new Qr(Gt);return this.Mr.forEachWhile((p=>{const v=p.key.path;return!!n.isPrefixOf(v)&&(v.length===o&&(m=m.add(p.Cr)),!0)}),c),Ue.resolve(this.Br(m))}Br(t){const s=[];return t.forEach((n=>{const o=this.Or(n);o!==null&&s.push(o)})),s}removeMutationBatch(t,s){nr(this.Lr(s.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return Ue.forEach(s.mutations,(o=>{const u=new es(o.key,s.batchId);return n=n.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Mr=n}))}qn(t){}containsKey(t,s){const n=new es(s,0),o=this.Mr.firstAfterOrEqual(n);return Ue.resolve(s.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ue.resolve()}Lr(t,s){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const s=this.Nr(t);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.kr=t,this.docs=(function(){return new _r(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,s){const n=s.key,o=this.docs.get(n),u=o?o.size:0,c=this.kr(s);return this.docs=this.docs.insert(n,{document:s.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const s=this.docs.get(t);s&&(this.docs=this.docs.remove(t),this.size-=s.size)}getEntry(t,s){const n=this.docs.get(s);return Ue.resolve(n?n.document.mutableCopy():ts.newInvalidDocument(s))}getEntries(t,s){let n=$n();return s.forEach((o=>{const u=this.docs.get(o);n=n.insert(o,u?u.document.mutableCopy():ts.newInvalidDocument(o))})),Ue.resolve(n)}getDocumentsMatchingQuery(t,s,n,o){let u=$n();const c=s.path,m=new _t(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:v,value:{document:T}}=p.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||OI(MI(T),n)<=0||(o.has(T.key)||Nx(s,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Ue.resolve(u)}getAllFromCollectionGroup(t,s,n,o){Mt()}qr(t,s){return Ue.forEach(this.docs,(n=>s(n)))}newChangeBuffer(t){return new nC(this)}getSize(t){return Ue.resolve(this.size)}}class nC extends YP{constructor(t){super(),this.Ir=t}applyChanges(t){const s=[];return this.changes.forEach(((n,o)=>{o.isValidDocument()?s.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(n)})),Ue.waitFor(s)}getFromCache(t,s){return this.Ir.getEntry(t,s)}getAllFromCache(t,s){return this.Ir.getEntries(t,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t){this.persistence=t,this.Qr=new To((s=>hf(s)),pf),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new vf,this.targetCount=0,this.Kr=El.Un()}forEachTarget(t,s){return this.Qr.forEach(((n,o)=>s(o))),Ue.resolve()}getLastRemoteSnapshotVersion(t){return Ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ue.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),Ue.resolve(this.highestTargetId)}setTargetsMetadata(t,s,n){return n&&(this.lastRemoteSnapshotVersion=n),s>this.$r&&(this.$r=s),Ue.resolve()}zn(t){this.Qr.set(t.target,t);const s=t.targetId;s>this.highestTargetId&&(this.Kr=new El(s),this.highestTargetId=s),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,s){return this.zn(s),this.targetCount+=1,Ue.resolve()}updateTargetData(t,s){return this.zn(s),Ue.resolve()}removeTargetData(t,s){return this.Qr.delete(s.target),this.Ur.br(s.targetId),this.targetCount-=1,Ue.resolve()}removeTargets(t,s,n){let o=0;const u=[];return this.Qr.forEach(((c,m)=>{m.sequenceNumber<=s&&n.get(m.targetId)===null&&(this.Qr.delete(c),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),Ue.waitFor(u).next((()=>o))}getTargetCount(t){return Ue.resolve(this.targetCount)}getTargetData(t,s){const n=this.Qr.get(s)||null;return Ue.resolve(n)}addMatchingKeys(t,s,n){return this.Ur.yr(s,n),Ue.resolve()}removeMatchingKeys(t,s,n){this.Ur.Sr(s,n);const o=this.persistence.referenceDelegate,u=[];return o&&s.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),Ue.waitFor(u)}removeMatchingKeysForTargetId(t,s){return this.Ur.br(s),Ue.resolve()}getMatchingKeysForTargetId(t,s){const n=this.Ur.vr(s);return Ue.resolve(n)}containsKey(t,s){return Ue.resolve(this.Ur.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(t,s){this.Wr={},this.overlays={},this.Gr=new bx(0),this.zr=!1,this.zr=!0,this.jr=new rC,this.referenceDelegate=t(this),this.Hr=new iC(this),this.indexManager=new HP,this.remoteDocumentCache=(function(o){return new aC(o)})((n=>this.referenceDelegate.Jr(n))),this.serializer=new UP(s),this.Yr=new eC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let s=this.overlays[t.toKey()];return s||(s=new tC,this.overlays[t.toKey()]=s),s}getMutationQueue(t,s){let n=this.Wr[t.toKey()];return n||(n=new sC(s,this.referenceDelegate),this.Wr[t.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,s,n){ht("MemoryPersistence","Starting transaction:",t);const o=new oC(this.Gr.next());return this.referenceDelegate.Zr(),n(o).next((u=>this.referenceDelegate.Xr(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}ei(t,s){return Ue.or(Object.values(this.Wr).map((n=>()=>n.containsKey(t,s))))}}class oC extends VI{constructor(t){super(),this.currentSequenceNumber=t}}class jf{constructor(t){this.persistence=t,this.ti=new vf,this.ni=null}static ri(t){return new jf(t)}get ii(){if(this.ni)return this.ni;throw Mt()}addReference(t,s,n){return this.ti.addReference(n,s),this.ii.delete(n.toString()),Ue.resolve()}removeReference(t,s,n){return this.ti.removeReference(n,s),this.ii.add(n.toString()),Ue.resolve()}markPotentiallyOrphaned(t,s){return this.ii.add(s.toString()),Ue.resolve()}removeTarget(t,s){this.ti.br(s.targetId).forEach((o=>this.ii.add(o.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,s.targetId).next((o=>{o.forEach((u=>this.ii.add(u.toString())))})).next((()=>n.removeTargetData(t,s)))}Zr(){this.ni=new Set}Xr(t){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ue.forEach(this.ii,(n=>{const o=_t.fromPath(n);return this.si(t,o).next((u=>{u||s.removeEntry(o,Lt.min())}))})).next((()=>(this.ni=null,s.apply(t))))}updateLimboDocument(t,s){return this.si(t,s).next((n=>{n?this.ii.delete(s.toString()):this.ii.add(s.toString())}))}Jr(t){return 0}si(t,s){return Ue.or([()=>Ue.resolve(this.ti.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(t,s),()=>this.persistence.ei(t,s)])}}class Uu{constructor(t,s){this.persistence=t,this.oi=new To((n=>UI(n.path)),((n,o)=>n.isEqual(o))),this.garbageCollector=ZP(this,s)}static ri(t,s){return new Uu(t,s)}Zr(){}Xr(t){return Ue.resolve()}forEachTarget(t,s){return this.persistence.getTargetCache().forEachTarget(t,s)}nr(t){const s=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next((n=>s.next((o=>n+o))))}sr(t){let s=0;return this.rr(t,(n=>{s++})).next((()=>s))}rr(t,s){return Ue.forEach(this.oi,((n,o)=>this.ar(t,n,o).next((u=>u?Ue.resolve():s(o)))))}removeTargets(t,s,n){return this.persistence.getTargetCache().removeTargets(t,s,n)}removeOrphanedDocuments(t,s){let n=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,(c=>this.ar(t,c,s).next((m=>{m||(n++,u.removeEntry(c,Lt.min()))})))).next((()=>u.apply(t))).next((()=>n))}markPotentiallyOrphaned(t,s){return this.oi.set(s,t.currentSequenceNumber),Ue.resolve()}removeTarget(t,s){const n=s.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,s,n){return this.oi.set(n,t.currentSequenceNumber),Ue.resolve()}removeReference(t,s,n){return this.oi.set(n,t.currentSequenceNumber),Ue.resolve()}updateLimboDocument(t,s){return this.oi.set(s,t.currentSequenceNumber),Ue.resolve()}Jr(t){let s=t.key.toString().length;return t.isFoundDocument()&&(s+=yu(t.data.value)),s}ar(t,s,n){return Ue.or([()=>this.persistence.ei(t,s),()=>this.persistence.getTargetCache().containsKey(t,s),()=>{const o=this.oi.get(s);return Ue.resolve(o!==void 0&&o>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t,s,n,o){this.targetId=t,this.fromCache=s,this.Hi=n,this.Ji=o}static Yi(t,s){let n=er(),o=er();for(const u of s.docChanges)switch(u.type){case 0:n=n.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new wf(t,s.fromCache,n,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=(function(){return iT()?8:zI(js())>0?6:4})()}initialize(t,s){this.ns=t,this.indexManager=s,this.Zi=!0}getDocumentsMatchingQuery(t,s,n,o){const u={result:null};return this.rs(t,s).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ss(t,s,o,n).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new lC;return this._s(t,s,c).next((m=>{if(u.result=m,this.Xi)return this.us(t,s,c,m.size)}))})).next((()=>u.result))}us(t,s,n,o){return n.documentReadCount<this.es?(ul()<=Jt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",xl(s),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Ue.resolve()):(ul()<=Jt.DEBUG&&ht("QueryEngine","Query:",xl(s),"scans",n.documentReadCount,"local documents and returns",o,"documents as results."),n.documentReadCount>this.ts*o?(ul()<=Jt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",xl(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ya(s))):Ue.resolve())}rs(t,s){if(Zv(s))return Ue.resolve(null);let n=Ya(s);return this.indexManager.getIndexType(t,n).next((o=>o===0?null:(s.limit!==null&&o===1&&(s=Vu(s,null,"F"),n=Ya(s)),this.indexManager.getDocumentsMatchingTarget(t,n).next((u=>{const c=er(...u);return this.ns.getDocuments(t,c).next((m=>this.indexManager.getMinOffset(t,n).next((p=>{const v=this.cs(s,m);return this.ls(s,v,c,p.readTime)?this.rs(t,Vu(s,null,"F")):this.hs(t,v,s,p)}))))})))))}ss(t,s,n,o){return Zv(s)||o.isEqual(Lt.min())?Ue.resolve(null):this.ns.getDocuments(t,n).next((u=>{const c=this.cs(s,u);return this.ls(s,c,n,o)?Ue.resolve(null):(ul()<=Jt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xl(s)),this.hs(t,c,s,RI(o,td)).next((m=>m)))}))}cs(t,s){let n=new Qr(M5(t));return s.forEach(((o,u)=>{Nx(t,u)&&(n=n.add(u))})),n}ls(t,s,n,o){if(t.limit===null)return!1;if(n.size!==s.size)return!0;const u=t.limitType==="F"?s.last():s.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,s,n){return ul()<=Jt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",xl(s)),this.ns.getDocumentsMatchingQuery(t,s,ki.min(),n)}hs(t,s,n,o){return this.ns.getDocumentsMatchingQuery(t,n,o).next((u=>(s.forEach((c=>{u=u.insert(c.key,c)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="LocalStore",dC=3e8;class uC{constructor(t,s,n,o){this.persistence=t,this.Ps=s,this.serializer=o,this.Ts=new _r(Gt),this.Is=new To((u=>hf(u)),pf),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(n)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new JP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(s=>t.collect(s,this.Ts)))}}function xC(r,t,s,n){return new uC(r,t,s,n)}async function d2(r,t){const s=Ut(r);return await s.persistence.runTransaction("Handle user change","readonly",(n=>{let o;return s.mutationQueue.getAllMutationBatches(n).next((u=>(o=u,s.As(t),s.mutationQueue.getAllMutationBatches(n)))).next((u=>{const c=[],m=[];let p=er();for(const v of o){c.push(v.batchId);for(const T of v.mutations)p=p.add(T.key)}for(const v of u){m.push(v.batchId);for(const T of v.mutations)p=p.add(T.key)}return s.localDocuments.getDocuments(n,p).next((v=>({Rs:v,removedBatchIds:c,addedBatchIds:m})))}))}))}function mC(r,t){const s=Ut(r);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const o=t.batch.keys(),u=s.ds.newChangeBuffer({trackRemovals:!0});return(function(m,p,v,T){const P=v.batch,A=P.keys();let O=Ue.resolve();return A.forEach((k=>{O=O.next((()=>T.getEntry(p,k))).next((H=>{const V=v.docVersions.get(k);nr(V!==null),H.version.compareTo(V)<0&&(P.applyToRemoteDocument(H,v),H.isValidDocument()&&(H.setReadTime(v.commitVersion),T.addEntry(H)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(p,P)))})(s,n,t,u).next((()=>u.apply(n))).next((()=>s.mutationQueue.performConsistencyCheck(n))).next((()=>s.documentOverlayCache.removeOverlaysForBatchId(n,o,t.batch.batchId))).next((()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(m){let p=er();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(p=p.add(m.batch.mutations[v].key));return p})(t)))).next((()=>s.localDocuments.getDocuments(n,o)))}))}function u2(r){const t=Ut(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(s=>t.Hr.getLastRemoteSnapshotVersion(s)))}function hC(r,t){const s=Ut(r),n=t.snapshotVersion;let o=s.Ts;return s.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=s.ds.newChangeBuffer({trackRemovals:!0});o=s.Ts;const m=[];t.targetChanges.forEach(((T,P)=>{const A=o.get(P);if(!A)return;m.push(s.Hr.removeMatchingKeys(u,T.removedDocuments,P).next((()=>s.Hr.addMatchingKeys(u,T.addedDocuments,P))));let O=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(P)!==null?O=O.withResumeToken(xs.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,n)),o=o.insert(P,O),(function(H,V,Z){return H.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=dC?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(A,O,T)&&m.push(s.Hr.updateTargetData(u,O))}));let p=$n(),v=er();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&m.push(s.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(pC(u,c,t.documentUpdates).next((T=>{p=T.Vs,v=T.fs}))),!n.isEqual(Lt.min())){const T=s.Hr.getLastRemoteSnapshotVersion(u).next((P=>s.Hr.setTargetsMetadata(u,u.currentSequenceNumber,n)));m.push(T)}return Ue.waitFor(m).next((()=>c.apply(u))).next((()=>s.localDocuments.getLocalViewOfDocuments(u,p,v))).next((()=>p))})).then((u=>(s.Ts=o,u)))}function pC(r,t,s){let n=er(),o=er();return s.forEach((u=>n=n.add(u))),t.getEntries(r,n).next((u=>{let c=$n();return s.forEach(((m,p)=>{const v=u.get(m);p.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Lt.min())?(t.removeEntry(m,p.readTime),c=c.insert(m,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(p),c=c.insert(m,p)):ht(Nf,"Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",p.version)})),{Vs:c,fs:o}}))}function fC(r,t){const s=Ut(r);return s.persistence.runTransaction("Get next mutation batch","readonly",(n=>(t===void 0&&(t=uf),s.mutationQueue.getNextMutationBatchAfterBatchId(n,t))))}function gC(r,t){const s=Ut(r);return s.persistence.runTransaction("Allocate target","readwrite",(n=>{let o;return s.Hr.getTargetData(n,t).next((u=>u?(o=u,Ue.resolve(o)):s.Hr.allocateTargetId(n).next((c=>(o=new fi(t,c,"TargetPurposeListen",n.currentSequenceNumber),s.Hr.addTargetData(n,o).next((()=>o)))))))})).then((n=>{const o=s.Ts.get(n.targetId);return(o===null||n.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(s.Ts=s.Ts.insert(n.targetId,n),s.Is.set(t,n.targetId)),n}))}async function jp(r,t,s){const n=Ut(r),o=n.Ts.get(t),u=s?"readwrite":"readwrite-primary";try{s||await n.persistence.runTransaction("Release target",u,(c=>n.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Bl(c))throw c;ht(Nf,`Failed to update sequence numbers for target ${t}: ${c}`)}n.Ts=n.Ts.remove(t),n.Is.delete(o.target)}function cj(r,t,s){const n=Ut(r);let o=Lt.min(),u=er();return n.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,v,T){const P=Ut(p),A=P.Is.get(T);return A!==void 0?Ue.resolve(P.Ts.get(A)):P.Hr.getTargetData(v,T)})(n,c,Ya(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>n.Ps.getDocumentsMatchingQuery(c,t,s?o:Lt.min(),s?u:er()))).next((m=>(yC(n,oP(t),m),{documents:m,gs:u})))))}function yC(r,t,s){let n=r.Es.get(t)||Lt.min();s.forEach(((o,u)=>{u.readTime.compareTo(n)>0&&(n=u.readTime)})),r.Es.set(t,n)}class dj{constructor(){this.activeTargetIds=mP()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bC{constructor(){this.ho=new dj,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,s,n){}addLocalQueryTarget(t,s=!0){return s&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,s,n){this.Po[t]=s}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new dj,Promise.resolve()}handleUserChange(t,s,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj="ConnectivityMonitor";class xj{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ht(uj,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ht(uj,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu=null;function wp(){return lu===null?lu=(function(){return 268435456+Math.round(2147483648*Math.random())})():lu++,"0x"+lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh="RestConnection",jC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wC{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=s+"://"+t.host,this.yo=`projects/${n}/databases/${o}`,this.wo=this.databaseId.database===Mu?`project_id=${n}`:`project_id=${n}&database_id=${o}`}So(t,s,n,o,u){const c=wp(),m=this.bo(t,s.toUriEncodedString());ht(Rh,`Sending RPC '${t}' ${c}:`,m,n);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(t,m,p,n).then((v=>(ht(Rh,`Received RPC '${t}' ${c}: `,v),v)),(v=>{throw Tl(Rh,`RPC '${t}' ${c} failed with error: `,v,"url: ",m,"request:",n),v}))}Co(t,s,n,o,u,c){return this.So(t,s,n,o,u)}Do(t,s,n){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach(((o,u)=>t[u]=o)),n&&n.headers.forEach(((o,u)=>t[u]=o))}bo(t,s){const n=jC[t];return`${this.po}/v1/${s}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="WebChannelConnection";class kC extends wC{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,s,n,o){const u=wp();return new Promise(((c,m)=>{const p=new d5;p.setWithCredentials(!0),p.listenOnce(u5.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case gu.NO_ERROR:const T=p.getResponseJson();ht(gs,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(T)),c(T);break;case gu.TIMEOUT:ht(gs,`RPC '${t}' ${u} timed out`),m(new lt(Ve.DEADLINE_EXCEEDED,"Request time out"));break;case gu.HTTP_ERROR:const P=p.getStatus();if(ht(gs,`RPC '${t}' ${u} failed with status:`,P,"response text:",p.getResponseText()),P>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const O=A?.error;if(O&&O.status&&O.message){const k=(function(V){const Z=V.toLowerCase().replace(/_/g,"-");return Object.values(Ve).indexOf(Z)>=0?Z:Ve.UNKNOWN})(O.status);m(new lt(k,O.message))}else m(new lt(Ve.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new lt(Ve.UNAVAILABLE,"Connection failed."));break;default:Mt()}}finally{ht(gs,`RPC '${t}' ${u} completed.`)}}));const v=JSON.stringify(o);ht(gs,`RPC '${t}' ${u} sending request:`,o),p.send(s,"POST",v,n,15)}))}Wo(t,s,n){const o=wp(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=h5(),m=m5(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,s,n),p.encodeInitMessageHeaders=!0;const T=u.join("");ht(gs,`Creating RPC '${t}' stream ${o}: ${T}`,p);const P=c.createWebChannel(T,p);let A=!1,O=!1;const k=new NC({Fo:V=>{O?ht(gs,`Not sending because RPC '${t}' stream ${o} is closed:`,V):(A||(ht(gs,`Opening RPC '${t}' stream ${o} transport.`),P.open(),A=!0),ht(gs,`RPC '${t}' stream ${o} sending:`,V),P.send(V))},Mo:()=>P.close()}),H=(V,Z,ne)=>{V.listen(Z,(oe=>{try{ne(oe)}catch(pe){setTimeout((()=>{throw pe}),0)}}))};return H(P,Ac.EventType.OPEN,(()=>{O||(ht(gs,`RPC '${t}' stream ${o} transport opened.`),k.Qo())})),H(P,Ac.EventType.CLOSE,(()=>{O||(O=!0,ht(gs,`RPC '${t}' stream ${o} transport closed`),k.Uo())})),H(P,Ac.EventType.ERROR,(V=>{O||(O=!0,Tl(gs,`RPC '${t}' stream ${o} transport errored:`,V),k.Uo(new lt(Ve.UNAVAILABLE,"The operation could not be completed")))})),H(P,Ac.EventType.MESSAGE,(V=>{var Z;if(!O){const ne=V.data[0];nr(!!ne);const oe=ne,pe=oe?.error||((Z=oe[0])===null||Z===void 0?void 0:Z.error);if(pe){ht(gs,`RPC '${t}' stream ${o} received error:`,pe);const X=pe.status;let ie=(function(Y){const Q=Ur[Y];if(Q!==void 0)return Y5(Q)})(X),U=pe.message;ie===void 0&&(ie=Ve.INTERNAL,U="Unknown error status: "+X+" with message "+pe.message),O=!0,k.Uo(new lt(ie,U)),P.close()}else ht(gs,`RPC '${t}' stream ${o} received:`,ne),k.Ko(ne)}})),H(m,x5.STAT_EVENT,(V=>{V.stat===up.PROXY?ht(gs,`RPC '${t}' stream ${o} detected buffering proxy`):V.stat===up.NOPROXY&&ht(gs,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.$o()}),0),k}}function Mh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(r){return new PP(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(t,s,n=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=s,this.Go=n,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const s=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),o=Math.max(0,s-n);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${s} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,(()=>(this.Yo=Date.now(),t()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj="PersistentStream";class x2{constructor(t,s,n,o,u,c,m,p){this.Ti=t,this.n_=n,this.r_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new kf(t,s)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,s){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():s&&s.code===Ve.RESOURCE_EXHAUSTED?(Dn(s.toString()),Dn("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):s&&s.code===Ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(s)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),s=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,o])=>{this.i_===s&&this.V_(n,o)}),(n=>{t((()=>{const o=new lt(Ve.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(o)}))}))}V_(t,s){const n=this.R_(this.i_);this.stream=this.f_(t,s),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((o=>{n((()=>this.m_(o)))})),this.stream.onMessage((o=>{n((()=>++this.__==1?this.g_(o):this.onNext(o)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(t){return ht(mj,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return s=>{this.Ti.enqueueAndForget((()=>this.i_===t?s():(ht(mj,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SC extends x2{constructor(t,s,n,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,n,o,c),this.serializer=u}f_(t,s){return this.connection.Wo("Listen",t,s)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const s=$P(this.serializer,t),n=(function(u){if(!("targetChange"in u))return Lt.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Lt.min():c.readTime?ra(c.readTime):Lt.min()})(t);return this.listener.p_(s,n)}y_(t){const s={};s.database=vp(this.serializer),s.addTarget=(function(u,c){let m;const p=c.target;if(m=fp(p)?{documents:AP(u,p)}:{query:RP(u,p).ht},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=e2(u,c.resumeToken);const v=yp(u,c.expectedCount);v!==null&&(m.expectedCount=v)}else if(c.snapshotVersion.compareTo(Lt.min())>0){m.readTime=zu(u,c.snapshotVersion.toTimestamp());const v=yp(u,c.expectedCount);v!==null&&(m.expectedCount=v)}return m})(this.serializer,t);const n=OP(this.serializer,t);n&&(s.labels=n),this.I_(s)}w_(t){const s={};s.database=vp(this.serializer),s.removeTarget=t,this.I_(s)}}class TC extends x2{constructor(t,s,n,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,n,o,c),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,s){return this.connection.Wo("Write",t,s)}g_(t){return nr(!!t.streamToken),this.lastStreamToken=t.streamToken,nr(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){nr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const s=_P(t.writeResults,t.commitTime),n=ra(t.commitTime);return this.listener.v_(n,s)}C_(){const t={};t.database=vp(this.serializer),this.I_(t)}b_(t){const s={streamToken:this.lastStreamToken,writes:t.map((n=>a2(this.serializer,n)))};this.I_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{}class PC extends IC{constructor(t,s,n,o){super(),this.authCredentials=t,this.appCheckCredentials=s,this.connection=n,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new lt(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,s,n,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.So(t,bp(s,n),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt(Ve.UNKNOWN,u.toString())}))}Co(t,s,n,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Co(t,bp(s,n),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(Ve.UNKNOWN,c.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class CC{constructor(t,s){this.asyncQueue=t,this.onlineStateHandler=s,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const s=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Dn(s),this.N_=!1):ht("OnlineStateTracker",s)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="RemoteStore";class EC{constructor(t,s,n,o,u){this.localStore=t,this.datastore=s,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To((c=>{n.enqueueAndForget((async()=>{Io(this)&&(ht(go,"Restarting streams for network reachability change."),await(async function(p){const v=Ut(p);v.W_.add(4),await Td(v),v.j_.set("Unknown"),v.W_.delete(4),await Cx(v)})(this))}))})),this.j_=new CC(n,o)}}async function Cx(r){if(Io(r))for(const t of r.G_)await t(!0)}async function Td(r){for(const t of r.G_)await t(!1)}function m2(r,t){const s=Ut(r);s.K_.has(t.targetId)||(s.K_.set(t.targetId,t),Pf(s)?If(s):Fl(s).c_()&&Tf(s,t))}function Sf(r,t){const s=Ut(r),n=Fl(s);s.K_.delete(t),n.c_()&&h2(s,t),s.K_.size===0&&(n.c_()?n.P_():Io(s)&&s.j_.set("Unknown"))}function Tf(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Lt.min())>0){const s=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(s)}Fl(r).y_(t)}function h2(r,t){r.H_.Ne(t),Fl(r).w_(t)}function If(r){r.H_=new kP({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),Fl(r).start(),r.j_.B_()}function Pf(r){return Io(r)&&!Fl(r).u_()&&r.K_.size>0}function Io(r){return Ut(r).W_.size===0}function p2(r){r.H_=void 0}async function DC(r){r.j_.set("Online")}async function $C(r){r.K_.forEach(((t,s)=>{Tf(r,t)}))}async function _C(r,t){p2(r),Pf(r)?(r.j_.q_(t),If(r)):r.j_.set("Unknown")}async function AC(r,t,s){if(r.j_.set("Online"),t instanceof J5&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.K_.delete(m),o.H_.removeTarget(m))})(r,t)}catch(n){ht(go,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Fu(r,n)}else if(t instanceof ju?r.H_.We(t):t instanceof X5?r.H_.Ze(t):r.H_.je(t),!s.isEqual(Lt.min()))try{const n=await u2(r.localStore);s.compareTo(n)>=0&&await(function(u,c){const m=u.H_.ot(c);return m.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.K_.get(v);T&&u.K_.set(v,T.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,v)=>{const T=u.K_.get(p);if(!T)return;u.K_.set(p,T.withResumeToken(xs.EMPTY_BYTE_STRING,T.snapshotVersion)),h2(u,p);const P=new fi(T.target,p,v,T.sequenceNumber);Tf(u,P)})),u.remoteSyncer.applyRemoteEvent(m)})(r,s)}catch(n){ht(go,"Failed to raise snapshot:",n),await Fu(r,n)}}async function Fu(r,t,s){if(!Bl(t))throw t;r.W_.add(1),await Td(r),r.j_.set("Offline"),s||(s=()=>u2(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ht(go,"Retrying IndexedDB access"),await s(),r.W_.delete(1),await Cx(r)}))}function f2(r,t){return t().catch((s=>Fu(r,s,t)))}async function Ex(r){const t=Ut(r),s=Pi(t);let n=t.U_.length>0?t.U_[t.U_.length-1].batchId:uf;for(;RC(t);)try{const o=await fC(t.localStore,n);if(o===null){t.U_.length===0&&s.P_();break}n=o.batchId,MC(t,o)}catch(o){await Fu(t,o)}g2(t)&&y2(t)}function RC(r){return Io(r)&&r.U_.length<10}function MC(r,t){r.U_.push(t);const s=Pi(r);s.c_()&&s.S_&&s.b_(t.mutations)}function g2(r){return Io(r)&&!Pi(r).u_()&&r.U_.length>0}function y2(r){Pi(r).start()}async function OC(r){Pi(r).C_()}async function LC(r){const t=Pi(r);for(const s of r.U_)t.b_(s.mutations)}async function VC(r,t,s){const n=r.U_.shift(),o=gf.from(n,t,s);await f2(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Ex(r)}async function zC(r,t){t&&Pi(r).S_&&await(async function(n,o){if((function(c){return Z5(c)&&c!==Ve.ABORTED})(o.code)){const u=n.U_.shift();Pi(n).h_(),await f2(n,(()=>n.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ex(n)}})(r,t),g2(r)&&y2(r)}async function hj(r,t){const s=Ut(r);s.asyncQueue.verifyOperationInProgress(),ht(go,"RemoteStore received new credentials");const n=Io(s);s.W_.add(3),await Td(s),n&&s.j_.set("Unknown"),await s.remoteSyncer.handleCredentialChange(t),s.W_.delete(3),await Cx(s)}async function BC(r,t){const s=Ut(r);t?(s.W_.delete(2),await Cx(s)):t||(s.W_.add(2),await Td(s),s.j_.set("Unknown"))}function Fl(r){return r.J_||(r.J_=(function(s,n,o){const u=Ut(s);return u.M_(),new SC(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{xo:DC.bind(null,r),No:$C.bind(null,r),Lo:_C.bind(null,r),p_:AC.bind(null,r)}),r.G_.push((async t=>{t?(r.J_.h_(),Pf(r)?If(r):r.j_.set("Unknown")):(await r.J_.stop(),p2(r))}))),r.J_}function Pi(r){return r.Y_||(r.Y_=(function(s,n,o){const u=Ut(s);return u.M_(),new TC(n,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:OC.bind(null,r),Lo:zC.bind(null,r),D_:LC.bind(null,r),v_:VC.bind(null,r)}),r.G_.push((async t=>{t?(r.Y_.h_(),await Ex(r)):(await r.Y_.stop(),r.U_.length>0&&(ht(go,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))}))),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(t,s,n,o,u){this.asyncQueue=t,this.timerId=s,this.targetTimeMs=n,this.op=o,this.removalCallback=u,this.deferred=new Za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,s,n,o,u){const c=Date.now()+n,m=new Cf(t,s,c,o,u);return m.start(n),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Ve.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ef(r,t){if(Dn("AsyncQueue",`${t}: ${r}`),Bl(r))return new lt(Ve.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{static emptySet(t){return new wl(t.comparator)}constructor(t){this.comparator=t?(s,n)=>t(s,n)||_t.comparator(s.key,n.key):(s,n)=>_t.comparator(s.key,n.key),this.keyedMap=Rc(),this.sortedSet=new _r(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const s=this.keyedMap.get(t);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((s,n)=>(t(s),!1)))}add(t){const s=this.delete(t.key);return s.copy(s.keyedMap.insert(t.key,t),s.sortedSet.insert(t,null))}delete(t){const s=this.get(t);return s?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(s)):this}isEqual(t){if(!(t instanceof wl)||this.size!==t.size)return!1;const s=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;s.hasNext();){const o=s.getNext().key,u=n.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((s=>{t.push(s.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,s){const n=new wl;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=s,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(){this.Z_=new _r(_t.comparator)}track(t){const s=t.doc.key,n=this.Z_.get(s);n?t.type!==0&&n.type===3?this.Z_=this.Z_.insert(s,t):t.type===3&&n.type!==1?this.Z_=this.Z_.insert(s,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.Z_=this.Z_.insert(s,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.Z_=this.Z_.insert(s,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.Z_=this.Z_.remove(s):t.type===1&&n.type===2?this.Z_=this.Z_.insert(s,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.Z_=this.Z_.insert(s,{type:2,doc:t.doc}):Mt():this.Z_=this.Z_.insert(s,t)}X_(){const t=[];return this.Z_.inorderTraversal(((s,n)=>{t.push(n)})),t}}class Dl{constructor(t,s,n,o,u,c,m,p,v){this.query=t,this.docs=s,this.oldDocs=n,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(t,s,n,o,u){const c=[];return s.forEach((m=>{c.push({type:0,doc:m})})),new Dl(t,s,wl.emptySet(s),c,n,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wx(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const s=this.docChanges,n=t.docChanges;if(s.length!==n.length)return!1;for(let o=0;o<s.length;o++)if(s[o].type!==n[o].type||!s[o].doc.isEqual(n[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((t=>t.ra()))}}class FC{constructor(){this.queries=fj(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(s,n){const o=Ut(s),u=o.queries;o.queries=fj(),u.forEach(((c,m)=>{for(const p of m.ta)p.onError(n)}))})(this,new lt(Ve.ABORTED,"Firestore shutting down"))}}function fj(){return new To((r=>R5(r)),wx)}async function Df(r,t){const s=Ut(r);let n=3;const o=t.query;let u=s.queries.get(o);u?!u.na()&&t.ra()&&(n=2):(u=new UC,n=t.ra()?0:1);try{switch(n){case 0:u.ea=await s.onListen(o,!0);break;case 1:u.ea=await s.onListen(o,!1);break;case 2:await s.onFirstRemoteStoreListen(o)}}catch(c){const m=Ef(c,`Initialization of query '${xl(t.query)}' failed`);return void t.onError(m)}s.queries.set(o,u),u.ta.push(t),t.sa(s.onlineState),u.ea&&t.oa(u.ea)&&_f(s)}async function $f(r,t){const s=Ut(r),n=t.query;let o=3;const u=s.queries.get(n);if(u){const c=u.ta.indexOf(t);c>=0&&(u.ta.splice(c,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return s.queries.delete(n),s.onUnlisten(n,!0);case 1:return s.queries.delete(n),s.onUnlisten(n,!1);case 2:return s.onLastRemoteStoreUnlisten(n);default:return}}function HC(r,t){const s=Ut(r);let n=!1;for(const o of t){const u=o.query,c=s.queries.get(u);if(c){for(const m of c.ta)m.oa(o)&&(n=!0);c.ea=o}}n&&_f(s)}function WC(r,t,s){const n=Ut(r),o=n.queries.get(t);if(o)for(const u of o.ta)u.onError(s);n.queries.delete(t)}function _f(r){r.ia.forEach((t=>{t.next()}))}var Np,gj;(gj=Np||(Np={}))._a="default",gj.Cache="cache";class Af{constructor(t,s,n){this.query=t,this.aa=s,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(t){if(!this.options.includeMetadataChanges){const n=[];for(const o of t.docChanges)o.type!==3&&n.push(o);t=new Dl(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let s=!1;return this.ua?this.la(t)&&(this.aa.next(t),s=!0):this.ha(t,this.onlineState)&&(this.Pa(t),s=!0),this.ca=t,s}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let s=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),s=!0),s}ha(t,s){if(!t.fromCache||!this.ra())return!0;const n=s!=="Offline";return(!this.options.Ta||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||s==="Offline")}la(t){if(t.docChanges.length>0)return!0;const s=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}Pa(t){t=Dl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t){this.key=t}}class v2{constructor(t){this.key=t}}class qC{constructor(t,s){this.query=t,this.fa=s,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=er(),this.mutatedKeys=er(),this.ya=M5(t),this.wa=new wl(this.ya)}get Sa(){return this.fa}ba(t,s){const n=s?s.Da:new pj,o=s?s.wa:this.wa;let u=s?s.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,P)=>{const A=o.get(T),O=Nx(this.query,P)?P:null,k=!!A&&this.mutatedKeys.has(A.key),H=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let V=!1;A&&O?A.data.isEqual(O.data)?k!==H&&(n.track({type:3,doc:O}),V=!0):this.va(A,O)||(n.track({type:2,doc:O}),V=!0,(p&&this.ya(O,p)>0||v&&this.ya(O,v)<0)&&(m=!0)):!A&&O?(n.track({type:0,doc:O}),V=!0):A&&!O&&(n.track({type:1,doc:A}),V=!0,(p||v)&&(m=!0)),V&&(O?(c=c.add(O),u=H?u.add(T):u.delete(T)):(c=c.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const T=this.query.limitType==="F"?c.last():c.first();c=c.delete(T.key),u=u.delete(T.key),n.track({type:1,doc:T})}return{wa:c,Da:n,ls:m,mutatedKeys:u}}va(t,s){return t.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(t,s,n,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const c=t.Da.X_();c.sort(((T,P)=>(function(O,k){const H=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt()}};return H(O)-H(k)})(T.type,P.type)||this.ya(T.doc,P.doc))),this.Ca(n),o=o!=null&&o;const m=s&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,v=p!==this.ga;return this.ga=p,c.length!==0||v?{snapshot:new Dl(this.query,t.wa,u,c,t.mutatedKeys,p===0,v,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new pj,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach((s=>this.fa=this.fa.add(s))),t.modifiedDocuments.forEach((s=>{})),t.removedDocuments.forEach((s=>this.fa=this.fa.delete(s))),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=er(),this.wa.forEach((n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))}));const s=[];return t.forEach((n=>{this.pa.has(n)||s.push(new v2(n))})),this.pa.forEach((n=>{t.has(n)||s.push(new b2(n))})),s}Oa(t){this.fa=t.gs,this.pa=er();const s=this.ba(t.documents);return this.applyChanges(s,!0)}Na(){return Dl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Rf="SyncEngine";class GC{constructor(t,s,n){this.query=t,this.targetId=s,this.view=n}}class QC{constructor(t){this.key=t,this.Ba=!1}}class KC{constructor(t,s,n,o,u,c){this.localStore=t,this.remoteStore=s,this.eventManager=n,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new To((m=>R5(m)),wx),this.qa=new Map,this.Qa=new Set,this.$a=new _r(_t.comparator),this.Ua=new Map,this.Ka=new vf,this.Wa={},this.Ga=new Map,this.za=El.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function ZC(r,t,s=!0){const n=T2(r);let o;const u=n.ka.get(t);return u?(n.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await j2(n,t,s,!0),o}async function YC(r,t){const s=T2(r);await j2(s,t,!0,!1)}async function j2(r,t,s,n){const o=await gC(r.localStore,Ya(t)),u=o.targetId,c=r.sharedClientState.addLocalQueryTarget(u,s);let m;return n&&(m=await XC(r,t,u,c==="current",o.resumeToken)),r.isPrimaryClient&&s&&m2(r.remoteStore,o),m}async function XC(r,t,s,n,o){r.Ha=(P,A,O)=>(async function(H,V,Z,ne){let oe=V.view.ba(Z);oe.ls&&(oe=await cj(H.localStore,V.query,!1).then((({documents:U})=>V.view.ba(U,oe))));const pe=ne&&ne.targetChanges.get(V.targetId),X=ne&&ne.targetMismatches.get(V.targetId)!=null,ie=V.view.applyChanges(oe,H.isPrimaryClient,pe,X);return bj(H,V.targetId,ie.Ma),ie.snapshot})(r,P,A,O);const u=await cj(r.localStore,t,!0),c=new qC(t,u.gs),m=c.ba(u.documents),p=Sd.createSynthesizedTargetChangeForCurrentChange(s,n&&r.onlineState!=="Offline",o),v=c.applyChanges(m,r.isPrimaryClient,p);bj(r,s,v.Ma);const T=new GC(t,s,c);return r.ka.set(t,T),r.qa.has(s)?r.qa.get(s).push(t):r.qa.set(s,[t]),v.snapshot}async function JC(r,t,s){const n=Ut(r),o=n.ka.get(t),u=n.qa.get(o.targetId);if(u.length>1)return n.qa.set(o.targetId,u.filter((c=>!wx(c,t)))),void n.ka.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||await jp(n.localStore,o.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(o.targetId),s&&Sf(n.remoteStore,o.targetId),kp(n,o.targetId)})).catch(zl)):(kp(n,o.targetId),await jp(n.localStore,o.targetId,!0))}async function eE(r,t){const s=Ut(r),n=s.ka.get(t),o=s.qa.get(n.targetId);s.isPrimaryClient&&o.length===1&&(s.sharedClientState.removeLocalQueryTarget(n.targetId),Sf(s.remoteStore,n.targetId))}async function tE(r,t,s){const n=lE(r);try{const o=await(function(c,m){const p=Ut(c),v=br.now(),T=m.reduce(((O,k)=>O.add(k.key)),er());let P,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let k=$n(),H=er();return p.ds.getEntries(O,T).next((V=>{k=V,k.forEach(((Z,ne)=>{ne.isValidDocument()||(H=H.add(Z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,k))).next((V=>{P=V;const Z=[];for(const ne of m){const oe=bP(ne,P.get(ne.key).overlayedDocument);oe!=null&&Z.push(new Ai(ne.key,oe,I5(oe.value.mapValue),ds.exists(!0)))}return p.mutationQueue.addMutationBatch(O,v,Z,m)})).next((V=>{A=V;const Z=V.applyToLocalDocumentSet(P,H);return p.documentOverlayCache.saveOverlays(O,V.batchId,Z)}))})).then((()=>({batchId:A.batchId,changes:L5(P)})))})(n.localStore,t);n.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let v=c.Wa[c.currentUser.toKey()];v||(v=new _r(Gt)),v=v.insert(m,p),c.Wa[c.currentUser.toKey()]=v})(n,o.batchId,s),await Id(n,o.changes),await Ex(n.remoteStore)}catch(o){const u=Ef(o,"Failed to persist write");s.reject(u)}}async function w2(r,t){const s=Ut(r);try{const n=await hC(s.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=s.Ua.get(u);c&&(nr(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Ba=!0:o.modifiedDocuments.size>0?nr(c.Ba):o.removedDocuments.size>0&&(nr(c.Ba),c.Ba=!1))})),await Id(s,n,t)}catch(n){await zl(n)}}function yj(r,t,s){const n=Ut(r);if(n.isPrimaryClient&&s===0||!n.isPrimaryClient&&s===1){const o=[];n.ka.forEach(((u,c)=>{const m=c.view.sa(t);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Ut(c);p.onlineState=m;let v=!1;p.queries.forEach(((T,P)=>{for(const A of P.ta)A.sa(m)&&(v=!0)})),v&&_f(p)})(n.eventManager,t),o.length&&n.La.p_(o),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function rE(r,t,s){const n=Ut(r);n.sharedClientState.updateQueryState(t,"rejected",s);const o=n.Ua.get(t),u=o&&o.key;if(u){let c=new _r(_t.comparator);c=c.insert(u,ts.newNoDocument(u,Lt.min()));const m=er().add(u),p=new Ix(Lt.min(),new Map,new _r(Gt),c,m);await w2(n,p),n.$a=n.$a.remove(u),n.Ua.delete(t),Mf(n)}else await jp(n.localStore,t,!1).then((()=>kp(n,t,s))).catch(zl)}async function sE(r,t){const s=Ut(r),n=t.batch.batchId;try{const o=await mC(s.localStore,t);k2(s,n,null),N2(s,n),s.sharedClientState.updateMutationState(n,"acknowledged"),await Id(s,o)}catch(o){await zl(o)}}async function aE(r,t,s){const n=Ut(r);try{const o=await(function(c,m){const p=Ut(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return p.mutationQueue.lookupMutationBatch(v,m).next((P=>(nr(P!==null),T=P.keys(),p.mutationQueue.removeMutationBatch(v,P)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,T,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>p.localDocuments.getDocuments(v,T)))}))})(n.localStore,t);k2(n,t,s),N2(n,t),n.sharedClientState.updateMutationState(t,"rejected",s),await Id(n,o)}catch(o){await zl(o)}}function N2(r,t){(r.Ga.get(t)||[]).forEach((s=>{s.resolve()})),r.Ga.delete(t)}function k2(r,t,s){const n=Ut(r);let o=n.Wa[n.currentUser.toKey()];if(o){const u=o.get(t);u&&(s?u.reject(s):u.resolve(),o=o.remove(t)),n.Wa[n.currentUser.toKey()]=o}}function kp(r,t,s=null){r.sharedClientState.removeLocalQueryTarget(t);for(const n of r.qa.get(t))r.ka.delete(n),s&&r.La.Ja(n,s);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach((n=>{r.Ka.containsKey(n)||S2(r,n)}))}function S2(r,t){r.Qa.delete(t.path.canonicalString());const s=r.$a.get(t);s!==null&&(Sf(r.remoteStore,s),r.$a=r.$a.remove(t),r.Ua.delete(s),Mf(r))}function bj(r,t,s){for(const n of s)n instanceof b2?(r.Ka.addReference(n.key,t),nE(r,n)):n instanceof v2?(ht(Rf,"Document no longer in limbo: "+n.key),r.Ka.removeReference(n.key,t),r.Ka.containsKey(n.key)||S2(r,n.key)):Mt()}function nE(r,t){const s=t.key,n=s.path.canonicalString();r.$a.get(s)||r.Qa.has(n)||(ht(Rf,"New document in limbo: "+s),r.Qa.add(n),Mf(r))}function Mf(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const s=new _t(yr.fromString(t)),n=r.za.next();r.Ua.set(n,new QC(s)),r.$a=r.$a.insert(s,n),m2(r.remoteStore,new fi(Ya(jx(s.path)),n,"TargetPurposeLimboResolution",bx.ae))}}async function Id(r,t,s){const n=Ut(r),o=[],u=[],c=[];n.ka.isEmpty()||(n.ka.forEach(((m,p)=>{c.push(n.Ha(p,t,s).then((v=>{var T;if((v||s)&&n.isPrimaryClient){const P=v?!v.fromCache:(T=s?.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;n.sharedClientState.updateQueryState(p.targetId,P?"current":"not-current")}if(v){o.push(v);const P=wf.Yi(p.targetId,v);u.push(P)}})))})),await Promise.all(c),n.La.p_(o),await(async function(p,v){const T=Ut(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(P=>Ue.forEach(v,(A=>Ue.forEach(A.Hi,(O=>T.persistence.referenceDelegate.addReference(P,A.targetId,O))).next((()=>Ue.forEach(A.Ji,(O=>T.persistence.referenceDelegate.removeReference(P,A.targetId,O)))))))))}catch(P){if(!Bl(P))throw P;ht(Nf,"Failed to update sequence numbers: "+P)}for(const P of v){const A=P.targetId;if(!P.fromCache){const O=T.Ts.get(A),k=O.snapshotVersion,H=O.withLastLimboFreeSnapshotVersion(k);T.Ts=T.Ts.insert(A,H)}}})(n.localStore,u))}async function iE(r,t){const s=Ut(r);if(!s.currentUser.isEqual(t)){ht(Rf,"User change. New user:",t.toKey());const n=await d2(s.localStore,t);s.currentUser=t,(function(u,c){u.Ga.forEach((m=>{m.forEach((p=>{p.reject(new lt(Ve.CANCELLED,c))}))})),u.Ga.clear()})(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Id(s,n.Rs)}}function oE(r,t){const s=Ut(r),n=s.Ua.get(t);if(n&&n.Ba)return er().add(n.key);{let o=er();const u=s.qa.get(t);if(!u)return o;for(const c of u){const m=s.ka.get(c);o=o.unionWith(m.view.Sa)}return o}}function T2(r){const t=Ut(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=w2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rE.bind(null,t),t.La.p_=HC.bind(null,t.eventManager),t.La.Ja=WC.bind(null,t.eventManager),t}function lE(r){const t=Ut(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sE.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aE.bind(null,t),t}class Hu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Px(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,s){return null}nu(t,s){return null}eu(t){return xC(this.persistence,new cC,t.initialUser,this.serializer)}Xa(t){return new c2(jf.ri,this.serializer)}Za(t){return new bC}async terminate(){var t,s;(t=this.gcScheduler)===null||t===void 0||t.stop(),(s=this.indexBackfillerScheduler)===null||s===void 0||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hu.provider={build:()=>new Hu};class cE extends Hu{constructor(t){super(),this.cacheSizeBytes=t}tu(t,s){nr(this.persistence.referenceDelegate instanceof Uu);const n=this.persistence.referenceDelegate.garbageCollector;return new QP(n,t.asyncQueue,s)}Xa(t){const s=this.cacheSizeBytes!==void 0?Vs.withCacheSize(this.cacheSizeBytes):Vs.DEFAULT;return new c2((n=>Uu.ri(n,s)),this.serializer)}}class Sp{async initialize(t,s){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>yj(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=iE.bind(null,this.syncEngine),await BC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new FC})()}createDatastore(t){const s=Px(t.databaseInfo.databaseId),n=(function(u){return new kC(u)})(t.databaseInfo);return(function(u,c,m,p){return new PC(u,c,m,p)})(t.authCredentials,t.appCheckCredentials,n,s)}createRemoteStore(t){return(function(n,o,u,c,m){return new EC(n,o,u,c,m)})(this.localStore,this.datastore,t.asyncQueue,(s=>yj(this.syncEngine,s,0)),(function(){return xj.D()?new xj:new vC})())}createSyncEngine(t,s){return(function(o,u,c,m,p,v,T){const P=new KC(o,u,c,m,p,v);return T&&(P.ja=!0),P})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,s)}async terminate(){var t,s;await(async function(o){const u=Ut(o);ht(go,"RemoteStore shutting down."),u.W_.add(5),await Td(u),u.z_.shutdown(),u.j_.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(s=this.eventManager)===null||s===void 0||s.terminate()}}Sp.provider={build:()=>new Sp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Dn("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,s){setTimeout((()=>{this.muted||t(s)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new lt(Ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const s=await(async function(o,u){const c=Ut(o),m={documents:u.map((P=>Bu(c.serializer,P)))},p=await c.Co("BatchGetDocuments",c.serializer.databaseId,yr.emptyPath(),m,u.length),v=new Map;p.forEach((P=>{const A=DP(c.serializer,P);v.set(A.key.toString(),A)}));const T=[];return u.forEach((P=>{const A=v.get(P.toString());nr(!!A),T.push(A)})),T})(this.datastore,t);return s.forEach((n=>this.recordVersion(n))),s}set(t,s){this.write(s.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,s){try{this.write(s.toMutation(t,this.preconditionForUpdate(t)))}catch(n){this.lastTransactionError=n}this.writtenDocs.add(t.toString())}delete(t){this.write(new Tx(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((s=>{t.delete(s.key.toString())})),t.forEach(((s,n)=>{const o=_t.fromPath(n);this.mutations.push(new K5(o,this.precondition(o)))})),await(async function(n,o){const u=Ut(n),c={writes:o.map((m=>a2(u.serializer,m)))};await u.So("Commit",u.serializer.databaseId,yr.emptyPath(),c)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let s;if(t.isFoundDocument())s=t.version;else{if(!t.isNoDocument())throw Mt();s=Lt.min()}const n=this.readVersions.get(t.key.toString());if(n){if(!s.isEqual(n))throw new lt(Ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),s)}precondition(t){const s=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&s?s.isEqual(Lt.min())?ds.exists(!1):ds.updateTime(s):ds.none()}preconditionForUpdate(t){const s=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&s){if(s.isEqual(Lt.min()))throw new lt(Ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ds.updateTime(s)}return ds.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(t,s,n,o,u){this.asyncQueue=t,this.datastore=s,this.options=n,this.updateFunction=o,this.deferred=u,this.Tu=n.maxAttempts,this.a_=new kf(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo((async()=>{const t=new dE(this.datastore),s=this.du(t);s&&s.then((n=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(n)})).catch((o=>{this.Au(o)}))))})).catch((n=>{this.Au(n)}))}))}du(t){try{const s=this.updateFunction(t);return!Nd(s)&&s.catch&&s.then?s:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(s){return this.deferred.reject(s),null}}Au(t){this.Tu>0&&this.Ru(t)?(this.Tu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Eu(),Promise.resolve())))):this.deferred.reject(t)}Ru(t){if(t.name==="FirebaseError"){const s=t.code;return s==="aborted"||s==="failed-precondition"||s==="already-exists"||!Z5(s)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="FirestoreClient";class xE{constructor(t,s,n,o,u){this.authCredentials=t,this.appCheckCredentials=s,this.asyncQueue=n,this.databaseInfo=o,this.user=bs.UNAUTHENTICATED,this.clientId=g5.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(n,(async c=>{ht(Ci,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(n,(c=>(ht(Ci,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(s){const n=Ef(s,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function Oh(r,t){r.asyncQueue.verifyOperationInProgress(),ht(Ci,"Initializing OfflineComponentProvider");const s=r.configuration;await t.initialize(s);let n=s.initialUser;r.setCredentialChangeListener((async o=>{n.isEqual(o)||(await d2(t.localStore,o),n=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function vj(r,t){r.asyncQueue.verifyOperationInProgress();const s=await mE(r);ht(Ci,"Initializing OnlineComponentProvider"),await t.initialize(s,r.configuration),r.setCredentialChangeListener((n=>hj(t.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,o)=>hj(t.remoteStore,o))),r._onlineComponents=t}async function mE(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ht(Ci,"Using user provided OfflineComponentProvider");try{await Oh(r,r._uninitializedComponentsProvider._offline)}catch(t){const s=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Ve.FAILED_PRECONDITION||o.code===Ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(s))throw s;Tl("Error using user provided cache. Falling back to memory cache: "+s),await Oh(r,new Hu)}}else ht(Ci,"Using default OfflineComponentProvider"),await Oh(r,new cE(void 0));return r._offlineComponents}async function Lf(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ht(Ci,"Using user provided OnlineComponentProvider"),await vj(r,r._uninitializedComponentsProvider._online)):(ht(Ci,"Using default OnlineComponentProvider"),await vj(r,new Sp))),r._onlineComponents}function hE(r){return Lf(r).then((t=>t.syncEngine))}function pE(r){return Lf(r).then((t=>t.datastore))}async function Wu(r){const t=await Lf(r),s=t.eventManager;return s.onListen=ZC.bind(null,t.syncEngine),s.onUnlisten=JC.bind(null,t.syncEngine),s.onFirstRemoteStoreListen=YC.bind(null,t.syncEngine),s.onLastRemoteStoreUnlisten=eE.bind(null,t.syncEngine),s}function fE(r,t,s={}){const n=new Za;return r.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,v){const T=new Of({next:A=>{T.su(),c.enqueueAndForget((()=>$f(u,P)));const O=A.docs.has(m);!O&&A.fromCache?v.reject(new lt(Ve.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&p&&p.source==="server"?v.reject(new lt(Ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(A)},error:A=>v.reject(A)}),P=new Af(jx(m.path),T,{includeMetadataChanges:!0,Ta:!0});return Df(u,P)})(await Wu(r),r.asyncQueue,t,s,n))),n.promise}function gE(r,t,s={}){const n=new Za;return r.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,v){const T=new Of({next:A=>{T.su(),c.enqueueAndForget((()=>$f(u,P))),A.fromCache&&p.source==="server"?v.reject(new lt(Ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(A)},error:A=>v.reject(A)}),P=new Af(m,T,{includeMetadataChanges:!0,Ta:!0});return Df(u,P)})(await Wu(r),r.asyncQueue,t,s,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(r,t,s){if(!s)throw new lt(Ve.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function yE(r,t,s,n){if(t===!0&&n===!0)throw new lt(Ve.INVALID_ARGUMENT,`${r} and ${s} cannot be used together.`)}function wj(r){if(!_t.isDocumentKey(r))throw new lt(Ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Nj(r){if(_t.isDocumentKey(r))throw new lt(Ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Dx(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(n){return n.constructor?n.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Mt()}function Es(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=Dx(r);throw new lt(Ve.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${s}`)}}return r}function bE(r,t){if(t<=0)throw new lt(Ve.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="firestore.googleapis.com",kj=!0;class Sj{constructor(t){var s,n;if(t.host===void 0){if(t.ssl!==void 0)throw new lt(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C2,this.ssl=kj}else this.host=t.host,this.ssl=(s=t.ssl)!==null&&s!==void 0?s:kj;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=l2;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<qP)throw new lt(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}yE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=I2((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new lt(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new lt(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new lt(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(n,o){return n.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class $x{constructor(t,s,n,o){this._authCredentials=t,this._appCheckCredentials=s,this._databaseId=n,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sj(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new TI;switch(n.type){case"firstParty":return new EI(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new lt(Ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(s){const n=jj.get(s);n&&(ht("ComponentProvider","Removing Datastore"),jj.delete(s),n.terminate())})(this),Promise.resolve()}}function vE(r,t,s,n={}){var o;const u=(r=Es(r,$x))._getSettings(),c=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${s}`;u.host!==C2&&u.host!==m&&Tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:n});if(!Ni(p,c)&&(r._setSettings(p),n.mockUserToken)){let v,T;if(typeof n.mockUserToken=="string")v=n.mockUserToken,T=bs.MOCK_USER;else{v=JN(n.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const P=n.mockUserToken.sub||n.mockUserToken.user_id;if(!P)throw new lt(Ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new bs(P)}r._authCredentials=new II(new p5(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t,s,n){this.converter=s,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new On(this.firestore,t,this._query)}}class us{constructor(t,s,n){this.converter=s,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new us(this.firestore,t,this._key)}}class ji extends On{constructor(t,s,n){super(t,s,jx(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new us(this.firestore,null,new _t(t))}withConverter(t){return new ji(this.firestore,t,this._path)}}function se(r,t,...s){if(r=Sr(r),P2("collection","path",t),r instanceof $x){const n=yr.fromString(t,...s);return Nj(n),new ji(r,null,n)}{if(!(r instanceof us||r instanceof ji))throw new lt(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(yr.fromString(t,...s));return Nj(n),new ji(r.firestore,null,n)}}function W(r,t,...s){if(r=Sr(r),arguments.length===1&&(t=g5.newId()),P2("doc","path",t),r instanceof $x){const n=yr.fromString(t,...s);return wj(n),new us(r,null,new _t(n))}{if(!(r instanceof us||r instanceof ji))throw new lt(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(yr.fromString(t,...s));return wj(n),new us(r.firestore,r instanceof ji?r.converter:null,new _t(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj="AsyncQueue";class Ij{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new kf(this,"async_queue_retry"),this.Su=()=>{const n=Mh();n&&ht(Tj,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=t;const s=Mh();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const s=Mh();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise((()=>{}));const s=new Za;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(t().then(s.resolve,s.reject),s.promise))).then((()=>s.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Vu.push(t),this.Cu())))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Bl(t))throw t;ht(Tj,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(t){const s=this.bu.then((()=>(this.pu=!0,t().catch((n=>{this.gu=n,this.pu=!1;const o=(function(c){let m=c.message||"";return c.stack&&(m=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),m})(n);throw Dn("INTERNAL UNHANDLED ERROR: ",o),n})).then((n=>(this.pu=!1,n))))));return this.bu=s,s}enqueueAfterDelay(t,s,n){this.Du(),this.wu.indexOf(t)>-1&&(s=0);const o=Cf.createAndSchedule(this,t,s,n,(u=>this.Fu(u)));return this.fu.push(o),o}Du(){this.gu&&Mt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const s of this.fu)if(s.timerId===t)return!0;return!1}Ou(t){return this.Mu().then((()=>{this.fu.sort(((s,n)=>s.targetTimeMs-n.targetTimeMs));for(const s of this.fu)if(s.skipDelay(),t!=="all"&&s.timerId===t)break;return this.Mu()}))}Nu(t){this.wu.push(t)}Fu(t){const s=this.fu.indexOf(t);this.fu.splice(s,1)}}function Pj(r){return(function(s,n){if(typeof s!="object"||s===null)return!1;const o=s;for(const u of n)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class nn extends $x{constructor(t,s,n,o){super(t,s,n,o),this.type="firestore",this._queue=new Ij,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ij(t),this._firestoreClient=void 0,await t}}}function jE(r,t){const s=typeof r=="object"?r:yx(),n=typeof r=="string"?r:Mu,o=$i(s,"firestore").getImmediate({identifier:n});if(!o._initialized){const u=ZN("firestore");u&&vE(o,...u)}return o}function Pd(r){if(r._terminated)throw new lt(Ve.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wE(r),r._firestoreClient}function wE(r){var t,s,n;const o=r._freezeSettings(),u=(function(m,p,v,T){return new WI(m,p,v,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,I2(T.experimentalLongPollingOptions),T.useFetchStreams)})(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((s=o.localCache)===null||s===void 0)&&s._offlineComponentProvider&&(!((n=o.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new xE(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&(function(m){const p=m?._online.build();return{_offline:m?._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t){this._byteString=t}static fromBase64String(t){try{return new yo(xs.fromBase64String(t))}catch(s){throw new lt(Ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(t){return new yo(xs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(...t){for(let s=0;s<t.length;++s)if(t[s].length===0)throw new lt(Ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cs(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(t,s){if(!isFinite(t)||t<-90||t>90)throw new lt(Ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(s)||s<-180||s>180)throw new lt(Ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=t,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Gt(this._lat,t._lat)||Gt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(t){this._values=(t||[]).map((s=>s))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(n,o){if(n.length!==o.length)return!1;for(let u=0;u<n.length;++u)if(n[u]!==o[u])return!1;return!0})(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=/^__.*__$/;class kE{constructor(t,s,n){this.data=t,this.fieldMask=s,this.fieldTransforms=n}toMutation(t,s){return this.fieldMask!==null?new Ai(t,this.data,this.fieldMask,s,this.fieldTransforms):new kd(t,this.data,s,this.fieldTransforms)}}class E2{constructor(t,s,n){this.data=t,this.fieldMask=s,this.fieldTransforms=n}toMutation(t,s){return new Ai(t,this.data,this.fieldMask,s,this.fieldTransforms)}}function D2(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt()}}class Bf{constructor(t,s,n,o,u,c){this.settings=t,this.databaseId=s,this.serializer=n,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Bf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var s;const n=(s=this.path)===null||s===void 0?void 0:s.child(t),o=this.ku({path:n,Qu:!1});return o.$u(t),o}Uu(t){var s;const n=(s=this.path)===null||s===void 0?void 0:s.child(t),o=this.ku({path:n,Qu:!1});return o.Bu(),o}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return qu(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find((s=>t.isPrefixOf(s)))!==void 0||this.fieldTransforms.find((s=>t.isPrefixOf(s.field)))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(D2(this.Lu)&&NE.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class SE{constructor(t,s,n){this.databaseId=t,this.ignoreUndefinedProperties=s,this.serializer=n||Px(t)}ju(t,s,n,o=!1){return new Bf({Lu:t,methodName:s,zu:n,path:cs.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dd(r){const t=r._freezeSettings(),s=Px(r._databaseId);return new SE(r._databaseId,!!t.ignoreUndefinedProperties,s)}function Uf(r,t,s,n,o,u={}){const c=r.ju(u.merge||u.mergeFields?2:0,t,s,o);Wf("Data must be an object, but it was:",c,n);const m=A2(n,c);let p,v;if(u.merge)p=new ta(c.fieldMask),v=c.fieldTransforms;else if(u.mergeFields){const T=[];for(const P of u.mergeFields){const A=Tp(t,P,s);if(!c.contains(A))throw new lt(Ve.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);M2(T,A)||T.push(A)}p=new ta(T),v=c.fieldTransforms.filter((P=>p.covers(P.field)))}else p=null,v=c.fieldTransforms;return new kE(new Is(m),p,v)}class _x extends Ed{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _x}}class Ff extends Ed{_toFieldTransform(t){return new q5(t.path,new id)}isEqual(t){return t instanceof Ff}}class Hf extends Ed{constructor(t,s){super(t),this.Ju=s}_toFieldTransform(t){const s=new cd(t.serializer,B5(t.serializer,this.Ju));return new q5(t.path,s)}isEqual(t){return t instanceof Hf&&this.Ju===t.Ju}}function $2(r,t,s,n){const o=r.ju(1,t,s);Wf("Data must be an object, but it was:",o,n);const u=[],c=Is.empty();_i(n,((p,v)=>{const T=qf(t,p,s);v=Sr(v);const P=o.Uu(T);if(v instanceof _x)u.push(T);else{const A=$d(v,P);A!=null&&(u.push(T),c.set(T,A))}}));const m=new ta(u);return new E2(c,m,o.fieldTransforms)}function _2(r,t,s,n,o,u){const c=r.ju(1,t,s),m=[Tp(t,n,s)],p=[o];if(u.length%2!=0)throw new lt(Ve.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Tp(t,u[A])),p.push(u[A+1]);const v=[],T=Is.empty();for(let A=m.length-1;A>=0;--A)if(!M2(v,m[A])){const O=m[A];let k=p[A];k=Sr(k);const H=c.Uu(O);if(k instanceof _x)v.push(O);else{const V=$d(k,H);V!=null&&(v.push(O),T.set(O,V))}}const P=new ta(v);return new E2(T,P,c.fieldTransforms)}function TE(r,t,s,n=!1){return $d(s,r.ju(n?4:3,t))}function $d(r,t){if(R2(r=Sr(r)))return Wf("Unsupported field value:",t,r),A2(r,t);if(r instanceof Ed)return(function(n,o){if(!D2(o.Lu))throw o.Wu(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return(function(n,o){const u=[];let c=0;for(const m of n){let p=$d(m,o.Ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(r,t)}return(function(n,o){if((n=Sr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return B5(o.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const u=br.fromDate(n);return{timestampValue:zu(o.serializer,u)}}if(n instanceof br){const u=new br(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:zu(o.serializer,u)}}if(n instanceof Vf)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof yo)return{bytesValue:e2(o.serializer,n._byteString)};if(n instanceof us){const u=o.databaseId,c=n.firestore._databaseId;if(!c.isEqual(u))throw o.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:bf(n.firestore._databaseId||o.databaseId,n._key.path)}}if(n instanceof zf)return(function(c,m){return{mapValue:{fields:{[S5]:{stringValue:T5},[Ou]:{arrayValue:{values:c.toArray().map((v=>{if(typeof v!="number")throw m.Wu("VectorValues must only contain numeric values.");return ff(m.serializer,v)}))}}}}}})(n,o);throw o.Wu(`Unsupported field value: ${Dx(n)}`)})(r,t)}function A2(r,t){const s={};return b5(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_i(r,((n,o)=>{const u=$d(o,t.qu(n));u!=null&&(s[n]=u)})),{mapValue:{fields:s}}}function R2(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof br||r instanceof Vf||r instanceof yo||r instanceof us||r instanceof Ed||r instanceof zf)}function Wf(r,t,s){if(!R2(s)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(s)){const n=Dx(s);throw n==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+n)}}function Tp(r,t,s){if((t=Sr(t))instanceof Cd)return t._internalPath;if(typeof t=="string")return qf(r,t);throw qu("Field path arguments must be of type string or ",r,!1,void 0,s)}const IE=new RegExp("[~\\*/\\[\\]]");function qf(r,t,s){if(t.search(IE)>=0)throw qu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,s);try{return new Cd(...t.split("."))._internalPath}catch{throw qu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,s)}}function qu(r,t,s,n,o){const u=n&&!n.isEmpty(),c=o!==void 0;let m=`Function ${t}() called with invalid data`;s&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${n}`),c&&(p+=` in document ${o}`),p+=")"),new lt(Ve.INVALID_ARGUMENT,m+r+p)}function M2(r,t){return r.some((s=>s.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(t,s,n,o,u){this._firestore=t,this._userDataWriter=s,this._key=n,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new us(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new PE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const s=this._document.data.field(Ax("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s)}}}class PE extends Gu{data(){return super.data()}}function Ax(r,t){return typeof t=="string"?qf(r,t):t instanceof Cd?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(Ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gf{}class Qf extends Gf{}function ke(r,t,...s){let n=[];t instanceof Gf&&n.push(t),n=n.concat(s),(function(u){const c=u.filter((p=>p instanceof Kf)).length,m=u.filter((p=>p instanceof Rx)).length;if(c>1||c>0&&m>0)throw new lt(Ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const o of n)r=o._apply(r);return r}class Rx extends Qf{constructor(t,s,n){super(),this._field=t,this._op=s,this._value=n,this.type="where"}static _create(t,s,n){return new Rx(t,s,n)}_apply(t){const s=this._parse(t);return L2(t._query,s),new On(t.firestore,t.converter,gp(t._query,s))}_parse(t){const s=Dd(t.firestore);return(function(u,c,m,p,v,T,P){let A;if(v.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new lt(Ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Ej(P,T);const k=[];for(const H of P)k.push(Cj(p,u,H));A={arrayValue:{values:k}}}else A=Cj(p,u,P)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Ej(P,T),A=TE(m,c,P,T==="in"||T==="not-in");return Fr.create(v,T,A)})(t._query,"where",s,t.firestore._databaseId,this._field,this._op,this._value)}}function De(r,t,s){const n=t,o=Ax("where",r);return Rx._create(o,n,s)}class Kf extends Gf{constructor(t,s){super(),this.type=t,this._queryConstraints=s}static _create(t,s){return new Kf(t,s)}_parse(t){const s=this._queryConstraints.map((n=>n._parse(t))).filter((n=>n.getFilters().length>0));return s.length===1?s[0]:Ra.create(s,this._getOperator())}_apply(t){const s=this._parse(t);return s.getFilters().length===0?t:((function(o,u){let c=o;const m=u.getFlattenedFilters();for(const p of m)L2(c,p),c=gp(c,p)})(t._query,s),new On(t.firestore,t.converter,gp(t._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zf extends Qf{constructor(t,s){super(),this._field=t,this._direction=s,this.type="orderBy"}static _create(t,s){return new Zf(t,s)}_apply(t){const s=(function(o,u,c){if(o.startAt!==null)throw new lt(Ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new lt(Ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nd(u,c)})(t._query,this._field,this._direction);return new On(t.firestore,t.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new Ul(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,s))}}function CE(r,t="asc"){const s=t,n=Ax("orderBy",r);return Zf._create(n,s)}class Yf extends Qf{constructor(t,s,n){super(),this.type=t,this._limit=s,this._limitType=n}static _create(t,s,n){return new Yf(t,s,n)}_apply(t){return new On(t.firestore,t.converter,Vu(t._query,this._limit,this._limitType))}}function hr(r){return bE("limit",r),Yf._create("limit",r,"F")}function Cj(r,t,s){if(typeof(s=Sr(s))=="string"){if(s==="")throw new lt(Ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A5(t)&&s.indexOf("/")!==-1)throw new lt(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const n=t.path.child(yr.fromString(s));if(!_t.isDocumentKey(n))throw new lt(Ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Hv(r,new _t(n))}if(s instanceof us)return Hv(r,s._key);throw new lt(Ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Dx(s)}.`)}function Ej(r,t){if(!Array.isArray(r)||r.length===0)throw new lt(Ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function L2(r,t){const s=(function(o,u){for(const c of o)for(const m of c.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(s!==null)throw s===t.op?new lt(Ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(Ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${s.toString()}' filters.`)}class V2{convertValue(t,s="none"){switch(Ii(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Vr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,s);case 5:return t.stringValue;case 6:return this.convertBytes(Ti(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,s);case 11:return this.convertObject(t.mapValue,s);case 10:return this.convertVectorValue(t.mapValue);default:throw Mt()}}convertObject(t,s){return this.convertObjectMap(t.fields,s)}convertObjectMap(t,s="none"){const n={};return _i(t,((o,u)=>{n[o]=this.convertValue(u,s)})),n}convertVectorValue(t){var s,n,o;const u=(o=(n=(s=t.fields)===null||s===void 0?void 0:s[Ou].arrayValue)===null||n===void 0?void 0:n.values)===null||o===void 0?void 0:o.map((c=>Vr(c.doubleValue)));return new zf(u)}convertGeoPoint(t){return new Vf(Vr(t.latitude),Vr(t.longitude))}convertArray(t,s){return(t.values||[]).map((n=>this.convertValue(n,s)))}convertServerTimestamp(t,s){switch(s){case"previous":const n=vx(t);return n==null?null:this.convertValue(n,s);case"estimate":return this.convertTimestamp(rd(t));default:return null}}convertTimestamp(t){const s=Si(t);return new br(s.seconds,s.nanos)}convertDocumentKey(t,s){const n=yr.fromString(t);nr(o2(n));const o=new sd(n.get(1),n.get(3)),u=new _t(n.popFirst(5));return o.isEqual(s)||Dn(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(r,t,s){let n;return n=r?s&&(s.merge||s.mergeFields)?r.toFirestore(t,s):r.toFirestore(t):t,n}class EE extends V2{constructor(t){super(),this.firestore=t}convertBytes(t){return new yo(t)}convertReference(t){const s=this.convertDocumentKey(t,this.firestore._databaseId);return new us(this.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(t,s){this.hasPendingWrites=t,this.fromCache=s}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Jf extends Gu{constructor(t,s,n,o,u,c){super(t,s,n,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const s=new wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,s={}){if(this._document){const n=this._document.data.field(Ax("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,s.serverTimestamps)}}}class wu extends Jf{data(t={}){return super.data(t)}}class z2{constructor(t,s,n,o){this._firestore=t,this._userDataWriter=s,this._snapshot=o,this.metadata=new pl(o.hasPendingWrites,o.fromCache),this.query=n}get docs(){const t=[];return this.forEach((s=>t.push(s))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,s){this._snapshot.docs.forEach((n=>{t.call(s,new wu(this._firestore,this._userDataWriter,n.key,n,new pl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const s=!!t.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new lt(Ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new wu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new pl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new wu(o._firestore,o._userDataWriter,m.doc.key,m.doc,new pl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,T=-1;return m.type!==0&&(v=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),T=c.indexOf(m.doc.key)),{type:DE(m.type),doc:p,oldIndex:v,newIndex:T}}))}})(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}}function DE(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r){r=Es(r,us);const t=Es(r.firestore,nn);return fE(Pd(t),r._key).then((s=>B2(t,r,s)))}class Mx extends V2{constructor(t){super(),this.firestore=t}convertBytes(t){return new yo(t)}convertReference(t){const s=this.convertDocumentKey(t,this.firestore._databaseId);return new us(this.firestore,null,s)}}function Ft(r){r=Es(r,On);const t=Es(r.firestore,nn),s=Pd(t),n=new Mx(t);return O2(r._query),gE(s,r._query).then((o=>new z2(t,n,r,o)))}function mo(r,t,s){r=Es(r,us);const n=Es(r.firestore,nn),o=Xf(r.converter,t,s);return Ox(n,[Uf(Dd(n),"setDoc",r._key,o,r.converter!==null,s).toMutation(r._key,ds.none())])}function Hr(r,t,s,...n){r=Es(r,us);const o=Es(r.firestore,nn),u=Dd(o);let c;return c=typeof(t=Sr(t))=="string"||t instanceof Cd?_2(u,"updateDoc",r._key,t,s,n):$2(u,"updateDoc",r._key,t),Ox(o,[c.toMutation(r._key,ds.exists(!0))])}function Nu(r){return Ox(Es(r.firestore,nn),[new Tx(r._key,ds.none())])}function wi(r,t){const s=Es(r.firestore,nn),n=W(r),o=Xf(r.converter,t);return Ox(s,[Uf(Dd(r.firestore),"addDoc",n._key,o,r.converter!==null,{}).toMutation(n._key,ds.exists(!1))]).then((()=>n))}function $e(r,...t){var s,n,o;r=Sr(r);let u={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||Pj(t[c])||(u=t[c],c++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Pj(t[c])){const P=t[c];t[c]=(s=P.next)===null||s===void 0?void 0:s.bind(P),t[c+1]=(n=P.error)===null||n===void 0?void 0:n.bind(P),t[c+2]=(o=P.complete)===null||o===void 0?void 0:o.bind(P)}let p,v,T;if(r instanceof us)v=Es(r.firestore,nn),T=jx(r._key.path),p={next:P=>{t[c]&&t[c](B2(v,r,P))},error:t[c+1],complete:t[c+2]};else{const P=Es(r,On);v=Es(P.firestore,nn),T=P._query;const A=new Mx(v);p={next:O=>{t[c]&&t[c](new z2(v,A,P,O))},error:t[c+1],complete:t[c+2]},O2(r._query)}return(function(A,O,k,H){const V=new Of(H),Z=new Af(O,V,k);return A.asyncQueue.enqueueAndForget((async()=>Df(await Wu(A),Z))),()=>{V.su(),A.asyncQueue.enqueueAndForget((async()=>$f(await Wu(A),Z)))}})(Pd(v),T,m,p)}function Ox(r,t){return(function(n,o){const u=new Za;return n.asyncQueue.enqueueAndForget((async()=>tE(await hE(n),o,u))),u.promise})(Pd(r),t)}function B2(r,t,s){const n=s.docs.get(t._key),o=new Mx(r);return new Jf(r,o,t._key,n,new pl(s.hasPendingWrites,s.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E={maxAttempts:5};function Oc(r,t){if((r=Sr(r)).firestore!==t)throw new lt(Ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(t,s){this._firestore=t,this._transaction=s,this._dataReader=Dd(t)}get(t){const s=Oc(t,this._firestore),n=new EE(this._firestore);return this._transaction.lookup([s._key]).then((o=>{if(!o||o.length!==1)return Mt();const u=o[0];if(u.isFoundDocument())return new Gu(this._firestore,n,u.key,u,s.converter);if(u.isNoDocument())return new Gu(this._firestore,n,s._key,null,s.converter);throw Mt()}))}set(t,s,n){const o=Oc(t,this._firestore),u=Xf(o.converter,s,n),c=Uf(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,n);return this._transaction.set(o._key,c),this}update(t,s,n,...o){const u=Oc(t,this._firestore);let c;return c=typeof(s=Sr(s))=="string"||s instanceof Cd?_2(this._dataReader,"Transaction.update",u._key,s,n,o):$2(this._dataReader,"Transaction.update",u._key,s),this._transaction.update(u._key,c),this}delete(t){const s=Oc(t,this._firestore);return this._transaction.delete(s._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE extends _E{constructor(t,s){super(t,s),this._firestore=t}get(t){const s=Oc(t,this._firestore),n=new Mx(this._firestore);return super.get(t).then((o=>new Jf(this._firestore,n,s._key,o._document,new pl(!1,!1),s.converter)))}}function St(r,t,s){r=Es(r,nn);const n=Object.assign(Object.assign({},$E),s);return(function(u){if(u.maxAttempts<1)throw new lt(Ve.INVALID_ARGUMENT,"Max attempts must be at least 1")})(n),(function(u,c,m){const p=new Za;return u.asyncQueue.enqueueAndForget((async()=>{const v=await pE(u);new uE(u.asyncQueue,v,m,c,p).Iu()})),p.promise})(Pd(r),(o=>t(new AE(r,o))),n)}function Me(){return new Ff("serverTimestamp")}function kt(r){return new Hf("increment",r)}(function(t,s=!0){(function(o){Vl=o})(So),Aa(new ga("firestore",((n,{instanceIdentifier:o,options:u})=>{const c=n.getProvider("app").getImmediate(),m=new nn(new PI(n.getProvider("auth-internal")),new DI(c,n.getProvider("app-check-internal")),(function(v,T){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new lt(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sd(v.options.projectId,T)})(c,o),c);return u=Object.assign({useFetchStreams:s},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Bs($v,_v,t),Bs($v,_v,"esm2017")})();var RE="firebase",ME="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bs(RE,ME,"app");const U2="@firebase/installations",eg="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=1e4,H2=`w:${eg}`,W2="FIS_v2",OE="https://firebaseinstallations.googleapis.com/v1",LE=3600*1e3,VE="installations",zE="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},bo=new ko(VE,zE,BE);function q2(r){return r instanceof ya&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2({projectId:r}){return`${OE}/projects/${r}/installations`}function Q2(r){return{token:r.token,requestStatus:2,expiresIn:FE(r.expiresIn),creationTime:Date.now()}}async function K2(r,t){const n=(await t.json()).error;return bo.create("request-failed",{requestName:r,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Z2({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function UE(r,{refreshToken:t}){const s=Z2(r);return s.append("Authorization",HE(t)),s}async function Y2(r){const t=await r();return t.status>=500&&t.status<600?r():t}function FE(r){return Number(r.replace("s","000"))}function HE(r){return`${W2} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WE({appConfig:r,heartbeatServiceProvider:t},{fid:s}){const n=G2(r),o=Z2(r),u=t.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const c={fid:s,authVersion:W2,appId:r.appId,sdkVersion:H2},m={method:"POST",headers:o,body:JSON.stringify(c)},p=await Y2(()=>fetch(n,m));if(p.ok){const v=await p.json();return{fid:v.fid||s,registrationStatus:2,refreshToken:v.refreshToken,authToken:Q2(v.authToken)}}else throw await K2("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(r){return new Promise(t=>{setTimeout(t,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=/^[cdef][\w-]{21}$/,Ip="";function QE(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const s=KE(r);return GE.test(s)?s:Ip}catch{return Ip}}function KE(r){return qE(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new Map;function ek(r,t){const s=Lx(r);tk(s,t),ZE(s,t)}function tk(r,t){const s=J2.get(r);if(s)for(const n of s)n(t)}function ZE(r,t){const s=YE();s&&s.postMessage({key:r,fid:t}),XE()}let lo=null;function YE(){return!lo&&"BroadcastChannel"in self&&(lo=new BroadcastChannel("[Firebase] FID Change"),lo.onmessage=r=>{tk(r.data.key,r.data.fid)}),lo}function XE(){J2.size===0&&lo&&(lo.close(),lo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="firebase-installations-database",eD=1,vo="firebase-installations-store";let Lh=null;function tg(){return Lh||(Lh=n5(JE,eD,{upgrade:(r,t)=>{switch(t){case 0:r.createObjectStore(vo)}}})),Lh}async function Qu(r,t){const s=Lx(r),o=(await tg()).transaction(vo,"readwrite"),u=o.objectStore(vo),c=await u.get(s);return await u.put(t,s),await o.done,(!c||c.fid!==t.fid)&&ek(r,t.fid),t}async function rk(r){const t=Lx(r),n=(await tg()).transaction(vo,"readwrite");await n.objectStore(vo).delete(t),await n.done}async function Vx(r,t){const s=Lx(r),o=(await tg()).transaction(vo,"readwrite"),u=o.objectStore(vo),c=await u.get(s),m=t(c);return m===void 0?await u.delete(s):await u.put(m,s),await o.done,m&&(!c||c.fid!==m.fid)&&ek(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rg(r){let t;const s=await Vx(r.appConfig,n=>{const o=tD(n),u=rD(r,o);return t=u.registrationPromise,u.installationEntry});return s.fid===Ip?{installationEntry:await t}:{installationEntry:s,registrationPromise:t}}function tD(r){const t=r||{fid:QE(),registrationStatus:0};return sk(t)}function rD(r,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(bo.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const s={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=sD(r,s);return{installationEntry:s,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:aD(r)}:{installationEntry:t}}async function sD(r,t){try{const s=await WE(r,t);return Qu(r.appConfig,s)}catch(s){throw q2(s)&&s.customData.serverCode===409?await rk(r.appConfig):await Qu(r.appConfig,{fid:t.fid,registrationStatus:0}),s}}async function aD(r){let t=await Dj(r.appConfig);for(;t.registrationStatus===1;)await X2(100),t=await Dj(r.appConfig);if(t.registrationStatus===0){const{installationEntry:s,registrationPromise:n}=await rg(r);return n||s}return t}function Dj(r){return Vx(r,t=>{if(!t)throw bo.create("installation-not-found");return sk(t)})}function sk(r){return nD(r)?{fid:r.fid,registrationStatus:0}:r}function nD(r){return r.registrationStatus===1&&r.registrationTime+F2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD({appConfig:r,heartbeatServiceProvider:t},s){const n=oD(r,s),o=UE(r,s),u=t.getImmediate({optional:!0});if(u){const v=await u.getHeartbeatsHeader();v&&o.append("x-firebase-client",v)}const c={installation:{sdkVersion:H2,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(c)},p=await Y2(()=>fetch(n,m));if(p.ok){const v=await p.json();return Q2(v)}else throw await K2("Generate Auth Token",p)}function oD(r,{fid:t}){return`${G2(r)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sg(r,t=!1){let s;const n=await Vx(r.appConfig,u=>{if(!ak(u))throw bo.create("not-registered");const c=u.authToken;if(!t&&dD(c))return u;if(c.requestStatus===1)return s=lD(r,t),u;{if(!navigator.onLine)throw bo.create("app-offline");const m=xD(u);return s=cD(r,m),m}});return s?await s:n.authToken}async function lD(r,t){let s=await $j(r.appConfig);for(;s.authToken.requestStatus===1;)await X2(100),s=await $j(r.appConfig);const n=s.authToken;return n.requestStatus===0?sg(r,t):n}function $j(r){return Vx(r,t=>{if(!ak(t))throw bo.create("not-registered");const s=t.authToken;return mD(s)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function cD(r,t){try{const s=await iD(r,t),n=Object.assign(Object.assign({},t),{authToken:s});return await Qu(r.appConfig,n),s}catch(s){if(q2(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await rk(r.appConfig);else{const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Qu(r.appConfig,n)}throw s}}function ak(r){return r!==void 0&&r.registrationStatus===2}function dD(r){return r.requestStatus===2&&!uD(r)}function uD(r){const t=Date.now();return t<r.creationTime||r.creationTime+r.expiresIn<t+LE}function xD(r){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:t})}function mD(r){return r.requestStatus===1&&r.requestTime+F2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(r){const t=r,{installationEntry:s,registrationPromise:n}=await rg(t);return n?n.catch(console.error):sg(t).catch(console.error),s.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(r,t=!1){const s=r;return await fD(s),(await sg(s,t)).token}async function fD(r){const{registrationPromise:t}=await rg(r);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(r){if(!r||!r.options)throw Vh("App Configuration");if(!r.name)throw Vh("App Name");const t=["projectId","apiKey","appId"];for(const s of t)if(!r.options[s])throw Vh(s);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Vh(r){return bo.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk="installations",yD="installations-internal",bD=r=>{const t=r.getProvider("app").getImmediate(),s=gD(t),n=$i(t,"heartbeat");return{app:t,appConfig:s,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},vD=r=>{const t=r.getProvider("app").getImmediate(),s=$i(t,nk).getImmediate();return{getId:()=>hD(s),getToken:o=>pD(s,o)}};function jD(){Aa(new ga(nk,bD,"PUBLIC")),Aa(new ga(yD,vD,"PRIVATE"))}jD();Bs(U2,eg);Bs(U2,eg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku="analytics",wD="firebase_id",ND="origin",kD=60*1e3,SD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ag="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new gx("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},sa=new ko("analytics","Analytics",TD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(r){if(!r.startsWith(ag)){const t=sa.create("invalid-gtag-resource",{gtagURL:r});return Us.warn(t.message),""}return r}function ik(r){return Promise.all(r.map(t=>t.catch(s=>s)))}function PD(r,t){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(r,t)),s}function CD(r,t){const s=PD("firebase-js-sdk-policy",{createScriptURL:ID}),n=document.createElement("script"),o=`${ag}?l=${r}&id=${t}`;n.src=s?s?.createScriptURL(o):o,n.async=!0,document.head.appendChild(n)}function ED(r){let t=[];return Array.isArray(window[r])?t=window[r]:window[r]=t,t}async function DD(r,t,s,n,o,u){const c=n[o];try{if(c)await t[c];else{const p=(await ik(s)).find(v=>v.measurementId===o);p&&await t[p.appId]}}catch(m){Us.error(m)}r("config",o,u)}async function $D(r,t,s,n,o){try{let u=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const m=await ik(s);for(const p of c){const v=m.find(P=>P.measurementId===p),T=v&&t[v.appId];if(T)u.push(T);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),r("event",n,o||{})}catch(u){Us.error(u)}}function _D(r,t,s,n){async function o(u,...c){try{if(u==="event"){const[m,p]=c;await $D(r,t,s,m,p)}else if(u==="config"){const[m,p]=c;await DD(r,t,s,n,m,p)}else if(u==="consent"){const[m,p]=c;r("consent",m,p)}else if(u==="get"){const[m,p,v]=c;r("get",m,p,v)}else if(u==="set"){const[m]=c;r("set",m)}else r(u,...c)}catch(m){Us.error(m)}}return o}function AD(r,t,s,n,o){let u=function(...c){window[n].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=_D(u,r,t,s),{gtagCore:u,wrappedGtag:window[o]}}function RD(r){const t=window.document.getElementsByTagName("script");for(const s of Object.values(t))if(s.src&&s.src.includes(ag)&&s.src.includes(r))return s;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=30,OD=1e3;class LD{constructor(t={},s=OD){this.throttleMetadata=t,this.intervalMillis=s}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,s){this.throttleMetadata[t]=s}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const ok=new LD;function VD(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function zD(r){var t;const{appId:s,apiKey:n}=r,o={method:"GET",headers:VD(n)},u=SD.replace("{app-id}",s),c=await fetch(u,o);if(c.status!==200&&c.status!==304){let m="";try{const p=await c.json();!((t=p.error)===null||t===void 0)&&t.message&&(m=p.error.message)}catch{}throw sa.create("config-fetch-failed",{httpStatus:c.status,responseMessage:m})}return c.json()}async function BD(r,t=ok,s){const{appId:n,apiKey:o,measurementId:u}=r.options;if(!n)throw sa.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:n};throw sa.create("no-api-key")}const c=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new HD;return setTimeout(async()=>{m.abort()},kD),lk({appId:n,apiKey:o,measurementId:u},c,m,t)}async function lk(r,{throttleEndTimeMillis:t,backoffCount:s},n,o=ok){var u;const{appId:c,measurementId:m}=r;try{await UD(n,t)}catch(p){if(m)return Us.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:c,measurementId:m};throw p}try{const p=await zD(r);return o.deleteThrottleMetadata(c),p}catch(p){const v=p;if(!FD(v)){if(o.deleteThrottleMetadata(c),m)return Us.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:c,measurementId:m};throw p}const T=Number((u=v?.customData)===null||u===void 0?void 0:u.httpStatus)===503?wv(s,o.intervalMillis,MD):wv(s,o.intervalMillis),P={throttleEndTimeMillis:Date.now()+T,backoffCount:s+1};return o.setThrottleMetadata(c,P),Us.debug(`Calling attemptFetch again in ${T} millis`),lk(r,P,n,o)}}function UD(r,t){return new Promise((s,n)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(s,o);r.addEventListener(()=>{clearTimeout(u),n(sa.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function FD(r){if(!(r instanceof ya)||!r.customData)return!1;const t=Number(r.customData.httpStatus);return t===429||t===500||t===503||t===504}class HD{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function WD(r,t,s,n,o){if(o&&o.global){r("event",s,n);return}else{const u=await t,c=Object.assign(Object.assign({},n),{send_to:u});r("event",s,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(){if(t5())try{await r5()}catch(r){return Us.warn(sa.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return Us.warn(sa.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function GD(r,t,s,n,o,u,c){var m;const p=BD(r);p.then(O=>{s[O.measurementId]=O.appId,r.options.measurementId&&O.measurementId!==r.options.measurementId&&Us.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>Us.error(O)),t.push(p);const v=qD().then(O=>{if(O)return n.getId()}),[T,P]=await Promise.all([p,v]);RD(u)||CD(u,T.measurementId),o("js",new Date);const A=(m=c?.config)!==null&&m!==void 0?m:{};return A[ND]="firebase",A.update=!0,P!=null&&(A[wD]=P),o("config",T.measurementId,A),T.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t){this.app=t}_delete(){return delete Wc[this.app.options.appId],Promise.resolve()}}let Wc={},_j=[];const Aj={};let zh="dataLayer",KD="gtag",Rj,ck,Mj=!1;function ZD(){const r=[];if(e5()&&r.push("This is a browser extension environment."),oT()||r.push("Cookies are not available."),r.length>0){const t=r.map((n,o)=>`(${o+1}) ${n}`).join(" "),s=sa.create("invalid-analytics-context",{errorInfo:t});Us.warn(s.message)}}function YD(r,t,s){ZD();const n=r.options.appId;if(!n)throw sa.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)Us.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw sa.create("no-api-key");if(Wc[n]!=null)throw sa.create("already-exists",{id:n});if(!Mj){ED(zh);const{wrappedGtag:u,gtagCore:c}=AD(Wc,_j,Aj,zh,KD);ck=u,Rj=c,Mj=!0}return Wc[n]=GD(r,_j,Aj,t,Rj,zh,s),new QD(r)}function XD(r=yx()){r=Sr(r);const t=$i(r,Ku);return t.isInitialized()?t.getImmediate():JD(r)}function JD(r,t={}){const s=$i(r,Ku);if(s.isInitialized()){const o=s.getImmediate();if(Ni(t,s.getOptions()))return o;throw sa.create("already-initialized")}return s.initialize({options:t})}function e$(r,t,s,n){r=Sr(r),WD(ck,Wc[r.app.options.appId],t,s,n).catch(o=>Us.error(o))}const Oj="@firebase/analytics",Lj="0.10.12";function t$(){Aa(new ga(Ku,(t,{options:s})=>{const n=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return YD(n,o,s)},"PUBLIC")),Aa(new ga("analytics-internal",r,"PRIVATE")),Bs(Oj,Lj),Bs(Oj,Lj,"esm2017");function r(t){try{const s=t.getProvider(Ku).getImmediate();return{logEvent:(n,o,u)=>e$(s,n,o,u)}}catch(s){throw sa.create("interop-component-reg-failed",{reason:s})}}}t$();function ng(r,t){var s={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(s[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(s[n[o]]=r[n[o]]);return s}function dk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const r$=dk,uk=new ko("auth","Firebase",dk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new gx("@firebase/auth");function s$(r,...t){Zu.logLevel<=Jt.WARN&&Zu.warn(`Auth (${So}): ${r}`,...t)}function ku(r,...t){Zu.logLevel<=Jt.ERROR&&Zu.error(`Auth (${So}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(r,...t){throw ig(r,...t)}function Xa(r,...t){return ig(r,...t)}function xk(r,t,s){const n=Object.assign(Object.assign({},r$()),{[t]:s});return new ko("auth","Firebase",n).create(t,{appName:r.name})}function Pn(r){return xk(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ig(r,...t){if(typeof r!="string"){const s=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(s,...n)}return uk.create(r,...t)}function Vt(r,t,...s){if(!r)throw ig(t,...s)}function Sn(r){const t="INTERNAL ASSERTION FAILED: "+r;throw ku(t),new Error(t)}function _n(r,t){r||Sn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function a$(){return Vj()==="http:"||Vj()==="https:"}function Vj(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a$()||e5()||"connection"in navigator)?navigator.onLine:!0}function i$(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(t,s){this.shortDelay=t,this.longDelay=s,_n(s>t,"Short delay should be less than long delay!"),this.isMobile=tT()||aT()}get(){return n$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(r,t){_n(r.emulator,"Emulator should always be set here");const{url:s}=r.emulator;return t?`${s}${t.startsWith("/")?t.slice(1):t}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{static initialize(t,s,n){this.fetchImpl=t,s&&(this.headersImpl=s),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],c$=new _d(3e4,6e4);function Ri(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Ln(r,t,s,n,o={}){return hk(r,o,async()=>{let u={},c={};n&&(t==="GET"?c=n:u={body:JSON.stringify(n)});const m=wd(Object.assign({key:r.config.apiKey},c)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const v=Object.assign({method:t,headers:p},u);return sT()||(v.referrerPolicy="no-referrer"),mk.fetch()(await pk(r,r.config.apiHost,s,m),v)})}async function hk(r,t,s){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},o$),t);try{const o=new u$(r),u=await Promise.race([s(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw cu(r,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,v]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw cu(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw cu(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw cu(r,"user-disabled",c);const T=n[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw xk(r,T,v);Ma(r,T)}}catch(o){if(o instanceof ya)throw o;Ma(r,"network-request-failed",{message:String(o)})}}async function Ad(r,t,s,n,o={}){const u=await Ln(r,t,s,n,o);return"mfaPendingCredential"in u&&Ma(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function pk(r,t,s,n){const o=`${t}${s}?${n}`,u=r,c=u.config.emulator?og(r.config,o):`${r.config.apiScheme}://${o}`;return l$.includes(s)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function d$(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class u${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((s,n)=>{this.timer=setTimeout(()=>n(Xa(this.auth,"network-request-failed")),c$.get())})}}function cu(r,t,s){const n={appName:r.name};s.email&&(n.email=s.email),s.phoneNumber&&(n.phoneNumber=s.phoneNumber);const o=Xa(r,t,n);return o.customData._tokenResponse=s,o}function zj(r){return r!==void 0&&r.enterprise!==void 0}class x${constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===t)return d$(s.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function m$(r,t){return Ln(r,"GET","/v2/recaptchaConfig",Ri(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h$(r,t){return Ln(r,"POST","/v1/accounts:delete",t)}async function Yu(r,t){return Ln(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function p$(r,t=!1){const s=Sr(r),n=await s.getIdToken(t),o=lg(n);Vt(o&&o.exp&&o.auth_time&&o.iat,s.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:n,authTime:qc(Bh(o.auth_time)),issuedAtTime:qc(Bh(o.iat)),expirationTime:qc(Bh(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Bh(r){return Number(r)*1e3}function lg(r){const[t,s,n]=r.split(".");if(t===void 0||s===void 0||n===void 0)return ku("JWT malformed, contained fewer than 3 sections"),null;try{const o=QN(s);return o?JSON.parse(o):(ku("Failed to decode base64 JWT payload"),null)}catch(o){return ku("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Bj(r){const t=lg(r);return Vt(t,"internal-error"),Vt(typeof t.exp<"u","internal-error"),Vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(r,t,s=!1){if(s)return t;try{return await t}catch(n){throw n instanceof ya&&f$(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function f$({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var s;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const o=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const s=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(t,s){this.createdAt=t,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=qc(this.lastLoginAt),this.creationTime=qc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(r){var t;const s=r.auth,n=await r.getIdToken(),o=await $l(r,Yu(s,{idToken:n}));Vt(o?.users.length,s,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const c=!((t=u.providerUserInfo)===null||t===void 0)&&t.length?fk(u.providerUserInfo):[],m=b$(r.providerData,c),p=r.isAnonymous,v=!(r.email&&u.passwordHash)&&!m?.length,T=p?v:!1,P={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Cp(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,P)}async function y$(r){const t=Sr(r);await Xu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function b$(r,t){return[...r.filter(n=>!t.some(o=>o.providerId===n.providerId)),...t]}function fk(r){return r.map(t=>{var{providerId:s}=t,n=ng(t,["providerId"]);return{providerId:s,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v$(r,t){const s=await hk(r,{},async()=>{const n=wd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,c=await pk(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",mk.fetch()(c,{method:"POST",headers:m,body:n})});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function j$(r,t){return Ln(r,"POST","/v2/accounts:revokeToken",Ri(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Vt(t.idToken,"internal-error"),Vt(typeof t.idToken<"u","internal-error"),Vt(typeof t.refreshToken<"u","internal-error");const s="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Bj(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,s)}updateFromIdToken(t){Vt(t.length!==0,"internal-error");const s=Bj(t);this.updateTokensAndExpiration(t,null,s)}async getToken(t,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(Vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,s){const{accessToken:n,refreshToken:o,expiresIn:u}=await v$(t,s);this.updateTokensAndExpiration(n,o,Number(u))}updateTokensAndExpiration(t,s,n){this.refreshToken=s||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,s){const{refreshToken:n,accessToken:o,expirationTime:u}=s,c=new Nl;return n&&(Vt(typeof n=="string","internal-error",{appName:t}),c.refreshToken=n),o&&(Vt(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(Vt(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Nl,this.toJSON())}_performRefresh(){return Sn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(r,t){Vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class $a{constructor(t){var{uid:s,auth:n,stsTokenManager:o}=t,u=ng(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new g$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=n,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Cp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const s=await $l(this,this.stsTokenManager.getToken(this.auth,t));return Vt(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(t){return p$(this,t)}reload(){return y$(this)}_assign(t){this!==t&&(Vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(s=>Object.assign({},s)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const s=new $a(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(t){Vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,s=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),s&&await Xu(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ea(this.auth.app))return Promise.reject(Pn(this.auth));const t=await this.getIdToken();return await $l(this,h$(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,s){var n,o,u,c,m,p,v,T;const P=(n=s.displayName)!==null&&n!==void 0?n:void 0,A=(o=s.email)!==null&&o!==void 0?o:void 0,O=(u=s.phoneNumber)!==null&&u!==void 0?u:void 0,k=(c=s.photoURL)!==null&&c!==void 0?c:void 0,H=(m=s.tenantId)!==null&&m!==void 0?m:void 0,V=(p=s._redirectEventId)!==null&&p!==void 0?p:void 0,Z=(v=s.createdAt)!==null&&v!==void 0?v:void 0,ne=(T=s.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:oe,emailVerified:pe,isAnonymous:X,providerData:ie,stsTokenManager:U}=s;Vt(oe&&U,t,"internal-error");const h=Nl.fromJSON(this.name,U);Vt(typeof oe=="string",t,"internal-error"),di(P,t.name),di(A,t.name),Vt(typeof pe=="boolean",t,"internal-error"),Vt(typeof X=="boolean",t,"internal-error"),di(O,t.name),di(k,t.name),di(H,t.name),di(V,t.name),di(Z,t.name),di(ne,t.name);const Y=new $a({uid:oe,auth:t,email:A,emailVerified:pe,displayName:P,isAnonymous:X,photoURL:k,phoneNumber:O,tenantId:H,stsTokenManager:h,createdAt:Z,lastLoginAt:ne});return ie&&Array.isArray(ie)&&(Y.providerData=ie.map(Q=>Object.assign({},Q))),V&&(Y._redirectEventId=V),Y}static async _fromIdTokenResponse(t,s,n=!1){const o=new Nl;o.updateFromServerResponse(s);const u=new $a({uid:s.localId,auth:t,stsTokenManager:o,isAnonymous:n});return await Xu(u),u}static async _fromGetAccountInfoResponse(t,s,n){const o=s.users[0];Vt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?fk(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new Nl;m.updateFromIdToken(n);const p=new $a({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:c}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=new Map;function Tn(r){_n(r instanceof Function,"Expected a class definition");let t=Uj.get(r);return t?(_n(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Uj.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,s){this.storage[t]=s}async _get(t){const s=this.storage[t];return s===void 0?null:s}async _remove(t){delete this.storage[t]}_addListener(t,s){}_removeListener(t,s){}}gk.type="NONE";const Fj=gk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(r,t,s){return`firebase:${r}:${t}:${s}`}class kl{constructor(t,s,n){this.persistence=t,this.auth=s,this.userKey=n;const{config:o,name:u}=this.auth;this.fullUserKey=Su(this.userKey,o.apiKey,u),this.fullPersistenceKey=Su("persistence",o.apiKey,u),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const s=await Yu(this.auth,{idToken:t}).catch(()=>{});return s?$a._fromGetAccountInfoResponse(this.auth,s,t):null}return $a._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,s,n="authUser"){if(!s.length)return new kl(Tn(Fj),t,n);const o=(await Promise.all(s.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let u=o[0]||Tn(Fj);const c=Su(n,t.config.apiKey,t.name);let m=null;for(const v of s)try{const T=await v._get(c);if(T){let P;if(typeof T=="string"){const A=await Yu(t,{idToken:T}).catch(()=>{});if(!A)break;P=await $a._fromGetAccountInfoResponse(t,A,T)}else P=$a._fromJSON(t,T);v!==u&&(m=P),u=v;break}}catch{}const p=o.filter(v=>v._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new kl(u,t,n):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(s.map(async v=>{if(v!==u)try{await v._remove(c)}catch{}})),new kl(u,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(jk(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yk(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Nk(t))return"Blackberry";if(kk(t))return"Webos";if(bk(t))return"Safari";if((t.includes("chrome/")||vk(t))&&!t.includes("edge/"))return"Chrome";if(wk(t))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(s);if(n?.length===2)return n[1]}return"Other"}function yk(r=js()){return/firefox\//i.test(r)}function bk(r=js()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vk(r=js()){return/crios\//i.test(r)}function jk(r=js()){return/iemobile/i.test(r)}function wk(r=js()){return/android/i.test(r)}function Nk(r=js()){return/blackberry/i.test(r)}function kk(r=js()){return/webos/i.test(r)}function cg(r=js()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function w$(r=js()){var t;return cg(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function N$(){return nT()&&document.documentMode===10}function Sk(r=js()){return cg(r)||wk(r)||kk(r)||Nk(r)||/windows phone/i.test(r)||jk(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(r,t=[]){let s;switch(r){case"Browser":s=Hj(js());break;case"Worker":s=`${Hj(js())}-${r}`;break;default:s=r}const n=t.length?t.join(","):"FirebaseCore-web";return`${s}/JsCore/${So}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(t){this.auth=t,this.queue=[]}pushCallback(t,s){const n=u=>new Promise((c,m)=>{try{const p=t(u);c(p)}catch(p){m(p)}});n.onAbort=s,this.queue.push(n);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const s=[];try{for(const n of this.queue)await n(t),n.onAbort&&s.push(n.onAbort)}catch(n){s.reverse();for(const o of s)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S$(r,t={}){return Ln(r,"GET","/v2/passwordPolicy",Ri(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T$=6;class I${constructor(t){var s,n,o,u;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=c.minPasswordLength)!==null&&s!==void 0?s:T$,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=t.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var s,n,o,u,c,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(s=p.meetsMinPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(n=p.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(t,s){const n=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;n&&(s.meetsMinPasswordLength=t.length>=n),o&&(s.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let n;for(let o=0;o<t.length;o++)n=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(s,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,s,n,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(t,s,n,o){this.app=t,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=n,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wj(this),this.idTokenSubscription=new Wj(this),this.beforeStateQueue=new k$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,s){return s&&(this._popupRedirectResolver=Tn(s)),this._initializationPromise=this.queue(async()=>{var n,o,u;if(!this._deleted&&(this.persistenceManager=await kl.create(this,t),(n=this._resolvePersistenceManagerAvailable)===null||n===void 0||n.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const s=await Yu(this,{idToken:t}),n=await $a._fromGetAccountInfoResponse(this,s,t);await this.directlySetCurrentUser(n)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(ea(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let o=n,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,m=o?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===m)&&p?.user&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(t){try{await Xu(t)}catch(s){if(s?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=i$()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ea(this.app))return Promise.reject(Pn(this));const s=t?Sr(t):null;return s&&Vt(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(t,s=!1){if(!this._deleted)return t&&Vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ea(this.app)?Promise.reject(Pn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ea(this.app)?Promise.reject(Pn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await S$(this),s=new I$(t);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ko("auth","Firebase",t())}onAuthStateChanged(t,s,n){return this.registerStateListener(this.authStateSubscription,t,s,n)}beforeAuthStateChanged(t,s){return this.beforeStateQueue.pushCallback(t,s)}onIdTokenChanged(t,s,n){return this.registerStateListener(this.idTokenSubscription,t,s,n)}authStateReady(){return new Promise((t,s)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},s)}})}async revokeAccessToken(t){if(this.currentUser){const s=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:s};this.tenantId!=null&&(n.tenantId=this.tenantId),await j$(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,s){const n=await this.getOrInitRedirectPersistenceManager(s);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const s=t&&Tn(t)||this._popupRedirectResolver;Vt(s,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[Tn(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var s,n;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(s=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,s,n,o){if(this._deleted)return()=>{};const u=typeof s=="function"?s:s.next.bind(s);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Vt(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof s=="function"){const p=t.addObserver(s,n,o);return()=>{c=!0,p()}}else{const p=t.addObserver(s);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Tk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(s["X-Firebase-Client"]=n);const o=await this._getAppCheckToken();return o&&(s["X-Firebase-AppCheck"]=o),s}async _getAppCheckToken(){var t;if(ea(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const s=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return s?.error&&s$(`Error while retrieving App Check token: ${s.error}`),s?.token}}function Po(r){return Sr(r)}class Wj{constructor(t){this.auth=t,this.observer=null,this.addObserver=xT(s=>this.observer=s)}get next(){return Vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function C$(r){zx=r}function Ik(r){return zx.loadJS(r)}function E$(){return zx.recaptchaEnterpriseScript}function D$(){return zx.gapiScript}function $$(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class _${constructor(){this.enterprise=new A$}ready(t){t()}execute(t,s){return Promise.resolve("token")}render(t,s){return""}}class A${ready(t){t()}execute(t,s){return Promise.resolve("token")}render(t,s){return""}}const R$="recaptcha-enterprise",Pk="NO_RECAPTCHA";class M${constructor(t){this.type=R$,this.auth=Po(t)}async verify(t="verify",s=!1){async function n(u){if(!s){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{m$(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const v=new x$(p);return u.tenantId==null?u._agentRecaptchaConfig=v:u._tenantRecaptchaConfigs[u.tenantId]=v,c(v.siteKey)}}).catch(p=>{m(p)})})}function o(u,c,m){const p=window.grecaptcha;zj(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:t}).then(v=>{c(v)}).catch(()=>{c(Pk)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _$().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{n(this.auth).then(m=>{if(!s&&zj(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=E$();p.length!==0&&(p+=m),Ik(p).then(()=>{o(m,u,c)}).catch(v=>{c(v)})}}).catch(m=>{c(m)})})}}async function qj(r,t,s,n=!1,o=!1){const u=new M$(r);let c;if(o)c=Pk;else try{c=await u.verify(s)}catch{c=await u.verify(s,!0)}const m=Object.assign({},t);if(s==="mfaSmsEnrollment"||s==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,v=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:v,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return n?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Ep(r,t,s,n,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await qj(r,t,s,s==="getOobCode");return n(r,c)}else return n(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await qj(r,t,s,s==="getOobCode");return n(r,m)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(r,t){const s=$i(r,"auth");if(s.isInitialized()){const o=s.getImmediate(),u=s.getOptions();if(Ni(u,t??{}))return o;Ma(o,"already-initialized")}return s.initialize({options:t})}function L$(r,t){const s=t?.persistence||[],n=(Array.isArray(s)?s:[s]).map(Tn);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(n,t?.popupRedirectResolver)}function V$(r,t,s){const n=Po(r);Vt(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const o=!1,u=Ck(t),{host:c,port:m}=z$(t),p=m===null?"":`:${m}`,v={url:`${u}//${c}${p}/`},T=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!n._canInitEmulator){Vt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Vt(Ni(v,n.config.emulator)&&Ni(T,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=v,n.emulatorConfig=T,n.settings.appVerificationDisabledForTesting=!0,B$()}function Ck(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function z$(r){const t=Ck(r),s=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!s)return{host:"",port:null};const n=s[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(n);if(o){const u=o[1];return{host:u,port:Gj(n.substr(u.length+1))}}else{const[u,c]=n.split(":");return{host:u,port:Gj(c)}}}function Gj(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function B$(){function r(){const t=document.createElement("p"),s=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t,s){this.providerId=t,this.signInMethod=s}toJSON(){return Sn("not implemented")}_getIdTokenResponse(t){return Sn("not implemented")}_linkToIdToken(t,s){return Sn("not implemented")}_getReauthenticationResolver(t){return Sn("not implemented")}}async function U$(r,t){return Ln(r,"POST","/v1/accounts:update",t)}async function F$(r,t){return Ln(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H$(r,t){return Ad(r,"POST","/v1/accounts:signInWithPassword",Ri(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W$(r,t){return Ad(r,"POST","/v1/accounts:signInWithEmailLink",Ri(r,t))}async function q$(r,t){return Ad(r,"POST","/v1/accounts:signInWithEmailLink",Ri(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd extends dg{constructor(t,s,n,o=null){super("password",n),this._email=t,this._password=s,this._tenantId=o}static _fromEmailAndPassword(t,s){return new dd(t,s,"password")}static _fromEmailAndCode(t,s,n=null){return new dd(t,s,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const s=typeof t=="string"?JSON.parse(t):t;if(s?.email&&s?.password){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(t,s,"signInWithPassword",H$);case"emailLink":return W$(t,{email:this._email,oobCode:this._password});default:Ma(t,"internal-error")}}async _linkToIdToken(t,s){switch(this.signInMethod){case"password":const n={idToken:s,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ep(t,n,"signUpPassword",F$);case"emailLink":return q$(t,{idToken:s,email:this._email,oobCode:this._password});default:Ma(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(r,t){return Ad(r,"POST","/v1/accounts:signInWithIdp",Ri(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$="http://localhost";class jo extends dg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const s=new jo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(s.idToken=t.idToken),t.accessToken&&(s.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(s.nonce=t.nonce),t.pendingToken&&(s.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(s.accessToken=t.oauthToken,s.secret=t.oauthTokenSecret):Ma("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const s=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:o}=s,u=ng(s,["providerId","signInMethod"]);if(!n||!o)return null;const c=new jo(n,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const s=this.buildRequest();return Sl(t,s)}_linkToIdToken(t,s){const n=this.buildRequest();return n.idToken=s,Sl(t,n)}_getReauthenticationResolver(t){const s=this.buildRequest();return s.autoCreate=!1,Sl(t,s)}buildRequest(){const t={requestUri:G$,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),t.postBody=wd(s)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q$(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function K$(r){const t=$c(_c(r)).link,s=t?$c(_c(t)).deep_link_id:null,n=$c(_c(r)).deep_link_id;return(n?$c(_c(n)).link:null)||n||s||t||r}class ug{constructor(t){var s,n,o,u,c,m;const p=$c(_c(t)),v=(s=p.apiKey)!==null&&s!==void 0?s:null,T=(n=p.oobCode)!==null&&n!==void 0?n:null,P=Q$((o=p.mode)!==null&&o!==void 0?o:null);Vt(v&&T&&P,"argument-error"),this.apiKey=v,this.operation=P,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(t){const s=K$(t);try{return new ug(s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(){this.providerId=Hl.PROVIDER_ID}static credential(t,s){return dd._fromEmailAndPassword(t,s)}static credentialWithLink(t,s){const n=ug.parseLink(s);return Vt(n,"argument-error"),dd._fromEmailAndCode(t,n.code,n.tenantId)}}Hl.PROVIDER_ID="password";Hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends Ek{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Rd{constructor(){super("facebook.com")}static credential(t){return jo._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xi.credentialFromTaggedObject(t)}static credentialFromError(t){return xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xi.credential(t.oauthAccessToken)}catch{return null}}}xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Rd{constructor(){super("google.com"),this.addScope("profile")}static credential(t,s){return jo._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:s})}static credentialFromResult(t){return mi.credentialFromTaggedObject(t)}static credentialFromError(t){return mi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:s,oauthAccessToken:n}=t;if(!s&&!n)return null;try{return mi.credential(s,n)}catch{return null}}}mi.GOOGLE_SIGN_IN_METHOD="google.com";mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Rd{constructor(){super("github.com")}static credential(t){return jo._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return hi.credentialFromTaggedObject(t)}static credentialFromError(t){return hi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return hi.credential(t.oauthAccessToken)}catch{return null}}}hi.GITHUB_SIGN_IN_METHOD="github.com";hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends Rd{constructor(){super("twitter.com")}static credential(t,s){return jo._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:s})}static credentialFromResult(t){return pi.credentialFromTaggedObject(t)}static credentialFromError(t){return pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:s,oauthTokenSecret:n}=t;if(!s||!n)return null;try{return pi.credential(s,n)}catch{return null}}}pi.TWITTER_SIGN_IN_METHOD="twitter.com";pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z$(r,t){return Ad(r,"POST","/v1/accounts:signUp",Ri(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,s,n,o=!1){const u=await $a._fromIdTokenResponse(t,n,o),c=Qj(n);return new wo({user:u,providerId:c,_tokenResponse:n,operationType:s})}static async _forOperation(t,s,n){await t._updateTokensIfNecessary(n,!0);const o=Qj(n);return new wo({user:t,providerId:o,_tokenResponse:n,operationType:s})}}function Qj(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends ya{constructor(t,s,n,o){var u;super(s.code,s.message),this.operationType=n,this.user=o,Object.setPrototypeOf(this,Ju.prototype),this.customData={appName:t.name,tenantId:(u=t.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:s.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,s,n,o){return new Ju(t,s,n,o)}}function Dk(r,t,s,n){return(t==="reauthenticate"?s._getReauthenticationResolver(r):s._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ju._fromErrorAndOperation(r,u,t,n):u})}async function Y$(r,t,s=!1){const n=await $l(r,t._linkToIdToken(r.auth,await r.getIdToken()),s);return wo._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X$(r,t,s=!1){const{auth:n}=r;if(ea(n.app))return Promise.reject(Pn(n));const o="reauthenticate";try{const u=await $l(r,Dk(n,o,t,r),s);Vt(u.idToken,n,"internal-error");const c=lg(u.idToken);Vt(c,n,"internal-error");const{sub:m}=c;return Vt(r.uid===m,n,"user-mismatch"),wo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ma(n,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k(r,t,s=!1){if(ea(r.app))return Promise.reject(Pn(r));const n="signIn",o=await Dk(r,n,t),u=await wo._fromIdTokenResponse(r,n,o);return s||await r._updateCurrentUser(u.user),u}async function J$(r,t){return $k(Po(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _k(r){const t=Po(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function e_(r,t,s){if(ea(r.app))return Promise.reject(Pn(r));const n=Po(r),c=await Ep(n,{returnSecureToken:!0,email:t,password:s,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Z$).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&_k(r),p}),m=await wo._fromIdTokenResponse(n,"signIn",c);return await n._updateCurrentUser(m.user),m}function t_(r,t,s){return ea(r.app)?Promise.reject(Pn(r)):J$(Sr(r),Hl.credential(t,s)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&_k(r),n})}function xg(r,t){return r_(Sr(r),null,t)}async function r_(r,t,s){const{auth:n}=r,u={idToken:await r.getIdToken(),returnSecureToken:!0};s&&(u.password=s);const c=await $l(r,U$(n,u));await r._updateTokensIfNecessary(c,!0)}function s_(r,t,s,n){return Sr(r).onIdTokenChanged(t,s,n)}function a_(r,t,s){return Sr(r).beforeAuthStateChanged(t,s)}function tr(r,t,s,n){return Sr(r).onAuthStateChanged(t,s,n)}function Bx(r){return Sr(r).signOut()}const ex="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(t,s){this.storageRetriever=t,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(ex,"1"),this.storage.removeItem(ex),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,s){return this.storage.setItem(t,JSON.stringify(s)),Promise.resolve()}_get(t){const s=this.storage.getItem(t);return Promise.resolve(s?JSON.parse(s):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=1e3,i_=10;class Rk extends Ak{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,s)=>this.onStorageEvent(t,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Sk(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const s of Object.keys(this.listeners)){const n=this.storage.getItem(s),o=this.localCache[s];n!==o&&t(s,o,n)}}onStorageEvent(t,s=!1){if(!t.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const n=t.key;s?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(n);!s&&this.localCache[n]===c||this.notifyListeners(n,c)},u=this.storage.getItem(n);N$()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,i_):o()}notifyListeners(t,s){this.localCache[t]=s;const n=this.listeners[t];if(n)for(const o of Array.from(n))o(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,s,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:s,newValue:n}),!0)})},n_)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(s)}_removeListener(t,s){this.listeners[t]&&(this.listeners[t].delete(s),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,s){await super._set(t,s),this.localCache[t]=JSON.stringify(s)}async _get(t){const s=await super._get(t);return this.localCache[t]=JSON.stringify(s),s}async _remove(t){await super._remove(t),delete this.localCache[t]}}Rk.type="LOCAL";const o_=Rk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk extends Ak{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,s){}_removeListener(t,s){}}Mk.type="SESSION";const Ok=Mk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const s=this.receivers.find(o=>o.isListeningto(t));if(s)return s;const n=new Ux(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const s=t,{eventId:n,eventType:o,data:u}=s.data,c=this.handlersMap[o];if(!c?.size)return;s.ports[0].postMessage({status:"ack",eventId:n,eventType:o});const m=Array.from(c).map(async v=>v(s.origin,u)),p=await l_(m);s.ports[0].postMessage({status:"done",eventId:n,eventType:o,response:p})}_subscribe(t,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(s)}_unsubscribe(t,s){this.handlersMap[t]&&s&&this.handlersMap[t].delete(s),(!s||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ux.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(r="",t=10){let s="";for(let n=0;n<t;n++)s+=Math.floor(Math.random()*10);return r+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,s,n=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const v=mg("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},n);c={messageChannel:o,onMessage(P){const A=P;if(A.data.eventId===v)switch(A.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:v,data:s},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(){return window}function d_(r){Ja().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(){return typeof Ja().WorkerGlobalScope<"u"&&typeof Ja().importScripts=="function"}async function u_(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function x_(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function m_(){return Lk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="firebaseLocalStorageDb",h_=1,tx="firebaseLocalStorage",zk="fbase_key";class Md{constructor(t){this.request=t}toPromise(){return new Promise((t,s)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function Fx(r,t){return r.transaction([tx],t?"readwrite":"readonly").objectStore(tx)}function p_(){const r=indexedDB.deleteDatabase(Vk);return new Md(r).toPromise()}function Dp(){const r=indexedDB.open(Vk,h_);return new Promise((t,s)=>{r.addEventListener("error",()=>{s(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(tx,{keyPath:zk})}catch(o){s(o)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(tx)?t(n):(n.close(),await p_(),t(await Dp()))})})}async function Kj(r,t,s){const n=Fx(r,!0).put({[zk]:t,value:s});return new Md(n).toPromise()}async function f_(r,t){const s=Fx(r,!1).get(t),n=await new Md(s).toPromise();return n===void 0?null:n.value}function Zj(r,t){const s=Fx(r,!0).delete(t);return new Md(s).toPromise()}const g_=800,y_=3;class Bk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dp(),this.db)}async _withRetries(t){let s=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(s++>y_)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ux._getInstance(m_()),this.receiver._subscribe("keyChanged",async(t,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(t,s)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await u_(),!this.activeServiceWorker)return;this.sender=new c_(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((s=n[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||x_()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Dp();return await Kj(t,ex,"1"),await Zj(t,ex),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,s){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kj(n,t,s)),this.localCache[t]=s,this.notifyServiceWorker(t)))}async _get(t){const s=await this._withRetries(n=>f_(n,t));return this.localCache[t]=s,s}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Zj(s,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Fx(o,!1).getAll();return new Md(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const s=[],n=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)n.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),s.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!n.has(o)&&(this.notifyListeners(o,null),s.push(o));return s}notifyListeners(t,s){this.localCache[t]=s;const n=this.listeners[t];if(n)for(const o of Array.from(n))o(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g_)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(s)}_removeListener(t,s){this.listeners[t]&&(this.listeners[t].delete(s),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Bk.type="LOCAL";const b_=Bk;new _d(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(r,t){return t?Tn(t):(Vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends dg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Sl(t,this._buildIdpRequest())}_linkToIdToken(t,s){return Sl(t,this._buildIdpRequest(s))}_getReauthenticationResolver(t){return Sl(t,this._buildIdpRequest())}_buildIdpRequest(t){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(s.idToken=t),s}}function j_(r){return $k(r.auth,new hg(r),r.bypassAuthState)}function w_(r){const{auth:t,user:s}=r;return Vt(s,t,"internal-error"),X$(s,new hg(r),r.bypassAuthState)}async function N_(r){const{auth:t,user:s}=r;return Vt(s,t,"internal-error"),Y$(s,new hg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(t,s,n,o,u=!1){this.auth=t,this.resolver=n,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(t,s)=>{this.pendingPromise={resolve:t,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:s,sessionId:n,postBody:o,tenantId:u,error:c,type:m}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:s,sessionId:n,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return j_;case"linkViaPopup":case"linkViaRedirect":return N_;case"reauthViaPopup":case"reauthViaRedirect":return w_;default:Ma(this.auth,"internal-error")}}resolve(t){_n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_n(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new _d(2e3,1e4);class fl extends Uk{constructor(t,s,n,o,u){super(t,s,o,u),this.provider=n,this.authWindow=null,this.pollId=null,fl.currentPopupAction&&fl.currentPopupAction.cancel(),fl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Vt(t,this.auth,"internal-error"),t}async onExecution(){_n(this.filter.length===1,"Popup operations only handle one event");const t=mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(Xa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Xa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var s,n;if(!((n=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,k_.get())};t()}}fl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="pendingRedirect",Tu=new Map;class T_ extends Uk{constructor(t,s,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,n),this.eventId=null}async execute(){let t=Tu.get(this.auth._key());if(!t){try{const n=await I_(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(s){t=()=>Promise.reject(s)}Tu.set(this.auth._key(),t)}return this.bypassAuthState||Tu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const s=await this.auth._redirectUserForId(t.eventId);if(s)return this.user=s,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I_(r,t){const s=E_(t),n=C_(r);if(!await n._isAvailable())return!1;const o=await n._get(s)==="true";return await n._remove(s),o}function P_(r,t){Tu.set(r._key(),t)}function C_(r){return Tn(r._redirectPersistence)}function E_(r){return Su(S_,r.config.apiKey,r.name)}async function D_(r,t,s=!1){if(ea(r.app))return Promise.reject(Pn(r));const n=Po(r),o=v_(n,t),c=await new T_(n,o,s).execute();return c&&!s&&(delete c.user._redirectEventId,await n._persistUserIfCurrent(c.user),await n._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=600*1e3;class __{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let s=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(s=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!A_(t)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=t,s=!0)),s}sendToConsumer(t,s){var n;if(t.error&&!Fk(t)){const o=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";s.onError(Xa(this.auth,o))}else s.onAuthEvent(t)}isEventForConsumer(t,s){const n=s.eventId===null||!!t.eventId&&t.eventId===s.eventId;return s.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=$_&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yj(t))}saveEventToCache(t){this.cachedEventUids.add(Yj(t)),this.lastProcessedEventTime=Date.now()}}function Yj(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function Fk({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function A_(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fk(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R_(r,t={}){return Ln(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O_=/^https?/;async function L_(r){if(r.config.emulator)return;const{authorizedDomains:t}=await R_(r);for(const s of t)try{if(V_(s))return}catch{}Ma(r,"unauthorized-domain")}function V_(r){const t=Pp(),{protocol:s,hostname:n}=new URL(t);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&n===""?s==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):s==="chrome-extension:"&&c.hostname===n}if(!O_.test(s))return!1;if(M_.test(r))return n===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_=new _d(3e4,6e4);function Xj(){const r=Ja().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let s=0;s<r.CP.length;s++)r.CP[s]=null}}function B_(r){return new Promise((t,s)=>{var n,o,u;function c(){Xj(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Xj(),s(Xa(r,"network-request-failed"))},timeout:z_.get()})}if(!((o=(n=Ja().gapi)===null||n===void 0?void 0:n.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((u=Ja().gapi)===null||u===void 0)&&u.load)c();else{const m=$$("iframefcb");return Ja()[m]=()=>{gapi.load?c():s(Xa(r,"network-request-failed"))},Ik(`${D$()}?onload=${m}`).catch(p=>s(p))}}).catch(t=>{throw Iu=null,t})}let Iu=null;function U_(r){return Iu=Iu||B_(r),Iu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new _d(5e3,15e3),H_="__/auth/iframe",W_="emulator/auth/iframe",q_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},G_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Q_(r){const t=r.config;Vt(t.authDomain,r,"auth-domain-config-required");const s=t.emulator?og(t,W_):`https://${r.config.authDomain}/${H_}`,n={apiKey:t.apiKey,appName:r.name,v:So},o=G_.get(r.config.apiHost);o&&(n.eid=o);const u=r._getFrameworks();return u.length&&(n.fw=u.join(",")),`${s}?${wd(n).slice(1)}`}async function K_(r){const t=await U_(r),s=Ja().gapi;return Vt(s,r,"internal-error"),t.open({where:document.body,url:Q_(r),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q_,dontclear:!0},n=>new Promise(async(o,u)=>{await n.restyle({setHideOnLeave:!1});const c=Xa(r,"network-request-failed"),m=Ja().setTimeout(()=>{u(c)},F_.get());function p(){Ja().clearTimeout(m),o(n)}n.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Y_=500,X_=600,J_="_blank",eA="http://localhost";class Jj{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tA(r,t,s,n=Y_,o=X_){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-n)/2,0).toString();let m="";const p=Object.assign(Object.assign({},Z_),{width:n.toString(),height:o.toString(),top:u,left:c}),v=js().toLowerCase();s&&(m=vk(v)?J_:s),yk(v)&&(t=t||eA,p.scrollbars="yes");const T=Object.entries(p).reduce((A,[O,k])=>`${A}${O}=${k},`,"");if(w$(v)&&m!=="_self")return rA(t||"",m),new Jj(null);const P=window.open(t||"",m,T);Vt(P,r,"popup-blocked");try{P.focus()}catch{}return new Jj(P)}function rA(r,t){const s=document.createElement("a");s.href=r,s.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="__/auth/handler",aA="emulator/auth/handler",nA=encodeURIComponent("fac");async function ew(r,t,s,n,o,u){Vt(r.config.authDomain,r,"auth-domain-config-required"),Vt(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:s,redirectUrl:n,v:So,eventId:o};if(t instanceof Ek){t.setDefaultLanguage(r.languageCode),c.providerId=t.providerId||"",uT(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,P]of Object.entries({}))c[T]=P}if(t instanceof Rd){const T=t.getScopes().filter(P=>P!=="");T.length>0&&(c.scopes=T.join(","))}r.tenantId&&(c.tid=r.tenantId);const m=c;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),v=p?`#${nA}=${encodeURIComponent(p)}`:"";return`${iA(r)}?${wd(m).slice(1)}${v}`}function iA({config:r}){return r.emulator?og(r,aA):`https://${r.authDomain}/${sA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh="webStorageSupport";class oA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ok,this._completeRedirectFn=D_,this._overrideRedirectResult=P_}async _openPopup(t,s,n,o){var u;_n((u=this.eventManagers[t._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await ew(t,s,n,Pp(),o);return tA(t,c,mg())}async _openRedirect(t,s,n,o){await this._originValidation(t);const u=await ew(t,s,n,Pp(),o);return d_(u),new Promise(()=>{})}_initialize(t){const s=t._key();if(this.eventManagers[s]){const{manager:o,promise:u}=this.eventManagers[s];return o?Promise.resolve(o):(_n(u,"If manager is not set, promise should be"),u)}const n=this.initAndGetManager(t);return this.eventManagers[s]={promise:n},n.catch(()=>{delete this.eventManagers[s]}),n}async initAndGetManager(t){const s=await K_(t),n=new __(t);return s.register("authEvent",o=>(Vt(o?.authEvent,t,"invalid-auth-event"),{status:n.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=s,n}_isIframeWebStorageSupported(t,s){this.iframes[t._key()].send(Uh,{type:Uh},o=>{var u;const c=(u=o?.[0])===null||u===void 0?void 0:u[Uh];c!==void 0&&s(!!c),Ma(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const s=t._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=L_(t)),this.originValidationPromises[s]}get _shouldInitProactively(){return Sk()||bk()||cg()}}const lA=oA;var tw="@firebase/auth",rw="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const s=this.auth.onIdTokenChanged(n=>{t(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,s),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const s=this.internalListeners.get(t);s&&(this.internalListeners.delete(t),s(),this.updateProactiveRefresh())}assertAuthConfigured(){Vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uA(r){Aa(new ga("auth",(t,{options:s})=>{const n=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=n.options;Vt(c&&!c.includes(":"),"invalid-api-key",{appName:n.name});const p={apiKey:c,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tk(r)},v=new P$(n,o,u,p);return L$(v,s),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,s,n)=>{t.getProvider("auth-internal").initialize()})),Aa(new ga("auth-internal",t=>{const s=Po(t.getProvider("auth").getImmediate());return(n=>new cA(n))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bs(tw,rw,dA(r)),Bs(tw,rw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=300,mA=XN("authIdTokenMaxAge")||xA;let sw=null;const hA=r=>async t=>{const s=t&&await t.getIdTokenResult(),n=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(n&&n>mA)return;const o=s?.token;sw!==o&&(sw=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function pg(r=yx()){const t=$i(r,"auth");if(t.isInitialized())return t.getImmediate();const s=O$(r,{popupRedirectResolver:lA,persistence:[b_,o_,Ok]}),n=XN("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(n,location.origin);if(location.origin===u.origin){const c=hA(u.toString());a_(s,c,()=>c(s.currentUser)),s_(s,m=>c(m))}}const o=KN("auth");return o&&V$(s,`http://${o}`),s}function pA(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}C$({loadJS(r){return new Promise((t,s)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=t,n.onerror=o=>{const u=Xa("internal-error");u.customData=o,s(u)},n.type="text/javascript",n.charset="UTF-8",pA().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uA("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="firebasestorage.googleapis.com",fA="storageBucket",gA=120*1e3,yA=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn extends ya{constructor(t,s,n=0){super(Fh(t),`Firebase Storage: ${s} (${Fh(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,cn.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Fh(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var on;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(on||(on={}));function Fh(r){return"storage/"+r}function bA(){const r="An unknown error occurred, please check the error payload for server response.";return new cn(on.UNKNOWN,r)}function vA(){return new cn(on.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jA(){return new cn(on.CANCELED,"User canceled the upload/download.")}function wA(r){return new cn(on.INVALID_URL,"Invalid URL '"+r+"'.")}function NA(r){return new cn(on.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function aw(r){return new cn(on.INVALID_ARGUMENT,r)}function Wk(){return new cn(on.APP_DELETED,"The Firebase app was deleted.")}function kA(r){return new cn(on.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(t,s){this.bucket=t,this.path_=s}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,s){let n;try{n=_a.makeFromUrl(t,s)}catch{return new _a(t,"")}if(n.path==="")return n;throw NA(t)}static makeFromUrl(t,s){let n=null;const o="([A-Za-z0-9.\\-_]+)";function u(pe){pe.path.charAt(pe.path.length-1)==="/"&&(pe.path_=pe.path_.slice(0,-1))}const c="(/(.*))?$",m=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function v(pe){pe.path_=decodeURIComponent(pe.path)}const T="v[A-Za-z0-9_]+",P=s.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",O=new RegExp(`^https?://${P}/${T}/b/${o}/o${A}`,"i"),k={bucket:1,path:3},H=s===Hk?"(?:storage.googleapis.com|storage.cloud.google.com)":s,V="([^?#]*)",Z=new RegExp(`^https?://${H}/${o}/${V}`,"i"),oe=[{regex:m,indices:p,postModify:u},{regex:O,indices:k,postModify:v},{regex:Z,indices:{bucket:1,path:2},postModify:v}];for(let pe=0;pe<oe.length;pe++){const X=oe[pe],ie=X.regex.exec(t);if(ie){const U=ie[X.indices.bucket];let h=ie[X.indices.path];h||(h=""),n=new _a(U,h),X.postModify(n);break}}if(n==null)throw wA(t);return n}}class SA{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(r,t,s){let n=1,o=null,u=null,c=!1,m=0;function p(){return m===2}let v=!1;function T(...V){v||(v=!0,t.apply(null,V))}function P(V){o=setTimeout(()=>{o=null,r(O,p())},V)}function A(){u&&clearTimeout(u)}function O(V,...Z){if(v){A();return}if(V){A(),T.call(null,V,...Z);return}if(p()||c){A(),T.call(null,V,...Z);return}n<64&&(n*=2);let oe;m===1?(m=2,oe=0):oe=(n+Math.random())*1e3,P(oe)}let k=!1;function H(V){k||(k=!0,A(),!v&&(o!==null?(V||(m=2),clearTimeout(o),P(0)):V||(m=1)))}return P(0),u=setTimeout(()=>{c=!0,H(!0)},s),H}function IA(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(r){return r!==void 0}function nw(r,t,s,n){if(n<t)throw aw(`Invalid value for '${r}'. Expected ${t} or greater.`);if(n>s)throw aw(`Invalid value for '${r}'. Expected ${s} or less.`)}function CA(r){const t=encodeURIComponent;let s="?";for(const n in r)if(r.hasOwnProperty(n)){const o=t(n)+"="+t(r[n]);s=s+o+"&"}return s=s.slice(0,-1),s}var rx;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(rx||(rx={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(r,t){const s=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=t.indexOf(r)!==-1;return s||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(t,s,n,o,u,c,m,p,v,T,P,A=!0){this.url_=t,this.method_=s,this.headers_=n,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=m,this.errorCallback_=p,this.timeout_=v,this.progressCallback_=T,this.connectionFactory_=P,this.retry=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,k)=>{this.resolve_=O,this.reject_=k,this.start_()})}start_(){const t=(n,o)=>{if(o){n(!1,new du(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=m=>{const p=m.loaded,v=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,v)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const m=u.getErrorCode()===rx.NO_ERROR,p=u.getStatus();if(!m||EA(p,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===rx.ABORT;n(!1,new du(!1,null,T));return}const v=this.successCodes_.indexOf(p)!==-1;n(!0,new du(v,u))})},s=(n,o)=>{const u=this.resolve_,c=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());PA(p)?u(p):u()}catch(p){c(p)}else if(m!==null){const p=bA();p.serverResponse=m.getErrorText(),this.errorCallback_?c(this.errorCallback_(m,p)):c(p)}else if(o.canceled){const p=this.appDelete_?Wk():jA();c(p)}else{const p=vA();c(p)}};this.canceled_?s(!1,new du(!1,null,!0)):this.backoffId_=TA(t,s,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&IA(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class du{constructor(t,s,n){this.wasSuccessCode=t,this.connection=s,this.canceled=!!n}}function $A(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function _A(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function AA(r,t){t&&(r["X-Firebase-GMPID"]=t)}function RA(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function MA(r,t,s,n,o,u,c=!0){const m=CA(r.urlParams),p=r.url+m,v=Object.assign({},r.headers);return AA(v,t),$A(v,s),_A(v,u),RA(v,n),new DA(p,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function LA(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(t,s){this._service=t,s instanceof _a?this._location=s:this._location=_a.makeFromUrl(s,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,s){return new sx(t,s)}get root(){const t=new _a(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LA(this._location.path)}get storage(){return this._service}get parent(){const t=OA(this._location.path);if(t===null)return null;const s=new _a(this._location.bucket,t);return new sx(this._service,s)}_throwIfRoot(t){if(this._location.path==="")throw kA(t)}}function iw(r,t){const s=t?.[fA];return s==null?null:_a.makeFromBucketSpec(s,r)}function VA(r,t,s,n={}){r.host=`${t}:${s}`,r._protocol="http";const{mockUserToken:o}=n;o&&(r._overrideAuthToken=typeof o=="string"?o:JN(o,r.app.options.projectId))}class zA{constructor(t,s,n,o,u){this.app=t,this._authProvider=s,this._appCheckProvider=n,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=Hk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gA,this._maxUploadRetryTime=yA,this._requests=new Set,o!=null?this._bucket=_a.makeFromBucketSpec(o,this._host):this._bucket=iw(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=_a.makeFromBucketSpec(this._url,t):this._bucket=iw(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){nw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){nw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const s=await t.getToken();if(s!==null)return s.accessToken}return null}async _getAppCheckToken(){if(ea(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new sx(this,t)}_makeRequest(t,s,n,o,u=!0){if(this._deleted)return new SA(Wk());{const c=MA(t,this._appId,n,o,s,this._firebaseVersion,u);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,s){const[n,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,s,n,o).getPromise()}}const ow="@firebase/storage",lw="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="storage";function BA(r=yx(),t){r=Sr(r);const n=$i(r,qk).getImmediate({identifier:t}),o=ZN("storage");return o&&UA(n,...o),n}function UA(r,t,s,n={}){VA(r,t,s,n)}function FA(r,{instanceIdentifier:t}){const s=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new zA(s,n,o,t,So)}function HA(){Aa(new ga(qk,FA,"PUBLIC").setMultipleInstances(!0)),Bs(ow,lw,""),Bs(ow,lw,"esm2017")}HA();const WA={apiKey:"AIzaSyCh4KyvqB6d_uBpvZ6unY6BSqBAPFGAov4",authDomain:"sz-streaming.firebaseapp.com",projectId:"sz-streaming",storageBucket:"sz-streaming.firebasestorage.app",messagingSenderId:"883785518084",appId:"1:883785518084:web:92cdd90812b5e200277951",measurementId:"G-1R5T5PGGG0"},Od=i5(WA);XD(Od);const _=jE(Od);BA(Od);const ot=pg(Od),fg=N.createContext({});function gg(r){const t=N.useRef(null);return t.current===null&&(t.current=r()),t.current}const yg=typeof window<"u",Gk=yg?N.useLayoutEffect:N.useEffect,Hx=N.createContext(null);function bg(r,t){r.indexOf(t)===-1&&r.push(t)}function vg(r,t){const s=r.indexOf(t);s>-1&&r.splice(s,1)}const An=(r,t,s)=>s>t?t:s<r?r:s;let jg=()=>{};const Rn={},Qk=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r);function Kk(r){return typeof r=="object"&&r!==null}const Zk=r=>/^0[^.\s]+$/u.test(r);function wg(r){let t;return()=>(t===void 0&&(t=r()),t)}const fa=r=>r,qA=(r,t)=>s=>t(r(s)),Ld=(...r)=>r.reduce(qA),ud=(r,t,s)=>{const n=t-r;return n===0?1:(s-r)/n};class Ng{constructor(){this.subscriptions=[]}add(t){return bg(this.subscriptions,t),()=>vg(this.subscriptions,t)}notify(t,s,n){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,s,n);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,s,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const en=r=>r*1e3,tn=r=>r/1e3;function Yk(r,t){return t?r*(1e3/t):0}const Xk=(r,t,s)=>(((1-3*s+3*t)*r+(3*s-6*t))*r+3*t)*r,GA=1e-7,QA=12;function KA(r,t,s,n,o){let u,c,m=0;do c=t+(s-t)/2,u=Xk(c,n,o)-r,u>0?s=c:t=c;while(Math.abs(u)>GA&&++m<QA);return c}function Vd(r,t,s,n){if(r===t&&s===n)return fa;const o=u=>KA(u,0,1,r,s);return u=>u===0||u===1?u:Xk(o(u),t,n)}const Jk=r=>t=>t<=.5?r(2*t)/2:(2-r(2*(1-t)))/2,e6=r=>t=>1-r(1-t),t6=Vd(.33,1.53,.69,.99),kg=e6(t6),r6=Jk(kg),s6=r=>(r*=2)<1?.5*kg(r):.5*(2-Math.pow(2,-10*(r-1))),Sg=r=>1-Math.sin(Math.acos(r)),a6=e6(Sg),n6=Jk(Sg),ZA=Vd(.42,0,1,1),YA=Vd(0,0,.58,1),i6=Vd(.42,0,.58,1),XA=r=>Array.isArray(r)&&typeof r[0]!="number",o6=r=>Array.isArray(r)&&typeof r[0]=="number",JA={linear:fa,easeIn:ZA,easeInOut:i6,easeOut:YA,circIn:Sg,circInOut:n6,circOut:a6,backIn:kg,backInOut:r6,backOut:t6,anticipate:s6},eR=r=>typeof r=="string",cw=r=>{if(o6(r)){jg(r.length===4);const[t,s,n,o]=r;return Vd(t,s,n,o)}else if(eR(r))return JA[r];return r},uu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],dw={value:null};function tR(r,t){let s=new Set,n=new Set,o=!1,u=!1;const c=new WeakSet;let m={delta:0,timestamp:0,isProcessing:!1},p=0;function v(P){c.has(P)&&(T.schedule(P),r()),p++,P(m)}const T={schedule:(P,A=!1,O=!1)=>{const H=O&&o?s:n;return A&&c.add(P),H.has(P)||H.add(P),P},cancel:P=>{n.delete(P),c.delete(P)},process:P=>{if(m=P,o){u=!0;return}o=!0,[s,n]=[n,s],s.forEach(v),t&&dw.value&&dw.value.frameloop[t].push(p),p=0,s.clear(),o=!1,u&&(u=!1,T.process(P))}};return T}const rR=40;function l6(r,t){let s=!1,n=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>s=!0,c=uu.reduce((oe,pe)=>(oe[pe]=tR(u,t?pe:void 0),oe),{}),{setup:m,read:p,resolveKeyframes:v,preUpdate:T,update:P,preRender:A,render:O,postRender:k}=c,H=()=>{const oe=Rn.useManualTiming?o.timestamp:performance.now();s=!1,Rn.useManualTiming||(o.delta=n?1e3/60:Math.max(Math.min(oe-o.timestamp,rR),1)),o.timestamp=oe,o.isProcessing=!0,m.process(o),p.process(o),v.process(o),T.process(o),P.process(o),A.process(o),O.process(o),k.process(o),o.isProcessing=!1,s&&t&&(n=!1,r(H))},V=()=>{s=!0,n=!0,o.isProcessing||r(H)};return{schedule:uu.reduce((oe,pe)=>{const X=c[pe];return oe[pe]=(ie,U=!1,h=!1)=>(s||V(),X.schedule(ie,U,h)),oe},{}),cancel:oe=>{for(let pe=0;pe<uu.length;pe++)c[uu[pe]].cancel(oe)},state:o,steps:c}}const{schedule:$r,cancel:Ei,state:os,steps:Hh}=l6(typeof requestAnimationFrame<"u"?requestAnimationFrame:fa,!0);let Pu;function sR(){Pu=void 0}const zs={now:()=>(Pu===void 0&&zs.set(os.isProcessing||Rn.useManualTiming?os.timestamp:performance.now()),Pu),set:r=>{Pu=r,queueMicrotask(sR)}},c6=r=>t=>typeof t=="string"&&t.startsWith(r),Tg=c6("--"),aR=c6("var(--"),Ig=r=>aR(r)?nR.test(r.split("/*")[0].trim()):!1,nR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wl={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},xd={...Wl,transform:r=>An(0,1,r)},xu={...Wl,default:1},Gc=r=>Math.round(r*1e5)/1e5,Pg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iR(r){return r==null}const oR=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cg=(r,t)=>s=>!!(typeof s=="string"&&oR.test(s)&&s.startsWith(r)||t&&!iR(s)&&Object.prototype.hasOwnProperty.call(s,t)),d6=(r,t,s)=>n=>{if(typeof n!="string")return n;const[o,u,c,m]=n.match(Pg);return{[r]:parseFloat(o),[t]:parseFloat(u),[s]:parseFloat(c),alpha:m!==void 0?parseFloat(m):1}},lR=r=>An(0,255,r),Wh={...Wl,transform:r=>Math.round(lR(r))},co={test:Cg("rgb","red"),parse:d6("red","green","blue"),transform:({red:r,green:t,blue:s,alpha:n=1})=>"rgba("+Wh.transform(r)+", "+Wh.transform(t)+", "+Wh.transform(s)+", "+Gc(xd.transform(n))+")"};function cR(r){let t="",s="",n="",o="";return r.length>5?(t=r.substring(1,3),s=r.substring(3,5),n=r.substring(5,7),o=r.substring(7,9)):(t=r.substring(1,2),s=r.substring(2,3),n=r.substring(3,4),o=r.substring(4,5),t+=t,s+=s,n+=n,o+=o),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}}const $p={test:Cg("#"),parse:cR,transform:co.transform},zd=r=>({test:t=>typeof t=="string"&&t.endsWith(r)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${r}`}),ui=zd("deg"),rn=zd("%"),zt=zd("px"),dR=zd("vh"),uR=zd("vw"),uw={...rn,parse:r=>rn.parse(r)/100,transform:r=>rn.transform(r*100)},gl={test:Cg("hsl","hue"),parse:d6("hue","saturation","lightness"),transform:({hue:r,saturation:t,lightness:s,alpha:n=1})=>"hsla("+Math.round(r)+", "+rn.transform(Gc(t))+", "+rn.transform(Gc(s))+", "+Gc(xd.transform(n))+")"},ys={test:r=>co.test(r)||$p.test(r)||gl.test(r),parse:r=>co.test(r)?co.parse(r):gl.test(r)?gl.parse(r):$p.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?co.transform(r):gl.transform(r)},xR=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mR(r){return isNaN(r)&&typeof r=="string"&&(r.match(Pg)?.length||0)+(r.match(xR)?.length||0)>0}const u6="number",x6="color",hR="var",pR="var(",xw="${}",fR=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function md(r){const t=r.toString(),s=[],n={color:[],number:[],var:[]},o=[];let u=0;const m=t.replace(fR,p=>(ys.test(p)?(n.color.push(u),o.push(x6),s.push(ys.parse(p))):p.startsWith(pR)?(n.var.push(u),o.push(hR),s.push(p)):(n.number.push(u),o.push(u6),s.push(parseFloat(p))),++u,xw)).split(xw);return{values:s,split:m,indexes:n,types:o}}function m6(r){return md(r).values}function h6(r){const{split:t,types:s}=md(r),n=t.length;return o=>{let u="";for(let c=0;c<n;c++)if(u+=t[c],o[c]!==void 0){const m=s[c];m===u6?u+=Gc(o[c]):m===x6?u+=ys.transform(o[c]):u+=o[c]}return u}}const gR=r=>typeof r=="number"?0:r;function yR(r){const t=m6(r);return h6(r)(t.map(gR))}const Di={test:mR,parse:m6,createTransformer:h6,getAnimatableNone:yR};function qh(r,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?r+(t-r)*6*s:s<1/2?t:s<2/3?r+(t-r)*(2/3-s)*6:r}function bR({hue:r,saturation:t,lightness:s,alpha:n}){r/=360,t/=100,s/=100;let o=0,u=0,c=0;if(!t)o=u=c=s;else{const m=s<.5?s*(1+t):s+t-s*t,p=2*s-m;o=qh(p,m,r+1/3),u=qh(p,m,r),c=qh(p,m,r-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:n}}function ax(r,t){return s=>s>0?t:r}const Er=(r,t,s)=>r+(t-r)*s,Gh=(r,t,s)=>{const n=r*r,o=s*(t*t-n)+n;return o<0?0:Math.sqrt(o)},vR=[$p,co,gl],jR=r=>vR.find(t=>t.test(r));function mw(r){const t=jR(r);if(!t)return!1;let s=t.parse(r);return t===gl&&(s=bR(s)),s}const hw=(r,t)=>{const s=mw(r),n=mw(t);if(!s||!n)return ax(r,t);const o={...s};return u=>(o.red=Gh(s.red,n.red,u),o.green=Gh(s.green,n.green,u),o.blue=Gh(s.blue,n.blue,u),o.alpha=Er(s.alpha,n.alpha,u),co.transform(o))},_p=new Set(["none","hidden"]);function wR(r,t){return _p.has(r)?s=>s<=0?r:t:s=>s>=1?t:r}function NR(r,t){return s=>Er(r,t,s)}function Eg(r){return typeof r=="number"?NR:typeof r=="string"?Ig(r)?ax:ys.test(r)?hw:TR:Array.isArray(r)?p6:typeof r=="object"?ys.test(r)?hw:kR:ax}function p6(r,t){const s=[...r],n=s.length,o=r.map((u,c)=>Eg(u)(u,t[c]));return u=>{for(let c=0;c<n;c++)s[c]=o[c](u);return s}}function kR(r,t){const s={...r,...t},n={};for(const o in s)r[o]!==void 0&&t[o]!==void 0&&(n[o]=Eg(r[o])(r[o],t[o]));return o=>{for(const u in n)s[u]=n[u](o);return s}}function SR(r,t){const s=[],n={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=r.indexes[u][n[u]],m=r.values[c]??0;s[o]=m,n[u]++}return s}const TR=(r,t)=>{const s=Di.createTransformer(t),n=md(r),o=md(t);return n.indexes.var.length===o.indexes.var.length&&n.indexes.color.length===o.indexes.color.length&&n.indexes.number.length>=o.indexes.number.length?_p.has(r)&&!o.values.length||_p.has(t)&&!n.values.length?wR(r,t):Ld(p6(SR(n,o),o.values),s):ax(r,t)};function f6(r,t,s){return typeof r=="number"&&typeof t=="number"&&typeof s=="number"?Er(r,t,s):Eg(r)(r,t)}const IR=r=>{const t=({timestamp:s})=>r(s);return{start:(s=!0)=>$r.update(t,s),stop:()=>Ei(t),now:()=>os.isProcessing?os.timestamp:zs.now()}},g6=(r,t,s=10)=>{let n="";const o=Math.max(Math.round(t/s),2);for(let u=0;u<o;u++)n+=r(u/(o-1))+", ";return`linear(${n.substring(0,n.length-2)})`},nx=2e4;function Dg(r){let t=0;const s=50;let n=r.next(t);for(;!n.done&&t<nx;)t+=s,n=r.next(t);return t>=nx?1/0:t}function PR(r,t=100,s){const n=s({...r,keyframes:[0,t]}),o=Math.min(Dg(n),nx);return{type:"keyframes",ease:u=>n.next(o*u).value/t,duration:tn(o)}}const CR=5;function y6(r,t,s){const n=Math.max(t-CR,0);return Yk(s-r(n),t-n)}const Mr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Qh=.001;function ER({duration:r=Mr.duration,bounce:t=Mr.bounce,velocity:s=Mr.velocity,mass:n=Mr.mass}){let o,u,c=1-t;c=An(Mr.minDamping,Mr.maxDamping,c),r=An(Mr.minDuration,Mr.maxDuration,tn(r)),c<1?(o=v=>{const T=v*c,P=T*r,A=T-s,O=Ap(v,c),k=Math.exp(-P);return Qh-A/O*k},u=v=>{const P=v*c*r,A=P*s+s,O=Math.pow(c,2)*Math.pow(v,2)*r,k=Math.exp(-P),H=Ap(Math.pow(v,2),c);return(-o(v)+Qh>0?-1:1)*((A-O)*k)/H}):(o=v=>{const T=Math.exp(-v*r),P=(v-s)*r+1;return-Qh+T*P},u=v=>{const T=Math.exp(-v*r),P=(s-v)*(r*r);return T*P});const m=5/r,p=$R(o,u,m);if(r=en(r),isNaN(p))return{stiffness:Mr.stiffness,damping:Mr.damping,duration:r};{const v=Math.pow(p,2)*n;return{stiffness:v,damping:c*2*Math.sqrt(n*v),duration:r}}}const DR=12;function $R(r,t,s){let n=s;for(let o=1;o<DR;o++)n=n-r(n)/t(n);return n}function Ap(r,t){return r*Math.sqrt(1-t*t)}const _R=["duration","bounce"],AR=["stiffness","damping","mass"];function pw(r,t){return t.some(s=>r[s]!==void 0)}function RR(r){let t={velocity:Mr.velocity,stiffness:Mr.stiffness,damping:Mr.damping,mass:Mr.mass,isResolvedFromDuration:!1,...r};if(!pw(r,AR)&&pw(r,_R))if(r.visualDuration){const s=r.visualDuration,n=2*Math.PI/(s*1.2),o=n*n,u=2*An(.05,1,1-(r.bounce||0))*Math.sqrt(o);t={...t,mass:Mr.mass,stiffness:o,damping:u}}else{const s=ER(r);t={...t,...s,mass:Mr.mass},t.isResolvedFromDuration=!0}return t}function ix(r=Mr.visualDuration,t=Mr.bounce){const s=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:t}:r;let{restSpeed:n,restDelta:o}=s;const u=s.keyframes[0],c=s.keyframes[s.keyframes.length-1],m={done:!1,value:u},{stiffness:p,damping:v,mass:T,duration:P,velocity:A,isResolvedFromDuration:O}=RR({...s,velocity:-tn(s.velocity||0)}),k=A||0,H=v/(2*Math.sqrt(p*T)),V=c-u,Z=tn(Math.sqrt(p/T)),ne=Math.abs(V)<5;n||(n=ne?Mr.restSpeed.granular:Mr.restSpeed.default),o||(o=ne?Mr.restDelta.granular:Mr.restDelta.default);let oe;if(H<1){const X=Ap(Z,H);oe=ie=>{const U=Math.exp(-H*Z*ie);return c-U*((k+H*Z*V)/X*Math.sin(X*ie)+V*Math.cos(X*ie))}}else if(H===1)oe=X=>c-Math.exp(-Z*X)*(V+(k+Z*V)*X);else{const X=Z*Math.sqrt(H*H-1);oe=ie=>{const U=Math.exp(-H*Z*ie),h=Math.min(X*ie,300);return c-U*((k+H*Z*V)*Math.sinh(h)+X*V*Math.cosh(h))/X}}const pe={calculatedDuration:O&&P||null,next:X=>{const ie=oe(X);if(O)m.done=X>=P;else{let U=X===0?k:0;H<1&&(U=X===0?en(k):y6(oe,X,ie));const h=Math.abs(U)<=n,Y=Math.abs(c-ie)<=o;m.done=h&&Y}return m.value=m.done?c:ie,m},toString:()=>{const X=Math.min(Dg(pe),nx),ie=g6(U=>pe.next(X*U).value,X,30);return X+"ms "+ie},toTransition:()=>{}};return pe}ix.applyToOptions=r=>{const t=PR(r,100,ix);return r.ease=t.ease,r.duration=en(t.duration),r.type="keyframes",r};function Rp({keyframes:r,velocity:t=0,power:s=.8,timeConstant:n=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:m,max:p,restDelta:v=.5,restSpeed:T}){const P=r[0],A={done:!1,value:P},O=h=>m!==void 0&&h<m||p!==void 0&&h>p,k=h=>m===void 0?p:p===void 0||Math.abs(m-h)<Math.abs(p-h)?m:p;let H=s*t;const V=P+H,Z=c===void 0?V:c(V);Z!==V&&(H=Z-P);const ne=h=>-H*Math.exp(-h/n),oe=h=>Z+ne(h),pe=h=>{const Y=ne(h),Q=oe(h);A.done=Math.abs(Y)<=v,A.value=A.done?Z:Q};let X,ie;const U=h=>{O(A.value)&&(X=h,ie=ix({keyframes:[A.value,k(A.value)],velocity:y6(oe,h,A.value),damping:o,stiffness:u,restDelta:v,restSpeed:T}))};return U(0),{calculatedDuration:null,next:h=>{let Y=!1;return!ie&&X===void 0&&(Y=!0,pe(h),U(h)),X!==void 0&&h>=X?ie.next(h-X):(!Y&&pe(h),A)}}}function MR(r,t,s){const n=[],o=s||Rn.mix||f6,u=r.length-1;for(let c=0;c<u;c++){let m=o(r[c],r[c+1]);if(t){const p=Array.isArray(t)?t[c]||fa:t;m=Ld(p,m)}n.push(m)}return n}function OR(r,t,{clamp:s=!0,ease:n,mixer:o}={}){const u=r.length;if(jg(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=r[0]===r[1];r[0]>r[u-1]&&(r=[...r].reverse(),t=[...t].reverse());const m=MR(t,n,o),p=m.length,v=T=>{if(c&&T<r[0])return t[0];let P=0;if(p>1)for(;P<r.length-2&&!(T<r[P+1]);P++);const A=ud(r[P],r[P+1],T);return m[P](A)};return s?T=>v(An(r[0],r[u-1],T)):v}function LR(r,t){const s=r[r.length-1];for(let n=1;n<=t;n++){const o=ud(0,t,n);r.push(Er(s,1,o))}}function VR(r){const t=[0];return LR(t,r.length-1),t}function zR(r,t){return r.map(s=>s*t)}function BR(r,t){return r.map(()=>t||i6).splice(0,r.length-1)}function Qc({duration:r=300,keyframes:t,times:s,ease:n="easeInOut"}){const o=XA(n)?n.map(cw):cw(n),u={done:!1,value:t[0]},c=zR(s&&s.length===t.length?s:VR(t),r),m=OR(c,t,{ease:Array.isArray(o)?o:BR(t,o)});return{calculatedDuration:r,next:p=>(u.value=m(p),u.done=p>=r,u)}}const UR=r=>r!==null;function $g(r,{repeat:t,repeatType:s="loop"},n,o=1){const u=r.filter(UR),m=o<0||t&&s!=="loop"&&t%2===1?0:u.length-1;return!m||n===void 0?u[m]:n}const FR={decay:Rp,inertia:Rp,tween:Qc,keyframes:Qc,spring:ix};function b6(r){typeof r.type=="string"&&(r.type=FR[r.type])}class _g{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const HR=r=>r/100;class Ag extends _g{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(s=!0)=>{if(s){const{motionValue:n}=this.options;n&&n.updatedAt!==zs.now()&&this.tick(zs.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;b6(t);const{type:s=Qc,repeat:n=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:m}=t;const p=s||Qc;p!==Qc&&typeof m[0]!="number"&&(this.mixKeyframes=Ld(HR,f6(m[0],m[1])),m=[0,100]);const v=p({...t,keyframes:m});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...m].reverse(),velocity:-c})),v.calculatedDuration===null&&(v.calculatedDuration=Dg(v));const{calculatedDuration:T}=v;this.calculatedDuration=T,this.resolvedDuration=T+o,this.totalDuration=this.resolvedDuration*(n+1)-o,this.generator=v}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:n,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:m,calculatedDuration:p}=this;if(this.startTime===null)return n.next(0);const{delay:v=0,keyframes:T,repeat:P,repeatType:A,repeatDelay:O,type:k,onUpdate:H,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const Z=this.currentTime-v*(this.playbackSpeed>=0?1:-1),ne=this.playbackSpeed>=0?Z<0:Z>o;this.currentTime=Math.max(Z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let oe=this.currentTime,pe=n;if(P){const h=Math.min(this.currentTime,o)/m;let Y=Math.floor(h),Q=h%1;!Q&&h>=1&&(Q=1),Q===1&&Y--,Y=Math.min(Y,P+1),!!(Y%2)&&(A==="reverse"?(Q=1-Q,O&&(Q-=O/m)):A==="mirror"&&(pe=c)),oe=An(0,1,Q)*m}const X=ne?{done:!1,value:T[0]}:pe.next(oe);u&&(X.value=u(X.value));let{done:ie}=X;!ne&&p!==null&&(ie=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ie);return U&&k!==Rp&&(X.value=$g(T,this.options,V,this.speed)),H&&H(X.value),U&&this.finish(),X}then(t,s){return this.finished.then(t,s)}get duration(){return tn(this.calculatedDuration)}get time(){return tn(this.currentTime)}set time(t){t=en(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(zs.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=tn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=IR,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=s??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function WR(r){for(let t=1;t<r.length;t++)r[t]??(r[t]=r[t-1])}const uo=r=>r*180/Math.PI,Mp=r=>{const t=uo(Math.atan2(r[1],r[0]));return Op(t)},qR={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:r=>(Math.abs(r[0])+Math.abs(r[3]))/2,rotate:Mp,rotateZ:Mp,skewX:r=>uo(Math.atan(r[1])),skewY:r=>uo(Math.atan(r[2])),skew:r=>(Math.abs(r[1])+Math.abs(r[2]))/2},Op=r=>(r=r%360,r<0&&(r+=360),r),fw=Mp,gw=r=>Math.sqrt(r[0]*r[0]+r[1]*r[1]),yw=r=>Math.sqrt(r[4]*r[4]+r[5]*r[5]),GR={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gw,scaleY:yw,scale:r=>(gw(r)+yw(r))/2,rotateX:r=>Op(uo(Math.atan2(r[6],r[5]))),rotateY:r=>Op(uo(Math.atan2(-r[2],r[0]))),rotateZ:fw,rotate:fw,skewX:r=>uo(Math.atan(r[4])),skewY:r=>uo(Math.atan(r[1])),skew:r=>(Math.abs(r[1])+Math.abs(r[4]))/2};function Lp(r){return r.includes("scale")?1:0}function Vp(r,t){if(!r||r==="none")return Lp(t);const s=r.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,o;if(s)n=GR,o=s;else{const m=r.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=qR,o=m}if(!o)return Lp(t);const u=n[t],c=o[1].split(",").map(KR);return typeof u=="function"?u(c):c[u]}const QR=(r,t)=>{const{transform:s="none"}=getComputedStyle(r);return Vp(s,t)};function KR(r){return parseFloat(r.trim())}const ql=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Gl=new Set(ql),bw=r=>r===Wl||r===zt,ZR=new Set(["x","y","z"]),YR=ql.filter(r=>!ZR.has(r));function XR(r){const t=[];return YR.forEach(s=>{const n=r.getValue(s);n!==void 0&&(t.push([s,n.get()]),n.set(s.startsWith("scale")?1:0))}),t}const ho={width:({x:r},{paddingLeft:t="0",paddingRight:s="0"})=>r.max-r.min-parseFloat(t)-parseFloat(s),height:({y:r},{paddingTop:t="0",paddingBottom:s="0"})=>r.max-r.min-parseFloat(t)-parseFloat(s),top:(r,{top:t})=>parseFloat(t),left:(r,{left:t})=>parseFloat(t),bottom:({y:r},{top:t})=>parseFloat(t)+(r.max-r.min),right:({x:r},{left:t})=>parseFloat(t)+(r.max-r.min),x:(r,{transform:t})=>Vp(t,"x"),y:(r,{transform:t})=>Vp(t,"y")};ho.translateX=ho.x;ho.translateY=ho.y;const po=new Set;let zp=!1,Bp=!1,Up=!1;function v6(){if(Bp){const r=Array.from(po).filter(n=>n.needsMeasurement),t=new Set(r.map(n=>n.element)),s=new Map;t.forEach(n=>{const o=XR(n);o.length&&(s.set(n,o),n.render())}),r.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const o=s.get(n);o&&o.forEach(([u,c])=>{n.getValue(u)?.set(c)})}),r.forEach(n=>n.measureEndState()),r.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Bp=!1,zp=!1,po.forEach(r=>r.complete(Up)),po.clear()}function j6(){po.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(Bp=!0)})}function JR(){Up=!0,j6(),v6(),Up=!1}class Rg{constructor(t,s,n,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=n,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(po.add(this),zp||(zp=!0,$r.read(j6),$r.resolveKeyframes(v6))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:n,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(n&&s){const m=n.readValue(s,c);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}WR(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),po.delete(this)}cancel(){this.state==="scheduled"&&(po.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const e8=r=>r.startsWith("--");function t8(r,t,s){e8(t)?r.style.setProperty(t,s):r.style[t]=s}const r8=wg(()=>window.ScrollTimeline!==void 0),s8={};function a8(r,t){const s=wg(r);return()=>s8[t]??s()}const w6=a8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lc=([r,t,s,n])=>`cubic-bezier(${r}, ${t}, ${s}, ${n})`,vw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lc([0,.65,.55,1]),circOut:Lc([.55,0,1,.45]),backIn:Lc([.31,.01,.66,-.59]),backOut:Lc([.33,1.53,.69,.99])};function N6(r,t){if(r)return typeof r=="function"?w6()?g6(r,t):"ease-out":o6(r)?Lc(r):Array.isArray(r)?r.map(s=>N6(s,t)||vw.easeOut):vw[r]}function n8(r,t,s,{delay:n=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:m="easeOut",times:p}={},v=void 0){const T={[t]:s};p&&(T.offset=p);const P=N6(m,o);Array.isArray(P)&&(T.easing=P);const A={delay:n,duration:o,easing:Array.isArray(P)?"linear":P,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return v&&(A.pseudoElement=v),r.animate(T,A)}function k6(r){return typeof r=="function"&&"applyToOptions"in r}function i8({type:r,...t}){return k6(r)&&w6()?r.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class o8 extends _g{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:n,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:m,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,jg(typeof t.type!="string");const v=i8(t);this.animation=n8(s,n,o,v,u),v.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const T=$g(o,this.options,m,this.speed);this.updateMotionValue?this.updateMotionValue(T):t8(s,n,T),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return tn(Number(t))}get time(){return tn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=en(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&r8()?(this.animation.timeline=t,fa):s(this)}}const S6={anticipate:s6,backInOut:r6,circInOut:n6};function l8(r){return r in S6}function c8(r){typeof r.ease=="string"&&l8(r.ease)&&(r.ease=S6[r.ease])}const jw=10;class d8 extends o8{constructor(t){c8(t),b6(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:n,onComplete:o,element:u,...c}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const m=new Ag({...c,autoplay:!1}),p=en(this.finishedTime??this.time);s.setWithVelocity(m.sample(p-jw).value,m.sample(p).value,jw),m.stop()}}const ww=(r,t)=>t==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(Di.test(r)||r==="0")&&!r.startsWith("url("));function u8(r){const t=r[0];if(r.length===1)return!0;for(let s=0;s<r.length;s++)if(r[s]!==t)return!0}function x8(r,t,s,n){const o=r[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=r[r.length-1],c=ww(o,t),m=ww(u,t);return!c||!m?!1:u8(r)||(s==="spring"||k6(s))&&n}function Mg(r){return Kk(r)&&"offsetHeight"in r}const m8=new Set(["opacity","clipPath","filter","transform"]),h8=wg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function p8(r){const{motionValue:t,name:s,repeatDelay:n,repeatType:o,damping:u,type:c}=r;if(!Mg(t?.owner?.current))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return h8()&&s&&m8.has(s)&&(s!=="transform"||!p)&&!m&&!n&&o!=="mirror"&&u!==0&&c!=="inertia"}const f8=40;class g8 extends _g{constructor({autoplay:t=!0,delay:s=0,type:n="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:m,name:p,motionValue:v,element:T,...P}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=zs.now();const A={autoplay:t,delay:s,type:n,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:v,element:T,...P},O=T?.KeyframeResolver||Rg;this.keyframeResolver=new O(m,(k,H,V)=>this.onKeyframesResolved(k,H,A,!V),p,v,T),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,s,n,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:m,delay:p,isHandoff:v,onUpdate:T}=n;this.resolvedAt=zs.now(),x8(t,u,c,m)||((Rn.instantAnimations||!p)&&T?.($g(t,n,s)),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const A={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>f8?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...n,keyframes:t},O=!v&&p8(A)?new d8({...A,element:A.motionValue.owner.current}):new Ag(A);O.finished.then(()=>this.notifyFinished()).catch(fa),this.pendingTimeline&&(this.stopTimeline=O.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=O}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),JR()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const y8=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function b8(r){const t=y8.exec(r);if(!t)return[,];const[,s,n,o]=t;return[`--${s??n}`,o]}function T6(r,t,s=1){const[n,o]=b8(r);if(!n)return;const u=window.getComputedStyle(t).getPropertyValue(n);if(u){const c=u.trim();return Qk(c)?parseFloat(c):c}return Ig(o)?T6(o,t,s+1):o}function Og(r,t){return r?.[t]??r?.default??r}const I6=new Set(["width","height","top","left","right","bottom",...ql]),v8={test:r=>r==="auto",parse:r=>r},P6=r=>t=>t.test(r),C6=[Wl,zt,rn,ui,uR,dR,v8],Nw=r=>C6.find(P6(r));function j8(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||Zk(r):!0}const w8=new Set(["brightness","contrast","saturate","opacity"]);function N8(r){const[t,s]=r.slice(0,-1).split("(");if(t==="drop-shadow")return r;const[n]=s.match(Pg)||[];if(!n)return r;const o=s.replace(n,"");let u=w8.has(t)?1:0;return n!==s&&(u*=100),t+"("+u+o+")"}const k8=/\b([a-z-]*)\(.*?\)/gu,Fp={...Di,getAnimatableNone:r=>{const t=r.match(k8);return t?t.map(N8).join(" "):r}},kw={...Wl,transform:Math.round},S8={rotate:ui,rotateX:ui,rotateY:ui,rotateZ:ui,scale:xu,scaleX:xu,scaleY:xu,scaleZ:xu,skew:ui,skewX:ui,skewY:ui,distance:zt,translateX:zt,translateY:zt,translateZ:zt,x:zt,y:zt,z:zt,perspective:zt,transformPerspective:zt,opacity:xd,originX:uw,originY:uw,originZ:zt},Lg={borderWidth:zt,borderTopWidth:zt,borderRightWidth:zt,borderBottomWidth:zt,borderLeftWidth:zt,borderRadius:zt,radius:zt,borderTopLeftRadius:zt,borderTopRightRadius:zt,borderBottomRightRadius:zt,borderBottomLeftRadius:zt,width:zt,maxWidth:zt,height:zt,maxHeight:zt,top:zt,right:zt,bottom:zt,left:zt,padding:zt,paddingTop:zt,paddingRight:zt,paddingBottom:zt,paddingLeft:zt,margin:zt,marginTop:zt,marginRight:zt,marginBottom:zt,marginLeft:zt,backgroundPositionX:zt,backgroundPositionY:zt,...S8,zIndex:kw,fillOpacity:xd,strokeOpacity:xd,numOctaves:kw},T8={...Lg,color:ys,backgroundColor:ys,outlineColor:ys,fill:ys,stroke:ys,borderColor:ys,borderTopColor:ys,borderRightColor:ys,borderBottomColor:ys,borderLeftColor:ys,filter:Fp,WebkitFilter:Fp},E6=r=>T8[r];function D6(r,t){let s=E6(r);return s!==Fp&&(s=Di),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const I8=new Set(["auto","none","0"]);function P8(r,t,s){let n=0,o;for(;n<r.length&&!o;){const u=r[n];typeof u=="string"&&!I8.has(u)&&md(u).values.length&&(o=r[n]),n++}if(o&&s)for(const u of t)r[u]=D6(s,o)}class C8 extends Rg{constructor(t,s,n,o,u){super(t,s,n,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:n}=this;if(!s||!s.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let v=t[p];if(typeof v=="string"&&(v=v.trim(),Ig(v))){const T=T6(v,s.current);T!==void 0&&(t[p]=T),p===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!I6.has(n)||t.length!==2)return;const[o,u]=t,c=Nw(o),m=Nw(u);if(c!==m)if(bw(c)&&bw(m))for(let p=0;p<t.length;p++){const v=t[p];typeof v=="string"&&(t[p]=parseFloat(v))}else ho[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,n=[];for(let o=0;o<t.length;o++)(t[o]===null||j8(t[o]))&&n.push(o);n.length&&P8(t,n,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ho[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const o=s[s.length-1];o!==void 0&&t.getValue(n,o).jump(o,!1)}measureEndState(){const{element:t,name:s,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const o=t.getValue(s);o&&o.jump(this.measuredOrigin,!1);const u=n.length-1,c=n[u];n[u]=ho[s](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([m,p])=>{t.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function E8(r,t,s){if(r instanceof EventTarget)return[r];if(typeof r=="string"){let n=document;const o=s?.[r]??n.querySelectorAll(r);return o?Array.from(o):[]}return Array.from(r)}const Sw=30,D8=r=>!isNaN(parseFloat(r));class $8{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,o=!0)=>{const u=zs.now();if(this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();o&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=zs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=D8(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Ng);const n=this.events[t].add(s);return t==="change"?()=>{n(),$r.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,n){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=zs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Sw)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Sw);return Yk(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _l(r,t){return new $8(r,t)}const $6=(r,t)=>t&&typeof r=="number"?t.transform(r):r,{schedule:Vg}=l6(queueMicrotask,!1),Da={x:!1,y:!1};function _6(){return Da.x||Da.y}function _8(r){return r==="x"||r==="y"?Da[r]?null:(Da[r]=!0,()=>{Da[r]=!1}):Da.x||Da.y?null:(Da.x=Da.y=!0,()=>{Da.x=Da.y=!1})}function A6(r,t){const s=E8(r),n=new AbortController,o={passive:!0,...t,signal:n.signal};return[s,o,()=>n.abort()]}function Tw(r){return!(r.pointerType==="touch"||_6())}function A8(r,t,s={}){const[n,o,u]=A6(r,s),c=m=>{if(!Tw(m))return;const{target:p}=m,v=t(p,m);if(typeof v!="function"||!p)return;const T=P=>{Tw(P)&&(v(P),p.removeEventListener("pointerleave",T))};p.addEventListener("pointerleave",T,o)};return n.forEach(m=>{m.addEventListener("pointerenter",c,o)}),u}const R6=(r,t)=>t?r===t?!0:R6(r,t.parentElement):!1,zg=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,R8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function M8(r){return R8.has(r.tagName)||r.tabIndex!==-1}const Cu=new WeakSet;function Iw(r){return t=>{t.key==="Enter"&&r(t)}}function Kh(r,t){r.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const O8=(r,t)=>{const s=r.currentTarget;if(!s)return;const n=Iw(()=>{if(Cu.has(s))return;Kh(s,"down");const o=Iw(()=>{Kh(s,"up")}),u=()=>Kh(s,"cancel");s.addEventListener("keyup",o,t),s.addEventListener("blur",u,t)});s.addEventListener("keydown",n,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",n),t)};function Pw(r){return zg(r)&&!_6()}function L8(r,t,s={}){const[n,o,u]=A6(r,s),c=m=>{const p=m.currentTarget;if(!Pw(m))return;Cu.add(p);const v=t(p,m),T=(O,k)=>{window.removeEventListener("pointerup",P),window.removeEventListener("pointercancel",A),Cu.has(p)&&Cu.delete(p),Pw(O)&&typeof v=="function"&&v(O,{success:k})},P=O=>{T(O,p===window||p===document||s.useGlobalTarget||R6(p,O.target))},A=O=>{T(O,!1)};window.addEventListener("pointerup",P,o),window.addEventListener("pointercancel",A,o)};return n.forEach(m=>{(s.useGlobalTarget?window:m).addEventListener("pointerdown",c,o),Mg(m)&&(m.addEventListener("focus",v=>O8(v,o)),!M8(m)&&!m.hasAttribute("tabindex")&&(m.tabIndex=0))}),u}function M6(r){return Kk(r)&&"ownerSVGElement"in r}function V8(r){return M6(r)&&r.tagName==="svg"}const vs=r=>!!(r&&r.getVelocity),z8=[...C6,ys,Di],B8=r=>z8.find(P6(r)),Bg=N.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class U8 extends N.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const n=s.offsetParent,o=Mg(n)&&n.offsetWidth||0,u=this.props.sizeRef.current;u.height=s.offsetHeight||0,u.width=s.offsetWidth||0,u.top=s.offsetTop,u.left=s.offsetLeft,u.right=o-u.width-u.left}return null}componentDidUpdate(){}render(){return this.props.children}}function F8({children:r,isPresent:t,anchorX:s}){const n=N.useId(),o=N.useRef(null),u=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=N.useContext(Bg);return N.useInsertionEffect(()=>{const{width:m,height:p,top:v,left:T,right:P}=u.current;if(t||!o.current||!m||!p)return;const A=s==="left"?`left: ${T}`:`right: ${P}`;o.current.dataset.motionPopId=n;const O=document.createElement("style");return c&&(O.nonce=c),document.head.appendChild(O),O.sheet&&O.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${p}px !important;
            ${A}px !important;
            top: ${v}px !important;
          }
        `),()=>{document.head.contains(O)&&document.head.removeChild(O)}},[t]),e.jsx(U8,{isPresent:t,childRef:o,sizeRef:u,children:N.cloneElement(r,{ref:o})})}const H8=({children:r,initial:t,isPresent:s,onExitComplete:n,custom:o,presenceAffectsLayout:u,mode:c,anchorX:m})=>{const p=gg(W8),v=N.useId();let T=!0,P=N.useMemo(()=>(T=!1,{id:v,initial:t,isPresent:s,custom:o,onExitComplete:A=>{p.set(A,!0);for(const O of p.values())if(!O)return;n&&n()},register:A=>(p.set(A,!1),()=>p.delete(A))}),[s,p,n]);return u&&T&&(P={...P}),N.useMemo(()=>{p.forEach((A,O)=>p.set(O,!1))},[s]),N.useEffect(()=>{!s&&!p.size&&n&&n()},[s]),c==="popLayout"&&(r=e.jsx(F8,{isPresent:s,anchorX:m,children:r})),e.jsx(Hx.Provider,{value:P,children:r})};function W8(){return new Map}function O6(r=!0){const t=N.useContext(Hx);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:n,register:o}=t,u=N.useId();N.useEffect(()=>{if(r)return o(u)},[r]);const c=N.useCallback(()=>r&&n&&n(u),[u,n,r]);return!s&&n?[!1,c]:[!0]}const mu=r=>r.key||"";function Cw(r){const t=[];return N.Children.forEach(r,s=>{N.isValidElement(s)&&t.push(s)}),t}const Ug=({children:r,custom:t,initial:s=!0,onExitComplete:n,presenceAffectsLayout:o=!0,mode:u="sync",propagate:c=!1,anchorX:m="left"})=>{const[p,v]=O6(c),T=N.useMemo(()=>Cw(r),[r]),P=c&&!p?[]:T.map(mu),A=N.useRef(!0),O=N.useRef(T),k=gg(()=>new Map),[H,V]=N.useState(T),[Z,ne]=N.useState(T);Gk(()=>{A.current=!1,O.current=T;for(let X=0;X<Z.length;X++){const ie=mu(Z[X]);P.includes(ie)?k.delete(ie):k.get(ie)!==!0&&k.set(ie,!1)}},[Z,P.length,P.join("-")]);const oe=[];if(T!==H){let X=[...T];for(let ie=0;ie<Z.length;ie++){const U=Z[ie],h=mu(U);P.includes(h)||(X.splice(ie,0,U),oe.push(U))}return u==="wait"&&oe.length&&(X=oe),ne(Cw(X)),V(T),null}const{forceRender:pe}=N.useContext(fg);return e.jsx(e.Fragment,{children:Z.map(X=>{const ie=mu(X),U=c&&!p?!1:T===Z||P.includes(ie),h=()=>{if(k.has(ie))k.set(ie,!0);else return;let Y=!0;k.forEach(Q=>{Q||(Y=!1)}),Y&&(pe?.(),ne(O.current),c&&v?.(),n&&n())};return e.jsx(H8,{isPresent:U,initial:!A.current||s?void 0:!1,custom:t,presenceAffectsLayout:o,mode:u,onExitComplete:U?void 0:h,anchorX:m,children:X},ie)})})},L6=N.createContext({strict:!1}),Ew={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Al={};for(const r in Ew)Al[r]={isEnabled:t=>Ew[r].some(s=>!!t[s])};function q8(r){for(const t in r)Al[t]={...Al[t],...r[t]}}const G8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ox(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||G8.has(r)}let V6=r=>!ox(r);function Q8(r){r&&(V6=t=>t.startsWith("on")?!ox(t):r(t))}try{Q8(require("@emotion/is-prop-valid").default)}catch{}function K8(r,t,s){const n={};for(const o in r)o==="values"&&typeof r.values=="object"||(V6(o)||s===!0&&ox(o)||!t&&!ox(o)||r.draggable&&o.startsWith("onDrag"))&&(n[o]=r[o]);return n}function Z8(r){if(typeof Proxy>"u")return r;const t=new Map,s=(...n)=>r(...n);return new Proxy(s,{get:(n,o)=>o==="create"?r:(t.has(o)||t.set(o,r(o)),t.get(o))})}const Wx=N.createContext({});function qx(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}function hd(r){return typeof r=="string"||Array.isArray(r)}const Fg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hg=["initial",...Fg];function Gx(r){return qx(r.animate)||Hg.some(t=>hd(r[t]))}function z6(r){return!!(Gx(r)||r.variants)}function Y8(r,t){if(Gx(r)){const{initial:s,animate:n}=r;return{initial:s===!1||hd(s)?s:void 0,animate:hd(n)?n:void 0}}return r.inherit!==!1?t:{}}function X8(r){const{initial:t,animate:s}=Y8(r,N.useContext(Wx));return N.useMemo(()=>({initial:t,animate:s}),[Dw(t),Dw(s)])}function Dw(r){return Array.isArray(r)?r.join(" "):r}const J8=Symbol.for("motionComponentSymbol");function yl(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function e9(r,t,s){return N.useCallback(n=>{n&&r.onMount&&r.onMount(n),t&&(n?t.mount(n):t.unmount()),s&&(typeof s=="function"?s(n):yl(s)&&(s.current=n))},[t])}const Wg=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),t9="framerAppearId",B6="data-"+Wg(t9),U6=N.createContext({});function r9(r,t,s,n,o){const{visualElement:u}=N.useContext(Wx),c=N.useContext(L6),m=N.useContext(Hx),p=N.useContext(Bg).reducedMotion,v=N.useRef(null);n=n||c.renderer,!v.current&&n&&(v.current=n(r,{visualState:t,parent:u,props:s,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:p}));const T=v.current,P=N.useContext(U6);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&s9(v.current,s,o,P);const A=N.useRef(!1);N.useInsertionEffect(()=>{T&&A.current&&T.update(s,m)});const O=s[B6],k=N.useRef(!!O&&!window.MotionHandoffIsComplete?.(O)&&window.MotionHasOptimisedAnimation?.(O));return Gk(()=>{T&&(A.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),Vg.render(T.render),k.current&&T.animationState&&T.animationState.animateChanges())}),N.useEffect(()=>{T&&(!k.current&&T.animationState&&T.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(O)}),k.current=!1))}),T}function s9(r,t,s,n){const{layoutId:o,layout:u,drag:c,dragConstraints:m,layoutScroll:p,layoutRoot:v,layoutCrossfade:T}=t;r.projection=new s(r.latestValues,t["data-framer-portal-id"]?void 0:F6(r.parent)),r.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||m&&yl(m),visualElement:r,animationType:typeof u=="string"?u:"both",initialPromotionConfig:n,crossfade:T,layoutScroll:p,layoutRoot:v})}function F6(r){if(r)return r.options.allowProjection!==!1?r.projection:F6(r.parent)}function a9({preloadedFeatures:r,createVisualElement:t,useRender:s,useVisualState:n,Component:o}){r&&q8(r);function u(m,p){let v;const T={...N.useContext(Bg),...m,layoutId:n9(m)},{isStatic:P}=T,A=X8(m),O=n(m,P);if(!P&&yg){i9();const k=o9(T);v=k.MeasureLayout,A.visualElement=r9(o,O,T,t,k.ProjectionNode)}return e.jsxs(Wx.Provider,{value:A,children:[v&&A.visualElement?e.jsx(v,{visualElement:A.visualElement,...T}):null,s(o,m,e9(O,A.visualElement,p),O,P,A.visualElement)]})}u.displayName=`motion.${typeof o=="string"?o:`create(${o.displayName??o.name??""})`}`;const c=N.forwardRef(u);return c[J8]=o,c}function n9({layoutId:r}){const t=N.useContext(fg).id;return t&&r!==void 0?t+"-"+r:r}function i9(r,t){N.useContext(L6).strict}function o9(r){const{drag:t,layout:s}=Al;if(!t&&!s)return{};const n={...t,...s};return{MeasureLayout:t?.isEnabled(r)||s?.isEnabled(r)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const pd={};function l9(r){for(const t in r)pd[t]=r[t],Tg(t)&&(pd[t].isCSSVariable=!0)}function H6(r,{layout:t,layoutId:s}){return Gl.has(r)||r.startsWith("origin")||(t||s!==void 0)&&(!!pd[r]||r==="opacity")}const c9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},d9=ql.length;function u9(r,t,s){let n="",o=!0;for(let u=0;u<d9;u++){const c=ql[u],m=r[c];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(c.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||s){const v=$6(m,Lg[c]);if(!p){o=!1;const T=c9[c]||c;n+=`${T}(${v}) `}s&&(t[c]=v)}}return n=n.trim(),s?n=s(t,o?"":n):o&&(n="none"),n}function qg(r,t,s){const{style:n,vars:o,transformOrigin:u}=r;let c=!1,m=!1;for(const p in t){const v=t[p];if(Gl.has(p)){c=!0;continue}else if(Tg(p)){o[p]=v;continue}else{const T=$6(v,Lg[p]);p.startsWith("origin")?(m=!0,u[p]=T):n[p]=T}}if(t.transform||(c||s?n.transform=u9(t,r.transform,s):n.transform&&(n.transform="none")),m){const{originX:p="50%",originY:v="50%",originZ:T=0}=u;n.transformOrigin=`${p} ${v} ${T}`}}const Gg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function W6(r,t,s){for(const n in t)!vs(t[n])&&!H6(n,s)&&(r[n]=t[n])}function x9({transformTemplate:r},t){return N.useMemo(()=>{const s=Gg();return qg(s,t,r),Object.assign({},s.vars,s.style)},[t])}function m9(r,t){const s=r.style||{},n={};return W6(n,s,r),Object.assign(n,x9(r,t)),n}function h9(r,t){const s={},n=m9(r,t);return r.drag&&r.dragListener!==!1&&(s.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(s.tabIndex=0),s.style=n,s}const p9={offset:"stroke-dashoffset",array:"stroke-dasharray"},f9={offset:"strokeDashoffset",array:"strokeDasharray"};function g9(r,t,s=1,n=0,o=!0){r.pathLength=1;const u=o?p9:f9;r[u.offset]=zt.transform(-n);const c=zt.transform(t),m=zt.transform(s);r[u.array]=`${c} ${m}`}function q6(r,{attrX:t,attrY:s,attrScale:n,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...m},p,v,T){if(qg(r,m,v),p){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:P,style:A}=r;P.transform&&(A.transform=P.transform,delete P.transform),(A.transform||P.transformOrigin)&&(A.transformOrigin=P.transformOrigin??"50% 50%",delete P.transformOrigin),A.transform&&(A.transformBox=T?.transformBox??"fill-box",delete P.transformBox),t!==void 0&&(P.x=t),s!==void 0&&(P.y=s),n!==void 0&&(P.scale=n),o!==void 0&&g9(P,o,u,c,!1)}const G6=()=>({...Gg(),attrs:{}}),Q6=r=>typeof r=="string"&&r.toLowerCase()==="svg";function y9(r,t,s,n){const o=N.useMemo(()=>{const u=G6();return q6(u,t,Q6(n),r.transformTemplate,r.style),{...u.attrs,style:{...u.style}}},[t]);if(r.style){const u={};W6(u,r.style,r),o.style={...u,...o.style}}return o}const b9=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qg(r){return typeof r!="string"||r.includes("-")?!1:!!(b9.indexOf(r)>-1||/[A-Z]/u.test(r))}function v9(r=!1){return(s,n,o,{latestValues:u},c)=>{const p=(Qg(s)?y9:h9)(n,u,c,s),v=K8(n,typeof s=="string",r),T=s!==N.Fragment?{...v,...p,ref:o}:{},{children:P}=n,A=N.useMemo(()=>vs(P)?P.get():P,[P]);return N.createElement(s,{...T,children:A})}}function $w(r){const t=[{},{}];return r?.values.forEach((s,n)=>{t[0][n]=s.get(),t[1][n]=s.getVelocity()}),t}function Kg(r,t,s,n){if(typeof t=="function"){const[o,u]=$w(n);t=t(s!==void 0?s:r.custom,o,u)}if(typeof t=="string"&&(t=r.variants&&r.variants[t]),typeof t=="function"){const[o,u]=$w(n);t=t(s!==void 0?s:r.custom,o,u)}return t}function Eu(r){return vs(r)?r.get():r}function j9({scrapeMotionValuesFromProps:r,createRenderState:t},s,n,o){return{latestValues:w9(s,n,o,r),renderState:t()}}const K6=r=>(t,s)=>{const n=N.useContext(Wx),o=N.useContext(Hx),u=()=>j9(r,t,n,o);return s?u():gg(u)};function w9(r,t,s,n){const o={},u=n(r,{});for(const A in u)o[A]=Eu(u[A]);let{initial:c,animate:m}=r;const p=Gx(r),v=z6(r);t&&v&&!p&&r.inherit!==!1&&(c===void 0&&(c=t.initial),m===void 0&&(m=t.animate));let T=s?s.initial===!1:!1;T=T||c===!1;const P=T?m:c;if(P&&typeof P!="boolean"&&!qx(P)){const A=Array.isArray(P)?P:[P];for(let O=0;O<A.length;O++){const k=Kg(r,A[O]);if(k){const{transitionEnd:H,transition:V,...Z}=k;for(const ne in Z){let oe=Z[ne];if(Array.isArray(oe)){const pe=T?oe.length-1:0;oe=oe[pe]}oe!==null&&(o[ne]=oe)}for(const ne in H)o[ne]=H[ne]}}}return o}function Zg(r,t,s){const{style:n}=r,o={};for(const u in n)(vs(n[u])||t.style&&vs(t.style[u])||H6(u,r)||s?.getValue(u)?.liveStyle!==void 0)&&(o[u]=n[u]);return o}const N9={useVisualState:K6({scrapeMotionValuesFromProps:Zg,createRenderState:Gg})};function Z6(r,t,s){const n=Zg(r,t,s);for(const o in r)if(vs(r[o])||vs(t[o])){const u=ql.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;n[u]=r[o]}return n}const k9={useVisualState:K6({scrapeMotionValuesFromProps:Z6,createRenderState:G6})};function S9(r,t){return function(n,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...Qg(n)?k9:N9,preloadedFeatures:r,useRender:v9(o),createVisualElement:t,Component:n};return a9(c)}}function fd(r,t,s){const n=r.getProps();return Kg(n,t,s!==void 0?s:n.custom,r)}const Hp=r=>Array.isArray(r);function T9(r,t,s){r.hasValue(t)?r.getValue(t).set(s):r.addValue(t,_l(s))}function I9(r){return Hp(r)?r[r.length-1]||0:r}function P9(r,t){const s=fd(r,t);let{transitionEnd:n={},transition:o={},...u}=s||{};u={...u,...n};for(const c in u){const m=I9(u[c]);T9(r,c,m)}}function C9(r){return!!(vs(r)&&r.add)}function Wp(r,t){const s=r.getValue("willChange");if(C9(s))return s.add(t);if(!s&&Rn.WillChange){const n=new Rn.WillChange("auto");r.addValue("willChange",n),n.add(t)}}function Y6(r){return r.props[B6]}const E9=r=>r!==null;function D9(r,{repeat:t,repeatType:s="loop"},n){const o=r.filter(E9),u=t&&s!=="loop"&&t%2===1?0:o.length-1;return o[u]}const $9={type:"spring",stiffness:500,damping:25,restSpeed:10},_9=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),A9={type:"keyframes",duration:.8},R9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},M9=(r,{keyframes:t})=>t.length>2?A9:Gl.has(r)?r.startsWith("scale")?_9(t[1]):$9:R9;function O9({when:r,delay:t,delayChildren:s,staggerChildren:n,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:m,from:p,elapsed:v,...T}){return!!Object.keys(T).length}const Yg=(r,t,s,n={},o,u)=>c=>{const m=Og(n,r)||{},p=m.delay||n.delay||0;let{elapsed:v=0}=n;v=v-en(p);const T={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-v,onUpdate:A=>{t.set(A),m.onUpdate&&m.onUpdate(A)},onComplete:()=>{c(),m.onComplete&&m.onComplete()},name:r,motionValue:t,element:u?void 0:o};O9(m)||Object.assign(T,M9(r,T)),T.duration&&(T.duration=en(T.duration)),T.repeatDelay&&(T.repeatDelay=en(T.repeatDelay)),T.from!==void 0&&(T.keyframes[0]=T.from);let P=!1;if((T.type===!1||T.duration===0&&!T.repeatDelay)&&(T.duration=0,T.delay===0&&(P=!0)),(Rn.instantAnimations||Rn.skipAnimations)&&(P=!0,T.duration=0,T.delay=0),T.allowFlatten=!m.type&&!m.ease,P&&!u&&t.get()!==void 0){const A=D9(T.keyframes,m);if(A!==void 0){$r.update(()=>{T.onUpdate(A),T.onComplete()});return}}return m.isSync?new Ag(T):new g8(T)};function L9({protectedKeys:r,needsAnimating:t},s){const n=r.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,n}function X6(r,t,{delay:s=0,transitionOverride:n,type:o}={}){let{transition:u=r.getDefaultTransition(),transitionEnd:c,...m}=t;n&&(u=n);const p=[],v=o&&r.animationState&&r.animationState.getState()[o];for(const T in m){const P=r.getValue(T,r.latestValues[T]??null),A=m[T];if(A===void 0||v&&L9(v,T))continue;const O={delay:s,...Og(u||{},T)},k=P.get();if(k!==void 0&&!P.isAnimating&&!Array.isArray(A)&&A===k&&!O.velocity)continue;let H=!1;if(window.MotionHandoffAnimation){const Z=Y6(r);if(Z){const ne=window.MotionHandoffAnimation(Z,T,$r);ne!==null&&(O.startTime=ne,H=!0)}}Wp(r,T),P.start(Yg(T,P,A,r.shouldReduceMotion&&I6.has(T)?{type:!1}:O,r,H));const V=P.animation;V&&p.push(V)}return c&&Promise.all(p).then(()=>{$r.update(()=>{c&&P9(r,c)})}),p}function qp(r,t,s={}){const n=fd(r,t,s.type==="exit"?r.presenceContext?.custom:void 0);let{transition:o=r.getDefaultTransition()||{}}=n||{};s.transitionOverride&&(o=s.transitionOverride);const u=n?()=>Promise.all(X6(r,n,s)):()=>Promise.resolve(),c=r.variantChildren&&r.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:T,staggerDirection:P}=o;return V9(r,t,v+p,T,P,s)}:()=>Promise.resolve(),{when:m}=o;if(m){const[p,v]=m==="beforeChildren"?[u,c]:[c,u];return p().then(()=>v())}else return Promise.all([u(),c(s.delay)])}function V9(r,t,s=0,n=0,o=1,u){const c=[],m=(r.variantChildren.size-1)*n,p=o===1?(v=0)=>v*n:(v=0)=>m-v*n;return Array.from(r.variantChildren).sort(z9).forEach((v,T)=>{v.notify("AnimationStart",t),c.push(qp(v,t,{...u,delay:s+p(T)}).then(()=>v.notify("AnimationComplete",t)))}),Promise.all(c)}function z9(r,t){return r.sortNodePosition(t)}function B9(r,t,s={}){r.notify("AnimationStart",t);let n;if(Array.isArray(t)){const o=t.map(u=>qp(r,u,s));n=Promise.all(o)}else if(typeof t=="string")n=qp(r,t,s);else{const o=typeof t=="function"?fd(r,t,s.custom):t;n=Promise.all(X6(r,o,s))}return n.then(()=>{r.notify("AnimationComplete",t)})}function J6(r,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==r.length)return!1;for(let n=0;n<s;n++)if(t[n]!==r[n])return!1;return!0}const U9=Hg.length;function e1(r){if(!r)return;if(!r.isControllingVariants){const s=r.parent?e1(r.parent)||{}:{};return r.props.initial!==void 0&&(s.initial=r.props.initial),s}const t={};for(let s=0;s<U9;s++){const n=Hg[s],o=r.props[n];(hd(o)||o===!1)&&(t[n]=o)}return t}const F9=[...Fg].reverse(),H9=Fg.length;function W9(r){return t=>Promise.all(t.map(({animation:s,options:n})=>B9(r,s,n)))}function q9(r){let t=W9(r),s=_w(),n=!0;const o=p=>(v,T)=>{const P=fd(r,T,p==="exit"?r.presenceContext?.custom:void 0);if(P){const{transition:A,transitionEnd:O,...k}=P;v={...v,...k,...O}}return v};function u(p){t=p(r)}function c(p){const{props:v}=r,T=e1(r.parent)||{},P=[],A=new Set;let O={},k=1/0;for(let V=0;V<H9;V++){const Z=F9[V],ne=s[Z],oe=v[Z]!==void 0?v[Z]:T[Z],pe=hd(oe),X=Z===p?ne.isActive:null;X===!1&&(k=V);let ie=oe===T[Z]&&oe!==v[Z]&&pe;if(ie&&n&&r.manuallyAnimateOnMount&&(ie=!1),ne.protectedKeys={...O},!ne.isActive&&X===null||!oe&&!ne.prevProp||qx(oe)||typeof oe=="boolean")continue;const U=G9(ne.prevProp,oe);let h=U||Z===p&&ne.isActive&&!ie&&pe||V>k&&pe,Y=!1;const Q=Array.isArray(oe)?oe:[oe];let ae=Q.reduce(o(Z),{});X===!1&&(ae={});const{prevResolvedValues:le={}}=ne,ee={...le,...ae},K=je=>{h=!0,A.has(je)&&(Y=!0,A.delete(je)),ne.needsAnimating[je]=!0;const Ne=r.getValue(je);Ne&&(Ne.liveStyle=!1)};for(const je in ee){const Ne=ae[je],Ae=le[je];if(O.hasOwnProperty(je))continue;let Ie=!1;Hp(Ne)&&Hp(Ae)?Ie=!J6(Ne,Ae):Ie=Ne!==Ae,Ie?Ne!=null?K(je):A.add(je):Ne!==void 0&&A.has(je)?K(je):ne.protectedKeys[je]=!0}ne.prevProp=oe,ne.prevResolvedValues=ae,ne.isActive&&(O={...O,...ae}),n&&r.blockInitialAnimation&&(h=!1),h&&(!(ie&&U)||Y)&&P.push(...Q.map(je=>({animation:je,options:{type:Z}})))}if(A.size){const V={};if(typeof v.initial!="boolean"){const Z=fd(r,Array.isArray(v.initial)?v.initial[0]:v.initial);Z&&Z.transition&&(V.transition=Z.transition)}A.forEach(Z=>{const ne=r.getBaseTarget(Z),oe=r.getValue(Z);oe&&(oe.liveStyle=!0),V[Z]=ne??null}),P.push({animation:V})}let H=!!P.length;return n&&(v.initial===!1||v.initial===v.animate)&&!r.manuallyAnimateOnMount&&(H=!1),n=!1,H?t(P):Promise.resolve()}function m(p,v){if(s[p].isActive===v)return Promise.resolve();r.variantChildren?.forEach(P=>P.animationState?.setActive(p,v)),s[p].isActive=v;const T=c(p);for(const P in s)s[P].protectedKeys={};return T}return{animateChanges:c,setActive:m,setAnimateFunction:u,getState:()=>s,reset:()=>{s=_w(),n=!0}}}function G9(r,t){return typeof t=="string"?t!==r:Array.isArray(t)?!J6(t,r):!1}function ao(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _w(){return{animate:ao(!0),whileInView:ao(),whileHover:ao(),whileTap:ao(),whileDrag:ao(),whileFocus:ao(),exit:ao()}}class Mi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Q9 extends Mi{constructor(t){super(t),t.animationState||(t.animationState=q9(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();qx(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let K9=0;class Z9 extends Mi{constructor(){super(...arguments),this.id=K9++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const o=this.node.animationState.setActive("exit",!t);s&&!t&&o.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Y9={animation:{Feature:Q9},exit:{Feature:Z9}};function gd(r,t,s,n={passive:!0}){return r.addEventListener(t,s,n),()=>r.removeEventListener(t,s)}function Bd(r){return{point:{x:r.pageX,y:r.pageY}}}const X9=r=>t=>zg(t)&&r(t,Bd(t));function Kc(r,t,s,n){return gd(r,t,X9(s),n)}function t1({top:r,left:t,right:s,bottom:n}){return{x:{min:t,max:s},y:{min:r,max:n}}}function J9({x:r,y:t}){return{top:t.min,right:r.max,bottom:t.max,left:r.min}}function eM(r,t){if(!t)return r;const s=t({x:r.left,y:r.top}),n=t({x:r.right,y:r.bottom});return{top:s.y,left:s.x,bottom:n.y,right:n.x}}const r1=1e-4,tM=1-r1,rM=1+r1,s1=.01,sM=0-s1,aM=0+s1;function Cs(r){return r.max-r.min}function nM(r,t,s){return Math.abs(r-t)<=s}function Aw(r,t,s,n=.5){r.origin=n,r.originPoint=Er(t.min,t.max,r.origin),r.scale=Cs(s)/Cs(t),r.translate=Er(s.min,s.max,r.origin)-r.originPoint,(r.scale>=tM&&r.scale<=rM||isNaN(r.scale))&&(r.scale=1),(r.translate>=sM&&r.translate<=aM||isNaN(r.translate))&&(r.translate=0)}function Zc(r,t,s,n){Aw(r.x,t.x,s.x,n?n.originX:void 0),Aw(r.y,t.y,s.y,n?n.originY:void 0)}function Rw(r,t,s){r.min=s.min+t.min,r.max=r.min+Cs(t)}function iM(r,t,s){Rw(r.x,t.x,s.x),Rw(r.y,t.y,s.y)}function Mw(r,t,s){r.min=t.min-s.min,r.max=r.min+Cs(t)}function Yc(r,t,s){Mw(r.x,t.x,s.x),Mw(r.y,t.y,s.y)}const Ow=()=>({translate:0,scale:1,origin:0,originPoint:0}),bl=()=>({x:Ow(),y:Ow()}),Lw=()=>({min:0,max:0}),Lr=()=>({x:Lw(),y:Lw()});function pa(r){return[r("x"),r("y")]}function Zh(r){return r===void 0||r===1}function Gp({scale:r,scaleX:t,scaleY:s}){return!Zh(r)||!Zh(t)||!Zh(s)}function io(r){return Gp(r)||a1(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function a1(r){return Vw(r.x)||Vw(r.y)}function Vw(r){return r&&r!=="0%"}function lx(r,t,s){const n=r-s,o=t*n;return s+o}function zw(r,t,s,n,o){return o!==void 0&&(r=lx(r,o,n)),lx(r,s,n)+t}function Qp(r,t=0,s=1,n,o){r.min=zw(r.min,t,s,n,o),r.max=zw(r.max,t,s,n,o)}function n1(r,{x:t,y:s}){Qp(r.x,t.translate,t.scale,t.originPoint),Qp(r.y,s.translate,s.scale,s.originPoint)}const Bw=.999999999999,Uw=1.0000000000001;function oM(r,t,s,n=!1){const o=s.length;if(!o)return;t.x=t.y=1;let u,c;for(let m=0;m<o;m++){u=s[m],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(n&&u.options.layoutScroll&&u.scroll&&u!==u.root&&jl(r,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,n1(r,c)),n&&io(u.latestValues)&&jl(r,u.latestValues))}t.x<Uw&&t.x>Bw&&(t.x=1),t.y<Uw&&t.y>Bw&&(t.y=1)}function vl(r,t){r.min=r.min+t,r.max=r.max+t}function Fw(r,t,s,n,o=.5){const u=Er(r.min,r.max,o);Qp(r,t,s,u,n)}function jl(r,t){Fw(r.x,t.x,t.scaleX,t.scale,t.originX),Fw(r.y,t.y,t.scaleY,t.scale,t.originY)}function i1(r,t){return t1(eM(r.getBoundingClientRect(),t))}function lM(r,t,s){const n=i1(r,s),{scroll:o}=t;return o&&(vl(n.x,o.offset.x),vl(n.y,o.offset.y)),n}const o1=({current:r})=>r?r.ownerDocument.defaultView:null,Hw=(r,t)=>Math.abs(r-t);function cM(r,t){const s=Hw(r.x,t.x),n=Hw(r.y,t.y);return Math.sqrt(s**2+n**2)}class l1{constructor(t,s,{transformPagePoint:n,contextWindow:o,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Xh(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,O=cM(P.offset,{x:0,y:0})>=3;if(!A&&!O)return;const{point:k}=P,{timestamp:H}=os;this.history.push({...k,timestamp:H});const{onStart:V,onMove:Z}=this.handlers;A||(V&&V(this.lastMoveEvent,P),this.startEvent=this.lastMoveEvent),Z&&Z(this.lastMoveEvent,P)},this.handlePointerMove=(P,A)=>{this.lastMoveEvent=P,this.lastMoveEventInfo=Yh(A,this.transformPagePoint),$r.update(this.updatePoint,!0)},this.handlePointerUp=(P,A)=>{this.end();const{onEnd:O,onSessionEnd:k,resumeAnimation:H}=this.handlers;if(this.dragSnapToOrigin&&H&&H(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const V=Xh(P.type==="pointercancel"?this.lastMoveEventInfo:Yh(A,this.transformPagePoint),this.history);this.startEvent&&O&&O(P,V),k&&k(P,V)},!zg(t))return;this.dragSnapToOrigin=u,this.handlers=s,this.transformPagePoint=n,this.contextWindow=o||window;const c=Bd(t),m=Yh(c,this.transformPagePoint),{point:p}=m,{timestamp:v}=os;this.history=[{...p,timestamp:v}];const{onSessionStart:T}=s;T&&T(t,Xh(m,this.history)),this.removeListeners=Ld(Kc(this.contextWindow,"pointermove",this.handlePointerMove),Kc(this.contextWindow,"pointerup",this.handlePointerUp),Kc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ei(this.updatePoint)}}function Yh(r,t){return t?{point:t(r.point)}:r}function Ww(r,t){return{x:r.x-t.x,y:r.y-t.y}}function Xh({point:r},t){return{point:r,delta:Ww(r,c1(t)),offset:Ww(r,dM(t)),velocity:uM(t,.1)}}function dM(r){return r[0]}function c1(r){return r[r.length-1]}function uM(r,t){if(r.length<2)return{x:0,y:0};let s=r.length-1,n=null;const o=c1(r);for(;s>=0&&(n=r[s],!(o.timestamp-n.timestamp>en(t)));)s--;if(!n)return{x:0,y:0};const u=tn(o.timestamp-n.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-n.x)/u,y:(o.y-n.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function xM(r,{min:t,max:s},n){return t!==void 0&&r<t?r=n?Er(t,r,n.min):Math.max(r,t):s!==void 0&&r>s&&(r=n?Er(s,r,n.max):Math.min(r,s)),r}function qw(r,t,s){return{min:t!==void 0?r.min+t:void 0,max:s!==void 0?r.max+s-(r.max-r.min):void 0}}function mM(r,{top:t,left:s,bottom:n,right:o}){return{x:qw(r.x,s,o),y:qw(r.y,t,n)}}function Gw(r,t){let s=t.min-r.min,n=t.max-r.max;return t.max-t.min<r.max-r.min&&([s,n]=[n,s]),{min:s,max:n}}function hM(r,t){return{x:Gw(r.x,t.x),y:Gw(r.y,t.y)}}function pM(r,t){let s=.5;const n=Cs(r),o=Cs(t);return o>n?s=ud(t.min,t.max-n,r.min):n>o&&(s=ud(r.min,r.max-o,t.min)),An(0,1,s)}function fM(r,t){const s={};return t.min!==void 0&&(s.min=t.min-r.min),t.max!==void 0&&(s.max=t.max-r.min),s}const Kp=.35;function gM(r=Kp){return r===!1?r=0:r===!0&&(r=Kp),{x:Qw(r,"left","right"),y:Qw(r,"top","bottom")}}function Qw(r,t,s){return{min:Kw(r,t),max:Kw(r,s)}}function Kw(r,t){return typeof r=="number"?r:r[t]||0}const yM=new WeakMap;class bM{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Lr(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const o=T=>{const{dragSnapToOrigin:P}=this.getProps();P?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Bd(T).point)},u=(T,P)=>{const{drag:A,dragPropagation:O,onDragStart:k}=this.getProps();if(A&&!O&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_8(A),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pa(V=>{let Z=this.getAxisMotionValue(V).get()||0;if(rn.test(Z)){const{projection:ne}=this.visualElement;if(ne&&ne.layout){const oe=ne.layout.layoutBox[V];oe&&(Z=Cs(oe)*(parseFloat(Z)/100))}}this.originPoint[V]=Z}),k&&$r.postRender(()=>k(T,P)),Wp(this.visualElement,"transform");const{animationState:H}=this.visualElement;H&&H.setActive("whileDrag",!0)},c=(T,P)=>{const{dragPropagation:A,dragDirectionLock:O,onDirectionLock:k,onDrag:H}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:V}=P;if(O&&this.currentDirection===null){this.currentDirection=vM(V),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",P.point,V),this.updateAxis("y",P.point,V),this.visualElement.render(),H&&H(T,P)},m=(T,P)=>this.stop(T,P),p=()=>pa(T=>this.getAnimationState(T)==="paused"&&this.getAxisMotionValue(T).animation?.play()),{dragSnapToOrigin:v}=this.getProps();this.panSession=new l1(t,{onSessionStart:o,onStart:u,onMove:c,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:v,contextWindow:o1(this.visualElement)})}stop(t,s){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&$r.postRender(()=>u(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,n){const{drag:o}=this.getProps();if(!n||!hu(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(c=xM(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:s}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&yl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=mM(n.layoutBox,t):this.constraints=!1,this.elastic=gM(s),o!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&pa(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=fM(n.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!yl(t))return!1;const n=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=lM(n,o.root,this.visualElement.getTransformPagePoint());let c=hM(o.layout.layoutBox,u);if(s){const m=s(J9(c));this.hasMutatedConstraints=!!m,m&&(c=t1(m))}return c}startAnimation(t){const{drag:s,dragMomentum:n,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},v=pa(T=>{if(!hu(T,s,this.currentDirection))return;let P=p&&p[T]||{};c&&(P={min:0,max:0});const A=o?200:1e6,O=o?40:1e7,k={type:"inertia",velocity:n?t[T]:0,bounceStiffness:A,bounceDamping:O,timeConstant:750,restDelta:1,restSpeed:10,...u,...P};return this.startAxisValueAnimation(T,k)});return Promise.all(v).then(m)}startAxisValueAnimation(t,s){const n=this.getAxisMotionValue(t);return Wp(this.visualElement,t),n.start(Yg(t,n,0,s,this.visualElement,!1))}stopAnimation(){pa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){pa(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),o=n[s];return o||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){pa(s=>{const{drag:n}=this.getProps();if(!hu(s,n,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(s);if(o&&o.layout){const{min:c,max:m}=o.layout.layoutBox[s];u.set(t[s]-Er(c,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:n}=this.visualElement;if(!yl(s)||!n||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};pa(c=>{const m=this.getAxisMotionValue(c);if(m&&this.constraints!==!1){const p=m.get();o[c]=pM({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),pa(c=>{if(!hu(c,t,null))return;const m=this.getAxisMotionValue(c),{min:p,max:v}=this.constraints[c];m.set(Er(p,v,o[c]))})}addListeners(){if(!this.visualElement.current)return;yM.set(this.visualElement,this);const t=this.visualElement.current,s=Kc(t,"pointerdown",p=>{const{drag:v,dragListener:T=!0}=this.getProps();v&&T&&this.start(p)}),n=()=>{const{dragConstraints:p}=this.getProps();yl(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",n);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),$r.read(n);const c=gd(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:v})=>{this.isDragging&&v&&(pa(T=>{const P=this.getAxisMotionValue(T);P&&(this.originPoint[T]+=p[T].translate,P.set(P.get()+p[T].translate))}),this.visualElement.render())}));return()=>{c(),s(),u(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Kp,dragMomentum:m=!0}=t;return{...t,drag:s,dragDirectionLock:n,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:m}}}function hu(r,t,s){return(t===!0||t===r)&&(s===null||s===r)}function vM(r,t=10){let s=null;return Math.abs(r.y)>t?s="y":Math.abs(r.x)>t&&(s="x"),s}class jM extends Mi{constructor(t){super(t),this.removeGroupControls=fa,this.removeListeners=fa,this.controls=new bM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fa}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zw=r=>(t,s)=>{r&&$r.postRender(()=>r(t,s))};class wM extends Mi{constructor(){super(...arguments),this.removePointerDownListener=fa}onPointerDown(t){this.session=new l1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:o1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:n,onPanEnd:o}=this.node.getProps();return{onSessionStart:Zw(t),onStart:Zw(s),onMove:n,onEnd:(u,c)=>{delete this.session,o&&$r.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Kc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Du={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Yw(r,t){return t.max===t.min?0:r/(t.max-t.min)*100}const Dc={correct:(r,t)=>{if(!t.target)return r;if(typeof r=="string")if(zt.test(r))r=parseFloat(r);else return r;const s=Yw(r,t.target.x),n=Yw(r,t.target.y);return`${s}% ${n}%`}},NM={correct:(r,{treeScale:t,projectionDelta:s})=>{const n=r,o=Di.parse(r);if(o.length>5)return n;const u=Di.createTransformer(r),c=typeof o[0]!="number"?1:0,m=s.x.scale*t.x,p=s.y.scale*t.y;o[0+c]/=m,o[1+c]/=p;const v=Er(m,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=v),typeof o[3+c]=="number"&&(o[3+c]/=v),u(o)}};class kM extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n,layoutId:o}=this.props,{projection:u}=t;l9(SM),u&&(s.group&&s.group.add(u),n&&n.register&&o&&n.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),Du.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:n,drag:o,isPresent:u}=this.props,{projection:c}=n;return c&&(c.isPresent=u,o||t.layoutDependency!==s||s===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||$r.postRender(()=>{const m=c.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Vg.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:n}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(o),n&&n.deregister&&n.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function d1(r){const[t,s]=O6(),n=N.useContext(fg);return e.jsx(kM,{...r,layoutGroup:n,switchLayoutGroup:N.useContext(U6),isPresent:t,safeToRemove:s})}const SM={borderRadius:{...Dc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dc,borderTopRightRadius:Dc,borderBottomLeftRadius:Dc,borderBottomRightRadius:Dc,boxShadow:NM};function TM(r,t,s){const n=vs(r)?r:_l(r);return n.start(Yg("",n,t,s)),n.animation}const IM=(r,t)=>r.depth-t.depth;class PM{constructor(){this.children=[],this.isDirty=!1}add(t){bg(this.children,t),this.isDirty=!0}remove(t){vg(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(IM),this.isDirty=!1,this.children.forEach(t)}}function CM(r,t){const s=zs.now(),n=({timestamp:o})=>{const u=o-s;u>=t&&(Ei(n),r(u-t))};return $r.setup(n,!0),()=>Ei(n)}const u1=["TopLeft","TopRight","BottomLeft","BottomRight"],EM=u1.length,Xw=r=>typeof r=="string"?parseFloat(r):r,Jw=r=>typeof r=="number"||zt.test(r);function DM(r,t,s,n,o,u){o?(r.opacity=Er(0,s.opacity??1,$M(n)),r.opacityExit=Er(t.opacity??1,0,_M(n))):u&&(r.opacity=Er(t.opacity??1,s.opacity??1,n));for(let c=0;c<EM;c++){const m=`border${u1[c]}Radius`;let p=eN(t,m),v=eN(s,m);if(p===void 0&&v===void 0)continue;p||(p=0),v||(v=0),p===0||v===0||Jw(p)===Jw(v)?(r[m]=Math.max(Er(Xw(p),Xw(v),n),0),(rn.test(v)||rn.test(p))&&(r[m]+="%")):r[m]=v}(t.rotate||s.rotate)&&(r.rotate=Er(t.rotate||0,s.rotate||0,n))}function eN(r,t){return r[t]!==void 0?r[t]:r.borderRadius}const $M=x1(0,.5,a6),_M=x1(.5,.95,fa);function x1(r,t,s){return n=>n<r?0:n>t?1:s(ud(r,t,n))}function tN(r,t){r.min=t.min,r.max=t.max}function ha(r,t){tN(r.x,t.x),tN(r.y,t.y)}function rN(r,t){r.translate=t.translate,r.scale=t.scale,r.originPoint=t.originPoint,r.origin=t.origin}function sN(r,t,s,n,o){return r-=t,r=lx(r,1/s,n),o!==void 0&&(r=lx(r,1/o,n)),r}function AM(r,t=0,s=1,n=.5,o,u=r,c=r){if(rn.test(t)&&(t=parseFloat(t),t=Er(c.min,c.max,t/100)-c.min),typeof t!="number")return;let m=Er(u.min,u.max,n);r===u&&(m-=t),r.min=sN(r.min,t,s,m,o),r.max=sN(r.max,t,s,m,o)}function aN(r,t,[s,n,o],u,c){AM(r,t[s],t[n],t[o],t.scale,u,c)}const RM=["x","scaleX","originX"],MM=["y","scaleY","originY"];function nN(r,t,s,n){aN(r.x,t,RM,s?s.x:void 0,n?n.x:void 0),aN(r.y,t,MM,s?s.y:void 0,n?n.y:void 0)}function iN(r){return r.translate===0&&r.scale===1}function m1(r){return iN(r.x)&&iN(r.y)}function oN(r,t){return r.min===t.min&&r.max===t.max}function OM(r,t){return oN(r.x,t.x)&&oN(r.y,t.y)}function lN(r,t){return Math.round(r.min)===Math.round(t.min)&&Math.round(r.max)===Math.round(t.max)}function h1(r,t){return lN(r.x,t.x)&&lN(r.y,t.y)}function cN(r){return Cs(r.x)/Cs(r.y)}function dN(r,t){return r.translate===t.translate&&r.scale===t.scale&&r.originPoint===t.originPoint}class LM{constructor(){this.members=[]}add(t){bg(this.members,t),t.scheduleRender()}remove(t){if(vg(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(o=>t===o);if(s===0)return!1;let n;for(let o=s;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){n=u;break}}return n?(this.promote(n),!0):!1}promote(t,s){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,s&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:n}=t;s.onExitComplete&&s.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function VM(r,t,s){let n="";const o=r.x.translate/t.x,u=r.y.translate/t.y,c=s?.z||0;if((o||u||c)&&(n=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:v,rotate:T,rotateX:P,rotateY:A,skewX:O,skewY:k}=s;v&&(n=`perspective(${v}px) ${n}`),T&&(n+=`rotate(${T}deg) `),P&&(n+=`rotateX(${P}deg) `),A&&(n+=`rotateY(${A}deg) `),O&&(n+=`skewX(${O}deg) `),k&&(n+=`skewY(${k}deg) `)}const m=r.x.scale*t.x,p=r.y.scale*t.y;return(m!==1||p!==1)&&(n+=`scale(${m}, ${p})`),n||"none"}const Jh=["","X","Y","Z"],zM={visibility:"hidden"},BM=1e3;let UM=0;function ep(r,t,s,n){const{latestValues:o}=t;o[r]&&(s[r]=o[r],t.setStaticValue(r,0),n&&(n[r]=0))}function p1(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:t}=r.options;if(!t)return;const s=Y6(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:o,layoutId:u}=r.options;window.MotionCancelOptimisedAnimation(s,"transform",$r,!(o||u))}const{parent:n}=r;n&&!n.hasCheckedOptimisedAppear&&p1(n)}function f1({attachResizeListener:r,defaultParent:t,measureScroll:s,checkIsScrollRoot:n,resetTransform:o}){return class{constructor(c={},m=t?.()){this.id=UM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(WM),this.nodes.forEach(ZM),this.nodes.forEach(YM),this.nodes.forEach(qM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new PM)}addEventListener(c,m){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Ng),this.eventHandlers.get(c).add(m)}notifyListeners(c,...m){const p=this.eventHandlers.get(c);p&&p.notify(...m)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=M6(c)&&!V8(c),this.instance=c;const{layoutId:m,layout:p,visualElement:v}=this.options;if(v&&!v.current&&v.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||m)&&(this.isLayoutDirty=!0),r){let T;const P=()=>this.root.updateBlockedByResize=!1;r(c,()=>{this.root.updateBlockedByResize=!0,T&&T(),T=CM(P,250),Du.hasAnimatedSinceResize&&(Du.hasAnimatedSinceResize=!1,this.nodes.forEach(xN))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&v&&(m||p)&&this.addEventListener("didUpdate",({delta:T,hasLayoutChanged:P,hasRelativeLayoutChanged:A,layout:O})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||v.getDefaultTransition()||rO,{onLayoutAnimationStart:H,onLayoutAnimationComplete:V}=v.getProps(),Z=!this.targetLayout||!h1(this.targetLayout,O),ne=!P&&A;if(this.options.layoutRoot||this.resumeFrom||ne||P&&(Z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(T,ne);const oe={...Og(k,"layout"),onPlay:H,onComplete:V};(v.shouldReduceMotion||this.options.layoutRoot)&&(oe.delay=0,oe.type=!1),this.startAnimation(oe)}else P||xN(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=O})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ei(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XM),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&p1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let T=0;T<this.path.length;T++){const P=this.path[T];P.shouldResetTransform=!0,P.updateScroll("snapshot"),P.options.layoutRoot&&P.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uN);return}this.isUpdating||this.nodes.forEach(QM),this.isUpdating=!1,this.nodes.forEach(KM),this.nodes.forEach(FM),this.nodes.forEach(HM),this.clearAllSnapshots();const m=zs.now();os.delta=An(0,1e3/60,m-os.timestamp),os.timestamp=m,os.isProcessing=!0,Hh.update.process(os),Hh.preRender.process(os),Hh.render.process(os),os.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(GM),this.sharedNodes.forEach(JM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$r.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$r.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Cs(this.snapshot.measuredBox.x)&&!Cs(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Lr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(m=!1),m&&this.instance){const p=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!m1(this.projectionDelta),p=this.getTransformTemplate(),v=p?p(this.latestValues,""):void 0,T=v!==this.prevTransformTemplateValue;c&&this.instance&&(m||io(this.latestValues)||T)&&(o(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return c&&(p=this.removeTransform(p)),sO(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Lr();const m=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(aO))){const{scroll:v}=this.root;v&&(vl(m.x,v.offset.x),vl(m.y,v.offset.y))}return m}removeElementScroll(c){const m=Lr();if(ha(m,c),this.scroll?.wasRoot)return m;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:T,options:P}=v;v!==this.root&&T&&P.layoutScroll&&(T.wasRoot&&ha(m,c),vl(m.x,T.offset.x),vl(m.y,T.offset.y))}return m}applyTransform(c,m=!1){const p=Lr();ha(p,c);for(let v=0;v<this.path.length;v++){const T=this.path[v];!m&&T.options.layoutScroll&&T.scroll&&T!==T.root&&jl(p,{x:-T.scroll.offset.x,y:-T.scroll.offset.y}),io(T.latestValues)&&jl(p,T.latestValues)}return io(this.latestValues)&&jl(p,this.latestValues),p}removeTransform(c){const m=Lr();ha(m,c);for(let p=0;p<this.path.length;p++){const v=this.path[p];if(!v.instance||!io(v.latestValues))continue;Gp(v.latestValues)&&v.updateSnapshot();const T=Lr(),P=v.measurePageBox();ha(T,P),nN(m,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,T)}return io(this.latestValues)&&nN(m,this.latestValues),m}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==os.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:T,layoutId:P}=this.options;if(!(!this.layout||!(T||P))){if(this.resolvedRelativeTargetAt=os.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lr(),this.relativeTargetOrigin=Lr(),Yc(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),ha(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Lr(),this.targetWithTransforms=Lr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ha(this.target,this.layout.layoutBox),n1(this.target,this.targetDelta)):ha(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lr(),this.relativeTargetOrigin=Lr(),Yc(this.relativeTargetOrigin,this.target,A.target),ha(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gp(this.parent.latestValues)||a1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),m=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===os.timestamp&&(p=!1),p)return;const{layout:v,layoutId:T}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||T))return;ha(this.layoutCorrected,this.layout.layoutBox);const P=this.treeScale.x,A=this.treeScale.y;oM(this.layoutCorrected,this.treeScale,this.path,m),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Lr());const{target:O}=c;if(!O){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rN(this.prevProjectionDelta.x,this.projectionDelta.x),rN(this.prevProjectionDelta.y,this.projectionDelta.y)),Zc(this.projectionDelta,this.layoutCorrected,O,this.latestValues),(this.treeScale.x!==P||this.treeScale.y!==A||!dN(this.projectionDelta.x,this.prevProjectionDelta.x)||!dN(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",O))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bl(),this.projectionDelta=bl(),this.projectionDeltaWithTransform=bl()}setAnimationOrigin(c,m=!1){const p=this.snapshot,v=p?p.latestValues:{},T={...this.latestValues},P=bl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const A=Lr(),O=p?p.source:void 0,k=this.layout?this.layout.source:void 0,H=O!==k,V=this.getStack(),Z=!V||V.members.length<=1,ne=!!(H&&!Z&&this.options.crossfade===!0&&!this.path.some(tO));this.animationProgress=0;let oe;this.mixTargetDelta=pe=>{const X=pe/1e3;mN(P.x,c.x,X),mN(P.y,c.y,X),this.setTargetDelta(P),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yc(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eO(this.relativeTarget,this.relativeTargetOrigin,A,X),oe&&OM(this.relativeTarget,oe)&&(this.isProjectionDirty=!1),oe||(oe=Lr()),ha(oe,this.relativeTarget)),H&&(this.animationValues=T,DM(T,v,this.latestValues,X,ne,Z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(!1),this.resumingFrom?.currentAnimation?.stop(!1),this.pendingAnimation&&(Ei(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$r.update(()=>{Du.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_l(0)),this.currentAnimation=TM(this.motionValue,[0,1e3],{...c,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),c.onUpdate&&c.onUpdate(m)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(BM),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:m,target:p,layout:v,latestValues:T}=c;if(!(!m||!p||!v)){if(this!==c&&this.layout&&v&&g1(this.options.animationType,this.layout.layoutBox,v.layoutBox)){p=this.target||Lr();const P=Cs(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+P;const A=Cs(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+A}ha(m,p),jl(m,T),Zc(this.projectionDeltaWithTransform,this.layoutCorrected,m,T)}}registerSharedNode(c,m){this.sharedNodes.has(c)||this.sharedNodes.set(c,new LM),this.sharedNodes.get(c).add(m);const v=m.options.initialPromotionConfig;m.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(m):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:m,preserveFollowOpacity:p}={}){const v=this.getStack();v&&v.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let m=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const v={};p.z&&ep("z",c,v,this.animationValues);for(let T=0;T<Jh.length;T++)ep(`rotate${Jh[T]}`,c,v,this.animationValues),ep(`skew${Jh[T]}`,c,v,this.animationValues);c.render();for(const T in v)c.setStaticValue(T,v[T]),this.animationValues&&(this.animationValues[T]=v[T]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return zM;const m={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Eu(c?.pointerEvents)||"",m.transform=p?p(this.latestValues,""):"none",m;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const O={};return this.options.layoutId&&(O.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,O.pointerEvents=Eu(c?.pointerEvents)||""),this.hasProjected&&!io(this.latestValues)&&(O.transform=p?p({},""):"none",this.hasProjected=!1),O}const T=v.animationValues||v.latestValues;this.applyTransformsToTarget(),m.transform=VM(this.projectionDeltaWithTransform,this.treeScale,T),p&&(m.transform=p(T,m.transform));const{x:P,y:A}=this.projectionDelta;m.transformOrigin=`${P.origin*100}% ${A.origin*100}% 0`,v.animationValues?m.opacity=v===this?T.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:m.opacity=v===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const O in pd){if(T[O]===void 0)continue;const{correct:k,applyTo:H,isCSSVariable:V}=pd[O],Z=m.transform==="none"?T[O]:k(T[O],v);if(H){const ne=H.length;for(let oe=0;oe<ne;oe++)m[H[oe]]=Z}else V?this.options.visualElement.renderState.vars[O]=Z:m[O]=Z}return this.options.layoutId&&(m.pointerEvents=v===this?Eu(c?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop(!1)),this.root.nodes.forEach(uN),this.root.sharedNodes.clear()}}}function FM(r){r.updateLayout()}function HM(r){const t=r.resumeFrom?.snapshot||r.snapshot;if(r.isLead()&&r.layout&&t&&r.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:n}=r.layout,{animationType:o}=r.options,u=t.source!==r.layout.source;o==="size"?pa(T=>{const P=u?t.measuredBox[T]:t.layoutBox[T],A=Cs(P);P.min=s[T].min,P.max=P.min+A}):g1(o,t.layoutBox,s)&&pa(T=>{const P=u?t.measuredBox[T]:t.layoutBox[T],A=Cs(s[T]);P.max=P.min+A,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[T].max=r.relativeTarget[T].min+A)});const c=bl();Zc(c,s,t.layoutBox);const m=bl();u?Zc(m,r.applyTransform(n,!0),t.measuredBox):Zc(m,s,t.layoutBox);const p=!m1(c);let v=!1;if(!r.resumeFrom){const T=r.getClosestProjectingParent();if(T&&!T.resumeFrom){const{snapshot:P,layout:A}=T;if(P&&A){const O=Lr();Yc(O,t.layoutBox,P.layoutBox);const k=Lr();Yc(k,s,A.layoutBox),h1(O,k)||(v=!0),T.options.layoutRoot&&(r.relativeTarget=k,r.relativeTargetOrigin=O,r.relativeParent=T)}}}r.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:m,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(r.isLead()){const{onExitComplete:s}=r.options;s&&s()}r.options.transition=void 0}function WM(r){r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function qM(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function GM(r){r.clearSnapshot()}function uN(r){r.clearMeasurements()}function QM(r){r.isLayoutDirty=!1}function KM(r){const{visualElement:t}=r.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),r.resetTransform()}function xN(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function ZM(r){r.resolveTargetDelta()}function YM(r){r.calcProjection()}function XM(r){r.resetSkewAndRotation()}function JM(r){r.removeLeadSnapshot()}function mN(r,t,s){r.translate=Er(t.translate,0,s),r.scale=Er(t.scale,1,s),r.origin=t.origin,r.originPoint=t.originPoint}function hN(r,t,s,n){r.min=Er(t.min,s.min,n),r.max=Er(t.max,s.max,n)}function eO(r,t,s,n){hN(r.x,t.x,s.x,n),hN(r.y,t.y,s.y,n)}function tO(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const rO={duration:.45,ease:[.4,0,.1,1]},pN=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),fN=pN("applewebkit/")&&!pN("chrome/")?Math.round:fa;function gN(r){r.min=fN(r.min),r.max=fN(r.max)}function sO(r){gN(r.x),gN(r.y)}function g1(r,t,s){return r==="position"||r==="preserve-aspect"&&!nM(cN(t),cN(s),.2)}function aO(r){return r!==r.root&&r.scroll?.wasRoot}const nO=f1({attachResizeListener:(r,t)=>gd(r,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),tp={current:void 0},y1=f1({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!tp.current){const r=new nO({});r.mount(window),r.setOptions({layoutScroll:!0}),tp.current=r}return tp.current},resetTransform:(r,t)=>{r.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),iO={pan:{Feature:wM},drag:{Feature:jM,ProjectionNode:y1,MeasureLayout:d1}};function yN(r,t,s){const{props:n}=r;r.animationState&&n.whileHover&&r.animationState.setActive("whileHover",s==="Start");const o="onHover"+s,u=n[o];u&&$r.postRender(()=>u(t,Bd(t)))}class oO extends Mi{mount(){const{current:t}=this.node;t&&(this.unmount=A8(t,(s,n)=>(yN(this.node,n,"Start"),o=>yN(this.node,o,"End"))))}unmount(){}}class lO extends Mi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ld(gd(this.node.current,"focus",()=>this.onFocus()),gd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function bN(r,t,s){const{props:n}=r;if(r.current instanceof HTMLButtonElement&&r.current.disabled)return;r.animationState&&n.whileTap&&r.animationState.setActive("whileTap",s==="Start");const o="onTap"+(s==="End"?"":s),u=n[o];u&&$r.postRender(()=>u(t,Bd(t)))}class cO extends Mi{mount(){const{current:t}=this.node;t&&(this.unmount=L8(t,(s,n)=>(bN(this.node,n,"Start"),(o,{success:u})=>bN(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Zp=new WeakMap,rp=new WeakMap,dO=r=>{const t=Zp.get(r.target);t&&t(r)},uO=r=>{r.forEach(dO)};function xO({root:r,...t}){const s=r||document;rp.has(s)||rp.set(s,{});const n=rp.get(s),o=JSON.stringify(t);return n[o]||(n[o]=new IntersectionObserver(uO,{root:r,...t})),n[o]}function mO(r,t,s){const n=xO(t);return Zp.set(r,s),n.observe(r),()=>{Zp.delete(r),n.unobserve(r)}}const hO={some:0,all:1};class pO extends Mi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:n,amount:o="some",once:u}=t,c={root:s?s.current:void 0,rootMargin:n,threshold:typeof o=="number"?o:hO[o]},m=p=>{const{isIntersecting:v}=p;if(this.isInView===v||(this.isInView=v,u&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:T,onViewportLeave:P}=this.node.getProps(),A=v?T:P;A&&A(p)};return mO(this.node.current,c,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(fO(t,s))&&this.startObserver()}unmount(){}}function fO({viewport:r={}},{viewport:t={}}={}){return s=>r[s]!==t[s]}const gO={inView:{Feature:pO},tap:{Feature:cO},focus:{Feature:lO},hover:{Feature:oO}},yO={layout:{ProjectionNode:y1,MeasureLayout:d1}},Yp={current:null},b1={current:!1};function bO(){if(b1.current=!0,!!yg)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),t=()=>Yp.current=r.matches;r.addListener(t),t()}else Yp.current=!1}const vO=new WeakMap;function jO(r,t,s){for(const n in t){const o=t[n],u=s[n];if(vs(o))r.addValue(n,o);else if(vs(u))r.addValue(n,_l(o,{owner:r}));else if(u!==o)if(r.hasValue(n)){const c=r.getValue(n);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=r.getStaticValue(n);r.addValue(n,_l(c!==void 0?c:o,{owner:r}))}}for(const n in s)t[n]===void 0&&r.removeValue(n);return t}const vN=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wO{scrapeMotionValuesFromProps(t,s,n){return{}}constructor({parent:t,props:s,presenceContext:n,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Rg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=zs.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,$r.render(this.render,!1,!0))};const{latestValues:p,renderState:v}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=s.initial?{...p}:{},this.renderState=v,this.parent=t,this.props=s,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Gx(s),this.isVariantNode=z6(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:T,...P}=this.scrapeMotionValuesFromProps(s,{},this);for(const A in P){const O=P[A];p[A]!==void 0&&vs(O)&&O.set(p[A],!1)}}mount(t){this.current=t,vO.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,n)=>this.bindToMotionValue(n,s)),b1.current||bO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ei(this.notifyUpdate),Ei(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Gl.has(t);n&&this.onBindTransform&&this.onBindTransform();const o=s.on("change",m=>{this.latestValues[t]=m,this.props.onUpdate&&$r.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),u=s.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{o(),u(),c&&c(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Al){const s=Al[t];if(!s)continue;const{isEnabled:n,Feature:o}=s;if(!this.features[t]&&o&&n(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Lr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let n=0;n<vN.length;n++){const o=vN[n];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=jO(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const n=this.values.get(t);s!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&s!==void 0&&(n=_l(s===null?void 0:s,{owner:this}),this.addValue(t,n)),n}readValue(t,s){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Qk(n)||Zk(n))?n=parseFloat(n):!B8(n)&&Di.test(s)&&(n=D6(t,s)),this.setBaseTarget(t,vs(n)?n.get():n)),vs(n)?n.get():n}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){const{initial:s}=this.props;let n;if(typeof s=="string"||typeof s=="object"){const u=Kg(this.props,s,this.presenceContext?.custom);u&&(n=u[t])}if(s&&n!==void 0)return n;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!vs(o)?o:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Ng),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class v1 extends wO{constructor(){super(...arguments),this.KeyframeResolver=C8}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:n}){delete s[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;vs(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function j1(r,{style:t,vars:s},n,o){Object.assign(r.style,t,o&&o.getProjectionStyles(n));for(const u in s)r.style.setProperty(u,s[u])}function NO(r){return window.getComputedStyle(r)}class kO extends v1{constructor(){super(...arguments),this.type="html",this.renderInstance=j1}readValueFromInstance(t,s){if(Gl.has(s))return this.projection?.isProjecting?Lp(s):QR(t,s);{const n=NO(t),o=(Tg(s)?n.getPropertyValue(s):n[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:s}){return i1(t,s)}build(t,s,n){qg(t,s,n.transformTemplate)}scrapeMotionValuesFromProps(t,s,n){return Zg(t,s,n)}}const w1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function SO(r,t,s,n){j1(r,t,void 0,n);for(const o in t.attrs)r.setAttribute(w1.has(o)?o:Wg(o),t.attrs[o])}class TO extends v1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Lr}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(Gl.has(s)){const n=E6(s);return n&&n.default||0}return s=w1.has(s)?s:Wg(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,n){return Z6(t,s,n)}build(t,s,n){q6(t,s,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,s,n,o){SO(t,s,n,o)}mount(t){this.isSVGTag=Q6(t.tagName),super.mount(t)}}const IO=(r,t)=>Qg(r)?new TO(t):new kO(t,{allowProjection:r!==N.Fragment}),PO=S9({...Y9,...gO,...iO,...yO},IO),j=Z8(PO);var N1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jN=gi.createContext&&gi.createContext(N1),CO=["attr","size","title"];function EO(r,t){if(r==null)return{};var s=DO(r,t),n,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)n=u[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(s[n]=r[n])}return s}function DO(r,t){if(r==null)return{};var s={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(t.indexOf(n)>=0)continue;s[n]=r[n]}return s}function cx(){return cx=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])}return r},cx.apply(this,arguments)}function wN(r,t){var s=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),s.push.apply(s,n)}return s}function dx(r){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(s),!0).forEach(function(n){$O(r,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(s)):wN(Object(s)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(s,n))})}return r}function $O(r,t,s){return t=_O(t),t in r?Object.defineProperty(r,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[t]=s,r}function _O(r){var t=AO(r,"string");return typeof t=="symbol"?t:t+""}function AO(r,t){if(typeof r!="object"||!r)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var n=s.call(r,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function k1(r){return r&&r.map((t,s)=>gi.createElement(t.tag,dx({key:s},t.attr),k1(t.child)))}function jt(r){return t=>gi.createElement(RO,cx({attr:dx({},r.attr)},t),k1(r.child))}function RO(r){var t=s=>{var{attr:n,size:o,title:u}=r,c=EO(r,CO),m=o||s.size||"1em",p;return s.className&&(p=s.className),r.className&&(p=(p?p+" ":"")+r.className),gi.createElement("svg",cx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,n,c,{className:p,style:dx(dx({color:r.color||s.color},s.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&gi.createElement("title",null,u),r.children)};return jN!==void 0?gi.createElement(jN.Consumer,null,s=>t(s)):t(N1)}function MO(r){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(r)}function Xp(r){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(r)}function NN(r){return jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M150.94 192h33.73c11.01 0 18.61-10.83 14.86-21.18-4.93-13.58-7.55-27.98-7.55-42.82s2.62-29.24 7.55-42.82C203.29 74.83 195.68 64 184.67 64h-33.73c-7.01 0-13.46 4.49-15.41 11.23C130.64 92.21 128 109.88 128 128c0 18.12 2.64 35.79 7.54 52.76 1.94 6.74 8.39 11.24 15.4 11.24zM89.92 23.34C95.56 12.72 87.97 0 75.96 0H40.63c-6.27 0-12.14 3.59-14.74 9.31C9.4 45.54 0 85.65 0 128c0 24.75 3.12 68.33 26.69 118.86 2.62 5.63 8.42 9.14 14.61 9.14h34.84c12.02 0 19.61-12.74 13.95-23.37-49.78-93.32-16.71-178.15-.17-209.29zM614.06 9.29C611.46 3.58 605.6 0 599.33 0h-35.42c-11.98 0-19.66 12.66-14.02 23.25 18.27 34.29 48.42 119.42.28 209.23-5.72 10.68 1.8 23.52 13.91 23.52h35.23c6.27 0 12.13-3.58 14.73-9.29C630.57 210.48 640 170.36 640 128s-9.42-82.48-25.94-118.71zM489.06 64h-33.73c-11.01 0-18.61 10.83-14.86 21.18 4.93 13.58 7.55 27.98 7.55 42.82s-2.62 29.24-7.55 42.82c-3.76 10.35 3.85 21.18 14.86 21.18h33.73c7.02 0 13.46-4.49 15.41-11.24 4.9-16.97 7.53-34.64 7.53-52.76 0-18.12-2.64-35.79-7.54-52.76-1.94-6.75-8.39-11.24-15.4-11.24zm-116.3 100.12c7.05-10.29 11.2-22.71 11.2-36.12 0-35.35-28.63-64-63.96-64-35.32 0-63.96 28.65-63.96 64 0 13.41 4.15 25.83 11.2 36.12l-130.5 313.41c-3.4 8.15.46 17.52 8.61 20.92l29.51 12.31c8.15 3.4 17.52-.46 20.91-8.61L244.96 384h150.07l49.2 118.15c3.4 8.16 12.76 12.01 20.91 8.61l29.51-12.31c8.15-3.4 12-12.77 8.61-20.92l-130.5-313.41zM271.62 320L320 203.81 368.38 320h-96.76z"},child:[]}]})(r)}function OO(r){return jt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(r)}function LO(r){return jt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(r)}function kN(r){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"},child:[]}]})(r)}function or(r){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(r)}function Jp(r){return jt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM160 368c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16V240c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v128zm96 0c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16V144c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v224zm96 0c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-64c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v64z"},child:[]}]})(r)}function Vc(r){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(r)}function ux(r){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(r)}function SN(r){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(r)}function lr(r){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(r)}function TN(r){return jt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(r)}function Xc(r){return jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(r)}const qt="/assets/logo-De5OXJah.png",VO="/assets/brooklyn99-DYJUH8Km.png",zO="/assets/stranger-things-DRcF_wqM.png",BO="/assets/breaking-bad-D1E4kgVP.png",UO="/assets/naruto-DUa7in8u.png",FO="/assets/alice-CeDQ0_3e.png",HO="/assets/netflix-DaHLFMJQ.png",WO="/assets/spotify-bWcpnvLH.png",qO="/assets/disney-CWU7DV5v.png",GO="/assets/max-BIVycyRg.png",QO="/assets/prime-video-DdoTjLXc.png",KO="/assets/vix-DijISFtY.png",ZO="/assets/Canva-BX7ku0VE.png",YO="/assets/ChatGPT-B_s2moDj.png",XO="/assets/crunchyroll-CCcWGZHz.png",JO="/assets/redessociales-C9h9bjwL.png",eL="/assets/dgo-BPXOpsxd.png",tL="/assets/ligamax-DG6Hz7Oj.png",rL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAB4CAYAAADblO/uAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACnFJREFUeNrsnd912zYbh+Gc3FedoPQEVSYINUHUm+bS0gS2JlA8ga0JrF7qyvYElieIMkHYCapvAn+EQEb2sUgR1AsSIJ/nHKU9jkOKIH54/+AFcPby8qIAoNucIXQAhA4ACB0AEDoAIHQAQOgAgNABAKEDAEIHQOgAgNABAKEDAEIHAIQOAAgdABA6ACB0AIQOAAgdABA6AHRX6GdnZ7RiVVZJlP45Tj+D9PM5++k2/fxIPxv1NXqgkeA1UoYYoTcj8En652X6GR75TS36Rfq5TUW/peEAoYchcG29b9JPZPkvk/QzTcW+phEROkL3V+DaNb/L3PRT0GJf0qAIHaH7KfKnCm46YgeEjsjf8CkV+4YGRugIvbsiz2P2TyToEHpdPtCUYtw4ErkmSj9XNDGEadHNvLL+xK9+qq3WJqiMs8mu3zdwp/O0XRK6LRbdf6EbF1dbpwt1fNpJF5AsvBa9eZ6fyhTBuGaZtsWU7o/Q/Rb6KvmmTOGIrSi04KdexqjmmeYN3vF3YnWE7qfQZRJV2mX9y6vsc7PWPGeWtsEtEkDofgl9lQwzkUuIQVuykTdiXyU6BLlp+K5J+vznne7dxks6FLYkCN1HobuxeP6IfZX8VPblrRJ0e159lRzqlKM+lgRLCf2j4+/5pOTdWhMGrJJ2xW4WqkQt3V0nMjeOnitWb2dB6rDeDcgU+XjDR4dCcDmvrMV+n96jzSKSixbf23gXq7tBi/zU5OI86wPbTPSPlPG2ywdHItedxXWBR6SambsuyjvELb63KKtB8J1BNijdpd/3v8wLgs4IvbnpprggceOaSw/e3TiwvjbIBH+f5W4gaKHLxHh2g4qxsE1Z84EnIvscaJ9rqooQHMfo8xaeQ6/9/tTQvSaq2Xnzsli6Scqz3vty5igbhMYl7WQ8sa/RNyQYokVvL3YdZsm/vrjtxhX2KU7Xc9x6INBJN1Omq+f6b0vbERc+WNe9zUz0VRY2uHTbY9XelNrhAc5X9GzI10jPDExLYnZW5AUq9EnLz+Paql949v6G3vcwM61WtLvtFyQYmtCNtRu03vFdZeGNmznx7P2FkpC7LnlfuO+BWXRfRmdXWfiJh+8vDJGYCrkkWK+kA0hm3WOPnku78CPha156+P5CEokWetToYPU2ZzPI2stsbJJ/p54slPko1KADzzpdvKvCkiq79C8J9/q7RYF01ucCYzAsieFt39GX7HrDygNI3TLdw/UiSe0+V3Q9vWrPI4vuo2W5SRvvQagWXjoJpzvWIvtvXoAzr2ndohK3uE9okdTJ4uftP077i34Hs4pHY8Xqfc3I+gRhSl/PSYwee/ji80MUTreYsvG57kijXWcyU1BJtpHEuXK1Ig1sBs37lsqqnSIldF+zv2OBhRSSIp8W7g5jPI86K9LiQPpaUR/xcXCbZxt+EqMfGAl9Rbvwm1pro401nwuKvNwN05Vlq2QdkHhtPaxDSC4zXqv96bTbkkEkP812XNJ373bvoiP78/VB6KdsVCG1+GJpkaR57JzQy5O1Mhbdvm7+YedBFW8Hlsfuyy68gg8CLzGETpmLfVy5Y66SOyWTZEwsXfIuxulXhW3TtsU0oVTR++lM5V6fTmrJd6W5K63GMgPXk2Bsfm3ZmW07vt/VcaatL0usavsYsScH/qYzxTwSrntojTHZffTUm5nbzS1orPbzsHIxo+28qg4vVkmXXPayfQP/8ejbPhzwPCKE/tZShshYud9A4lr1kf3mHDcl/WPt2eaR/3b5lXxU4IpNx7YnvqiQj/kt84iO/Z4OT6bevS+EDjVYdOx5JoLXmnJYZH+Ens9z+lYnL/NsbG9cbMmrlZhKhxPHvIwhQpdHi2D2KxttXsJ9wPH+oeer2yG72uHevnO3otb5gc8VwwgsuiOSd0f/moowvaz0qSNiP8Vtt31+n2PLtTIFQA+NuOqm3FlXMkZIu32hHxaBmVbShQt3gbfppuH4838N3WdmMag0u87bZPlvlJ+bg/RW6MWdRce1q0TPZYe8oODUJJyvHo3Pswh3Fn1mXdLuQ4Qux7EYbZbFVaG68KcmmobC7dltjLs+LjEqi2yQ2hy5TpyFjghdKEYs75ja5VslC9XOQRCni7z52u2+r2GfFxqMoiXBPUSi1t22Y0dHf8OsREoCbM9HgWv8SbesbM2HBf1picjlhe5KkLMA21NiftguZOlW9Z0tRS77NdKWFrp9djWueF0tmnVQIpdx222EvqULi/RJKaLuCt1gI0gb1zQkq/4odB2bZBx7zPlF54WeOOnIJlO67JHb7kvYBPXzBlGXhf7DatSza4xZAC7qpqWdUn70XFbbArGNG3nnh5l0Wei2LmRc+TeNgHxfCdbWBgp9d92LQsY6U7ORUNtfWq9XMAPTF/+Fbp/5/WJ5/W+eu6ltuO3bnmfcy85004c33h/1HM3egHq3oe/KtvTaJPwOiT3fn/Bb4ZZl5r7jbFuzn8os6HJalSdZGbe2sNRxjevPlNyurNJueyIq4GqZ9wcFmusCkeanrzxkIc7m1yBgNsiIBcS1KLj3IPMq5rutxt+GGNWPi/LQdbd1IwfWu8f6O90m/Z0eKg4GzBWbfrE88g7y467us4/+/ysRC3r83rmw41efVkq7JYX+7NR931v1rsfni0rtwA4tr/lLIF+xqeklSdx7qxznW+SEbr9ryLjGPXybbkvENzg01yvbT23K7jXv2kznKz5lXs62hsCn2b9/rnVvc0T3bc3BRb9rfe7eo8smkl69ZhOnR7vspL1QZtkg4cPqtoWjjquX62qLfaH22WCzEsu9JS9yR5vM8I9q3V8nbVeJFtxEmR1mDrnKufV8VO93ol3Wes783DyzGOv1vd8bBnP953f3drzF99nLy8tpFzg7U6++bNHxNmUuqP1IaH8fF2x3I3FHzuaCljEnuL47Nvnl7z9GvsXoqkaMU+/ccTM4tD2HvEDkEAqyQi+eWyxiWHo8Ujlt7gu+rRmTARTxRzhCN9hmoeuVK5r4pq0pphnWHISJQhO6rfte/5BAUzHXdOHIkqw3NCT0xF+h27vv8Yl3nDYYr29UmBtigM+YUt1DQv/XX6EbbKadTnNZ9vOY6wZEPsJlBwdMCn4u1qdlp9f2I5ROsOli/aqJtpHIAo1Voqfcrhy8iNv0+2HJwYU11yWy3w/8jS4C+v1Ufbq16MbqNR/HGjGOBGObdTYIIXKQFvggmzt/EvCKW7Lo+7jje0Wrfi5e8WX2+76okQPQg5RO8P3T+2WgUNerzBfMHCqprXK09K9iLCmL7k7o5qGrVLDpevFzx4kO3ah/quIVS89Z467Fa9ehj0I/JXzcZl7krh+GIXTz4E9HRi822ocuCV2743MJkUsK/UMDj66X8RUJ+RaRQ8eoG4IuM3fdiUfp3qK/d6GjX3Ewa6qhexZd9+/LLEyMVPH08UbtV7IVngngjesOAP6D0AEQOgAgdABA6ACA0AEAoQMAQgcAhA4ACB0AoQMAQgcAhA4ACB0AEDoAIHQAQOgAgNABEDoAIHQAQOgAgNABAKEDAEIHAIQOAAgdAKEjdIDu838BBgAP9Pzi++BqOAAAAABJRU5ErkJggg==",sL="/assets/youtube-CpBI5AmY.png",aL="/assets/deezer-Dzzytvkp.png",nL="/assets/tidal-Dvc8GFJF.png",iL="/assets/vpn-DwO8ctKm.png",oL="/assets/wintv-DVRyyyXO.png",lL="/assets/applemusic-oPM8BG1t.png",cL="/assets/appletv-CnHYjknK.png",dL="/assets/iptv-DuZZIyup.png",uL="/assets/flujotv-BuBDxOy2.png",xL="/assets/vikirakuten-N9-l2Szt.png",mL="/assets/pornhub-CExwxEGA.png",hL="/assets/paramount-BdllqDdm.png",pL="/assets/licencias-BVJh6MhK.png",fL="/assets/capcut-CQ2qY_pe.png",gL="/assets/duolingo-5bYI8P47.png",yL="/assets/buscapersonas-lxj-Iky8.png",Js=[{src:VO,title:"Brooklyn Nine-Nine",description:"Comedia policial hilarante"},{src:zO,title:"Stranger Things",description:"Misterio y nostalgia ochentera"},{src:BO,title:"Breaking Bad",description:"Un descenso al mundo del crimen"},{src:UO,title:"Naruto",description:"Aventuras ninja épicas"},{src:FO,title:"Alice in Borderland",description:"Juego de supervivencia intenso"}],bL=[{name:"Netflix",logo:HO,route:"/netflix",color:"#FF0000"},{name:"Spotify",logo:WO,route:"/spotify",color:"#FF0000"},{name:"Disney+",logo:qO,route:"/disney",color:"#FF0000"},{name:"Max",logo:GO,route:"/max",color:"#FF0000"},{name:"Prime Video",logo:QO,route:"/primevideo",color:"#FF0000"},{name:"Vix",logo:KO,route:"/vix",color:"#FF0000"},{name:"Canva",logo:ZO,route:"/canva",color:"#FF0000"},{name:"ChatGPT",logo:YO,route:"/chatgpt",color:"#FF0000"},{name:"Crunchyroll",logo:XO,route:"/crunchyroll",color:"#FF0000"},{name:"Redes Sociales",logo:JO,route:"/redessociales",color:"#FF0000"},{name:"Dgo",logo:eL,route:"/dgo",color:"#FF0000"},{name:"Liga Max",logo:tL,route:"/ligamax",color:"#FF0000"},{name:"Movistar Play",logo:rL,route:"/movistarplay",color:"#FF0000"},{name:"Youtube",logo:sL,route:"/youtube",color:"#FF0000"},{name:"Deezer",logo:aL,route:"/deezer",color:"#FF0000"},{name:"Tidal",logo:nL,route:"/tidal",color:"#FF0000"},{name:"Vpn",logo:iL,route:"/vpn",color:"#FF0000"},{name:"Win Tv",logo:oL,route:"/wintv",color:"#FF0000"},{name:"Apple Music",logo:lL,route:"/applemusic",color:"#FF0000"},{name:"Apple Tv",logo:cL,route:"/appletv",color:"#FF0000"},{name:"Iptv",logo:dL,route:"/iptv",color:"#FF0000"},{name:"Flujo Tv",logo:uL,route:"/flujotv",color:"#FF0000"},{name:"Viki Rakuten",logo:xL,route:"/vikirakuten",color:"#FF0000"},{name:"Pornhub",logo:mL,route:"/pornhub",color:"#FF0000"},{name:"Paramount",logo:hL,route:"/paramount",color:"#FF0000"},{name:"Licencias",logo:pL,route:"/licencias",color:"#FF0000"},{name:"Cap cut",logo:fL,route:"/capcut",color:"#FF0000"},{name:"Duolingo",logo:gL,route:"/duolingo",color:"#FF0000"},{name:"Busca Personas",logo:yL,route:"/buscapersonas",color:"#FF0000"}],S1=N.createContext({theme:"dark",toggleTheme:()=>{}}),vL=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(S1.Provider,{value:{theme:t,toggleTheme:n},children:e.jsx("div",{className:`min-h-screen font-inter transition-colors duration-300 ${t==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black text-gray-200":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100 text-gray-900"} flex flex-col`,children:r})})},jL=({isOpen:r,onClose:t,message:s,theme:n})=>e.jsx(Ug,{children:r&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs(j.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},className:`rounded-2xl p-6 max-w-md w-full mx-4 shadow-2xl border-2 ${n==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Xp,{className:"text-red-500 text-2xl"}),e.jsx("h3",{className:`text-xl font-bold ${n==="dark"?"text-white":"text-gray-900"}`,children:"Notificación"})]}),e.jsx("p",{className:`mb-6 ${n==="dark"?"text-gray-300":"text-gray-600"}`,children:s}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t,className:"w-full py-2 rounded-xl bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800 text-white transition-colors",children:"Cerrar"})]})})}),wL=({isOpen:r,onClose:t,onSubmit:s,user:n,theme:o})=>{const[u,c]=N.useState(0),[m,p]=N.useState(0),[v,T]=N.useState(""),[P,A]=N.useState(""),[O,k]=N.useState(""),H=async V=>{if(V.preventDefault(),!n){t();return}try{const Z=se(_,"surveys"),ne=ke(Z,De("userEmail","==",n.email));if(!(await Ft(ne)).empty){t();return}await s({websiteSatisfaction:u,providerSatisfaction:m,recommendedProvider:v,notRecommendedProvider:P,improvementSuggestions:O,timestamp:new Date,userEmail:n.email,username:n.name}),c(0),p(0),T(""),A(""),k(""),t()}catch(Z){console.error("Error submitting survey:",Z)}};return e.jsx(Ug,{children:r&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsxs(j.div,{initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},className:`rounded-2xl p-6 max-w-md w-full mx-4 shadow-2xl border-2 ${o==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Jp,{className:"text-red-500 text-2xl"}),e.jsx("h3",{className:`text-xl font-bold ${o==="dark"?"text-white":"text-gray-900"}`,children:"Encuesta de Satisfacción"})]}),n?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${o==="dark"?"text-gray-200":"text-gray-700"}`,children:"¿Estás satisfecho con la página? (1-5)"}),e.jsx("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(V=>e.jsx(j.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",onClick:()=>c(V),className:`w-10 h-10 rounded-full border-2 ${u===V?"bg-red-500 text-white border-red-500":o==="dark"?"bg-gray-800 border-gray-600":"bg-gray-200 border-gray-400"} flex items-center justify-center transition-all`,children:V},V))})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${o==="dark"?"text-gray-200":"text-gray-700"}`,children:"¿Estás satisfecho con los proveedores? (1-5)"}),e.jsx("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(V=>e.jsx(j.button,{whileHover:{scale:1.1},whileTap:{scale:.9},type:"button",onClick:()=>p(V),className:`w-10 h-10 rounded-full border-2 ${m===V?"bg-red-500 text-white border-red-500":o==="dark"?"bg-gray-800 border-gray-600":"bg-gray-200 border-gray-400"} flex items-center justify-center transition-all`,children:V},V))})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${o==="dark"?"text-gray-200":"text-gray-700"}`,children:"¿Qué proveedor recomiendas?"}),e.jsx("input",{type:"text",value:v,onChange:V=>T(V.target.value),className:`w-full py-2 px-3 rounded-xl bg-transparent border ${o==="dark"?"border-gray-600/50 text-white placeholder-gray-400":"border-gray-400/50 text-gray-900 placeholder-gray-600"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all`,placeholder:"Escribe el nombre del proveedor"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${o==="dark"?"text-gray-200":"text-gray-700"}`,children:"¿Qué proveedor no recomiendas?"}),e.jsx("input",{type:"text",value:P,onChange:V=>A(V.target.value),className:`w-full py-2 px-3 rounded-xl bg-transparent border ${o==="dark"?"border-gray-600/50 text-white placeholder-gray-400":"border-gray-400/50 text-gray-900 placeholder-gray-600"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all`,placeholder:"Escribe el nombre del proveedor"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-2 ${o==="dark"?"text-gray-200":"text-gray-700"}`,children:"¿Qué mejorarías de la página?"}),e.jsx("textarea",{value:O,onChange:V=>k(V.target.value),className:`w-full py-2 px-3 rounded-xl bg-transparent border ${o==="dark"?"border-gray-600/50 text-white placeholder-gray-400":"border-gray-400/50 text-gray-900 placeholder-gray-600"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all`,placeholder:"Escribe tus sugerencias",rows:"4"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:t,className:`w-full py-2 rounded-xl ${o==="dark"?"bg-gray-700 hover:bg-gray-600":"bg-gray-300 hover:bg-gray-400"} text-gray-100 transition-colors`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",onClick:H,className:"w-full py-2 rounded-xl bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800 text-white transition-colors disabled:opacity-50",disabled:u===0||m===0,children:"Enviar"})]})]}):e.jsx("p",{className:`mb-6 ${o==="dark"?"text-gray-300":"text-gray-600"}`,children:"Por favor, inicia sesión para completar la encuesta."})]})})})},NL=()=>{const[r,t]=N.useState(0),[s,n]=N.useState(null),[o,u]=N.useState(0),[c,m]=N.useState("user"),[p,v]=N.useState(""),[T,P]=N.useState([]),[A,O]=N.useState({isOpen:!1,message:""}),[k,H]=N.useState(!1),[V,Z]=N.useState(!1),[ne,oe]=N.useState(!1),pe=Qt(),{theme:X,toggleTheme:ie}=N.useContext(S1);N.useEffect(()=>{const i=setInterval(()=>{t(Fe=>(Fe+1)%Js.length)},5e3);return()=>clearInterval(i)},[]),N.useEffect(()=>(document.body.style.overflow=ne?"hidden":"auto",()=>{document.body.style.overflow="auto"}),[ne]),N.useEffect(()=>{(async()=>{if(ot.currentUser)try{const Fe=se(_,"users"),je=ke(Fe,De("email","==",ot.currentUser.email)),Ne=await Ft(je);if(!Ne.empty){const Ie=Ne.docs[0].data();n({name:Ie.username||"Usuario",email:ot.currentUser.email}),u(Ie.balance||0),m(Ie.role||"user")}const Ae=await gt(W(_,"notifications","adminMessage"));if(Ae.exists()){const Ie=Ae.data();O({isOpen:!0,message:Ie.message||"Mensaje del administrador no disponible."})}}catch(Fe){console.error("Error al cargar datos:",Fe),O({isOpen:!0,message:"Hubo un error al cargar los datos. Por favor, intenta de nuevo."})}})()},[]);const U=async()=>{try{const i=await gt(W(_,"notifications","adminMessage"));if(i.exists()){const Fe=i.data();O({isOpen:!0,message:Fe.message||"Mensaje del administrador no disponible."})}else O({isOpen:!0,message:"No hay notificaciones del administrador en este momento."})}catch(i){console.error("Error al cargar notificación:",i),O({isOpen:!0,message:"Error al cargar la notificación. Por favor, intenta de nuevo."})}},h=async i=>{try{await wi(se(_,"surveys"),i),O({isOpen:!0,message:"¡Gracias por tu opinión! La encuesta se ha enviado correctamente."})}catch(Fe){console.error("Error al enviar la encuesta:",Fe),O({isOpen:!0,message:"Error al enviar la encuesta. Por favor, intenta de nuevo."})}},Y=async()=>{try{await ot.signOut(),n(null),pe("/login")}catch(i){console.error("Error al cerrar sesión:",i),O({isOpen:!0,message:"Error al cerrar sesión. Por favor, intenta de nuevo."})}},Q=()=>{pe({user:"/dashboard/user",affiliate:"/dashboard/affiliate",provider:"/dashboard/provider",admin:"/dashboard/admin"}[c]||"/dashboard/user")},ae=async i=>{if(i.preventDefault(),!p.trim()){P([]);return}try{const Fe=se(_,"products"),je=ke(Fe,De("name",">=",p.toUpperCase()),De("name","<=",p.toUpperCase()+"")),Ae=(await Ft(je)).docs.map(Ie=>({id:Ie.id,...Ie.data()}));P(Ae)}catch(Fe){console.error("Error al buscar productos:",Fe),O({isOpen:!0,message:"Error al realizar la búsqueda. Por favor, intenta de nuevo."}),P([])}},le=()=>{Z(i=>!i)},ee=()=>{oe(i=>!i)},K=i=>{i.key==="Enter"&&ae(i)};return e.jsxs("div",{className:"flex flex-col min-h-screen",children:[e.jsx(jL,{isOpen:A.isOpen,onClose:()=>O({...A,isOpen:!1}),message:A.message,theme:X}),e.jsx(wL,{isOpen:k,onClose:()=>H(!1),onSubmit:h,user:s,theme:X}),e.jsxs(j.header,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:120},className:`sticky top-0 z-50 backdrop-blur-md border-b ${X==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:[e.jsxs("div",{className:"container mx-auto px-6 py-4 flex items-center",children:[e.jsx("div",{className:"flex-1 flex items-center",children:e.jsxs(S,{to:"/",className:"flex items-center space-x-3",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-12 w-auto transition-transform"}),e.jsx("span",{className:`text-2xl font-bold bg-gradient-to-r ${X==="dark"?"from-red-500/50 to-red-700/50 text-red-500":"from-red-600/50 to-red-800/50 text-red-600"} bg-clip-text`,children:"SZ Streaming"})]})}),e.jsx("div",{className:"flex-1 hidden lg:flex justify-center",children:e.jsxs(j.div,{className:"relative max-w-xl w-full",initial:{scale:.9},animate:{scale:1},children:[e.jsx(Vc,{className:`absolute top-3.5 left-4 ${X==="dark"?"text-gray-400":"text-gray-600"} text-xl`}),e.jsx("input",{type:"text",placeholder:"Buscar productos...",className:`w-full pl-12 pr-4 py-3 rounded-full bg-transparent border-2 ${X==="dark"?"border-red-500/50 text-white placeholder-gray-400":"border-red-600/50 text-gray-900 placeholder-gray-600"} focus:ring-2 focus:ring-red-500 focus:border-red-500 shadow-lg backdrop-blur-sm transition-all hover:shadow-xl`,value:p,onChange:i=>v(i.target.value),onKeyDown:K}),e.jsx(j.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:ae,className:"absolute right-4 top-1/2 -translate-y-1/2 text-red-500 text-xl","aria-label":"Buscar",children:e.jsx(Vc,{})})]})}),e.jsxs("div",{className:"flex-1 flex justify-end items-center",children:[e.jsxs("div",{className:"hidden lg:flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.9},onClick:ie,className:`p-2 rounded-full ${X==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:X==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),s?e.jsxs(e.Fragment,{children:[e.jsx(j.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:U,className:`p-2 rounded-full ${X==="dark"?"bg-gray-800 hover:bg-gray-700":"bg-gray-200 hover:bg-gray-300"}`,"aria-label":"Ver notificaciones",children:e.jsx(Xp,{className:"text-red-500",size:22})}),e.jsx(j.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(!0),className:`p-2 rounded-full ${X==="dark"?"bg-gray-800 hover:bg-gray-700":"bg-gray-200 hover:bg-gray-300"}`,"aria-label":"Abrir encuesta",children:e.jsx(Jp,{className:"text-red-500",size:22})}),e.jsx(j.span,{className:`text-base font-medium ${X==="dark"?"text-red-500":"text-red-600"}`,initial:{opacity:0},animate:{opacity:1},children:s.name}),e.jsxs(j.span,{className:`text-base font-medium px-4 py-1.5 rounded-full ${X==="dark"?"bg-gray-800 text-white":"bg-gray-200 text-gray-900"}`,whileHover:{scale:1.05},children:["S/ ",o.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Q,className:`p-2 rounded-full ${X==="dark"?"bg-gray-800 hover:bg-gray-700":"bg-gray-200 hover:bg-gray-300"}`,"aria-label":"Panel de control",children:e.jsx(kN,{className:"text-red-500",size:22})}),e.jsx(j.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:le,className:`p-2 rounded-full ${V?"bg-red-500 hover:bg-red-600":X==="dark"?"bg-gray-800 hover:bg-gray-700":"bg-gray-200 hover:bg-gray-300"}`,"aria-label":V?"Desactivar modo live":"Activar modo live",children:e.jsx(NN,{className:V?"text-white":"text-red-500",size:22})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Y,className:"inline-flex items-center space-x-2 px-4 py-2 rounded-full text-base font-semibold text-white bg-gradient-to-r from-red-600 to-red-800 hover:from-red-700 hover:to-red-900 shadow-md transition-all duration-300",children:[e.jsx(SN,{size:18}),e.jsx("span",{children:"Salir"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(S,{to:"/login",className:"inline-flex items-center space-x-2 px-4 py-2 rounded-full text-base font-semibold text-white shadow-md transition-all duration-300 bg-gradient-to-r from-red-600 to-red-800 hover:from-red-700 hover:to-red-900",children:[e.jsx(ux,{size:18}),e.jsx("span",{children:"Ingresar"})]}),e.jsxs(S,{to:"/register",className:"inline-flex items-center space-x-2 px-4 py-2 rounded-full text-base font-semibold text-white shadow-md transition-all duration-300 bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800",children:[e.jsx(Xc,{size:18}),e.jsx("span",{children:"Registrarse"})]})]})]}),e.jsx(j.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:ee,className:"p-2 rounded-full text-red-500 hover:bg-gray-700/50 lg:hidden","aria-label":"Toggle menu",children:ne?e.jsx(TN,{size:22}):e.jsx(MO,{size:22})})]})]}),e.jsx(Ug,{children:ne&&e.jsx(j.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",stiffness:300,damping:30},className:`lg:hidden fixed top-0 left-0 h-full w-64 ${X==="dark"?"bg-black border-gray-800/50":"bg-gray-100 border-gray-300/50"} z-50 shadow-2xl border-r border-red-500/20`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-red-500/20",children:[e.jsx("span",{className:`text-xl font-bold ${X==="dark"?"text-red-500":"text-red-600"}`,children:"Menú"}),e.jsx(j.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:ee,className:`p-2 rounded-full ${X==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"}`,"aria-label":"Cerrar menú",children:e.jsx(TN,{size:22})})]}),e.jsxs("div",{className:"flex flex-col p-4 space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Vc,{className:`absolute top-3 left-3 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",placeholder:"Buscar productos...",className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent border ${X==="dark"?"border-gray-600/50 text-white placeholder-gray-400":"border-gray-400/50 text-gray-900 placeholder-gray-600"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all`,value:p,onChange:i=>v(i.target.value),onKeyDown:K}),e.jsx(j.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:ae,className:"absolute right-3 top-1/2 -translate-y-1/2 text-red-500","aria-label":"Buscar",children:e.jsx(Vc,{size:18})})]}),s?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`text-base font-medium ${X==="dark"?"text-red-500":"text-red-600"}`,children:s.name}),e.jsxs("span",{className:`text-base font-medium px-4 py-1.5 rounded-full ${X==="dark"?"bg-gray-800 text-white":"bg-gray-200 text-gray-900"}`,children:["S/ ",o.toFixed(2)]})]}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{U(),ee()},className:`flex items-center space-x-2 text-base text-left ${X==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"}`,children:[e.jsx(Xp,{size:18}),e.jsx("span",{children:"Notificaciones"})]}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{H(!0),ee()},className:`flex items-center space-x-2 text-base text-left ${X==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"}`,children:[e.jsx(Jp,{size:18}),e.jsx("span",{children:"Encuesta"})]}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Q(),ee()},className:`flex items-center space-x-2 text-base text-left ${X==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"}`,children:[e.jsx(kN,{size:18}),e.jsx("span",{children:"Panel de control"})]}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{le(),ee()},className:`flex items-center space-x-2 text-base text-left ${V?"text-red-500":X==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"}`,children:[e.jsx(NN,{size:18}),e.jsx("span",{children:V?"Desactivar modo live":"Activar modo live"})]}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Y(),ee()},className:`flex items-center space-x-2 text-base text-left ${X==="dark"?"text-red-500 hover:text-red-600":"text-red-600 hover:text-red-700"}`,children:[e.jsx(SN,{size:18}),e.jsx("span",{children:"Salir"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{pe("/login"),ee()},className:`flex items-center space-x-2 text-base text-left ${X==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"}`,children:[e.jsx(ux,{size:18}),e.jsx("span",{children:"Ingresar"})]}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{pe("/register"),ee()},className:`flex items-center space-x-2 text-base text-left ${X==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"}`,children:[e.jsx(Xc,{size:18}),e.jsx("span",{children:"Registrarse"})]})]}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie(),ee()},className:`flex items-center space-x-2 text-base text-left ${X==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"}`,children:[X==="dark"?e.jsx(lr,{size:18}):e.jsx(or,{size:18}),e.jsx("span",{children:"Cambiar tema"})]})]})]})})})]}),e.jsxs("main",{className:"flex-grow pt-24",children:[T.length>0&&e.jsxs(j.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"py-12 px-6 container mx-auto",children:[e.jsx("h2",{className:`text-3xl font-bold mb-6 ${X==="dark"?"text-white":"text-gray-900"}`,children:"Resultados de búsqueda"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:T.map(i=>e.jsxs(j.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},whileHover:{scale:1.05},className:`p-6 rounded-2xl shadow-md border-2 ${X==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsx("h3",{className:`text-lg font-semibold mb-2 ${X==="dark"?"text-red-500":"text-red-600"}`,children:i.name}),e.jsx("p",{className:`text-base line-clamp-2 mb-2 ${X==="dark"?"text-gray-300":"text-gray-600"}`,children:i.details||i.description}),e.jsxs("p",{className:`text-base font-medium mb-1 ${X==="dark"?"text-gray-200":"text-gray-700"}`,children:["Plataforma: ",i.category]}),e.jsxs("p",{className:`text-base font-bold ${X==="dark"?"text-red-500":"text-red-600"}`,children:["Precio: S/ ",i.price?.toFixed(2)]})]},i.id))})]}),p.trim()&&T.length===0&&e.jsx(j.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"py-12 px-6 container mx-auto text-center",children:e.jsxs("p",{className:`text-lg ${X==="dark"?"text-gray-300":"text-gray-600"}`,children:['No se encontraron productos para "',p,'".']})}),e.jsxs(j.section,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"py-8 px-6 text-center",children:[e.jsxs("h1",{className:`text-4xl sm:text-5xl md:text-6xl font-extrabold tracking-tight ${X==="dark"?"text-white":"text-gray-900"}`,children:["SZ ",e.jsx("span",{className:X==="dark"?"text-red-500":"text-red-600",children:"Streaming"})]}),e.jsx("p",{className:`mt-4 text-lg sm:text-xl max-w-3xl mx-auto ${X==="dark"?"text-gray-400":"text-gray-600"}`,children:"Accede a todo tu entretenimiento y herramientas con SZ Streaming."})]}),e.jsxs("section",{className:"relative py-6 px-6 sm:px-8",children:[e.jsxs(j.div,{className:"flex justify-center items-center space-x-4 perspective-1000",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[e.jsx(j.div,{className:"hidden lg:block w-48 h-64 rounded-2xl overflow-hidden shadow-xl transform -rotate-y-15",initial:{x:-100,opacity:0},animate:{x:0,opacity:.8},transition:{duration:.5},children:e.jsx("img",{src:Js[(r-1+Js.length)%Js.length].src,alt:"Programa anterior",className:"w-full h-full object-cover scale-110"})}),e.jsxs(j.div,{className:"relative rounded-2xl overflow-hidden shadow-2xl border-2 border-red-500/20",initial:{scale:.9},animate:{scale:1},transition:{type:"spring",stiffness:100},children:[e.jsx("img",{src:Js[r].src,alt:"Programa destacado",className:"w-72 h-96 sm:w-96 sm:h-[28rem] object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"}),e.jsxs(j.div,{className:"absolute bottom-0 w-full p-6",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},children:[e.jsx("h2",{className:`text-2xl sm:text-3xl font-bold ${X==="dark"?"text-white":"text-gray-900"} drop-shadow-lg`,children:Js[r].title}),e.jsx("p",{className:`text-sm ${X==="dark"?"text-gray-300":"text-gray-600"}`,children:Js[r].description})]})]}),e.jsx(j.div,{className:"hidden lg:block w-48 h-64 rounded-2xl overflow-hidden shadow-xl transform rotate-y-15",initial:{x:100,opacity:0},animate:{x:0,opacity:.8},transition:{duration:.5},children:e.jsx("img",{src:Js[(r+1)%Js.length].src,alt:"Próximo programa",className:"w-full h-full object-cover scale-110"})}),e.jsx(j.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>t(i=>(i-1+Js.length)%Js.length),className:`absolute left-4 top-1/2 -translate-y-1/2 ${X==="dark"?"bg-black/60 hover:bg-red-500/60 border-red-500/20":"bg-gray-100/60 hover:bg-red-500/60 border-red-500/20"} backdrop-blur-md p-3 rounded-full border-2`,"aria-label":"Programa anterior",children:e.jsx(OO,{className:"text-red-500 text-xl"})}),e.jsx(j.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>t(i=>(i+1)%Js.length),className:`absolute right-4 top-1/2 -translate-y-1/2 ${X==="dark"?"bg-black/60 hover:bg-red-500/60 border-red-500/20":"bg-gray-100/60 hover:bg-red-500/60 border-red-500/20"} backdrop-blur-md p-3 rounded-full border-2`,"aria-label":"Próximo programa",children:e.jsx(LO,{className:"text-red-500 text-xl"})})]}),e.jsx("div",{className:"flex justify-center space-x-2 mt-6",children:Js.map((i,Fe)=>e.jsx(j.div,{whileHover:{scale:1.2},className:`w-2 h-2 rounded-full transition-colors ${Fe===r?"bg-red-500":X==="dark"?"bg-gray-600":"bg-gray-400"}`,"aria-label":`Ir a ${Fe+1}`},Fe))})]}),e.jsxs(j.section,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},className:"py-16 container mx-auto px-6",children:[e.jsxs("div",{className:"mb-10 text-center",children:[e.jsx(j.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:`text-3xl md:text-4xl font-bold ${X==="dark"?"text-white":"text-gray-900"} mb-2`,children:"Plataformas de Streaming"}),e.jsx(j.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:`max-w-2xl mx-auto ${X==="dark"?"text-gray-400":"text-gray-600"}`,children:"Acceso a todas tus plataformas favoritas en un solo lugar."})]}),e.jsx(j.div,{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-6",initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},children:bL.map(i=>e.jsx(j.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},whileHover:{scale:1.05},className:"w-full h-32",children:e.jsxs(S,{to:i.route,className:`group relative flex items-center justify-center h-full rounded-2xl shadow-lg transition-all duration-300 ${X==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} border-2`,"aria-label":`Ir a ${i.name}`,children:[e.jsxs("div",{className:"flex items-center space-x-4 p-4",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:i.logo,alt:i.name,className:"w-20 h-20 object-contain",style:{transform:V?"scaleX(-1)":"scaleX(1)"}}),e.jsx("span",{className:`font-semibold text-center text-base ${X==="dark"?"text-white":"text-gray-900"}`,children:i.name})]}),e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-20 transition-opacity duration-300 bg-gradient-to-r from-red-500 to-red-700"})]})},i.name))})]}),!s&&e.jsx(j.section,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"py-16 bg-gradient-to-r from-red-600 to-red-800",children:e.jsxs("div",{className:"container mx-auto px-6 text-center",children:[e.jsx(j.h2,{initial:{scale:.9},animate:{scale:1},className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"¿Listo para adquirir?"}),e.jsx("p",{className:"text-gray-200 max-w-2xl mx-auto mb-6",children:"Únete a miles de usuarios satisfechos accediendo a todas tus plataformas favoritas en un solo lugar."}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>pe("/register"),className:"inline-flex items-center space-x-2 px-6 py-3 rounded-xl text-base font-semibold text-white bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800 shadow-md transition-all duration-300",children:[e.jsx(Xc,{size:18}),e.jsx("span",{children:"Regístrate"})]})]})})]}),e.jsx("footer",{className:`backdrop-blur-md border-t py-6 ${X==="dark"?"border-gray-800/50":"border-gray-300/50"}`,children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qt,alt:"SZ Streaming",className:"h-8 w-auto"}),e.jsx("span",{className:`text-sm font-semibold ${X==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"})]}),e.jsxs("div",{className:`text-sm text-center ${X==="dark"?"text-gray-400":"text-gray-600"}`,children:["© ",new Date().getFullYear()," SZ Streaming. Todos los derechos reservados."]}),e.jsx("div",{className:`text-sm text-center ${X==="dark"?"text-gray-400":"text-gray-600"}`,children:"Desarrollado por Saiph"})]})})})]})},kL=()=>e.jsx(vL,{children:e.jsx(NL,{})});function Qx(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(r)}function ut(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(r)}function T1(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(r)}function Rl(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(r)}function Tt(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(r)}function xx(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(r)}function yd(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(r)}function I1(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(r)}function dr(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(r)}function SL(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(r)}function IN(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(r)}function ef(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(r)}function rs(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(r)}function P1(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(r)}function tf(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(r)}function C1(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(r)}function E1(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(r)}function tt(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(r)}function rt(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"},child:[]},{tag:"line",attr:{x1:"7",y1:"2",x2:"7",y2:"22"},child:[]},{tag:"line",attr:{x1:"17",y1:"2",x2:"17",y2:"22"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"2",y1:"7",x2:"7",y2:"7"},child:[]},{tag:"line",attr:{x1:"2",y1:"17",x2:"7",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"17",x2:"22",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"7",x2:"22",y2:"7"},child:[]}]})(r)}function It(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(r)}function Kx(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(r)}function cr(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(r)}function Et(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(r)}function Xg(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(r)}function Zt(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(r)}function Zx(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(r)}function ur(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(r)}function Ps(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(r)}function fr(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(r)}function ze(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 18V5l12-2v13"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"16",r:"3"},child:[]}]})(r)}function Pt(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 19l7-7 3 3-7 7-3-3z"},child:[]},{tag:"path",attr:{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"},child:[]},{tag:"path",attr:{d:"M2 2l7.586 7.586"},child:[]},{tag:"circle",attr:{cx:"11",cy:"11",r:"2"},child:[]}]})(r)}function mx(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(r)}function Ct(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"10 8 16 12 10 16 10 8"},child:[]}]})(r)}function PN(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(r)}function D1(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(r)}function vt(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(r)}function Ud(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(r)}function Ht(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(r)}function et(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(r)}function sp(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(r)}function $1(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(r)}function xo(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(r)}function fe(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"},child:[]},{tag:"polyline",attr:{points:"17 2 12 7 7 2"},child:[]}]})(r)}function Jg(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(r)}function Yx(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(r)}function nt(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(r)}function Ml(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(r)}function st(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"23 7 16 12 23 17 23 7"},child:[]},{tag:"rect",attr:{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"},child:[]}]})(r)}function Ot(r){return jt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(r)}const _1=N.createContext({theme:"dark",toggleTheme:()=>{}}),TL=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{console.log("Toggling theme from",t);const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o),console.log("Theme set to",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(_1.Provider,{value:{theme:t,toggleTheme:n},children:r})},IL=()=>{const[r,t]=N.useState(""),[s,n]=N.useState(""),[o,u]=N.useState(null),[c,m]=N.useState(!1),p=Qt(),{theme:v,toggleTheme:T}=N.useContext(_1),P=async O=>{O.preventDefault(),u(null);try{const k=se(_,"users"),H=ke(k,De("username","==",r)),V=await Ft(H);if(V.empty){u("Nombre de usuario no encontrado.");return}const oe=V.docs[0].data().email,X=(await t_(ot,oe,s)).user;p("/")}catch{u("Usuario o contraseña incorrectos.")}},A=()=>{u(null)};return e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${v==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black text-gray-200":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100 text-gray-900"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${v==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-6 py-4 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsx("div",{className:"flex items-center justify-center lg:justify-start",children:e.jsxs(S,{to:"/",className:"flex items-center space-x-3",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-12 w-auto transition-transform"}),e.jsx("span",{className:`text-2xl font-bold bg-gradient-to-r ${v==="dark"?"from-red-500/50 to-red-700/50 text-red-500":"from-red-600/50 to-red-800/50 text-red-600"} bg-clip-text`,children:"SZ Streaming"})]})}),e.jsx(j.div,{animate:{scale:[1,1.02,1]},transition:{duration:2,repeat:1/0,repeatType:"loop"},className:"text-xs font-semibold text-white bg-red-500/20 rounded-full px-3 py-1",children:"V 2.0"}),e.jsxs("div",{className:"flex items-center justify-center lg:justify-end space-x-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.9},onClick:T,className:`p-2 rounded-full ${v==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:v==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),e.jsxs(S,{to:"/login",className:"inline-flex items-center space-x-2 px-4 py-2 rounded-full text-base font-semibold text-white shadow-md transition-all duration-300 bg-gradient-to-r from-red-600 to-red-800 hover:from-red-700 hover:to-red-900",children:[e.jsx(ux,{size:18}),e.jsx("span",{children:"Ingresar"})]}),e.jsxs(S,{to:"/register",className:"inline-flex items-center space-x-2 px-4 py-2 rounded-full text-base font-semibold text-white shadow-md transition-all duration-300 bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800",children:[e.jsx(Xc,{size:18}),e.jsx("span",{children:"Registrarse"})]})]})]})}),e.jsx("main",{className:"flex-grow flex items-center justify-center p-6",children:e.jsxs("div",{className:`backdrop-blur-md rounded-2xl shadow-2xl p-12 w-full max-w-lg border-2 ${v==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsx(j.div,{className:"flex justify-center mb-6",children:e.jsx(j.img,{whileHover:{scale:1.05},src:qt,alt:"SZ Streaming",className:"h-24 sm:h-32 w-auto transition-transform"})}),e.jsxs("h1",{className:`text-3xl font-bold mb-10 text-center ${v==="dark"?"text-white":"text-gray-900"}`,children:["SZ",e.jsx("span",{className:v==="dark"?"text-red-500":"text-red-600",children:"Streaming"})]}),e.jsx("p",{className:`text-sm text-center mb-10 ${v==="dark"?"text-gray-400":"text-gray-600"}`,children:"Bienvenido de nuevo. Inicia sesión para continuar."}),o&&e.jsxs("div",{className:"mb-6 p-3 bg-gradient-to-r from-red-900/80 to-red-800/80 border-l-4 border-red-500 rounded-xl flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-400"}),e.jsx("span",{className:"text-red-300",children:o})]}),e.jsx("button",{onClick:A,className:"text-red-400 hover:text-red-300",children:e.jsx(Ot,{size:18})})]}),e.jsxs("form",{onSubmit:P,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-lg ${v==="dark"?"text-gray-100":"text-gray-900"}`,children:"Nombre de Usuario"}),e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:`absolute top-3 left-3 ${v==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",placeholder:"Tu nombre de usuario",value:r,onChange:O=>t(O.target.value),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${v==="dark"?"text-white":"text-gray-900"} border ${v==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${v==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-lg ${v==="dark"?"text-gray-100":"text-gray-900"}`,children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(Xg,{className:`absolute top-3 left-3 ${v==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:c?"text":"password",placeholder:"••••••••",value:s,onChange:O=>n(O.target.value),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${v==="dark"?"text-white":"text-gray-900"} border ${v==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${v==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,required:!0}),e.jsx("button",{type:"button",onClick:()=>m(!c),className:`absolute top-3 right-3 ${v==="dark"?"text-gray-400 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-colors`,"aria-label":c?"Ocultar contraseña":"Mostrar contraseña",children:c?e.jsx(C1,{size:18}):e.jsx(E1,{size:18})})]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",className:"w-full py-3 bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800 text-white font-medium rounded-xl shadow-lg transition-all duration-300",children:"Iniciar Sesión"})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs(S,{to:"/register",className:`flex items-center justify-center transition-all text-lg ${v==="dark"?"text-gray-400 hover:text-red-500":"text-gray-600 hover:text-red-600"}`,children:[e.jsx(T1,{className:"mr-1"})," ¿No tienes una cuenta? Regístrate"]})})]})}),e.jsx("footer",{className:`backdrop-blur-md border-t py-6 ${v==="dark"?"border-gray-800/50":"border-gray-300/50"}`,children:e.jsx("div",{className:"container mx-auto px-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qt,alt:"SZ Streaming",className:"h-8 w-auto"}),e.jsx("span",{className:`text-sm font-semibold ${v==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"})]}),e.jsxs("div",{className:`text-sm text-center ${v==="dark"?"text-gray-400":"text-gray-600"}`,children:["© ",new Date().getFullYear()," SZ Streaming. Todos los derechos reservados."]}),e.jsx("div",{className:`text-sm text-center ${v==="dark"?"text-gray-400":"text-gray-600"}`,children:"Desarrollado por Saiph"})]})})})]})},PL=()=>e.jsx(TL,{children:e.jsx(IL,{})}),CL=[{code:"+51",name:"Perú",flag:"🇵🇪"},{code:"+591",name:"Bolivia",flag:"🇧🇴"},{code:"+56",name:"Chile",flag:"🇨🇱"},{code:"+55",name:"Brasil",flag:"🇧🇷"},{code:"+54",name:"Argentina",flag:"🇦🇷"}],A1=N.createContext({theme:"dark",toggleTheme:()=>{}}),EL=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(A1.Provider,{value:{theme:t,toggleTheme:n},children:r})},DL=({isOpen:r,message:t,type:s,onClose:n})=>r?e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md p-6 rounded-2xl shadow-2xl max-w-sm w-full border transform transition-all duration-300 border-red-500 scale-100",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[s==="success"?e.jsx(yd,{className:"text-red-400 text-2xl mr-2"}):e.jsx(ut,{className:"text-red-400 text-2xl mr-2"}),e.jsx("h3",{className:"text-lg font-bold text-red-400",children:s==="success"?"Éxito":"Error"})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:t}),e.jsx("button",{onClick:n,className:"w-full py-2 rounded-xl font-medium transition-all duration-300 bg-red-600 hover:bg-red-700 text-white",children:"Cerrar"})]})}):null,$L=()=>{const[r,t]=N.useState(""),[s,n]=N.useState(""),[o,u]=N.useState(""),[c,m]=N.useState(""),[p,v]=N.useState("+51"),[T,P]=N.useState("user"),[A,O]=N.useState(""),[k,H]=N.useState(!1),[V,Z]=N.useState({isOpen:!1,message:"",type:"success"}),[ne,oe]=N.useState(!1),pe=Qt(),{theme:X,toggleTheme:ie}=N.useContext(A1),U=async h=>{h.preventDefault(),Z({isOpen:!1,message:"",type:"success"}),H(!0);try{if(!r||r.length<3)throw new Error("El nombre de usuario debe tener al menos 3 caracteres.");if(!s||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s))throw new Error("Por favor, ingresa un correo electrónico válido.");if(!o||o.length<6)throw new Error("La contraseña debe tener al menos 6 caracteres.");if(!c||!/^\d{7,15}$/.test(c))throw new Error("Por favor, ingresa un número de teléfono válido (7-15 dígitos).");if(!["user","affiliate","provider"].includes(T))throw new Error("Rol no válido.");const Y=await e_(ot,s,o);await mo(W(_,"users",Y.user.uid),{username:r,email:s,phone:`${p}${c}`,role:T,referrerCode:A||null,createdAt:new Date().toISOString()}),Z({isOpen:!0,message:"¡Registro exitoso! Ahora puedes iniciar sesión.",type:"success"}),setTimeout(()=>{pe("/login")},2e3)}catch(Y){let Q=Y.message||"Error al enviar la solicitud de registro. Por favor, inténtalo de nuevo.";Y.code==="auth/email-already-in-use"&&(Q="El correo electrónico ya está en uso."),Z({isOpen:!0,message:Q,type:"error"})}finally{H(!1)}};return e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${X==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black text-gray-200":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100 text-gray-900"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${X==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-4 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsx("div",{className:"flex items-center justify-center lg:justify-start",children:e.jsxs(S,{to:"/",className:"flex items-center space-x-3",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 sm:h-12 w-auto transition-transform"}),e.jsx("span",{className:`text-xl sm:text-2xl font-bold bg-gradient-to-r ${X==="dark"?"from-red-500/50 to-red-700/50 text-red-500":"from-red-600/50 to-red-800/50 text-red-600"} bg-clip-text`,children:"SZ Streaming"})]})}),e.jsx(j.div,{animate:{scale:[1,1.02,1]},transition:{duration:2,repeat:1/0,repeatType:"loop"},className:"text-xs font-semibold text-white bg-red-500/20 rounded-full px-3 py-1",children:"V 2.0"}),e.jsxs("div",{className:"flex items-center justify-center lg:justify-end space-x-2 sm:space-x-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.9},onClick:ie,className:`p-2 rounded-full ${X==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:X==="dark"?e.jsx(lr,{size:20}):e.jsx(or,{size:20})}),e.jsxs(S,{to:"/login",className:"inline-flex items-center space-x-2 px-3 sm:px-4 py-2 rounded-full text-sm sm:text-base font-semibold text-white shadow-md transition-all duration-300 bg-gradient-to-r from-red-600 to-red-800 hover:from-red-700 hover:to-red-900",children:[e.jsx(ux,{size:16}),e.jsx("span",{children:"Ingresar"})]}),e.jsxs(S,{to:"/register",className:"inline-flex items-center space-x-2 px-3 sm:px-4 py-2 rounded-full text-sm sm:text-base font-semibold text-white shadow-md transition-all duration-300 bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800",children:[e.jsx(Xc,{size:16}),e.jsx("span",{children:"Registrarse"})]})]})]})}),e.jsx("main",{className:"flex-grow flex items-center justify-center p-4 sm:p-6",children:e.jsxs("div",{className:`backdrop-blur-md rounded-2xl shadow-2xl p-8 sm:p-12 w-full max-w-md sm:max-w-lg border-2 ${X==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsx(j.div,{className:"flex justify-center mb-6",children:e.jsx(j.img,{whileHover:{scale:1.05},src:qt,alt:"SZ Streaming",className:"h-20 sm:h-24 w-auto transition-transform"})}),e.jsxs("h1",{className:`text-2xl sm:text-3xl font-bold mb-8 sm:mb-10 text-center ${X==="dark"?"text-white":"text-gray-900"}`,children:["SZ",e.jsx("span",{className:X==="dark"?"text-red-500":"text-red-600",children:"Streaming"})]}),e.jsx("p",{className:`text-xs sm:text-sm text-center mb-8 sm:mb-10 ${X==="dark"?"text-gray-400":"text-gray-600"}`,children:"Regístrate para acceder al sistema."}),e.jsxs("form",{onSubmit:U,className:"space-y-5 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-base sm:text-lg ${X==="dark"?"text-gray-100":"text-gray-900"}`,children:"Nombre de Usuario"}),e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:`absolute top-2.5 sm:top-3 left-3 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",value:r,onChange:h=>t(h.target.value),className:`w-full pl-10 pr-4 py-2 sm:py-2.5 rounded-xl bg-transparent ${X==="dark"?"text-white":"text-gray-900"} border ${X==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${X==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100 text-sm sm:text-base`,placeholder:"Elige un nombre de usuario",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-base sm:text-lg ${X==="dark"?"text-gray-100":"text-gray-900"}`,children:"Correo Electrónico"}),e.jsxs("div",{className:"relative",children:[e.jsx(Zx,{className:`absolute top-2.5 sm:top-3 left-3 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"email",value:s,onChange:h=>n(h.target.value),className:`w-full pl-10 pr-4 py-2 sm:py-2.5 rounded-xl bg-transparent ${X==="dark"?"text-white":"text-gray-900"} border ${X==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${X==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100 text-sm sm:text-base`,placeholder:"Tu correo electrónico",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-base sm:text-lg ${X==="dark"?"text-gray-100":"text-gray-900"}`,children:"Número de Teléfono"}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-2 space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"relative flex-shrink-0 w-full sm:w-32",children:[e.jsx("select",{value:p,onChange:h=>v(h.target.value),className:`w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-xl ${X==="dark"?"bg-gray-700/50 text-white":"bg-gray-200/50 text-gray-900"} border ${X==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all appearance-none text-sm sm:text-base`,children:CL.map(h=>e.jsxs("option",{value:h.code,children:[h.flag," ",h.name," (",h.code,")"]},h.code))}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx("svg",{className:`w-4 h-4 ${X==="dark"?"text-gray-400":"text-gray-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),e.jsxs("div",{className:"relative flex-grow",children:[e.jsx(mx,{className:`absolute top-2.5 sm:top-3 left-3 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"tel",value:c,onChange:h=>m(h.target.value),className:`w-full pl-10 pr-4 py-2 sm:py-2.5 rounded-xl bg-transparent ${X==="dark"?"text-white":"text-gray-900"} border ${X==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${X==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100 text-sm sm:text-base`,placeholder:"Tu número de teléfono",required:!0})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-base sm:text-lg ${X==="dark"?"text-gray-100":"text-gray-900"}`,children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(Xg,{className:`absolute top-2.5 sm:top-3 left-3 ${X==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:ne?"text":"password",value:o,onChange:h=>u(h.target.value),className:`w-full pl-10 pr-10 py-2 sm:py-2.5 rounded-xl bg-transparent ${X==="dark"?"text-white":"text-gray-900"} border ${X==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${X==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100 text-sm sm:text-base`,placeholder:"Elige una contraseña",required:!0}),e.jsx("button",{type:"button",onClick:()=>oe(!ne),className:`absolute top-2.5 sm:top-3 right-3 ${X==="dark"?"text-gray-400 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-colors`,"aria-label":ne?"Ocultar contraseña":"Mostrar contraseña",children:ne?e.jsx(C1,{size:16}):e.jsx(E1,{size:16})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-base sm:text-lg ${X==="dark"?"text-gray-100":"text-gray-900"}`,children:"Rol"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:T,onChange:h=>P(h.target.value),className:`w-full px-4 py-2 sm:py-2.5 rounded-xl ${X==="dark"?"bg-gray-700/50":"bg-gray-200/50"} ${X==="dark"?"text-white":"text-gray-900"} border ${X==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all appearance-none text-sm sm:text-base`,children:e.jsx("option",{value:"user",children:"Usuario"})}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx("svg",{className:`w-4 h-4 ${X==="dark"?"text-gray-400":"text-gray-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block mb-2 text-base sm:text-lg ${X==="dark"?"text-gray-100":"text-gray-900"}`,children:"Código de Referido (opcional)"}),e.jsx("input",{type:"text",value:A,onChange:h=>O(h.target.value),className:`w-full pl-4 pr-4 py-2 sm:py-2.5 rounded-xl bg-transparent ${X==="dark"?"text-white":"text-gray-900"} border ${X==="dark"?"border-gray-600/50":"border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${X==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100 text-sm sm:text-base`,placeholder:"Ingresa un código de referido (si tienes)"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",disabled:k,className:`w-full py-2.5 sm:py-3 rounded-xl font-medium transition-all duration-300 ${k?"bg-gray-600 text-gray-400 cursor-not-allowed":X==="dark"?"bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800 text-white":"bg-gradient-to-r from-red-600 to-red-800 hover:from-red-700 hover:to-red-900 text-white"} text-sm sm:text-base`,children:k?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin h-4 sm:h-5 w-4 sm:w-5 text-white mr-2",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h-8z"})]}),"Registrando..."]}):"Registrarse"})]}),e.jsx("div",{className:"mt-6 sm:mt-8 text-center",children:e.jsxs(S,{to:"/login",className:`flex items-center justify-center transition-all text-sm sm:text-lg ${X==="dark"?"text-gray-400 hover:text-red-500":"text-gray-600 hover:text-red-600"}`,children:[e.jsx(T1,{className:"mr-1"})," ¿Ya tienes una cuenta? Inicia sesión"]})})]})}),e.jsx("footer",{className:`backdrop-blur-md border-t py-4 sm:py-6 ${X==="dark"?"border-gray-800/50":"border-gray-300/50"}`,children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qt,alt:"SZ Streaming",className:"h-6 sm:h-8 w-auto"}),e.jsx("span",{className:`text-xs sm:text-sm font-semibold ${X==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"})]}),e.jsxs("div",{className:`text-xs sm:text-sm text-center ${X==="dark"?"text-gray-400":"text-gray-600"}`,children:["© ",new Date().getFullYear()," SZ Streaming. Todos los derechos reservados."]}),e.jsx("div",{className:`text-xs sm:text-sm text-center ${X==="dark"?"text-gray-400":"text-gray-600"}`,children:"Desarrollado por Saiph"})]})})}),e.jsx(DL,{isOpen:V.isOpen,message:V.message,type:V.type,onClose:()=>Z({isOpen:!1,message:"",type:"success"})})]})},_L=()=>e.jsx(EL,{children:e.jsx($L,{})}),AL=({isOpen:r,message:t,title:s,onClose:n})=>r?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:s}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(Ot,{size:20})})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:t}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:n,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,RL=({isOpen:r,user:t,onClose:s,onSave:n})=>{const[o,u]=N.useState(t?.username||""),[c,m]=N.useState(""),p=v=>{if(v.preventDefault(),m(""),!o.trim()){m("El nombre de usuario no puede estar vacío.");return}n(t.id,o.trim())};return r?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Editar Perfil"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(Ot,{size:20})})]}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),e.jsx("input",{type:"text",value:o,onChange:v=>u(v.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all",required:!0}),c&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:c})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},ML=({isOpen:r,provider:t,onClose:s,onRate:n})=>{const[o,u]=N.useState(0),[c,m]=N.useState(""),p=v=>{if(v.preventDefault(),m(""),o<1||o>5){m("Por favor, selecciona una calificación entre 1 y 5 estrellas.");return}n(t.id,o),u(0)};return r?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Calificar Proveedor"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(Ot,{size:20})})]}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-gray-300 mb-2",children:["Proveedor: ",t.name]}),e.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(v=>e.jsx(et,{size:24,className:`cursor-pointer ${v<=o?"text-red-400 fill-current":"text-gray-400"}`,onClick:()=>u(v)},v))}),c&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:c})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Enviar Calificación"})]})]})]})})}):null},OL=({userName:r,email:t,balance:s,orders:n,notifications:o,setActivePage:u,formatDate:c})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-red-400",children:r.username})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-3",children:"Información de cuenta"}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(nt,{className:"mr-2 text-red-400"}),e.jsx("span",{children:r.username})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(Ps,{className:"mr-2 text-red-400"}),e.jsx("span",{children:t})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(mx,{className:"mr-2 text-red-400"}),e.jsx("span",{children:r.phone||"No especificado"})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-3",children:"Saldo disponible"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",s.toFixed(2)]}),e.jsx("button",{onClick:()=>u("recargar"),className:"mt-2 px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Recargar"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-3",children:"Pedidos activos"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:n.filter(m=>new Date(m.endDate)>new Date&&m.status==="completed").length}),e.jsx("button",{onClick:()=>u("pedidos"),className:"mt-2 px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Ver pedidos"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Pedidos recientes"}),n.length>0?n.slice(0,3).map(m=>{const p=new Date(m.endDate)>new Date&&m.status==="completed",v=m.status==="pending";return e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"font-medium text-white",children:m.productName||"Producto sin nombre"}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${m.status==="pending"?"bg-yellow-900/80 text-yellow-400":p?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:v?"A pedido":p?"Activo":"Expirado"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Vence: ",c(m.endDate)]})]},m.id)}):e.jsx("p",{className:"text-gray-400 py-2",children:"No tienes pedidos recientes"}),n.length>3&&e.jsx("button",{onClick:()=>u("pedidos"),className:"w-full mt-3 text-center text-red-400 hover:underline text-sm",children:"Ver todos los pedidos"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Notificaciones"}),o.length>0?o.map(m=>e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsx("p",{className:"text-gray-300",children:m.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:c(m.updatedAt?.toDate?.()||new Date)})]},m.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay notificaciones"})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Únete a nuestros grupos"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("a",{href:"https://chat.whatsapp.com/CClESQgmORyHOtVjlDNu9X",target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-4 bg-gray-600/50 rounded-xl hover:bg-gray-500/50 hover:scale-105 transition-all duration-300 border border-gray-500/50",children:[e.jsx("img",{src:"https://cdn.jsdelivr.net/npm/simple-icons@v13/icons/whatsapp.svg",alt:"WhatsApp Logo",className:"w-8 h-8 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"Comunicados"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Grupo de WhatsApp"})]})]}),e.jsxs("a",{href:"https://chat.whatsapp.com/Bs8WVNUB1XXAi7bqTr2AYp",target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-4 bg-gray-600/50 rounded-xl hover:bg-gray-500/50 hover:scale-105 transition-all duration-300 border border-gray-500/50",children:[e.jsx("img",{src:"https://cdn.jsdelivr.net/npm/simple-icons@v13/icons/whatsapp.svg",alt:"WhatsApp Logo",className:"w-8 h-8 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"General"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Grupo de WhatsApp"})]})]}),e.jsxs("a",{href:"https://t.me/+gizEmGx9imNjNzgx",target:"_blank",rel:"noopener noreferrer",className:"flex items-center p-4 bg-gray-600/50 rounded-xl hover:bg-gray-500/50 hover:scale-105 transition-all duration-300 border border-gray-500/50",children:[e.jsx("img",{src:"https://cdn.jsdelivr.net/npm/simple-icons@v13/icons/telegram.svg",alt:"Telegram Logo",className:"w-8 h-8 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:"Publicidad"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Canal de Telegram"})]})]})]})]})]}),LL=({notifications:r,formatDate:t})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Notificaciones"}),r.length>0?e.jsx("div",{className:"space-y-4",children:r.map(s=>e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl p-4 hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("p",{className:"text-gray-300",children:s.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:t(s.updatedAt?.toDate?.()||new Date)})]},s.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Rl,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay notificaciones"}),e.jsx("p",{className:"text-gray-400",children:"No tienes mensajes nuevos"})]})]}),VL="/assets/yape-sz-D-gX92Ca.png",zL="/assets/binance-sz-CGisVpHF.png",BL="/assets/astropay-DcSrQwmQ.png",UL=({amount:r,setAmount:t,topUps:s,actionLoading:n,handleTopUpRequest:o,formatDate:u})=>{const[c,m]=N.useState("PEN"),[p,v]=N.useState(3.75*1.1),[T,P]=N.useState(!1),[A,O]=N.useState(""),[k,H]=N.useState("Yape");N.useEffect(()=>{(async()=>{P(!0);try{const X=(await(await fetch("https://api.exchangerate-api.com/v4/latest/USD")).json()).rates.PEN||3.75;v(X*1.1)}catch(oe){console.error("Error fetching exchange rate:",oe)}finally{P(!1)}})()},[]),N.useEffect(()=>{const ne=parseFloat(A);if(isNaN(ne))t("");else{const oe=c==="USD"?ne*p:ne;t(oe.toFixed(2))}},[A,c,p,t]);const V=ne=>{const oe=ne.target.value;O(oe)},Z=r&&!isNaN(parseFloat(r))?parseFloat(r).toFixed(2):"0.00";return e.jsxs("div",{className:"space-y-8 max-w-6xl mx-auto px-4 sm:px-0",children:[e.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-lg p-6 sm:p-8 rounded-3xl shadow-2xl border border-gray-700/30",children:[e.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-white mb-6 text-center",children:"Recargar saldo"}),e.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2 font-medium",children:"Moneda"}),e.jsxs("select",{value:c,onChange:ne=>{m(ne.target.value),O("")},className:"w-full px-4 py-3 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300",children:[e.jsx("option",{value:"PEN",children:"S/ (PEN)"}),e.jsx("option",{value:"USD",children:"$ (USD)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-300 mb-2 font-medium",children:["Monto a recargar (",c==="PEN"?"S/":"$",")"]}),e.jsx("input",{type:"number",value:A,onChange:V,className:"w-full px-4 py-3 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-300 placeholder-gray-500",placeholder:`Mínimo ${c==="PEN"?"S/ 5.00":"$ "+(5/p).toFixed(2)}`,min:c==="PEN"?"5":(5/p).toFixed(2),step:"0.01"}),c==="USD"&&!isNaN(parseFloat(A))&&e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Equivalente: S/ ",Z," (Tasa: 1 USD = ",p.toFixed(2)," PEN, incluye 10% adicional)",T&&" (Cargando tasa...)"]})]}),e.jsx("button",{onClick:o,disabled:n.topUp||!r||parseFloat(r)<5,className:`w-full py-3 px-4 rounded-xl font-medium text-lg transition-all duration-300 ${r&&parseFloat(r)>=5&&!n.topUp?"bg-purple-500 hover:bg-purple-600 text-white":"bg-gray-700 text-gray-400 cursor-not-allowed"}`,children:n.topUp?e.jsx("div",{className:"animate-spin h-6 w-6 border-3 border-white rounded-full border-t-transparent mx-auto"}):"Solicitar recarga"})]}),e.jsxs("div",{className:"mt-8 bg-gray-800/50 backdrop-blur-lg p-6 rounded-2xl border border-gray-700/30 max-w-lg mx-auto",children:[e.jsxs("div",{className:"flex justify-center mb-6 space-x-2",children:[e.jsx("button",{onClick:()=>H("Yape"),className:`px-6 py-2 text-lg font-medium rounded-xl transition-all duration-300 ${k==="Yape"?"bg-purple-600 text-white":"bg-gray-700/50 text-gray-300 hover:bg-purple-500/50"}`,children:"Yape"}),e.jsx("button",{onClick:()=>H("Binance"),className:`px-6 py-2 text-lg font-medium rounded-xl transition-all duration-300 ${k==="Binance"?"bg-yellow-500 text-black":"bg-gray-700/50 text-gray-300 hover:bg-yellow-500/50"}`,children:"Binance Pay"}),e.jsx("button",{onClick:()=>H("Astropay"),className:`px-6 py-2 text-lg font-medium rounded-xl transition-all duration-300 ${k==="Astropay"?"bg-blue-500 text-white":"bg-gray-700/50 text-gray-300 hover:bg-blue-500/50"}`,children:"Astropay"})]}),k==="Yape"?e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("h4",{className:"text-lg font-semibold text-purple-400 mb-4 flex items-center",children:[e.jsx(rs,{className:"mr-2"})," Pago con Yape"]}),e.jsxs("p",{className:"text-gray-300 mb-3",children:["Escanea el código QR o usa ",e.jsx("span",{className:"font-semibold text-white",children:"Yape"})," con el número:"]}),e.jsx("p",{className:"text-xl font-bold text-white mb-3",children:"📱 940505969"}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"bg-white p-4 rounded-xl border-4 border-purple-600 shadow-md",children:e.jsx("img",{src:VL,alt:"Yape QR Code",className:"w-48 h-48 object-contain"})})}),e.jsxs("p",{className:"text-gray-300 mb-4",children:["Realiza el pago de S/ ",Z,c==="USD"?" (equivalente a tu monto en USD con 10% adicional)":"",". Confirma tu recarga vía WhatsApp."]}),e.jsxs("a",{href:`https://wa.me/51940505969?text=${encodeURIComponent(`Hola 😊, he realizado una recarga a través de Yape por S/ ${Z}. Por favor, confirma mi pago.`)}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-medium transition-all duration-300",children:[e.jsx(Ps,{className:"mr-2"})," Confirmar por WhatsApp"]})]}):k==="Binance"?e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("h4",{className:"text-lg font-semibold text-yellow-400 mb-4 flex items-center",children:[e.jsx(IN,{className:"mr-2"})," Pago con Binance Pay"]}),e.jsxs("p",{className:"text-gray-300 mb-3",children:["Escanea el código QR o usa el enlace de ",e.jsx("span",{className:"font-semibold text-white",children:"Binance Pay"})," para pagar en USDT:"]}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"bg-white p-4 rounded-xl border-4 border-yellow-500 shadow-md",children:e.jsx("img",{src:zL,alt:"Binance Pay QR Code",className:"w-48 h-48 object-contain"})})}),e.jsxs("p",{className:"text-gray-300 mb-4",children:["Paga S/ ",Z," (equivalente en USDT al tipo de cambio actual con 10% adicional). Confirma tu transacción enviándonos el ID de transacción vía WhatsApp."]}),e.jsxs("a",{href:`https://wa.me/51940505969?text=${encodeURIComponent(`Hola 😊, he realizado una recarga a través de Binance Pay por S/ ${Z} (en USDT). Por favor, confirma mi pago. ID de transacción: [Ingresa tu ID].`)}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-yellow-500 hover:bg-yellow-600 text-black rounded-xl font-medium transition-all duration-300",children:[e.jsx(Ps,{className:"mr-2"})," Confirmar por WhatsApp"]})]}):e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("h4",{className:"text-lg font-semibold text-blue-400 mb-4 flex items-center",children:[e.jsx(IN,{className:"mr-2"})," Pago con Astropay"]}),e.jsxs("p",{className:"text-gray-300 mb-3",children:["Escanea el código QR o usa ",e.jsx("span",{className:"font-semibold text-white",children:"Astropay"})," para pagar:"]}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"bg-white p-4 rounded-xl border-4 border-blue-500 shadow-md",children:e.jsx("img",{src:BL,alt:"Astropay QR Code",className:"w-48 h-48 object-contain"})})}),e.jsxs("p",{className:"text-gray-300 mb-4",children:["Realiza el pago de S/ ",Z,c==="USD"?" (equivalente a tu monto en USD con 10% adicional)":"",". Confirma tu recarga vía WhatsApp."]}),e.jsxs("a",{href:`https://wa.me/51940505969?text=${encodeURIComponent(`Hola 😊, he realizado una recarga a través de Astropay por S/ ${Z}. Por favor, confirma mi pago.`)}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-all duration-300",children:[e.jsx(Ps,{className:"mr-2"})," Confirmar por WhatsApp"]})]})]})]}),e.jsxs("div",{className:"bg-gray-900/80 backdrop-blur-lg p-6 sm:p-8 rounded-3xl shadow-2xl border border-gray-700/30",children:[e.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-white mb-6 text-center",children:"Historial de recargas"}),s.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-800/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:s.map(ne=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white font-medium",children:["S/ ",ne.amount.toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${ne.status==="aprobado"?"bg-green-900/80 text-green-400":ne.status==="pendiente"?"bg-yellow-900/80 text-yellow-400":"bg-red-900/80 text-red-400"}`,children:ne.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-400",children:u(ne.date)})]},ne.id))})]})}):e.jsx("p",{className:"text-gray-400 py-8 text-center text-lg",children:"No hay recargas registradas"})]})]})},FL=({providers:r,openRateProviderModal:t})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Proveedores"}),r.length>0?e.jsx("div",{className:"space-y-4",children:r.map(s=>e.jsx("div",{className:"border border-gray-600/50 rounded-2xl p-4 hover:bg-gray-700/50 transition-all duration-300",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-300 font-medium",children:s.name}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Teléfono: ",s.phone]})]}),e.jsxs("button",{onClick:()=>t(s),className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300 flex items-center gap-2",children:[e.jsx(et,{size:16}),"Calificar"]})]})},s.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(nt,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay proveedores"}),e.jsx("p",{className:"text-gray-400",children:"No has realizado compras con proveedores aún."})]})]}),HL=({orders:r,searchQuery:t,setSearchQuery:s,formatDate:n,handleRenewal:o,actionLoading:u,balance:c})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-3 sm:p-4 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-white",children:"Mis pedidos"}),e.jsxs("div",{className:"relative w-48 sm:w-64",children:[e.jsx("input",{type:"text",placeholder:"Buscar pedidos...",className:"w-full px-3 py-1.5 rounded-lg bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all duration-300 text-sm placeholder-gray-500",value:t,onChange:m=>s(m.target.value)}),e.jsx(vt,{className:"absolute right-2 top-2 text-gray-400",size:16})]})]}),r.length>0?r.filter(m=>(m.productName||"").toLowerCase().includes(t.toLowerCase())||(m.orderId||"").toLowerCase().includes(t.toLowerCase())).map(m=>{console.log("Order data:",m);const p=parseFloat(m.price)||0,v=parseFloat(m.renewalPrice)||0,T=new Date(m.endDate)>new Date&&m.status==="completed",P=m.status==="pending",A=m.daysRemaining||0,O=m.timeElapsedPercentage||0;let k="bg-red-400";O>70&&O<=90?k="bg-yellow-400":O>90&&(k="bg-red-400");const H=P?e.jsx(dr,{className:"text-yellow-400",size:16}):T?e.jsx(yd,{className:"text-green-400",size:16}):e.jsx(ut,{className:"text-red-400",size:16}),V=encodeURIComponent(`*Consulta sobre Pedido - ${m.productName||"Sin nombre"}*

*N° Pedido:* ${m.orderId||"No especificado"}
*Producto:* ${m.productName||"Sin nombre"}
*Precio:* S/ ${p.toFixed(2)}
`+(m.renewalPrice?`*Precio de Renovación:* S/ ${v.toFixed(2)}
`:"")+`*Estado:* ${P?"A pedido":T?"Activo":"Expirado"}
*Fecha de Inicio:* ${n(m.startDate)}
*Fecha de Vencimiento:* ${n(m.endDate)}
`+(P?`Hola 😊, he comprado un producto a pedido (${m.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),Z=encodeURIComponent(`😊 Estimado/a ${m.client?.customerName||"Cliente"} 😊

Le enviamos la información de su suscripción a nuestro servicio de streaming:
📌 Tipo: ${m.productName||"Sin nombre"}.
🔢 Código: ${m.orderId||"No especificado"}
`+(P?"":`📧 Correo: ${m.account?.email||"No especificado"}
🔐 Contraseña: ${m.account?.password||"No especificado"}
👤 Perfil: ${m.account?.profile||"No especificado"}
📌 PIN: ${m.account?.pin||"No especificado"}
`)+`🌐 URL: Sin URL
📅 Fecha de creación: ${n(m.startDate)}
📅 Fecha de vencimiento: ${n(m.endDate)}
🏁 Días contratados: ${m.durationDays||30} días.

`+(P?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:"")+`*Términos y Condiciones:*
${m.terms||"No se especificaron términos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),ne=m.providerPhone?m.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999",oe=m.client?.phone?m.client.phone.replace(/^\+/,"").replace(/\D/g,""):"51999999999";return e.jsxs("div",{className:"border border-gray-600/50 rounded-xl overflow-hidden hover:shadow-lg transition-all duration-300 mb-4",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-3 py-2 border-b border-gray-600/20 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[H,e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white text-sm",children:m.productName||"Producto sin nombre"}),m.orderId&&e.jsxs("p",{className:"text-xs text-gray-400",children:["N°: ",m.orderId]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",p.toFixed(1)]}),e.jsx("p",{className:"text-xs text-gray-500",children:m.renewalPrice&&`Ren: S/ ${v.toFixed(1)}`}),e.jsx("p",{className:`text-xs ${P?"text-yellow-400":k.replace("bg-","text-")}`,children:P?"Pendiente":`${A} día${A===1?"":"s"}`})]})]}),e.jsxs("div",{className:"p-3 bg-gray-700/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"w-full bg-gray-600/40 rounded-full h-1",children:e.jsx("div",{className:`h-1 rounded-full ${k}`,style:{width:`${Math.min(O,100)}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-0.5 text-right",children:[O.toFixed(0),"%"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[e.jsxs("div",{className:"border border-gray-700/50 bg-gray-800/50 backdrop-blur-sm p-2.5 rounded-xl",children:[e.jsxs("h5",{className:"text-xs font-medium text-gray-400 flex items-center mb-0.5",children:[e.jsx(nt,{className:"mr-0.5",size:12})," Cuenta"]}),e.jsx("div",{className:"space-y-0.5 text-xs text-gray-300",children:P?e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Usuario: ",e.jsx("span",{className:"text-gray-200",children:"Por completar"})]}),e.jsxs("p",{children:["Clave: ",e.jsx("span",{className:"text-gray-200",children:"Por completar"})]}),e.jsxs("p",{children:["Perfil: ",e.jsx("span",{className:"text-gray-200",children:"Por completar"})]}),e.jsxs("p",{children:["PIN: ",e.jsx("span",{className:"text-gray-200",children:"No"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Usuario: ",e.jsx("span",{className:"text-gray-200",children:m.account?.email||"No especificado"})]}),e.jsxs("p",{children:["Clave: ",e.jsx("span",{className:"text-gray-200",children:m.account?.password||"No especificado"})]}),e.jsxs("p",{children:["Perfil: ",e.jsx("span",{className:"text-gray-200",children:m.account?.profile||"No especificado"})]}),e.jsxs("p",{children:["PIN: ",e.jsx("span",{className:"text-gray-200",children:m.account?.pin||"No especificado"})]})]})})]}),e.jsxs("div",{className:"border border-gray-700/50 bg-gray-800/50 backdrop-blur-sm p-2.5 rounded-xl",children:[e.jsxs("h5",{className:"text-xs font-medium text-gray-400 flex items-center mb-0.5",children:[e.jsx(tt,{className:"mr-0.5",size:12})," Información del Pedido"]}),e.jsxs("div",{className:"space-y-0.5 text-xs text-gray-300",children:[e.jsxs("p",{children:["Inicio: ",e.jsx("span",{className:"text-gray-200",children:n(m.startDate)})]}),e.jsxs("p",{children:["Vencimiento: ",e.jsx("span",{className:"text-gray-200",children:n(m.endDate)})]}),e.jsxs("p",{children:["Estado: ",e.jsx("span",{className:"text-gray-200",children:P?"A pedido":T?"Activo":"Expirado"})]})]})]}),e.jsxs("div",{className:"border border-gray-700/50 bg-gray-800/50 backdrop-blur-sm p-2.5 rounded-xl",children:[e.jsxs("h5",{className:"text-xs font-medium text-gray-400 flex items-center mb-0.5",children:[e.jsx(nt,{className:"mr-0.5",size:12})," Cliente"]}),e.jsxs("div",{className:"space-y-0.5 text-xs text-gray-300",children:[e.jsxs("p",{children:["Nombre: ",e.jsx("span",{className:"text-gray-200",children:m.client?.customerName||"No especificado"})]}),e.jsxs("p",{children:["Teléfono: ",e.jsx("span",{className:"text-gray-200",children:m.client?.phone||"No especificado"})]})]})]})]}),e.jsxs("div",{className:"mt-3 flex justify-end gap-2",children:[e.jsxs("a",{href:`https://wa.me/51${ne}?text=${V}`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all duration-300 text-sm flex items-center gap-1",children:[e.jsx(Ps,{size:16})," Contactar proveedor"]}),T&&m.renewable&&e.jsx("button",{onClick:()=>o(m),disabled:u[`renew_${m.id}`]||c<v,className:`px-4 py-2 rounded-xl flex items-center gap-1 ${u[`renew_${m.id}`]||c<v?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"} transition-all duration-300 text-sm`,children:u[`renew_${m.id}`]?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(D1,{size:16})," Renovar (S/ ",v.toFixed(1),")"]})}),e.jsxs("a",{href:`https://wa.me/51${oe}?text=${Z}`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300 text-sm flex items-center gap-1",children:[e.jsx(Ps,{size:16})," Contactar cliente"]})]})]})]},m.id)}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ht,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay pedidos"}),e.jsx("p",{className:"text-gray-400",children:"Aún no has realizado ningún pedido."})]})]}),WL=({userName:r,email:t,actionLoading:s,handleUpdatePassword:n,openEditProfileModal:o,handleLogout:u})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuración"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50 shadow-lg",children:[e.jsxs("h4",{className:"text-lg font-semibold text-red-400 mb-3 flex items-center",children:[e.jsx(nt,{className:"mr-2"})," Perfil"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(nt,{className:"mr-2 text-red-400"})," Nombre: ",r.username]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(Zx,{className:"mr-2 text-red-400"})," Correo: ",t]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(mx,{className:"mr-2 text-red-400"})," Teléfono: ",r.phone||"No especificado"]})]}),e.jsx("button",{onClick:()=>o({id:r.id,username:r.username}),className:"mt-4 px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Editar Perfil"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50 shadow-lg",children:[e.jsxs("h4",{className:"text-lg font-semibold text-red-400 mb-3 flex items-center",children:[e.jsx(mx,{className:"mr-2"})," Seguridad"]}),e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-1",children:"Nueva Contraseña"}),e.jsx("input",{type:"password",name:"password",className:"w-full px-3 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all duration-300",placeholder:"Ingrese nueva contraseña"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-1",children:"Nuevo Teléfono"}),e.jsx("input",{type:"tel",name:"phone",className:"w-full px-3 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all duration-300",placeholder:"Ingrese nuevo teléfono"})]}),e.jsx("button",{type:"submit",disabled:s.password,className:`w-full py-2 rounded-xl text-white transition-all duration-300 ${s.password?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-red-500 hover:bg-red-600"}`,children:s.password?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar Cambios"})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50 shadow-lg",children:[e.jsxs("h4",{className:"text-lg font-semibold text-red-400 mb-3 flex items-center",children:[e.jsx(Zt,{className:"mr-2"})," Sesión"]}),e.jsxs("button",{onClick:u,className:"w-full py-2 flex items-center justify-center gap-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:[e.jsx(Zt,{size:16}),"Cerrar Sesión"]})]})]})]}),qL=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState(""),[o,u]=N.useState([]),[c,m]=N.useState({username:"",phone:""}),[p,v]=N.useState(""),[T,P]=N.useState(0),[A,O]=N.useState(null),[k,H]=N.useState("inicio"),[V,Z]=N.useState([]),[ne,oe]=N.useState({}),[pe,X]=N.useState([]),[ie,U]=N.useState(!0),[h,Y]=N.useState({}),[Q,ae]=N.useState(null),[le,ee]=N.useState({isOpen:!1,message:"",title:""}),[K,i]=N.useState({isOpen:!1,user:null}),[Fe,je]=N.useState({isOpen:!1,provider:null}),[Ne,Ae]=N.useState(""),[Ie,he]=N.useState([]),be=Qt(),Ce=(M,$)=>{ee({isOpen:!0,title:M,message:$})},We=()=>{ee({isOpen:!1,message:"",title:""})},Re=M=>{i({isOpen:!0,user:M})},Ge=()=>{i({isOpen:!1,user:null})},Le=M=>{je({isOpen:!0,provider:M})},a=()=>{je({isOpen:!1,provider:null})},D=async(M,$)=>{try{Y(b=>({...b,profile:!0}));const f=W(_,"users",M);await Hr(f,{username:$,updatedAt:Me()}),m(b=>({...b,username:$})),Ce("Éxito","Perfil actualizado exitosamente"),Ge()}catch(f){console.error("Error al actualizar perfil:",f),Ce("Error",f.message||"Error al actualizar el perfil")}finally{Y(f=>({...f,profile:!1}))}},g=async(M,$)=>{try{Y(f=>({...f,[`rate_${M}`]:!0})),await wi(se(_,"ratings"),{userId:A,providerId:M,rating:$,ratedAt:Me()}),Ce("Éxito","Calificación enviada exitosamente"),a()}catch(f){console.error("Error al calificar proveedor:",f),Ce("Error",f.message||"Error al enviar la calificación")}finally{Y(f=>({...f,[`rate_${M}`]:!1}))}};N.useEffect(()=>{(async()=>{try{console.log("Fetching products...");const $=ke(se(_,"products")),f=await Ft($);console.log("Products fetched:",f.docs.length);const b={};f.forEach(I=>{b[I.id]=I.data()}),oe(b)}catch($){console.error("Error fetching products:",$),ae("Error al cargar productos: "+$.message)}})()},[]),N.useEffect(()=>{const M=$e(W(_,"notifications","adminMessage"),$=>{if($.exists()){const f=$.data();f.roles&&f.roles.includes("user")?X([{id:$.id,...f}]):X([])}else X([])},$=>{console.error("Error in notifications listener:",$),ae("Error al cargar notificaciones: "+$.message)});return()=>M()},[]),N.useEffect(()=>{if(!A)return;(async()=>{try{const $=ke(se(_,"sales"),De("customerId","==",A)),f=await Ft($),b=new Set,I=[];f.forEach(J=>{const te=J.data();te.providerId&&!b.has(te.providerId)&&(b.add(te.providerId),I.push({id:te.providerId,name:te.provider||"Proveedor desconocido",phone:te.providerPhone||"No especificado"}))}),he(I)}catch($){console.error("Error fetching providers:",$),ae("Error al cargar proveedores: "+$.message)}})()},[A]);const z=async M=>{try{Y(ce=>({...ce,[`renew_${M.id}`]:!0}));const $=parseFloat(M.renewalPrice)||parseFloat(M.price)||0;if(T<$){Ce("Error","Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const f=parseInt(M.durationDays)||30,b=br.now(),I=b.toDate(),J=I,te=new Date(J.getTime()+f*24*60*60*1e3),me=br.fromDate(te),ye=W(_,"sales",M.id);await Hr(ye,{startDate:b,endDate:me,renewedAt:b,status:"completed",updatedAt:Me()});const ge=W(_,"users",A);await Hr(ge,{balance:T-$}),P(ce=>ce-$),Z(ce=>ce.map(_e=>_e.id===M.id?{..._e,startDate:J,endDate:te,renewedAt:I,status:"completed",daysRemaining:f,totalDays:f,timeElapsedPercentage:0}:_e)),Ce("Éxito",`¡Pedido renovado exitosamente! Nueva fecha de vencimiento: ${ue(te)}`)}catch($){console.error("Error al renovar el pedido:",$),Ce("Error","Error al renovar el pedido: "+$.message)}finally{Y($=>({...$,[`renew_${M.id}`]:!1}))}},F=async()=>{try{await Bx(ot),be("/")}catch(M){console.error("Error al cerrar sesión:",M),Ce("Error",M.message||"Error al cerrar sesión")}};N.useEffect(()=>{const M=tr(ot,$=>{$?(O($.uid),v($.email||"No especificado"),U(!1)):be("/login")});return()=>M()},[be]),N.useEffect(()=>{if(!A)return;const M=W(_,"users",A),$=$e(M,f=>{if(f.exists()){const b=f.data();m({username:b.username||"Usuario",phone:b.phone||""}),v(b.email||"No especificado"),P(Number(b.balance)||0)}else ae("Usuario no encontrado")},f=>{console.error("Error in user data listener:",f),ae("Error al cargar datos del usuario: "+f.message)});return()=>$()},[A]),N.useEffect(()=>{if(!A)return;const M=ke(se(_,"sales"),De("customerId","==",A)),$=$e(M,async b=>{if(b.empty){Z([]),U(!1);return}const I=new Date,J=7200*60*1e3;for(const me of b.docs){const ge=me.data().endDate?.toDate?.()||new Date;if(ge<I&&I.getTime()-ge.getTime()>J)try{await Nu(W(_,"sales",me.id)),console.log(`Deleted expired order: ${me.id}`)}catch(ce){console.error(`Error deleting order ${me.id}:`,ce)}}const te=b.docs.map(me=>{const ye=me.data(),ce=ye.saleDate?.toDate?.()||ye.createdAt?.toDate?.()||new Date;let _e=ye.startDate?.toDate?.(),qe=_e||ce,at=!1;_e||(at=!0);const He=ye.durationDays||30;let Dt;ye.endDate?Dt=ye.endDate.toDate?ye.endDate.toDate():new Date(ye.endDate):(Dt=new Date(qe.getTime()+He*24*60*60*1e3),at=!0),at&&Hr(W(_,"sales",me.id),{startDate:_e||br.fromDate(ce),endDate:br.fromDate(Dt),durationDays:He}).catch(xt=>{console.error("Error al actualizar startDate/endDate en Firestore:",xt)});const ct=Dt.getTime()-qe.getTime(),dt=I.getTime()-qe.getTime(),Ke=Dt.getTime()-I.getTime(),pt=Math.ceil(ct/(1e3*60*60*24)),bt=Math.max(0,Math.ceil(Ke/(1e3*60*60*24))),Be=Math.ceil(dt/(1e3*60*60*24)),Xe=pt>0?Be/pt*100:100,$t=ne[ye.providerId]?.terms||"No se especificaron términos y condiciones.";return{id:me.id,productName:ye.productName||"Producto sin nombre",category:ye.type||"netflix",price:parseFloat(ye.price)||0,renewalPrice:parseFloat(ye.renewalPrice)||0,provider:ye.provider||"No especificado",providerId:ye.providerId||"",providerPhone:ye.providerPhone||ye.providerWhatsapp||"51999999999",status:ye.status||"completed",saleDate:ce,startDate:qe,endDate:Dt,durationDays:He,daysRemaining:bt,totalDays:pt,timeElapsedPercentage:Xe,account:{email:ye.accountDetails?.email||"No especificado",password:ye.accountDetails?.password||"No especificado",profile:ye.accountDetails?.profile||"No especificado",pin:ye.accountDetails?.pin||"No especificado"},client:{customerName:ye.customerName||"Cliente desconocido",email:ye.customerEmail||"No especificado",phone:ye.phoneNumber||"No especificado"},paymentMethod:"SZStreaming",orderId:`SZ-${me.id.slice(0,8).toUpperCase()}`,termsAndConditions:$t,renewable:ye.renewable!==void 0?ye.renewable:!0}}).filter(me=>{const ye=new Date(me.endDate);return!(ye<I&&I.getTime()-ye.getTime()>J)});Z(te),U(!1)},b=>{console.error("Error al obtener pedidos:",b),ae("Error al cargar pedidos: "+b.message),U(!1)}),f=setInterval(()=>{const b=new Date,I=7200*60*1e3;Z(J=>J.map(te=>{const me=new Date(te.endDate).getTime()-new Date(te.startDate).getTime(),ye=b.getTime()-new Date(te.startDate).getTime(),ge=new Date(te.endDate).getTime()-b.getTime(),ce=Math.ceil(me/(1e3*60*60*24)),_e=Math.max(0,Math.ceil(ge/(1e3*60*60*24))),qe=Math.ceil(ye/(1e3*60*60*24)),at=ce>0?qe/ce*100:100;return{...te,daysRemaining:_e,totalDays:ce,timeElapsedPercentage:at}}).filter(te=>{const me=new Date(te.endDate);return!(me<b&&b.getTime()-me.getTime()>I)}))},6e4);return()=>{$(),clearInterval(f)}},[A,ne]),N.useEffect(()=>{if(!A)return;const M=ke(se(_,"pendingTopUps"),De("userId","==",A)),$=$e(M,f=>{const b=f.docs.map(I=>({id:I.id,...I.data(),date:I.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(I.data().amount)||0}));u(b)},f=>{console.error("Error al obtener recargas:",f),ae("Error al cargar recargas: "+f.message)});return()=>$()},[A]);const q=async()=>{try{if(Y($=>({...$,topUp:!0})),!s||isNaN(s)){Ce("Error","Ingrese un monto válido");return}const M=parseFloat(s);if(M<5){Ce("Error","El monto mínimo de recarga es S/ 5.00");return}await wi(se(_,"pendingTopUps"),{userId:A,username:c.username,amount:M,status:"pendiente",requestedAt:Me()}),n(""),Ce("Éxito","Solicitud de recarga enviada correctamente")}catch(M){console.error("Error al solicitar recarga:",M),Ce("Error",M.message||"Error al enviar solicitud de recarga")}finally{Y(M=>({...M,topUp:!1}))}},de=async M=>{M.preventDefault();try{Y(te=>({...te,password:!0}));const $=M.target.password.value,f=M.target.phone.value,b=ot.currentUser,I=W(_,"users",A),J={};if($){if($.length<6){Ce("Error","La contraseña debe tener al menos 6 caracteres");return}await xg(b,$),J.updatedAt=Me()}f&&(J.phone=f,J.updatedAt=Me()),Object.keys(J).length>0&&await Hr(I,J),m(te=>({...te,phone:f||te.phone})),Ce("Éxito","Cambios guardados correctamente"),M.target.reset()}catch($){console.error("Error al actualizar los datos:",$),Ce("Error",$.message||"Error al guardar los cambios")}finally{Y($=>({...$,password:!1}))}},ue=M=>{if(!M)return"No especificada";try{const $=M instanceof Date?M:new Date(M);return isNaN($.getTime())?"Fecha inválida":$.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},E=()=>{if(ie)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-400"})});if(Q)return e.jsxs("div",{className:"bg-black/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(ut,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:Q}),e.jsx("button",{onClick:()=>ae(null),className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Aceptar"})]});switch(k){case"inicio":return e.jsx(OL,{userName:c,email:p,balance:T,orders:V,notifications:pe,setActivePage:H,formatDate:ue});case"notificaciones":return e.jsx(LL,{notifications:pe,formatDate:ue});case"recargar":return e.jsx(UL,{amount:s,setAmount:n,topUps:o,actionLoading:h,handleTopUpRequest:q,formatDate:ue,showModal:Ce});case"proveedores":return e.jsx(FL,{providers:Ie,openRateProviderModal:Le});case"pedidos":return e.jsx(HL,{orders:V,searchQuery:Ne,setSearchQuery:Ae,formatDate:ue,handleRenewal:z,actionLoading:h});case"configuracion":return e.jsx(WL,{userName:c,email:p,actionLoading:h,handleUpdatePassword:de,openEditProfileModal:Re,handleLogout:F});default:return e.jsxs("div",{className:"bg-black/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(ut,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),e.jsx("button",{onClick:()=>H("inicio"),className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Volver al inicio"})]})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-black to-gray-900 text-gray-200",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>t(!r),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:e.jsx(ur,{className:"text-xl"})})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${r?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("button",{onClick:()=>{be("/"),t(!1)},className:"text-xl font-bold text-red-400 hover:text-red-300 transition-all duration-300",children:"SZ Streaming"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:e.jsx(Ot,{className:"text-lg"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500 flex items-center justify-center text-white font-bold",children:c.username.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:c.username}),e.jsx("p",{className:"text-xs text-gray-400",children:"Usuario"})]})]}),e.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Kx},{id:"notificaciones",label:"Notificaciones",icon:Rl},{id:"recargar",label:"Recargar saldo",icon:rs},{id:"pedidos",label:"Mis pedidos",icon:Ht},{id:"proveedores",label:"Proveedores",icon:nt},{id:"configuracion",label:"Configuración",icon:Ud}].map(M=>e.jsxs("button",{onClick:()=>{H(M.id),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${k===M.id?"bg-red-500/20 text-red-400 border border-red-500/50":"text-gray-300 hover:bg-gray-800/50 hover:text-red-400"}`,children:[e.jsx(M.icon,{className:"text-lg"}),e.jsx("span",{children:M.label})]},M.id))}),e.jsx("div",{className:"mt-auto pt-6",children:e.jsxs("button",{onClick:F,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-red-900/20 rounded-xl transition-all duration-300 border border-red-900/50",children:[e.jsx(Zt,{className:"text-lg"}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})}),e.jsx("main",{className:"md:ml-64 p-4 sm:p-6 min-h-screen",children:E()}),e.jsx(AL,{isOpen:le.isOpen,title:le.title,message:le.message,onClose:We}),e.jsx(RL,{isOpen:K.isOpen,user:K.user,onClose:Ge,onSave:D}),e.jsx(ML,{isOpen:Fe.isOpen,provider:Fe.provider,onClose:a,onRate:g}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>t(!1)})]})},GL=({isOpen:r,message:t,title:s,onClose:n})=>r?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:s}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(Ot,{size:20})})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:t}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,QL=({isOpen:r,user:t,onClose:s,onSave:n})=>{const[o,u]=N.useState(t?.username||""),[c,m]=N.useState(""),p=v=>{if(v.preventDefault(),m(""),!o.trim()){m("El nombre de usuario no puede estar vacío.");return}n(t.id,o.trim())};return r?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Editar Perfil"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(Ot,{size:20})})]}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),e.jsx("input",{type:"text",value:o,onChange:v=>u(v.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",required:!0}),c&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:c})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},KL=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState("inicio"),[o,u]=N.useState(""),[c,m]=N.useState(""),[p,v]=N.useState(""),[T,P]=N.useState([]),[A,O]=N.useState(0),[k,H]=N.useState(0),[V,Z]=N.useState(null),[ne,oe]=N.useState(!0),[pe,X]=N.useState({}),[ie,U]=N.useState(null),[h,Y]=N.useState([]),[Q,ae]=N.useState(!1),[le,ee]=N.useState(""),[K,i]=N.useState(""),[Fe,je]=N.useState([]),[Ne,Ae]=N.useState([]),[Ie,he]=N.useState({}),[be,Ce]=N.useState([]),[We,Re]=N.useState({isOpen:!1,message:"",title:""}),[Ge,Le]=N.useState({isOpen:!1,user:null}),a=Qt(),D=(I,J)=>{Re({isOpen:!0,title:I,message:J})},g=()=>{Re({isOpen:!1,message:"",title:""})},z=I=>{Le({isOpen:!0,user:I})},F=()=>{Le({isOpen:!1,user:null})},q=async(I,J)=>{try{X(ye=>({...ye,profile:!0}));const te=W(_,"users",I),me=W(_,"affiliates",I);await Hr(te,{username:J,updatedAt:Me()}),await Hr(me,{username:J,updatedAt:Me()}),u(J),D("Éxito","Perfil actualizado exitosamente"),F()}catch(te){console.error("Error al actualizar perfil:",te),D("Error",te.message||"Error al actualizar el perfil")}finally{X(te=>({...te,profile:!1}))}};N.useEffect(()=>{const I=tr(ot,J=>{J?(Z(J.uid),m(J.email||"No especificado"),oe(!1)):a("/login")});return()=>I()},[a]),N.useEffect(()=>{(async()=>{try{const J=ke(se(_,"products")),te=await Ft(J),me={};te.forEach(ye=>{me[ye.id]=ye.data()}),he(me)}catch(J){console.error("Error fetching products:",J),U("Error al cargar productos")}})()},[]),N.useEffect(()=>{$e(W(_,"notifications","adminMessage"),te=>{if(te.exists()){const me=te.data();me.roles&&me.roles.includes("affiliate")?Ce([{id:te.id,...me}]):Ce([])}else Ce([])})},[]),N.useEffect(()=>{(async()=>{if(V)try{const J=W(_,"users",V),te=await gt(J);if(te.exists()){const ge=te.data();u(ge.username||"Usuario"),H(Number(ge.balance)||0)}const me=W(_,"affiliates",V),ye=await gt(me);if(ye.exists()){const ge=ye.data();v(ge.affiliateCode||""),O(Number(ge.earnings)||0)}else{const ge=`AFF-${Math.random().toString(36).substring(2,8).toUpperCase()}`;await mo(me,{username:o||"Nuevo Afiliado",email:c,affiliateCode:ge,earnings:0,createdAt:Me(),updatedAt:Me()}),v(ge)}}catch(J){console.error("Error al manejar datos:",J),U("Error al cargar datos")}finally{oe(!1)}})()},[V,c,o]),N.useEffect(()=>{if(!V)return;(()=>{const J=ke(se(_,"pendingTopUps"),De("userId","==",V));return $e(J,me=>{const ye=me.docs.map(ge=>({id:ge.id,...ge.data(),date:ge.data().requestedAt?.toDate?.()||new Date,amount:parseFloat(ge.data().amount)||0}));je(ye)},me=>{console.error("Error al obtener recargas:",me),U("Error al cargar recargas")})})()},[V]),N.useEffect(()=>{if(!p)return;const I=ke(se(_,"users"),De("referrerCode","==",p),CE("createdAt","desc"),hr(5)),J=$e(I,te=>{const me=te.docs.map(ye=>({id:ye.id,...ye.data(),joinDate:ye.data().createdAt?.toDate()||new Date}));Y(me)});return()=>J()},[p]),N.useEffect(()=>{if(!p)return;const I=ke(se(_,"users"),De("referrerCode","==",p)),J=$e(I,te=>{const me=te.docs.map(ye=>({id:ye.id,...ye.data(),joinDate:ye.data().createdAt?.toDate()||new Date}));P(me)});return()=>J()},[p]),N.useEffect(()=>{if(!V)return;(()=>{const J=ke(se(_,"sales"),De("customerId","==",V)),te=$e(J,ye=>{if(ye.empty){Ae([]),oe(!1);return}const ge=ye.docs.map(ce=>{const _e=ce.data(),at=_e.saleDate?.toDate?.()||_e.createdAt?.toDate?.()||new Date;let He=_e.startDate?.toDate?.(),Dt=He||at,ct=!1;He||(ct=!0);const dt=_e.durationDays||30;let Ke;_e.endDate?Ke=new Date(_e.endDate):(Ke=new Date(Dt.getTime()+dt*24*60*60*1e3),ct=!0),ct&&Hr(W(_,"sales",ce.id),{startDate:He||br.fromDate(at),endDate:Ke.toISOString(),durationDays:dt}).catch(Wt=>{console.error("Error al actualizar startDate/endDate en Firestore:",Wt)});const pt=new Date,bt=Ke.getTime()-Dt.getTime(),Be=pt.getTime()-Dt.getTime(),Xe=Ke.getTime()-pt.getTime(),$t=Math.ceil(bt/(1e3*60*60*24)),xt=Math.max(0,Math.ceil(Xe/(1e3*60*60*24))),Xt=Math.ceil(Be/(1e3*60*60*24)),Ar=$t>0?Xt/$t*100:100,mr=Ie[_e.providerId]?.terms||"No se especificaron términos y condiciones.";return{id:ce.id,productName:_e.productName||"Producto sin nombre",category:_e.type||"netflix",price:parseFloat(_e.price)||0,provider:_e.provider||"No especificado",providerId:_e.providerId||"",providerPhone:_e.providerPhone||_e.providerWhatsapp||"51999999999",status:_e.status||"completed",saleDate:at,startDate:Dt,endDate:Ke,durationDays:dt,daysRemaining:xt,totalDays:$t,timeElapsedPercentage:Ar,account:{email:_e.accountDetails?.email||"No especificado",password:_e.accountDetails?.password||"No especificado",profile:_e.accountDetails?.profile||"No especificado",pin:_e.accountDetails?.pin||"No especificado"},client:{name:_e.customerName||"Cliente desconocido",email:_e.customerEmail||"No especificado",phone:_e.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BS-${ce.id.slice(0,8).toUpperCase()}`,termsAndConditions:mr,renewable:_e.renewable!==void 0?_e.renewable:!0}});Ae(ge),oe(!1)},ye=>{console.error("Error al obtener pedidos:",ye),U("Error al cargar pedidos: "+ye.message),oe(!1)}),me=setInterval(()=>{Ae(ye=>ye.map(ge=>{const ce=new Date,_e=new Date(ge.endDate).getTime()-new Date(ge.startDate).getTime(),qe=ce.getTime()-new Date(ge.startDate).getTime(),at=new Date(ge.endDate).getTime()-ce.getTime(),He=Math.ceil(_e/(1e3*60*60*24)),Dt=Math.max(0,Math.ceil(at/(1e3*60*60*24))),ct=Math.ceil(qe/(1e3*60*60*24)),dt=He>0?ct/He*100:100;return{...ge,daysRemaining:Dt,totalDays:He,timeElapsedPercentage:dt}}))},6e4);return()=>{te(),clearInterval(me)}})()},[V,Ie]);const de=async()=>{try{if(X(J=>({...J,topUp:!0})),!K||isNaN(K)){D("Error","Ingrese un monto válido");return}const I=parseFloat(K);if(I<10){D("Error","El monto mínimo de recarga es S/ 10.00");return}await wi(se(_,"pendingTopUps"),{userId:V,username:o,amount:I,status:"pendiente",requestedAt:Me(),processed:!1}),i(""),D("Éxito","Solicitud de recarga enviada correctamente")}catch(I){console.error("Error al solicitar recarga:",I),D("Error",I.message||"Error al enviar solicitud de recarga")}finally{X(I=>({...I,topUp:!1}))}},ue=async I=>{try{X(He=>({...He,[`renew_${I.id}`]:!0}));const J=parseFloat(I.price)||0;if(k<J){D("Error","Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const te=parseInt(I.durationDays)||30,me=br.now(),ye=me.toDate(),ge=new Date(ye.getTime()+te*24*60*60*1e3),ce=ge.toISOString(),_e={customerId:V,customerName:I.client?.name||"Cliente desconocido",customerEmail:I.client?.email||c,phoneNumber:I.client?.phone||"No especificado",productName:I.productName||"Producto sin nombre",type:I.category||"netflix",price:J,accountDetails:{email:I.account?.email||"No especificado",password:I.account?.password||"No especificado",profile:I.account?.profile||"No especificado",pin:I.account?.pin||"No especificado"},provider:I.provider||"Proveedor desconocido",providerId:I.providerId||"",providerPhone:I.providerPhone||I.providerWhatsapp||"51999999999",status:"completed",createdAt:me,saleDate:me,startDate:me,endDate:ce,durationDays:te,renewedAt:me,renewable:I.renewable!==void 0?I.renewable:!0},qe=await wi(se(_,"sales"),_e),at=W(_,"users",V);await Hr(at,{balance:k-J}),H(He=>He-J),Ae(He=>[...He,{..._e,id:qe.id,saleDate:ye,startDate:ye,endDate:ge,account:_e.accountDetails,client:{name:_e.customerName,email:_e.customerEmail,phone:_e.phoneNumber},orderId:`BS-${qe.id.slice(0,8).toUpperCase()}`,renewable:_e.renewable,daysRemaining:te,totalDays:te,timeElapsedPercentage:0,termsAndConditions:Ie[_e.providerId]?.terms||"No se especificaron términos y condiciones."}]),D("Éxito","¡Pedido renovado exitosamente!")}catch(J){console.error("Error al renovar el pedido:",J),D("Error","Error al renovar el pedido: "+J.message)}finally{X(J=>({...J,[`renew_${I.id}`]:!1}))}},E=()=>{p&&(navigator.clipboard.writeText(p),ae(!0),setTimeout(()=>ae(!1),2e3))},M=I=>{if(!I)return"No especificada";try{const J=I instanceof Date?I:new Date(I);return isNaN(J.getTime())?"Fecha inválida":J.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},$=async()=>{try{await Bx(ot),a("/")}catch(I){console.error("Error al cerrar sesión:",I),D("Error",I.message||"Error al cerrar sesión")}},f=async I=>{I.preventDefault();try{X(me=>({...me,password:!0}));const J=I.target.password.value;if(!J){D("Error","Por favor, ingrese una nueva contraseña");return}if(J.length<6){D("Error","La contraseña debe tener al menos 6 caracteres");return}const te=ot.currentUser;te&&(await xg(te,J),D("Éxito","Contraseña actualizada correctamente"),I.target.reset())}catch(J){console.error("Error al actualizar la contraseña:",J),D("Error",J.message||"Error al actualizar la contraseña")}finally{X(J=>({...J,password:!1}))}},b=()=>{if(ne)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(ie)return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(ut,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:ie}),e.jsx("button",{onClick:()=>U(null),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(s){case"inicio":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-cyan-400",children:o})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Información de cuenta"}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(nt,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:o})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(Ps,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:c})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Saldo disponible"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",k.toFixed(2)]}),e.jsx("button",{onClick:()=>n("recargas"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Recargar"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Ganancias totales"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",A.toFixed(2)]}),e.jsx("button",{onClick:()=>n("ganancias"),className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Ver ganancias"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Tu código de afiliado"}),e.jsxs("button",{onClick:E,disabled:!p,className:`flex items-center gap-2 px-3 py-1 rounded-xl transition-all duration-300 ${p?"bg-cyan-900/80 text-cyan-400 hover:bg-cyan-800/80":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:[e.jsx(SL,{size:16}),Q?"¡Copiado!":"Copiar"]})]}),e.jsx("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-6 border border-gray-600/50",children:e.jsx("p",{className:"text-2xl font-bold text-center tracking-wider text-white",children:p||"Generando código..."})}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Comparte este código con tus amigos para que se registren y ganes comisiones por sus compras."}),e.jsxs("div",{className:"bg-cyan-900/30 p-4 rounded-xl border border-cyan-800/50",children:[e.jsx("h4",{className:"font-medium text-cyan-400 mb-2",children:"Enlace de afiliado:"}),e.jsx("p",{className:"text-sm bg-gray-800/50 p-2 rounded-xl border border-gray-600/50 overflow-x-auto text-gray-300",children:p?`https://blackkstreaming.com/register?ref=${p}`:"Generando enlace..."})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Referidos recientes"}),h.length>0?h.map(I=>e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:I.username||"Sin nombre"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-green-900/80 text-green-400",children:"Activo"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Unido: ",M(I.joinDate)]})]},I.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No tienes referidos recientes"}),h.length>0&&e.jsx("button",{onClick:()=>n("referidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los referidos"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Pedidos recientes"}),Ne.length>0?Ne.slice(0,3).map(I=>{const J=new Date(I.endDate)>new Date&&I.status==="completed",te=I.status==="pending";return e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:I.productName}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${te?"bg-yellow-900/80 text-yellow-400":J?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:te?"A pedido":J?"Activo":"Expirado"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Vence: ",M(I.endDate)]})]},I.id)}):e.jsx("p",{className:"text-gray-400 py-2",children:"No tienes pedidos recientes"}),Ne.length>3&&e.jsx("button",{onClick:()=>n("pedidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los pedidos"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Notificaciones"}),be.length>0?be.map(I=>e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsx("p",{className:"text-gray-300",children:I.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:M(I.updatedAt)})]},I.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay notificaciones"})]})]})]});case"notificaciones":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Notificaciones"}),be.length>0?e.jsx("div",{className:"space-y-4",children:be.map(I=>e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl p-4 hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("p",{className:"text-gray-300",children:I.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:M(I.updatedAt)})]},I.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Rl,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay notificaciones"}),e.jsx("p",{className:"text-gray-400",children:"No tienes mensajes nuevos"})]})]});case"recargas":return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Recargar saldo"}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a recargar (S/)"}),e.jsx("input",{type:"number",value:K,onChange:I=>i(I.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Mínimo S/ 10.00",min:"10",step:"0.01"})]}),e.jsx("button",{onClick:de,disabled:pe.topUp||!K||parseFloat(K)<10,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-300 ${K&&parseFloat(K)>=10&&!pe.topUp?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:pe.topUp?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Solicitar recarga"}),e.jsxs("div",{className:"mt-6 bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(rs,{className:"mr-2"})," ¿Cómo realizar tu recarga?"]}),e.jsxs("p",{className:"text-gray-300 mb-2",children:["Realiza tu pago mediante ",e.jsx("span",{className:"font-semibold text-white",children:"Yape"})," al número:"]}),e.jsx("p",{className:"text-xl font-bold text-white mb-2",children:"📱 931757531"}),e.jsx("p",{className:"text-gray-300 mb-3",children:"Una vez realizado el pago, por favor contáctanos vía WhatsApp al mismo número para confirmar tu recarga."}),e.jsxs("a",{href:`https://wa.me/51931757531?text=${encodeURIComponent("Hola 😊, he realizado una recarga a través de Yape. Por favor, confirma mi pago.")}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300",children:[e.jsx(Ps,{className:"mr-2"})," Confirmar por WhatsApp"]})]})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de recargas"}),Fe.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acción"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:Fe.map(I=>{const J=encodeURIComponent(`Hola, he pedido una recarga de S/ ${I.amount?.toFixed(2)||"0.00"} con el nombre ${o}. Adjunto la captura de mi pago, por favor.`);return e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",I.amount?.toFixed(2)||"0.00"]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${I.status==="aprobado"?"bg-green-900/80 text-green-400":I.status==="pendiente"?"bg-yellow-900/80 text-yellow-400":"bg-red-900/80 text-red-400"}`,children:I.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-400",children:M(I.date)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:I.status==="pendiente"?e.jsxs("a",{href:`https://wa.me/51940505969?text=${J}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300 text-sm",children:[e.jsx(Ps,{className:"mr-2"})," Enviar captura"]}):e.jsx("span",{className:"text-gray-400 text-sm",children:"—"})})]},I.id)})})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(rs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-400",children:"No hay recargas registradas"})]})]})]});case"pedidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:"Mis pedidos"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar pedidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:le,onChange:I=>ee(I.target.value)}),e.jsx(vt,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),Ne.length>0?e.jsx("div",{className:"space-y-6",children:Ne.filter(I=>(I.productName||"").toLowerCase().includes(le.toLowerCase())||(I.orderId||"").toLowerCase().includes(le.toLowerCase())).map(I=>{const J=parseFloat(I.price)||0,te=new Date(I.endDate)>new Date&&I.status==="completed",me=I.status==="pending",ye=I.daysRemaining||0,ge=I.timeElapsedPercentage||0;let ce="bg-green-400";ge>70&&ge<=90?ce="bg-yellow-400":ge>90&&(ce="bg-red-400");const _e=me?e.jsx(dr,{className:"text-yellow-400"}):te?e.jsx(yd,{className:"text-green-400"}):e.jsx(ut,{className:"text-red-400"}),qe=encodeURIComponent(`*Consulta sobre Pedido - ${I.productName||"Sin nombre"}*

*N° Pedido:* ${I.orderId||"No especificado"}
*Producto:* ${I.productName||"No especificado"}
*Precio:* S/ ${J.toFixed(2)}
*Estado:* ${me?"A pedido":te?"Activo":"Expirado"}
*Fecha de Inicio:* ${M(I.startDate)}
*Fecha de Vencimiento:* ${M(I.endDate)}

`+(me?`Hola 😊, he comprado un producto a pedido (${I.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),at=encodeURIComponent(`😊 Estimado/a ${I.client?.name||"Cliente"} 😊

Le enviamos la información de su suscripción a nuestro servicio de streaming:
📌 Tipo: ${I.productName||"Sin nombre"}.
🔢 Código: ${I.orderId||"No especificado"}
`+(me?"":`📧 Correo: ${I.account?.email||"No especificado"}
🔐 Contraseña: ${I.account?.password||"No especificado"}
👤 Perfil: ${I.account?.profile||"No especificado"}
📌 PIN: ${I.account?.pin||"No especificado"}
`)+`🌐 URL: Sin URL
📅 Fecha de creación: ${M(I.startDate)}
📅 Fecha de vencimiento: ${M(I.endDate)}
🏁 Días contratados: ${I.durationDays||30} días.

`+(me?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:"")+`*Términos y Condiciones:*
${I.termsAndConditions||"No se especificaron términos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),He=I.providerPhone?I.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[_e,e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:I.productName||"Producto sin nombre"}),I.orderId&&e.jsxs("p",{className:"text-xs text-gray-400",children:["N° Pedido: ",I.orderId]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",J.toFixed(2)]}),e.jsx("p",{className:`text-xs font-medium ${me?"text-yellow-400":ce.replace("bg-","text-")}`,children:me?"Pendiente de activación":`${ye} día${ye===1?"":"s"} restante${ye===1?"":"s"}`})]})]}),e.jsxs("div",{className:"p-4 bg-gray-700/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full bg-gray-600/50 rounded-full h-2.5",children:e.jsx("div",{className:`h-2.5 rounded-full ${ce}`,style:{width:`${Math.min(ge,100)}%`}})}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1 text-right",children:[ge.toFixed(0),"% completado"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(nt,{className:"mr-2"})," Detalles de la Cuenta"]}),e.jsx("div",{className:"space-y-2 text-gray-300",children:me?e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Usuario:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white break-all",children:I.account?.email||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),e.jsx("span",{className:"block text-white break-all",children:I.account?.password||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),e.jsx("span",{className:"block text-white",children:I.account?.profile||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),e.jsx("span",{className:"block text-white",children:I.account?.pin||"No especificado"})]})]})})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(tt,{className:"mr-2"})," Información del Pedido"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"block text-white",children:I.provider||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono del Proveedor:"}),e.jsx("span",{className:"block text-white",children:I.providerPhone||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Estado:"}),e.jsx("span",{className:`block px-2 py-1 text-xs rounded-full ${me?"bg-yellow-900/80 text-yellow-400":te?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:me?"A pedido":te?"Activo":"Expirado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Método de Pago:"}),e.jsx("span",{className:"block text-white",children:"BlackStreaming"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de inicio:"}),e.jsx("span",{className:"block text-white",children:M(I.startDate)})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de vencimiento:"}),e.jsx("span",{className:"block text-white",children:M(I.endDate)})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Días restantes:"}),e.jsx("span",{className:`block ${ce.replace("bg-","text-")}`,children:ye})]})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(nt,{className:"mr-2"})," Información del Cliente"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Nombre:"}),e.jsx("span",{className:"block text-white",children:I.client?.name||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono:"}),e.jsx("span",{className:"block text-white",children:I.client?.phone||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white",children:I.client?.email||"No especificado"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("a",{href:`https://wa.me/51${He}?text=${qe}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[e.jsx(Ps,{size:18})," Contactar Proveedor"]}),I.renewable&&e.jsx("button",{onClick:()=>ue(I),disabled:pe[`renew_${I.id}`],className:`flex-1 py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300 ${pe[`renew_${I.id}`]?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-white"}`,children:pe[`renew_${I.id}`]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(D1,{size:18})," Renovar Pedido"]})}),I.client?.phone&&e.jsxs("a",{href:`https://wa.me/${I.client.phone.replace(/^\+/,"")}?text=${at}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[e.jsx(Ps,{size:18})," Contactar Cliente"]})]})]})]},I.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ht,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes pedidos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Realiza tu primer pedido en nuestra tienda"})]})]});case"referidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:["Todos tus referidos (",T.length,")"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar referidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:le,onChange:I=>ee(I.target.value)}),e.jsx(vt,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),T.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha de registro"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:T.filter(I=>{const J=I.username||"",te=I.email||"";return J.toLowerCase().includes(le.toLowerCase())||te.toLowerCase().includes(le.toLowerCase())}).map(I=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:I.username||"Sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:I.email||"Sin email"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:I.joinDate?M(I.joinDate):"No especificada"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900/80 text-green-400",children:I.status||"Activo"})})]},I.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ml,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes referidos aún"}),e.jsx("p",{className:"text-gray-400",children:"Comparte tu código de afiliado para empezar a ganar comisiones"})]})]});case"ganancias":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Reporte de ganancias"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias hoy"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde ayer"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias esta semana"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde la semana pasada"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias totales"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",A.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[T.length," referidos"]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(xo,{className:"mr-2 text-cyan-400"})," Historial de comisiones"]}),T.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-800/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Referido"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Origen"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-700/50 divide-y divide-gray-600/50",children:T.map(I=>e.jsxs("tr",{className:"hover:bg-gray-600/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:I.username||"Usuario sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:I.joinDate?M(I.joinDate):"No especificada"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:"S/ 0.00"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:"Registro"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-900/80 text-yellow-400",children:"Pendiente"})})]},I.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(rs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-400",children:"No hay comisiones registradas"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gana comisiones cuando tus referidos realicen compras"})]})]})]});case"configuracion":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuración de cuenta"}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"text",value:o,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"}),e.jsx("button",{type:"button",onClick:()=>z({id:V,username:o}),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-all duration-300",title:"Editar Nombre",children:e.jsx(tf,{size:16})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico"}),e.jsx("input",{type:"email",value:c,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nueva contraseña (opcional)"}),e.jsx("input",{type:"password",name:"password",placeholder:"Nueva contraseña",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"})]}),e.jsx("button",{type:"submit",disabled:pe.password,className:"w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium mt-4 transition-all duration-300 disabled:bg-cyan-800",children:pe.password?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar cambios"})]}),e.jsx("div",{className:"mt-8 border-t border-gray-600/50 pt-6",children:e.jsxs("button",{onClick:$,className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-red-900/80 hover:bg-red-800 text-white rounded-xl font-medium transition-all duration-300",children:[e.jsx(Zt,{})," Cerrar sesión"]})})]});default:return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(ut,{className:"mx-auto text-4xl text-yellow-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),e.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Volver al inicio"})]})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>t(!r),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:e.jsx(ur,{className:"text-xl"})})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${r?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:e.jsx(Ot,{className:"text-lg"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold",children:o.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:o}),e.jsx("p",{className:"text-xs text-gray-400",children:"Afiliador"})]})]}),e.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Kx},{id:"notificaciones",label:"Notificaciones",icon:Rl},{id:"recargas",label:"Recargas",icon:rs},{id:"pedidos",label:"Pedidos",icon:Ht},{id:"referidos",label:"Referidos",icon:Ml},{id:"ganancias",label:"Ganancias",icon:xo},{id:"configuracion",label:"Configuración",icon:Ud}].map(I=>e.jsxs("button",{onClick:()=>{n(I.id),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${s===I.id?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":"text-gray-300 hover:bg-gray-800/50 hover:text-cyan-400"}`,children:[e.jsx(I.icon,{className:"text-lg"}),e.jsx("span",{children:I.label})]},I.id))}),e.jsx("div",{className:"mt-auto pt-6",children:e.jsxs("button",{onClick:$,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-red-900/20 rounded-xl transition-all duration-300 border border-red-900/50",children:[e.jsx(Zt,{className:"text-lg"}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})}),e.jsx("main",{className:"md:ml-64 p-4 sm:p-6 min-h-screen",children:b()}),e.jsx(GL,{isOpen:We.isOpen,title:We.title,message:We.message,onClose:g}),e.jsx(QL,{isOpen:Ge.isOpen,user:Ge.user,onClose:F,onSave:q}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>t(!1)})]})},ZL=({isOpen:r,message:t,title:s,onClose:n})=>r?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:s}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(Ot,{size:20})})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:t}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,YL=({username:r="Usuario",products:t=[],orders:s=[],providerBalance:n=0,balanceLoading:o=!1,totalStock:u=0,totalEarnings:c=0,isAdmin:m=!1,email:p="",notifications:v=[],setActiveSection:T=()=>{},formatDate:P=A=>new Date(A).toLocaleDateString()})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white flex items-center",children:[e.jsx(nt,{className:"mr-2"})," Bienvenido, ",e.jsx("span",{className:"text-red-400 ml-1",children:r})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl p-4 border border-gray-700/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-red-400 mb-3 flex items-center",children:[e.jsx(xx,{className:"mr-2"})," Inventario"]}),e.jsx("p",{className:"text-3xl font-bold text-white",children:t.length}),e.jsx("p",{className:"text-gray-400",children:"Productos registrados"}),e.jsxs("p",{className:"text-gray-400",children:["Stock total: ",u]}),e.jsx("button",{onClick:()=>T("inventario"),className:"mt-2 px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Ver inventario"})]}),e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl p-4 border border-gray-700/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-red-400 mb-3 flex items-center",children:[e.jsx(rs,{className:"mr-2"})," Ganancias"]}),o?e.jsx("div",{className:"animate-pulse text-gray-400",children:"Cargando..."}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",c.toFixed(2)]}),e.jsxs("p",{className:"text-gray-400",children:[s.length," ventas realizadas"]}),e.jsxs("p",{className:"text-gray-400",children:["Disponible: S/ ",n.toFixed(2)]})]})]}),e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl p-4 border border-gray-700/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-red-400 mb-3 flex items-center",children:[e.jsx(nt,{className:"mr-2"})," Mi Cuenta"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(nt,{className:"mr-2 text-red-400"}),e.jsx("span",{children:r})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(Ps,{className:"mr-2 text-red-400"}),e.jsx("span",{children:p})]}),e.jsx("p",{className:"text-xs mt-2 bg-gray-900/80 text-red-400 py-1 px-2 rounded-full inline-block border border-gray-700/50",children:m?"Administrador":"Proveedor"})]}),e.jsx("button",{onClick:()=>T("configuracion"),className:"mt-2 px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Editar perfil"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-700/50",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center",children:[e.jsx(Ht,{className:"mr-2"})," Pedidos recientes"]}),s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ht,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay pedidos recientes"}),e.jsx("p",{className:"text-gray-400",children:"Tus pedidos aparecerán aquí"})]}):e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[e.jsx("thead",{className:"bg-gray-900/80 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Producto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Comprador"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-800/70 divide-y divide-gray-700/50",children:s.slice(0,3).map((A,O)=>{const k=new Date(A.endDate)>new Date&&A.status==="completed",H=A.status==="pending";return e.jsxs("tr",{className:"hover:bg-red-900/20 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-white truncate max-w-xs",children:A.productName}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:A.buyer}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["S/ ",(A.amount||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${H?"bg-yellow-900/80 text-yellow-400 border border-yellow-500/50":k?"bg-green-900/80 text-green-400 border border-green-500/50":"bg-red-900/80 text-red-400 border border-red-500/50"}`,children:H?"A pedido":k?"Activo":"Expirado"})})]},O)})})]}),s.length>3&&e.jsx("button",{onClick:()=>T("pedidos"),className:"w-full mt-3 text-center text-red-400 hover:underline text-sm",children:"Ver todos los pedidos"})]})]}),e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-700/50",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center",children:[e.jsx(Ps,{className:"mr-2"})," Notificaciones"]}),v.length>0?v.map(A=>e.jsxs("div",{className:"border-b border-gray-700/50 py-3 last:border-0 hover:bg-red-900/20 transition-all duration-300 rounded-xl px-2",children:[e.jsx("p",{className:"text-gray-300",children:A.message}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:P(A.updatedAt?.toDate?.()||new Date)})]},A.id)):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ps,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay notificaciones"}),e.jsx("p",{className:"text-gray-400",children:"Tus notificaciones aparecerán aquí"})]})]})]})]}),XL=({products:r,setActiveSection:t,handleEdit:s,handleDelete:n,getCategoryDisplayName:o,totalStock:u})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white flex items-center",children:[e.jsx(xx,{className:"mr-2"})," Inventario"]}),e.jsxs("button",{onClick:()=>t("subirProducto"),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-xl flex items-center w-full md:w-auto justify-center transition-all duration-300",children:[e.jsx(PN,{className:"mr-2"})," Nuevo Producto"]})]}),r.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[e.jsx("thead",{className:"bg-gray-900/80 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Producto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Precio"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Stock"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-gray-800/70 divide-y divide-gray-700/50",children:r.map(c=>e.jsxs("tr",{className:"hover:bg-red-900/20 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[c.image&&e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:c.image,alt:c.name})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-white truncate max-w-xs",children:c.name}),e.jsx("div",{className:"text-xs text-gray-400",children:o(c.category)})]})]})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["S/ ",(parseFloat(c.price)||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:c.stock||0}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${c.status==="En stock"?"bg-red-500/20 text-red-400 border border-red-500/50":c.status==="A pedido"?"bg-gray-800/50 text-yellow-400 border border-gray-700/50":"bg-gray-900/80 text-gray-300 border border-gray-700/50"}`,children:c.status})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{onClick:()=>s(c),className:"text-red-400 hover:text-red-500 mr-3",title:"Editar",children:e.jsx(P1,{})}),e.jsx("button",{onClick:()=>n(c.id),className:"text-red-400 hover:text-red-500",title:"Eliminar",children:e.jsx($1,{})})]})]},c.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(xx,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes productos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Agrega tu primer producto para comenzar"}),e.jsxs("button",{onClick:()=>t("subirProducto"),className:"mt-4 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-xl flex items-center mx-auto transition-all duration-300",children:[e.jsx(PN,{className:"mr-2"})," Agregar Producto"]})]})]}),JL=({soldAccounts:r,formatDate:t})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(ef,{className:"mr-2"})," Cuentas Vendidas"]}),r.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[e.jsx("thead",{className:"bg-gray-900/80 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Producto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Perfil"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha de Venta"})]})}),e.jsx("tbody",{className:"bg-gray-800/70 divide-y divide-gray-700/50",children:r.map((s,n)=>e.jsxs("tr",{className:"hover:bg-red-900/20 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-white",children:s.productName}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:s.email}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:s.profile||"N/A"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:t(s.saleDate)})]},n))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ef,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay cuentas vendidas"}),e.jsx("p",{className:"text-gray-400",children:"Las cuentas vendidas aparecerán aquí"})]})]}),e7=({product:r,setProduct:t,handleChange:s,handleFileChange:n,handleStockChange:o,handleAccountFieldChange:u,handleSubmit:c,setActiveSection:m,theme:p="dark"})=>{const v=p==="dark",T={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.03,transition:{duration:.2}}};return e.jsxs(j.div,{className:`backdrop-blur-sm p-4 sm:p-6 lg:p-8 rounded-2xl shadow-xl max-w-4xl mx-auto border ${v?"bg-gray-800/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[e.jsx("h2",{className:`text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r ${v?"from-red-400 to-red-600":"from-red-600 to-red-800"}`,children:"Subir Nuevo Producto"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(j.div,{className:`col-span-1 rounded-2xl p-4 border shadow-lg backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:T,initial:"hidden",animate:"visible",whileHover:"hover",children:[e.jsx("label",{className:`block text-lg font-semibold mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"Imagen del producto"}),e.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl ${v?"bg-gray-900/80 border-gray-700/50":"bg-gray-200/80 border-gray-300/50"}`,children:r.image?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain",loading:"lazy"}),e.jsx(j.button,{type:"button",onClick:()=>t({...r,image:""}),className:`absolute top-0 right-0 ${v?"bg-red-500":"bg-red-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(Ot,{size:16})})]}):e.jsxs(e.Fragment,{children:[e.jsx(Jg,{className:`mx-auto h-12 w-12 ${v?"text-gray-400":"text-gray-500"}`}),e.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:e.jsxs("label",{htmlFor:"file-upload",className:`relative cursor-pointer rounded-xl font-medium ${v?"bg-gray-900/50 text-red-400 hover:text-red-500":"bg-gray-200/50 text-red-600 hover:text-red-700"} focus-within:outline-none`,children:[e.jsx("span",{children:"Subir una imagen"}),e.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:P=>n(P),accept:"image/*"})]})}),e.jsx("p",{className:`text-xs ${v?"text-gray-500":"text-gray-600"}`,children:"PNG, JPG, GIF hasta 10MB"})]})})]}),e.jsxs(j.div,{className:`col-span-1 space-y-4 rounded-2xl p-4 border shadow-lg backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:T,initial:"hidden",animate:"visible",whileHover:"hover",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"Nombre del producto*"}),e.jsx("input",{type:"text",name:"name",value:r.name,onChange:s,className:`w-full px-4 py-2 rounded-xl ${v?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500`,placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"Categoría*"}),e.jsxs("select",{name:"category",value:r.category,onChange:s,className:`w-full px-4 py-2 rounded-xl ${v?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all`,children:[e.jsx("option",{value:"Netflix",children:"Netflix"}),e.jsx("option",{value:"Spotify",children:"Spotify"}),e.jsx("option",{value:"Disney",children:"Disney+"}),e.jsx("option",{value:"Max",children:"Max"}),e.jsx("option",{value:"Prime Video",children:"Prime Video"}),e.jsx("option",{value:"Vix",children:"Vix"}),e.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),e.jsx("option",{value:"Canva",children:"Canva"}),e.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),e.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),e.jsx("option",{value:"Dgo",children:"DGO"}),e.jsx("option",{value:"Liga Max",children:"Liga Max"}),e.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),e.jsx("option",{value:"Youtube",children:"YouTube"}),e.jsx("option",{value:"Deezer",children:"Deezer"}),e.jsx("option",{value:"Tidal",children:"Tidal"}),e.jsx("option",{value:"Vpn",children:"VPN"}),e.jsx("option",{value:"WinTv",children:"WinTV"}),e.jsx("option",{value:"Apple Music",children:"Apple Music"}),e.jsx("option",{value:"Apple Tv",children:"Apple TV"}),e.jsx("option",{value:"Iptv",children:"IPTV"}),e.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),e.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),e.jsx("option",{value:"Pornhub",children:"Pornhub"}),e.jsx("option",{value:"Paramount",children:"Paramount"}),e.jsx("option",{value:"Licencias",children:"Licencias"}),e.jsx("option",{value:"Capcut",children:"Capcut"}),e.jsx("option",{value:"Duolingo",children:"Duolingo"}),e.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"Tipo de cuenta*"}),e.jsxs("select",{name:"accountType",value:r.accountType,onChange:s,className:`w-full px-4 py-2 rounded-xl ${v?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all`,children:[e.jsx("option",{value:"Premium",children:"Premium"}),e.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"Estado*"}),e.jsxs("select",{name:"status",value:r.status,onChange:s,className:`w-full px-4 py-2 rounded-xl ${v?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all`,children:[e.jsx("option",{value:"En stock",children:"En stock"}),e.jsx("option",{value:"A pedido",children:"A pedido"}),e.jsx("option",{value:"Agotado",children:"Agotado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"Stock*"}),e.jsx("input",{type:"number",name:"stock",value:r.status==="Agotado"?0:r.stock,onChange:o,className:`w-full px-4 py-2 rounded-xl ${v?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all ${r.status==="Agotado"?"opacity-50 cursor-not-allowed":""}`,min:"0",required:!0,disabled:r.status==="Agotado"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"Precio (S/)*"}),e.jsx("input",{type:"number",name:"price",value:r.price,onChange:s,className:`w-full px-4 py-2 rounded-xl ${v?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500`,placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"renewal",checked:r.renewal,onChange:s,className:`h-4 w-4 ${v?"text-red-400 focus:ring-red-400 border-gray-700/50":"text-red-600 focus:ring-red-600 border-gray-300/50"} rounded`}),e.jsx("label",{className:`ml-2 ${v?"text-gray-300":"text-gray-700"}`,children:"¿Tiene renovación?"})]})]}),r.renewal&&e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"Precio de renovación (S/)*"}),e.jsx("input",{type:"number",name:"renewalPrice",value:r.renewalPrice,onChange:s,className:`w-full px-4 py-2 rounded-xl ${v?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500`,placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"Duración (días)"}),e.jsx("input",{type:"number",name:"duration",value:r.duration,onChange:s,className:`w-full px-4 py-2 rounded-xl ${v?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500`,placeholder:"Dejar vacío para ilimitado",min:"1"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block text-gray-300 mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:["Teléfono de contacto ",r.status==="A pedido"?"*":""]}),e.jsx("input",{type:"text",name:"providerPhone",value:r.providerPhone,onChange:s,className:`w-full px-4 py-2 rounded-xl ${v?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500`,placeholder:"Ej: +51 987654321",required:r.status==="A pedido"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"URL del producto (opcional)"}),e.jsx("input",{type:"url",name:"productUrl",value:r.productUrl||"",onChange:s,className:`w-full px-4 py-2 rounded-xl ${v?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500`,placeholder:"Ej: https://www.ejemplo.com/producto"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"Detalles del producto"}),e.jsx("textarea",{name:"details",value:r.details,onChange:s,rows:"3",className:`w-full px-4 py-2 rounded-xl ${v?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500`,placeholder:"Describe los detalles y características del producto"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${v?"text-gray-300":"text-gray-700"}`,children:"Términos y condiciones"}),e.jsx("textarea",{name:"terms",value:r.terms,onChange:s,rows:"3",className:`w-full px-4 py-2 rounded-xl ${v?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500`,placeholder:"Especifica los términos y condiciones de uso"})]}),r.status==="En stock"&&e.jsxs(j.div,{className:`rounded-2xl p-4 shadow-lg border backdrop-blur-sm ${v?"bg-gray-800/70 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:T,initial:"hidden",animate:"visible",whileHover:"hover",children:[e.jsx("label",{className:`block text-lg font-semibold mb-2 ${v?"text-white":"text-gray-900"}`,children:"Cuentas asociadas*"}),e.jsx("p",{className:`text-xs mb-3 ${v?"text-gray-400":"text-gray-600"}`,children:"Debe completar todas las cuentas según el stock indicado"}),e.jsx("div",{className:"space-y-4",children:r.accounts.map((P,A)=>e.jsxs(j.div,{className:`border rounded-xl p-4 ${v?"bg-gray-900/70 border-gray-700/50":"bg-gray-200/70 border-gray-300/50"} backdrop-blur-sm`,variants:T,initial:"hidden",animate:"visible",whileHover:"hover",children:[e.jsxs("h4",{className:`text-sm font-medium ${v?"text-white":"text-gray-900"} mb-3`,children:["Cuenta ",A+1]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-xs font-medium ${v?"text-gray-400":"text-gray-600"} mb-1`,children:"Correo electrónico*"}),e.jsx("input",{type:"email",value:P.email,onChange:O=>u(A,"email",O.target.value),className:`w-full px-3 py-2 rounded-xl ${v?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-xs font-medium ${v?"text-gray-400":"text-gray-600"} mb-1`,children:"Contraseña*"}),e.jsx("input",{type:"text",value:P.password,onChange:O=>u(A,"password",O.target.value),className:`w-full px-3 py-2 rounded-xl ${v?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-xs font-medium ${v?"text-gray-400":"text-gray-600"} mb-1`,children:"Perfil (opcional)"}),e.jsx("input",{type:"text",value:P.profile,onChange:O=>u(A,"profile",O.target.value),className:`w-full px-3 py-2 rounded-xl ${v?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm`,placeholder:"Ej: Perfil 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-xs font-medium ${v?"text-gray-400":"text-gray-600"} mb-1`,children:"PIN (opcional)"}),e.jsx("input",{type:"text",value:P.pin,onChange:O=>u(A,"pin",O.target.value),className:`w-full px-3 py-2 rounded-xl ${v?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm`,placeholder:"Ej: 1234"})]})]})]},A))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx(j.button,{onClick:()=>m("inventario"),className:`px-4 py-2 rounded-xl transition-all duration-300 ${v?"bg-gray-900/70 text-gray-300 hover:bg-gray-700/50":"bg-gray-200/70 text-gray-700 hover:bg-gray-300/50"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-red-500/50`,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Cancelar"}),e.jsx(j.button,{onClick:c,className:`px-6 py-2 text-white rounded-xl transition-all duration-300 bg-gradient-to-r ${v?"from-red-500 to-red-600 hover:from-red-600 hover:to-red-700":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-red-500/50`,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Subir Producto"})]})]})]})},t7=({orders:r,totalEarnings:t,providerBalance:s,balanceLoading:n,getCategoryDisplayName:o,formatDate:u})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(rs,{className:"mr-2"})," Ganancias"]}),e.jsx("div",{className:"bg-gray-900/80 backdrop-blur-sm rounded-2xl p-4 mb-6 border border-gray-700/50 shadow-lg",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-1",children:"Ganancias totales"}),e.jsxs("p",{className:"text-sm text-gray-400",children:[r.length," ventas realizadas"]}),n?e.jsx("p",{className:"text-sm text-gray-400",children:"Disponible: Cargando..."}):e.jsxs("p",{className:"text-sm text-gray-400",children:["Disponible: S/ ",(s||0).toFixed(2)]})]}),e.jsxs("div",{className:"text-3xl font-bold text-white mt-2 md:mt-0",children:["S/ ",t.toFixed(2)]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-700/50",children:[e.jsx("thead",{className:"bg-gray-900/80 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Producto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Categoría"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Comprador"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Contacto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-800/70 divide-y divide-gray-700/50",children:r.map((c,m)=>e.jsxs("tr",{className:"hover:bg-red-900/20 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:c.productName}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:o(c.category)}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-white",children:c.buyer}),e.jsx("div",{className:"text-xs text-gray-400",children:c.buyerEmail})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:c.buyerPhone}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:u(c.saleDate)}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-white",children:["S/ ",(c.amount||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-500/20 text-red-400 border border-red-500/50",children:"Completado"})})]},m))})]})}),r.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(rs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay ventas registradas"}),e.jsx("p",{className:"text-gray-400",children:"Tus ventas aparecerán aquí."})]})]}),r7=({orders:r,searchQuery:t,setSearchQuery:s,getCategoryDisplayName:n,formatDate:o,handleEditOrder:u,handleActivateOrder:c,handleDeleteOrder:m})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-red-500",children:"Mis pedidos"}),e.jsxs("div",{className:"relative w-48 sm:w-64",children:[e.jsx("input",{type:"text",placeholder:"Buscar pedidos...",className:"w-full px-3 py-1.5 rounded-lg bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all duration-300 text-sm placeholder-gray-500",value:t,onChange:p=>s(p.target.value)}),e.jsx(vt,{className:"absolute right-2 top-2 text-gray-400",size:16})]})]}),r.length>0?e.jsx("div",{className:"space-y-6",children:r.filter(p=>(p.productName||"").toLowerCase().includes(t.toLowerCase())||(p.category||"").toLowerCase().includes(t.toLowerCase())).map(p=>{const v=p.status==="pending",T=p.status==="refunded",P=p.daysRemaining||0,A=p.timeElapsedPercentage||0;let O="bg-red-500";A>70&&A<=90?O="bg-yellow-400":A>90&&(O="bg-red-600");const k=T?e.jsx(ut,{className:"text-red-500"}):v?e.jsx(dr,{className:"text-yellow-400"}):e.jsx(yd,{className:"text-green-400"}),H=p.buyerPhone?p.buyerPhone.replace(/^\+/,"").replace(/\D/g,""):null,V=encodeURIComponent(`Hola ${p.buyer||"Cliente"}, 😊

Soy el proveedor de tu suscripción ${p.productName||"Sin nombre"} (N° Pedido: ${p.id||"No especificado"}). ¿En qué puedo ayudarte hoy? Por favor, indícame tu consulta o problema.

Atentamente, BlackStreaming`),Z=encodeURIComponent(`Hola ${p.buyer||"Cliente"}, 😊

Te informamos que tu suscripción ${p.productName||"Sin nombre"} (N° Pedido: ${p.id||"No especificado"}) vencerá en ${P} día${P===1?"":"s"}. Te recomendamos renovarla a tiempo.

Detalles:
- Fecha de vencimiento: ${o(p.endDate)}
- Precio: S/ ${(p.amount||0).toFixed(2)}

Si necesitas ayuda, contáctanos. ¡Gracias por tu preferencia!
Atentamente, BlackStreaming`);return e.jsxs("div",{className:"border border-gray-600/50 rounded-xl overflow-hidden hover:shadow-lg transition-all duration-300 mb-4",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-3 py-2 border-b border-gray-600/20 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[k,e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white text-sm",children:p.productName||"Producto sin nombre"}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Categoría: ",n(p.category)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",(p.amount||0).toFixed(2)]}),e.jsx("p",{className:`text-xs font-medium ${O.replace("bg-","text-")}`,children:v?"Pendiente de activación":`${P} día${P===1?"":"s"} restante${P===1?"":"s"}`})]})]}),e.jsxs("div",{className:"p-4 bg-gray-700/50 backdrop-blur-sm",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"w-full bg-gray-600/40 rounded-full h-1",children:e.jsx("div",{className:`h-1 rounded-full ${O}`,style:{width:`${Math.min(A,100)}%`}})}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[A.toFixed(0),"%"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-700/50",children:[e.jsx("h5",{className:"text-sm font-medium text-red-500 mb-3",children:"Información del Comprador"}),e.jsxs("p",{className:"text-gray-300 text-sm",children:["Comprador: ",p.buyer]}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["Teléfono: ",p.buyerPhone]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-700/50",children:[e.jsx("h5",{className:"text-sm font-medium text-red-500 mb-3",children:"Detalles de la Cuenta"}),p.accountDetails?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-300",children:["Email: ",p.accountDetails.email]}),e.jsxs("p",{className:"text-gray-400",children:["Contraseña: ",p.accountDetails.password]}),e.jsxs("p",{className:"text-gray-400",children:["Perfil: ",p.accountDetails.profile||"N/A"]}),e.jsxs("p",{className:"text-gray-400",children:["PIN: ",p.accountDetails.pin||"N/A"]})]}):e.jsx("p",{className:"text-gray-400",children:"No disponible"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mt-4",children:[e.jsxs("button",{onClick:()=>u(p),className:"flex-1 py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl flex items-center justify-center gap-2 transition-all duration-300",title:"Editar cuenta",children:[e.jsx(P1,{size:18})," Editar Cuenta"]}),p.status==="pending"&&e.jsxs("button",{onClick:()=>c(p.id),className:"flex-1 py-3 px-4 bg-green-600 hover:bg-green-700 text-white rounded-xl flex items-center justify-center gap-2 transition-all duration-300",title:"Activar pedido",children:[e.jsx(yd,{size:18})," Activar Pedido"]}),H&&e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:`https://wa.me/${H}?text=${V}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 py-3 px-4 bg-teal-600 hover:bg-teal-700 text-white rounded-xl flex items-center justify-center gap-2 transition-all duration-300",title:"Contactar cliente",children:[e.jsx(Ps,{size:18})," Contactar"]}),!T&&P<=7&&e.jsxs("a",{href:`https://wa.me/${H}?text=${Z}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 py-3 px-4 bg-amber-600 hover:bg-amber-700 text-white rounded-xl flex items-center justify-center gap-2 transition-all duration-300",title:"Notificar vencimiento",children:[e.jsx(Rl,{size:18})," Notificar"]})]}),e.jsxs("button",{onClick:()=>m(p.id),className:"flex-1 py-3 px-4 bg-red-600 hover:bg-red-700 text-white rounded-xl flex items-center justify-center gap-2 transition-all duration-300",title:"Eliminar pedido",children:[e.jsx($1,{size:18})," Eliminar"]})]})]})]},p.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ht,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay pedidos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Tus pedidos aparecerán aquí"})]})]}),s7=({accountDetails:r,handleAccountChange:t,handleUpdateAccount:s})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-4xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(Ud,{className:"mr-2"})," Configuración"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico"}),e.jsx("input",{type:"email",value:r.email,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nueva contraseña (opcional)"}),e.jsx("input",{type:"password",name:"password",value:r.password,onChange:t,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",placeholder:"Dejar en blanco para no cambiar"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Preferencias"}),e.jsx("textarea",{name:"preferences",value:r.preferences,onChange:t,rows:"4",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",placeholder:"Especifica tus preferencias o notas"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:s,className:"px-6 py-2 bg-red-500 hover:bg-red-600 text-white font-medium rounded-xl transition-all duration-300",children:"Guardar Cambios"})})]})]}),a7=({editModalOpen:r,setEditModalOpen:t,selectedProduct:s,setSelectedProduct:n,editError:o,setEditError:u,handleFileChange:c,handleEditStockChange:m,handleEditAccountFieldChange:p,handleUpdateProduct:v,theme:T="dark"})=>{const P=T==="dark",A={hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,ease:"easeOut"}}},O={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.03,transition:{duration:.2}}},k=H=>{const{name:V,value:Z,type:ne,checked:oe}=H.target;n(pe=>({...pe,[V]:ne==="checkbox"?oe:Z,...V==="status"&&{stock:Z==="Agotado"?0:pe.stock||1,accounts:Z==="En stock"?pe.accounts.length?pe.accounts:Array(pe.stock||1).fill({email:"",password:"",profile:"",pin:""}):[]}}))};return r?e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs(j.div,{className:`backdrop-blur-sm p-4 sm:p-6 lg:p-8 rounded-2xl shadow-xl w-full max-w-4xl border max-h-[90vh] overflow-y-auto ${P?"bg-gray-800/50 border-gray-700/50":"bg-white/50 border-gray-200/50"}`,variants:A,initial:"hidden",animate:"visible",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:`text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r ${P?"from-red-400 to-red-600":"from-red-600 to-red-800"}`,children:"Editar Producto"}),e.jsx(j.button,{onClick:()=>t(!1),className:`${P?"bg-red-500":"bg-red-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(Ot,{size:20})})]}),o&&e.jsx(j.div,{className:`mb-4 p-3 border rounded-xl ${P?"bg-red-900/20 border-red-900/50 text-red-400":"bg-red-100/20 border-red-200/50 text-red-600"}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:o}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(j.div,{className:`col-span-1 rounded-2xl p-4 border shadow-lg backdrop-blur-sm ${P?"bg-gray-800/70 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:O,initial:"hidden",animate:"visible",whileHover:"hover",children:[e.jsx("label",{className:`block text-lg font-semibold mb-2 ${P?"text-gray-300":"text-gray-700"}`,children:"Imagen del producto"}),e.jsx("div",{className:`mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl ${P?"bg-gray-900/80 border-gray-700/50":"bg-gray-200/80 border-gray-300/50"}`,children:s.image?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain",loading:"lazy"}),e.jsx(j.button,{type:"button",onClick:()=>n({...s,image:""}),className:`absolute top-0 right-0 ${P?"bg-red-500":"bg-red-600"} text-white rounded-full p-1 shadow-md`,whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(Ot,{size:16})})]}):e.jsxs(e.Fragment,{children:[e.jsx(Jg,{className:`mx-auto h-12 w-12 ${P?"text-gray-400":"text-gray-500"}`}),e.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:e.jsxs("label",{htmlFor:"edit-file-upload",className:`relative cursor-pointer rounded-xl font-medium ${P?"bg-gray-900/50 text-red-400 hover:text-red-500":"bg-gray-200/50 text-red-600 hover:text-red-700"} focus-within:outline-none`,children:[e.jsx("span",{children:"Subir una imagen"}),e.jsx("input",{id:"edit-file-upload",name:"edit-file-upload",type:"file",className:"sr-only",onChange:H=>c(H,!0),accept:"image/*"})]})}),e.jsx("p",{className:`text-xs ${P?"text-gray-500":"text-gray-600"}`,children:"PNG, JPG, GIF hasta 10MB"})]})})]}),e.jsxs(j.div,{className:`col-span-1 space-y-4 rounded-2xl p-4 border shadow-lg backdrop-blur-sm ${P?"bg-gray-800/70 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:O,initial:"hidden",animate:"visible",whileHover:"hover",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${P?"text-gray-300":"text-gray-700"}`,children:"Nombre del producto*"}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:k,className:`w-full px-4 py-2 rounded-xl ${P?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500`,placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${P?"text-gray-300":"text-gray-700"}`,children:"Categoría*"}),e.jsxs("select",{name:"category",value:s.category,onChange:k,className:`w-full px-4 py-2 rounded-xl ${P?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all`,children:[e.jsx("option",{value:"Netflix",children:"Netflix"}),e.jsx("option",{value:"Spotify",children:"Spotify"}),e.jsx("option",{value:"Disney",children:"Disney+"}),e.jsx("option",{value:"Max",children:"Max"}),e.jsx("option",{value:"Prime Video",children:"Prime Video"}),e.jsx("option",{value:"Vix",children:"Vix"}),e.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),e.jsx("option",{value:"Canva",children:"Canva"}),e.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),e.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),e.jsx("option",{value:"Dgo",children:"DGO"}),e.jsx("option",{value:"Liga Max",children:"Liga Max"}),e.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),e.jsx("option",{value:"Youtube",children:"YouTube"}),e.jsx("option",{value:"Deezer",children:"Deezer"}),e.jsx("option",{value:"Tidal",children:"Tidal"}),e.jsx("option",{value:"Vpn",children:"VPN"}),e.jsx("option",{value:"WinTv",children:"WinTV"}),e.jsx("option",{value:"Apple Music",children:"Apple Music"}),e.jsx("option",{value:"Apple Tv",children:"Apple TV"}),e.jsx("option",{value:"Iptv",children:"IPTV"}),e.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),e.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),e.jsx("option",{value:"Pornhub",children:"Pornhub"}),e.jsx("option",{value:"Paramount",children:"Paramount"}),e.jsx("option",{value:"Licencias",children:"Licencias"}),e.jsx("option",{value:"Capcut",children:"Capcut"}),e.jsx("option",{value:"Duolingo",children:"Duolingo"}),e.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${P?"text-gray-300":"text-gray-700"}`,children:"Tipo de cuenta*"}),e.jsxs("select",{name:"accountType",value:s.accountType,onChange:k,className:`w-full px-4 py-2 rounded-xl ${P?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all`,children:[e.jsx("option",{value:"Premium",children:"Premium"}),e.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${P?"text-gray-300":"text-gray-700"}`,children:"Estado*"}),e.jsxs("select",{name:"status",value:s.status,onChange:k,className:`w-full px-4 py-2 rounded-xl ${P?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all`,children:[e.jsx("option",{value:"En stock",children:"En stock"}),e.jsx("option",{value:"A pedido",children:"A pedido"}),e.jsx("option",{value:"Agotado",children:"Agotado"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${P?"text-gray-300":"text-gray-700"}`,children:"Stock*"}),e.jsx("input",{type:"number",name:"stock",value:s.status==="Agotado"?0:s.stock,onChange:m,className:`w-full px-4 py-2 rounded-xl ${P?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all ${s.status==="Agotado"?"opacity-50 cursor-not-allowed":""}`,min:"0",required:!0,disabled:s.status==="Agotado"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${P?"text-gray-300":"text-gray-700"}`,children:"Precio (S/)*"}),e.jsx("input",{type:"number",name:"price",value:s.price,onChange:k,className:`w-full px-4 py-2 rounded-xl ${P?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500`,placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"renewal",checked:s.renewal,onChange:k,className:`h-4 w-4 ${P?"text-red-400 focus:ring-red-400 border-gray-700/50":"text-red-600 focus:ring-red-600 border-gray-300/50"} rounded`}),e.jsx("label",{className:`ml-2 ${P?"text-gray-300":"text-gray-700"}`,children:"¿Tiene renovación?"})]})]}),s.renewal&&e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${P?"text-gray-300":"text-gray-700"}`,children:"Precio de renovación (S/)*"}),e.jsx("input",{type:"number",name:"renewalPrice",value:s.renewalPrice,onChange:k,className:`w-full px-4 py-2 rounded-xl ${P?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500`,placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${P?"text-gray-300":"text-gray-700"}`,children:"Duración (días)"}),e.jsx("input",{type:"number",name:"duration",value:s.duration,onChange:k,className:`w-full px-4 py-2 rounded-xl ${P?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500`,placeholder:"Dejar vacío para ilimitado",min:"1"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`block text-gray-300 mb-2 ${P?"text-gray-300":"text-gray-700"}`,children:["Teléfono de contacto ",s.status==="A pedido"?"*":""]}),e.jsx("input",{type:"text",name:"providerPhone",value:s.providerPhone,onChange:k,className:`w-full px-4 py-2 rounded-xl ${P?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500`,placeholder:"Ej: +51 987654321",required:s.status==="A pedido"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${P?"text-gray-300":"text-gray-700"}`,children:"URL del producto (opcional)"}),e.jsx("input",{type:"url",name:"productUrl",value:s.productUrl||"",onChange:k,className:`w-full px-4 py-2 rounded-xl ${P?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500`,placeholder:"Ej: https://www.ejemplo.com/producto"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${P?"text-gray-300":"text-gray-700"}`,children:"Detalles del producto"}),e.jsx("textarea",{name:"details",value:s.details,onChange:k,rows:"3",className:`w-full px-4 py-2 rounded-xl ${P?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500`,placeholder:"Describe los detalles y características del producto"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-gray-300 mb-2 ${P?"text-gray-300":"text-gray-700"}`,children:"Términos y condiciones"}),e.jsx("textarea",{name:"terms",value:s.terms,onChange:k,rows:"3",className:`w-full px-4 py-2 rounded-xl ${P?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500`,placeholder:"Especifica los términos y condiciones de uso"})]}),s.status==="En stock"&&e.jsxs(j.div,{className:`rounded-2xl p-4 shadow-lg border backdrop-blur-sm ${P?"bg-gray-800/70 border-gray-700/50":"bg-gray-100/50 border-gray-200/50"}`,variants:O,initial:"hidden",animate:"visible",whileHover:"hover",children:[e.jsx("label",{className:`block text-lg font-semibold mb-2 ${P?"text-white":"text-gray-900"}`,children:"Cuentas asociadas*"}),e.jsx("p",{className:`text-xs mb-3 ${P?"text-gray-400":"text-gray-600"}`,children:"Debe completar todas las cuentas según el stock indicado"}),e.jsx("div",{className:"space-y-4",children:s.accounts.map((H,V)=>e.jsxs(j.div,{className:`border rounded-xl p-4 ${P?"bg-gray-900/70 border-gray-700/50":"bg-gray-200/70 border-gray-300/50"} backdrop-blur-sm`,variants:O,initial:"hidden",animate:"visible",whileHover:"hover",children:[e.jsxs("h4",{className:`text-sm font-medium ${P?"text-white":"text-gray-900"} mb-3`,children:["Cuenta ",V+1]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-xs font-medium ${P?"text-gray-400":"text-gray-600"} mb-1`,children:"Correo electrónico*"}),e.jsx("input",{type:"email",value:H.email,onChange:Z=>p(V,"email",Z.target.value),className:`w-full px-3 py-2 rounded-xl ${P?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-xs font-medium ${P?"text-gray-400":"text-gray-600"} mb-1`,children:"Contraseña*"}),e.jsx("input",{type:"text",value:H.password,onChange:Z=>p(V,"password",Z.target.value),className:`w-full px-3 py-2 rounded-xl ${P?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-xs font-medium ${P?"text-gray-400":"text-gray-600"} mb-1`,children:"Perfil (opcional)"}),e.jsx("input",{type:"text",value:H.profile,onChange:Z=>p(V,"profile",Z.target.value),className:`w-full px-3 py-2 rounded-xl ${P?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm`,placeholder:"Ej: Perfil 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-xs font-medium ${P?"text-gray-400":"text-gray-600"} mb-1`,children:"PIN (opcional)"}),e.jsx("input",{type:"text",value:H.pin,onChange:Z=>p(V,"pin",Z.target.value),className:`w-full px-3 py-2 rounded-xl ${P?"bg-gray-800/50 text-white border-gray-700/50":"bg-gray-200/50 text-gray-900 border-gray-300/50"} focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm`,placeholder:"Ej: 1234"})]})]})]},V))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx(j.button,{onClick:()=>t(!1),className:`px-4 py-2 rounded-xl transition-all duration-300 ${P?"bg-gray-900/70 text-gray-300 hover:bg-gray-700/50":"bg-gray-200/70 text-gray-700 hover:bg-gray-300/50"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-red-500/50`,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Cancelar"}),e.jsx(j.button,{onClick:v,className:`px-6 py-2 text-white rounded-xl transition-all duration-300 bg-gradient-to-r ${P?"from-red-500 to-red-600 hover:from-red-600 hover:to-red-700":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-red-500/50`,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Actualizar Producto"})]})]})]})}):null},n7=({editOrderModalOpen:r,setEditOrderModalOpen:t,selectedOrder:s,handleOrderAccountChange:n,editOrderError:o,setEditOrderError:u,handleUpdateOrder:c})=>r?e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl shadow-xl w-full max-w-md border border-gray-700/50 max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Editar Detalles de Cuenta"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(Ot,{size:20})})]}),o&&e.jsx("div",{className:"mb-4 p-3 bg-red-900/20 border border-red-900/50 text-red-400 rounded-xl",children:o}),e.jsxs("div",{className:"border border-gray-700/50 rounded-xl p-4 bg-gray-900/70 backdrop-blur-sm space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Correo electrónico*"}),e.jsx("input",{type:"email",name:"email",value:s.accountDetails.email,onChange:n,className:"w-full px-3 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm",placeholder:"Ej: usuario@ejemplo.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Contraseña*"}),e.jsx("input",{type:"text",name:"password",value:s.accountDetails.password,onChange:n,className:"w-full px-3 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm",placeholder:"Ej: contraseña123",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Perfil (opcional)"}),e.jsx("input",{type:"text",name:"profile",value:s.accountDetails.profile,onChange:n,className:"w-full px-3 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm",placeholder:"Ej: Perfil 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"PIN (opcional)"}),e.jsx("input",{type:"text",name:"pin",value:s.accountDetails.pin,onChange:n,className:"w-full px-3 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm",placeholder:"Ej: 1234"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{onClick:()=>t(!1),className:"px-4 py-2 bg-gray-900/70 text-gray-300 rounded-xl hover:bg-red-900/20 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{onClick:c,className:"px-6 py-2 bg-red-500 hover:bg-red-600 text-white font-medium rounded-xl transition-all duration-300",children:"Guardar Cambios"})]})]})})}):null,i7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState("inicio"),[o,u]=N.useState("Usuario"),[c,m]=N.useState(""),[p,v]=N.useState(""),[T,P]=N.useState([]),[A,O]=N.useState([]),[k,H]=N.useState([]),[V,Z]=N.useState(!0),[ne,oe]=N.useState(""),[pe,X]=N.useState({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:Array(1).fill({email:"",password:"",profile:"",pin:""})}),[ie,U]=N.useState(null),[h,Y]=N.useState(!1),[Q,ae]=N.useState(""),[le,ee]=N.useState(""),[K,i]=N.useState({isOpen:!1,message:"",title:""}),[Fe,je]=N.useState({email:"",password:"",preferences:""}),[Ne,Ae]=N.useState(!1),[Ie,he]=N.useState(!0),[be,Ce]=N.useState(0),[We,Re]=N.useState(!1),[Ge,Le]=N.useState(null),[a,D]=N.useState(""),g=Qt(),z=pg(),F=(Be,Xe)=>{i({isOpen:!0,title:Be,message:Xe})},q=()=>{i({isOpen:!1,message:"",title:""})},de=Be=>{if(!Be)return"No especificada";try{const Xe=Be instanceof Date?Be:Be?.toDate?.()||new Date(Be);return isNaN(Xe.getTime())?"Fecha inválida":Xe.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(Xe){return console.error("Error formatting date:",Xe),"Fecha inválida"}},ue=Be=>({netflix:"Netflix",spotify:"Spotify",disney:"Disney",max:"Max",primevideo:"Prime Video",vix:"Vix",crunchyroll:"Crunchyroll",canva:"Canva",chatgpt:"ChatGPT",redessociales:"Redes Sociales",dgo:"Dgo",ligamax:"Liga Max",movistarplay:"Movistar Play",youtube:"Youtube",deezer:"Deezer",tidal:"Tidal",vpn:"Vpn",wintv:"WinTv",applemusic:"Apple Music",appletv:"Apple TV",iptv:"Iptv",flujotv:"Flujo Tv",vikirakuten:"Viki Rakuten",pornhub:"Pornhub",paramount:"Paramount",licencias:"Licencias",capcut:"Capcut",duolingo:"Duolingo",buscapersonas:"BuscaPersonas"})[Be?.toLowerCase()]||"Otro";N.useEffect(()=>{const Be=tr(z,Xe=>{Xe?(m(Xe.email||""),v(Xe.uid),E(Xe.uid)):g("/login")});return()=>Be()},[z,g]);const E=async Be=>{try{const Xe=W(_,"users",Be),$t=await gt(Xe);if($t.exists()){const xt=$t.data();u(xt.username||"Usuario"),je({email:xt.email||"",password:"",preferences:xt.preferences||""})}Z(!1)}catch(Xe){oe("Error al cargar datos del usuario"),console.error("Error fetching user data:",Xe),Z(!1)}};N.useEffect(()=>{c&&(async Xe=>{try{const $t=await gt(W(_,"admins",Xe));Ae($t.exists())}catch($t){console.error("Error checking admin status:",$t)}})(c)},[c]),N.useEffect(()=>{if(!o)return;const Be=ke(se(_,"products"),De("provider","==",o)),Xe=$e(Be,$t=>{const xt=$t.docs.map(Xt=>({id:Xt.id,...Xt.data()}));O(xt)},$t=>{console.error("Error fetching products:",$t),oe("Error al cargar productos")});return()=>Xe()},[o]),N.useEffect(()=>{if(!p)return;const Be=ke(se(_,"sales"),De("providerId","==",p)),Xe=$e(Be,xt=>{if(xt.empty){P([]),he(!1);return}const Xt=xt.docs.map(mr=>{const Wt=mr.data(),Fs=Wt.saleDate?.toDate?.()||Wt.createdAt?.toDate?.()||new Date;let ws=Wt.startDate?.toDate?.(),aa=ws||Fs,vr=!ws;const La=Wt.durationDays||30;let Kr;Wt.endDate?Kr=typeof Wt.endDate=="string"?new Date(Wt.endDate):Wt.endDate.toDate?.()||new Date(Wt.endDate):(Kr=new Date(aa.getTime()+La*24*60*60*1e3),vr=!0),vr&&Hr(W(_,"sales",mr.id),{startDate:ws||br.fromDate(Fs),endDate:br.fromDate(Kr),durationDays:La}).catch(Ws=>{console.error("Error al actualizar startDate/endDate en Firestore:",Ws)});const Va=new Date,dn=Kr.getTime()-aa.getTime(),Vn=Va.getTime()-aa.getTime(),Hs=Kr.getTime()-Va.getTime(),un=Math.max(1,Math.ceil(dn/(1e3*60*60*24))),Ql=Math.max(0,Math.ceil(Hs/(1e3*60*60*24))),zn=Math.ceil(Vn/(1e3*60*60*24)),Co=un>0?Math.min(100,zn/un*100):100;return{id:mr.id,productName:Wt.productName||"Producto sin nombre",category:Wt.type||"netflix",amount:parseFloat(Wt.price)||0,buyer:Wt.buyerName||Wt.customerName||"Comprador desconocido",buyerPhone:Wt.buyerPhone||"No especificado",buyerEmail:Wt.customerEmail||"No especificado",status:Wt.status||"completed",saleDate:Fs,startDate:aa,endDate:Kr,durationDays:La,daysRemaining:Ql,totalDays:un,timeElapsedPercentage:Co,accountDetails:Wt.accountDetails||{email:"No disponible",password:"No disponible",profile:"N/A",pin:""},balance:parseFloat(Wt.price)||0}});P(Xt);const Ar=Xt.filter(mr=>mr.status==="completed"&&mr.accountDetails).map(mr=>({...mr.accountDetails,productName:mr.productName,saleDate:mr.saleDate,orderId:mr.id}));H(Ar),he(!1)},xt=>{console.error("Error fetching sales:",xt),oe("Error al cargar ventas"),he(!1)}),$t=setInterval(()=>{P(xt=>xt.map(Xt=>{const Ar=new Date,mr=new Date(Xt.endDate).getTime()-new Date(Xt.startDate).getTime(),Wt=Ar.getTime()-new Date(Xt.startDate).getTime(),Oa=new Date(Xt.endDate).getTime()-Ar.getTime(),Fs=Math.max(1,Math.ceil(mr/(1e3*60*60*24))),ws=Math.max(0,Math.ceil(Oa/(1e3*60*60*24))),aa=Math.ceil(Wt/(1e3*60*60*24)),vr=Fs>0?Math.min(100,aa/Fs*100):100;return{...Xt,daysRemaining:ws,totalDays:Fs,timeElapsedPercentage:vr}}))},6e4);return()=>{Xe(),clearInterval($t)}},[p]),N.useEffect(()=>{if(!o)return;const Be=W(_,"providerBalances",o),Xe=$e(Be,$t=>{$t.exists()?Ce($t.data().balance||0):(mo(Be,{balance:0,provider:o,updatedAt:Me()}),Ce(0)),he(!1)},$t=>{console.error("Error fetching provider balance:",$t),oe("Error al cargar el saldo del proveedor"),he(!1)});return()=>Xe()},[o]);const M=async()=>{try{await Bx(z),g("/login")}catch(Be){console.error("Error al cerrar sesión:",Be),F("Error","Error al cerrar sesión")}},$=Be=>{const{name:Xe,value:$t,type:xt,checked:Xt}=Be.target;X(Ar=>({...Ar,[Xe]:xt==="checkbox"?Xt:$t}))},f=Be=>{const{name:Xe,value:$t}=Be.target;je(xt=>({...xt,[Xe]:$t}))},b=(Be,Xe=!1)=>{const $t=Be.target.files[0];if($t){if($t.size>10485760){Xe?ae("La imagen no debe exceder los 10MB"):oe("La imagen no debe exceder los 10MB");return}const Xt=new FileReader;Xt.onloadend=()=>{Xe?U(Ar=>({...Ar,image:Xt.result})):X(Ar=>({...Ar,image:Xt.result}))},Xt.readAsDataURL($t)}},I=Be=>{const Xe=parseInt(Be.target.value)||1,$t=pe.accounts||[];if(Xe>$t.length){const xt=[...$t];for(;xt.length<Xe;)xt.push({email:"",password:"",profile:"",pin:""});X({...pe,stock:Xe,accounts:xt})}else if(Xe<$t.length){const xt=$t.slice(0,Math.max(Xe,1));X({...pe,stock:Xe,accounts:xt})}else X({...pe,stock:Xe})},J=Be=>{const Xe=parseInt(Be.target.value)||1;let xt=[...ie.accounts||[]];if(Xe>xt.length)for(;xt.length<Xe;)xt.push({email:"",password:"",profile:"",pin:""});else Xe<xt.length&&(xt=xt.slice(0,Math.max(Xe,1)));U({...ie,stock:Xe,accounts:xt})},te=(Be,Xe,$t)=>{const xt=[...pe.accounts];xt[Be]={...xt[Be],[Xe]:$t},X({...pe,accounts:xt})},me=(Be,Xe,$t)=>{U(xt=>({...xt,accounts:xt.accounts.map((Xt,Ar)=>Ar===Be?{...Xt,[Xe]:$t}:Xt)}))},ye=Be=>{const{name:Xe,value:$t}=Be.target;Le(xt=>({...xt,accountDetails:{...xt.accountDetails,[Xe]:$t}}))},ge=async()=>{if(oe(""),!pe.name||!pe.price){F("Error","Por favor complete todos los campos obligatorios");return}if(pe.renewal&&!pe.renewalPrice){F("Error","Por favor ingrese el precio de renovación");return}if(pe.status==="En stock"&&pe.accounts.some(Xe=>!Xe.email||!Xe.password)){F("Error","Por favor complete todos los campos de las cuentas");return}try{const Be={...pe,provider:o,providerId:p,providerPhone:pe.status==="En stock"?pe.providerPhone||"":pe.providerPhone||"No especificado",createdAt:Me(),availableAccounts:pe.status==="En stock"?pe.accounts.length:0},Xe=await wi(se(_,"products"),Be);if(pe.status==="En stock"){const $t=se(_,`products/${Xe.id}/accounts`);for(const xt of pe.accounts)await wi($t,{email:xt.email,password:xt.password,profile:xt.profile||"",pin:xt.pin||"",status:"available"})}X({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:[{email:"",password:"",profile:"",pin:""}]}),n("inventario"),F("Éxito","Producto subido exitosamente!")}catch(Be){console.error("Error al subir el producto:",Be),F("Error",`Error al subir el producto: ${Be.message}`)}},ce=async Be=>{ae("");try{const Xe=ke(se(_,"sales"),De("providerId","==",p),De("productName","==",Be.name)),xt=(await Ft(Xe)).docs.filter(Wt=>Wt.data().status==="completed"&&Wt.data().accountDetails?.email).map(Wt=>Wt.data().accountDetails.email),Xt=se(_,`products/${Be.id}/accounts`),mr=(await Ft(Xt)).docs.filter(Wt=>Wt.data().status==="available").map(Wt=>({email:Wt.data().email||"",password:Wt.data().password||"",profile:Wt.data().profile||"",pin:Wt.data().pin||""}));U({id:Be.id,name:Be.name||"",image:Be.image||"",category:Be.category||"Netflix",accountType:Be.accountType||"Premium",status:Be.status||"En stock",stock:mr.length||Be.stock||1,price:Be.price||"",renewal:Be.renewal||!1,renewalPrice:Be.renewalPrice||"",duration:Be.duration||"",providerPhone:Be.providerPhone||"",details:Be.details||"",terms:Be.terms||"",providerId:Be.providerId||p,accounts:Be.status==="En stock"?mr.length>0?mr:Array(Math.max(Be.stock||1,1)).fill({email:"",password:"",profile:"",pin:""}):[]}),Y(!0)}catch(Xe){console.error("Error al preparar edición del producto:",Xe),ae("Error al preparar edición del producto")}},_e=async()=>{if(ae(""),!ie.name||!ie.price){ae("Por favor complete todos los campos obligatorios");return}if(ie.renewal&&!ie.renewalPrice){ae("Por favor ingrese el precio de renovación");return}if(ie.status==="En stock"&&ie.accounts.some(Xe=>!Xe.email||!Xe.password)){ae("Por favor complete todos los campos de las cuentas");return}try{const Be=W(_,"products",ie.id);if(await mo(Be,{...ie,providerId:ie.providerId||p,availableAccounts:ie.status==="En stock"&&ie.accounts?.length||0},{merge:!0}),ie.status==="En stock"){const Xe=se(_,`products/${ie.id}/accounts`),$t=await Ft(Xe);for(const xt of $t.docs)await Nu(xt.ref);for(const xt of ie.accounts)await wi(Xe,{email:xt.email,password:xt.password,profile:xt.profile||"",pin:xt.pin||"",status:"available"})}Y(!1),F("Éxito","Producto actualizado exitosamente!")}catch(Be){console.error("Error al actualizar el producto:",Be),ae("Error al actualizar el producto")}},qe=async Be=>{try{await Nu(W(_,"products",Be)),F("Éxito","Producto eliminado exitosamente!")}catch(Xe){console.error("Error al eliminar el producto:",Xe),F("Error","Error al eliminar el producto")}},at=async Be=>{try{await Nu(W(_,"sales",Be)),F("Éxito","Pedido eliminado exitosamente!")}catch(Xe){console.error("Error al eliminar el pedido:",Xe),F("Error","Error al eliminar el pedido")}},He=async()=>{try{const Be=z.currentUser;if(Be){const Xe=W(_,"users",Be.uid);await mo(Xe,{preferences:Fe.preferences,...Fe.password&&{password:Fe.password}},{merge:!0}),F("Éxito","Configuración actualizada correctamente!")}}catch(Be){console.error("Error al actualizar la configuración:",Be),F("Error","Error al actualizar la configuración")}},Dt=Be=>{D(""),Le({...Be,accountDetails:{email:Be.accountDetails.email||"",password:Be.accountDetails.password||"",profile:Be.accountDetails.profile||"",pin:Be.accountDetails.pin||""}}),Re(!0)},ct=async()=>{if(D(""),!Ge.accountDetails.email||!Ge.accountDetails.password){D("Por favor complete todos los campos obligatorios de la cuenta");return}try{const Be=W(_,"sales",Ge.id);await Hr(Be,{accountDetails:Ge.accountDetails,updatedAt:Me()}),Re(!1),F("Éxito","Detalles de la cuenta actualizados exitosamente!")}catch(Be){console.error("Error al actualizar los detalles de la cuenta:",Be),D("Error al actualizar los detalles de la cuenta")}},dt=async Be=>{try{const Xe=W(_,"sales",Be);await Hr(Xe,{status:"completed",updatedAt:Me()}),F("Éxito","Pedido activado exitosamente!")}catch(Xe){console.error("Error al activar el pedido:",Xe),F("Error","Error al activar el pedido")}},Ke=Ie?0:T.reduce((Be,Xe)=>Be+(Xe.amount||0),0),pt=A.reduce((Be,Xe)=>Be+(parseInt(Xe.stock)||0),0),bt=()=>{if(V)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-400"})});if(ne)return e.jsxs("div",{className:"bg-black/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(ut,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:ne}),e.jsx("button",{onClick:()=>oe(""),className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Aceptar"})]});switch(s){case"inicio":return e.jsx(YL,{username:o,products:A,orders:T,providerBalance:be,balanceLoading:Ie,totalStock:pt,totalEarnings:Ke,isAdmin:Ne,email:c,setActiveSection:n,formatDate:de});case"inventario":return e.jsx(XL,{products:A,setActiveSection:n,handleEdit:ce,handleDelete:qe,getCategoryDisplayName:ue,totalStock:pt});case"cuentas":return e.jsx(JL,{soldAccounts:k,formatDate:de});case"subirProducto":return e.jsx(e7,{product:pe,setProduct:X,handleChange:$,handleFileChange:b,handleStockChange:I,handleAccountFieldChange:te,handleSubmit:ge,setActiveSection:n});case"ganancias":return e.jsx(t7,{orders:T,totalEarnings:Ke,providerBalance:be,balanceLoading:Ie,getCategoryDisplayName:ue,formatDate:de});case"pedidos":return e.jsx(r7,{orders:T,searchQuery:le,setSearchQuery:ee,getCategoryDisplayName:ue,formatDate:de,handleEditOrder:Dt,handleActivateOrder:dt,handleDeleteOrder:at});case"configuracion":return e.jsx(s7,{accountDetails:Fe,handleAccountChange:f,handleUpdateAccount:He});default:return e.jsxs("div",{className:"bg-black/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(ut,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),e.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Volver al inicio"})]})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-black to-gray-900 text-gray-200",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>t(!r),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:e.jsx(ur,{className:"text-xl"})})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${r?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("button",{onClick:()=>{g("/"),t(!1)},className:"text-xl font-bold text-red-400 hover:text-red-300 transition-all duration-300",children:"SZ Streaming"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:e.jsx(Ot,{className:"text-lg"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500 flex items-center justify-center text-white font-bold",children:o.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:o}),e.jsx("p",{className:"text-xs text-gray-400",children:Ne?"Admin":"Proveedor"})]})]}),e.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Kx},{id:"inventario",label:"Inventario",icon:xx},{id:"cuentas",label:"Cuentas Vendidas",icon:ef},{id:"pedidos",label:"Pedidos",icon:Ht},{id:"ganancias",label:"Ganancias",icon:rs},{id:"subirProducto",label:"Subir Producto",icon:Jg},{id:"configuracion",label:"Configuración",icon:Ud}].map(Be=>e.jsxs("button",{onClick:()=>{n(Be.id),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${s===Be.id?"bg-red-500/20 text-red-400 border border-red-500/50":"text-gray-300 hover:bg-gray-800/50 hover:text-red-400"}`,children:[e.jsx(Be.icon,{className:"text-lg"}),e.jsx("span",{children:Be.label})]},Be.id))}),e.jsx("div",{className:"mt-auto pt-6",children:e.jsxs("button",{onClick:M,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-red-900/20 rounded-xl transition-all duration-300 border border-red-900/50",children:[e.jsx(Zt,{className:"text-lg"}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})}),e.jsx("main",{className:"md:ml-64 p-4 sm:p-6 min-h-screen",children:bt()}),e.jsx(ZL,{isOpen:K.isOpen,title:K.title,message:K.message,onClose:q}),e.jsx(a7,{editModalOpen:h,setEditModalOpen:Y,selectedProduct:ie,setSelectedProduct:U,editError:Q,setEditError:ae,handleFileChange:b,handleEditStockChange:J,handleEditAccountFieldChange:me,handleUpdateProduct:_e}),e.jsx(n7,{editOrderModalOpen:We,setEditOrderModalOpen:Re,selectedOrder:Ge,handleOrderAccountChange:ye,editOrderError:a,setEditOrderError:D,handleUpdateOrder:ct}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>t(!1)})]})},o7=()=>{const[r,t]=N.useState(""),[s,n]=N.useState(""),[o,u]=N.useState(0),[c,m]=N.useState([]),[p,v]=N.useState([]),[T,P]=N.useState([]),[A,O]=N.useState([]),[k,H]=N.useState([]),[V,Z]=N.useState(0),[ne,oe]=N.useState({day:0,week:0,month:0,total:0}),[pe,X]=N.useState(!0),[ie,U]=N.useState(null),h=Qt();N.useEffect(()=>{const ae=tr(ot,le=>{le?(n(le.email),Y(le.uid),X(!1)):h("/login")});return()=>ae()},[h]);const Y=async ae=>{try{const le=W(_,"users",ae),ee=await gt(le);if(ee.exists()){const K=ee.data();t(K.username||K.email.split("@")[0])}else U("Usuario no encontrado en la base de datos")}catch(le){console.error("Error al obtener el nombre de usuario:",le),U("Error al cargar datos del usuario")}},Q=ae=>{const ee=ae*5,K=ee*.25,i=ee*.05;oe({day:i,week:K,month:ee,total:ee})};return N.useEffect(()=>{(async()=>{try{const je=await Ft(se(_,"users")),Ne=je.size,Ae=je.docs.map(D=>({id:D.id,...D.data()}));u(Ne),m(Ae.slice(-5)),Q(Ne);const Ie=ke(se(_,"pendingRegistrations"),De("status","==","pending")),he=await Ft(Ie);v(he.docs.map(D=>({id:D.id,...D.data()})));const be=ke(se(_,"pendingTopUps"),De("status","==","pendiente")),Ce=await Ft(be);P(Ce.docs.map(D=>({id:D.id,...D.data()})));const We=ke(se(_,"withdrawals"),De("status","==","pending")),Re=await Ft(We);O(Re.docs.map(D=>({id:D.id,...D.data()})));const Le=(await Ft(se(_,"sales"))).docs.map(D=>({id:D.id,...D.data()}));H(Le);const a=Le.reduce((D,g)=>D+(g.price||0),0);Z(a)}catch(je){console.error("Error al obtener datos:",je),U("Error al cargar datos")}})();const le=$e(se(_,"users"),je=>{const Ne=je.size,Ae=je.docs.map(Ie=>({id:Ie.id,...Ie.data()}));u(Ne),m(Ae.slice(-5)),Q(Ne)}),ee=$e(ke(se(_,"pendingRegistrations"),De("status","==","pending")),je=>{v(je.docs.map(Ne=>({id:Ne.id,...Ne.data()})))}),K=$e(ke(se(_,"pendingTopUps"),De("status","==","pendiente")),je=>{P(je.docs.map(Ne=>({id:Ne.id,...Ne.data()})))}),i=$e(ke(se(_,"withdrawals"),De("status","==","pending")),je=>{O(je.docs.map(Ne=>({id:Ne.id,...Ne.data()})))}),Fe=$e(se(_,"sales"),je=>{const Ne=je.docs.map(Ie=>({id:Ie.id,...Ie.data()}));H(Ne);const Ae=Ne.reduce((Ie,he)=>Ie+(he.price||0),0);Z(Ae)});return()=>{le(),ee(),K(),i(),Fe()}},[]),pe?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})}):ie?e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(ut,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:ie}),e.jsx("button",{onClick:()=>U(null),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]}):e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-cyan-400",children:r})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ml,{className:"mr-2"})," Total Usuarios"]}),e.jsx("p",{className:"text-3xl font-bold text-white",children:o}),e.jsx("button",{className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",onClick:()=>h("/usuarios"),children:"Ver usuarios"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(Ht,{className:"mr-2"})," Total Ventas"]}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",V.toFixed(2)]}),e.jsx("button",{className:"mt-2 px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",onClick:()=>h("/pedidos"),children:"Ver ventas"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-700/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(rs,{className:"mr-2"})," Ganancias del Mes"]}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",ne.month.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"(5 soles por usuario)"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Últimos Usuarios"}),c.length>0?c.map(ae=>e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:ae.username||"Sin nombre"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-cyan-900/80 text-cyan-400",children:ae.role||"usuario"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:ae.email})]},ae.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay usuarios registrados"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Solicitudes Pendientes"}),p.length>0?p.slice(0,3).map(ae=>e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:ae.username||"Sin nombre"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-purple-900/80 text-purple-400",children:ae.role||"usuario"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:ae.email})]},ae.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay solicitudes pendientes"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Retiros Pendientes"}),A.length>0?A.slice(0,3).map(ae=>e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:ae.provider||"Sin proveedor"}),e.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-900/80 text-yellow-400",children:["S/ ",(ae.amount||0).toFixed(2)]})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Método: ",ae.method||"No especificado"]})]},ae.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay retiros pendientes"})]})]})]})},l7=({notificationForm:r={message:"",roles:{user:!1,affiliate:!1,provider:!1,admin:!1}},setNotificationForm:t=()=>{},handleNotificationSubmit:s=()=>{},actionLoading:n={notification:!1}})=>{const o=r.roles||{user:!1,affiliate:!1,provider:!1,admin:!1},u=Object.values(o).some(c=>c);return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:["Enviar ",e.jsx("span",{className:"text-red-400",children:"Notificación"})]}),e.jsxs("form",{onSubmit:s,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Mensaje de la Notificación"}),e.jsx("textarea",{value:r.message||"",onChange:c=>t({...r,message:c.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all resize-y",rows:"5",placeholder:"Escribe el mensaje para los usuarios...",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Enviar a los siguientes roles"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:["user","affiliate","provider","admin"].map(c=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:o[c]||!1,onChange:m=>t({...r,roles:{...o,[c]:m.target.checked}}),className:"h-4 w-4 text-red-400 focus:ring-red-400 border-gray-600 rounded"}),e.jsx("span",{className:"text-gray-300 capitalize",children:c})]},c))})]}),e.jsx("button",{type:"submit",disabled:n.notification||!u,className:"w-full py-3 px-4 bg-red-500 hover:bg-red-600 text-white rounded-xl font-medium transition-all duration-300 disabled:bg-red-800",children:n.notification?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Enviar Notificación"}),!u&&e.jsx("p",{className:"text-red-400 text-sm text-center",children:"Selecciona al menos un rol para enviar la notificación"})]})]})},R1=[{value:"user",label:"Usuario"},{value:"affiliate",label:"Afiliador"},{value:"provider",label:"Proveedor"},{value:"admin",label:"Administrador"}],c7=r=>{const t=R1.find(s=>s.value===r);return t?t.label:r},d7=({isOpen:r,user:t,onClose:s,onSave:n,loading:o})=>{const[u,c]=N.useState(t?.balance||0),[m,p]=N.useState("");N.useEffect(()=>{c(t?.balance||0),p("")},[t]);const v=T=>{if(T.preventDefault(),p(""),isNaN(u)||u<0){p("Por favor, ingrese un saldo válido (número no negativo).");return}n(t.id,parseFloat(u))};return!r||!t?null:e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-white",children:["Editar Saldo de ",t.username]}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-all duration-300",children:"✕"})]}),e.jsxs("form",{onSubmit:v,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nuevo Saldo (S/)"}),e.jsx("input",{type:"number",value:u,onChange:T=>c(T.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all",min:"0",step:"0.01",required:!0}),m&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:m})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:o?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar"})]})]})]})})})},u7=({isOpen:r,user:t,onClose:s,onSave:n,loading:o})=>{const[u,c]=N.useState(t?.role||"user");return N.useEffect(()=>{c(t?.role||"user")},[t]),!r||!t?null:e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-white",children:["Cambiar Rol de ",t.username]}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-all duration-300",children:"✕"})]}),e.jsxs("form",{onSubmit:m=>{m.preventDefault(),n(t.id,u)},children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nuevo Rol"}),e.jsx("select",{value:u,onChange:m=>c(m.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all",children:R1.map(m=>e.jsx("option",{value:m.value,children:m.label},m.value))})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:o?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar"})]})]})]})})})},x7=()=>{const[r,t]=N.useState([]),[s,n]=N.useState(""),[o,u]=N.useState({isOpen:!1,user:null}),[c,m]=N.useState({isOpen:!1,user:null}),[p,v]=N.useState(!0),[T,P]=N.useState({}),[A,O]=N.useState(null);N.useEffect(()=>{(async()=>{v(!0);try{const ie=(await Ft(se(_,"users"))).docs.map(U=>({id:U.id,...U.data()}));t(ie)}catch(X){O("No se pudieron obtener los usuarios: "+X.message)}v(!1)})()},[]);const k=pe=>u({isOpen:!0,user:pe}),H=()=>u({isOpen:!1,user:null}),V=pe=>m({isOpen:!0,user:pe}),Z=()=>m({isOpen:!1,user:null}),ne=async(pe,X)=>{P(ie=>({...ie,[`balance_${pe}`]:!0}));try{const ie=W(_,"users",pe);await Hr(ie,{balance:X}),t(U=>U.map(h=>h.id===pe?{...h,balance:X}:h)),H()}catch(ie){O("Error al actualizar saldo: "+ie.message)}P(ie=>({...ie,[`balance_${pe}`]:!1}))},oe=async(pe,X)=>{P(ie=>({...ie,[`role_${pe}`]:!0}));try{const ie=W(_,"users",pe);await Hr(ie,{role:X}),t(U=>U.map(h=>h.id===pe?{...h,role:X}:h)),Z()}catch(ie){O("Error al actualizar rol: "+ie.message)}P(ie=>({...ie,[`role_${pe}`]:!1}))};return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:["Lista de ",e.jsx("span",{className:"text-red-400",children:"Usuarios"})," (",r.length,")"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar usuarios...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all text-sm placeholder-gray-500",value:s,onChange:pe=>n(pe.target.value)}),e.jsx(Vc,{className:"absolute right-3 top-2.5 text-red-400"})]})]}),p?e.jsx("div",{className:"flex justify-center items-center h-40",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-400"})}):A?e.jsx("div",{className:"text-center text-red-500 py-4",children:A}):r.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(nt,{})," Usuario"]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Zx,{})," Email"]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Ml,{})," Rol"]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(rs,{})," Saldo"]})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:r.filter(pe=>(pe.username||"").toLowerCase().includes(s.toLowerCase())||(pe.email||"").toLowerCase().includes(s.toLowerCase())).map(pe=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:pe.username||"Sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:pe.email}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-900/80 text-red-400",children:c7(pe.role)}),e.jsx("button",{onClick:()=>V(pe),disabled:T[`role_${pe.id}`],className:"ml-2 p-1 bg-red-700 hover:bg-red-800 text-red-200 rounded-xl transition-all duration-300 disabled:bg-red-900",title:"Editar Rol",children:e.jsx(tf,{size:14})})]}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",(pe.balance||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("button",{onClick:()=>k(pe),disabled:T[`balance_${pe.id}`],className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-xl transition-all duration-300 disabled:bg-red-800",title:"Editar Saldo",children:e.jsx(tf,{size:16})})})]},pe.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ml,{className:"mx-auto text-4xl text-red-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay usuarios registrados"})]})]}),e.jsx(d7,{isOpen:o.isOpen,user:o.user,onClose:H,onSave:ne,loading:T[`balance_${o.user?.id}`]}),e.jsx(u7,{isOpen:c.isOpen,user:c.user,onClose:Z,onSave:oe,loading:T[`role_${c.user?.id}`]})]})},m7=({isOpen:r,message:t,title:s,onClose:n})=>r?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:s}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(Ot,{size:20})})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:t}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,h7=()=>{const[r,t]=N.useState([]),[s,n]=N.useState([]),[o,u]=N.useState({}),[c,m]=N.useState({isOpen:!1,message:"",title:""}),p=(O,k)=>{m({isOpen:!0,title:O,message:k})},v=()=>{m({isOpen:!1,message:"",title:""})},T=O=>{if(!O)return"No especificada";try{const k=O.toDate?O.toDate():new Date(O);return isNaN(k.getTime())?"Fecha inválida":k.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}};N.useEffect(()=>{const O=$e(ke(se(_,"pendingTopUps"),De("status","==","pendiente")),H=>{t(H.docs.map(V=>({id:V.id,...V.data()})))}),k=$e(se(_,"topUpsHistory"),H=>{n(H.docs.map(V=>({id:V.id,...V.data()})))});return()=>{O(),k()}},[]);const P=async O=>{try{u(Z=>({...Z,[O]:!0}));const k=W(_,"pendingTopUps",O),H=r.find(Z=>Z.id===O);if(!H?.userId)throw new Error("Usuario no encontrado para la recarga");await Hr(k,{status:"aprobado",updatedAt:Me()});const V=W(_,"users",H.userId);await Hr(V,{balance:kt(H.amount||0)}),await mo(W(_,"topUpsHistory",O),{...H,status:"aprobado",updatedAt:Me()}),p("Éxito","Recarga aprobada exitosamente")}catch(k){console.error("Error al aprobar recarga:",k),p("Error",k.message||"Error al aprobar la recarga")}finally{u(k=>({...k,[O]:!1}))}},A=async O=>{try{u(V=>({...V,[O]:!0}));const k=W(_,"pendingTopUps",O);await Hr(k,{status:"rechazado",updatedAt:Me()});const H=r.find(V=>V.id===O);await mo(W(_,"topUpsHistory",O),{...H,status:"rechazado",updatedAt:Me()}),p("Éxito","Recarga rechazada exitosamente")}catch(k){console.error("Error al rechazar recarga:",k),p("Error",k.message||"Error al rechazar la recarga")}finally{u(k=>({...k,[O]:!1}))}};return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Recargas pendientes"}),r.length>0?e.jsx("div",{className:"space-y-4",children:r.map(O=>e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-cyan-900/80 rounded-full flex items-center justify-center text-cyan-400",children:e.jsx(rs,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:O.username||"Sin nombre"}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Solicitado: ",T(O.requestedAt)]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-lg font-medium text-white",children:["S/ ",(O.amount||0).toFixed(2)]})})]}),e.jsx("div",{className:"p-4 bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:()=>P(O.id),disabled:o[O.id],className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 disabled:bg-green-800 transition-all duration-300",children:o[O.id]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(I1,{size:18})," Aprobar Recarga"]})}),e.jsx("button",{onClick:()=>A(O.id),disabled:o[O.id],className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 disabled:bg-red-800 transition-all duration-300",children:o[O.id]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(Ot,{size:18})," Rechazar Recarga"]})})]})})]},O.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(rs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay recargas pendientes"}),e.jsx("p",{className:"text-gray-400",children:"Todas las solicitudes han sido procesadas"})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de recargas"}),s.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:s.map(O=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:O.username||"Sin nombre"}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",(O.amount||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${O.status==="aprobado"?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:O.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:T(O.updatedAt)})]},O.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(rs,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay historial de recargas"})]})]}),e.jsx(m7,{isOpen:c.isOpen,title:c.title,message:c.message,onClose:v})]})},p7=({withdrawals:r,formatDate:t,actionLoading:s,setActionLoading:n,showNotificationModal:o})=>{const u=async(c,m)=>{try{n(v=>({...v,[c]:!0}));const p=W(_,"withdrawals",c);await Hr(p,{status:m==="approve"?"completed":"rejected",updatedAt:Me()}),o("Éxito",`Retiro ${m==="approve"?"aprobado":"rechazado"} exitosamente`)}catch(p){o("Error",p.message||`Error al ${m==="approve"?"aprobar":"rechazar"} el retiro`)}finally{n(p=>({...p,[c]:!1}))}};return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Retiros ",e.jsx("span",{className:"text-red-400",children:"Pendientes"})]}),r.length===0?e.jsxs("div",{className:"text-center text-gray-300 py-8",children:[e.jsx(rs,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("p",{children:"No hay retiros pendientes"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-600/50",children:[e.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Usuario"}),e.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Monto"}),e.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Fecha"}),e.jsx("th",{className:"py-3 px-4 font-semibold text-red-400",children:"Acciones"})]})}),e.jsx("tbody",{children:r.map(c=>e.jsxs("tr",{className:"border-b border-gray-700/50 hover:bg-gray-700/30 transition-all duration-300",children:[e.jsx("td",{className:"py-3 px-4",children:c.userEmail||"No especificado"}),e.jsxs("td",{className:"py-3 px-4",children:["S/ ",c.amount?.toFixed(2)||"0.00"]}),e.jsx("td",{className:"py-3 px-4",children:t(c.createdAt)}),e.jsxs("td",{className:"py-3 px-4 flex space-x-2",children:[e.jsxs("button",{onClick:()=>u(c.id,"approve"),disabled:s[c.id],className:`px-3 py-1 rounded-xl text-white flex items-center space-x-1 transition-all duration-300 ${s[c.id]?"bg-gray-600 cursor-not-allowed":"bg-green-500 hover:bg-green-600"}`,children:[e.jsx(I1,{}),e.jsx("span",{children:"Aprobar"})]}),e.jsxs("button",{onClick:()=>u(c.id,"reject"),disabled:s[c.id],className:`px-3 py-1 rounded-xl text-white flex items-center space-x-1 transition-all duration-300 ${s[c.id]?"bg-gray-600 cursor-not-allowed":"bg-red-500 hover:bg-red-600"}`,children:[e.jsx(Ot,{}),e.jsx("span",{children:"Rechazar"})]})]})]},c.id))})]})})]})},f7=({sales:r,totalSales:t,formatDate:s,getOrderStatus:n})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Ventas General"}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center mb-6 border border-gray-600/50",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Total Ventas"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",t.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:"Suma de todos los pedidos realizados"})]}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de Pedidos"}),r.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Nombre del Producto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Precio"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Proveedor"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario Comprador"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:r.map(o=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:o.productName||"Sin nombre"}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",(o.price||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:o.provider||"Sin proveedor"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:o.buyerName||"Sin comprador"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:s(o.createdAt)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${n(o)==="Pendiente"?"bg-yellow-900/80 text-yellow-400":n(o)==="Activo"?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:n(o)})})]},o.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ht,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay pedidos registrados"})]})]}),g7=({earnings:r,totalUsers:t})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Ganancias"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-2 flex items-center",children:[e.jsx(xo,{className:"mr-2"})," Ganancias Diarias"]}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["S/ ",r.day.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Estimado por día"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-2 flex items-center",children:[e.jsx(xo,{className:"mr-2"})," Ganancias Semanales"]}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["S/ ",r.week.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Estimado por semana"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-2 flex items-center",children:[e.jsx(xo,{className:"mr-2"})," Ganancias Mensuales"]}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["S/ ",r.month.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Estimado por mes"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-2 flex items-center",children:[e.jsx(xo,{className:"mr-2"})," Ganancias Totales"]}),e.jsxs("p",{className:"text-2xl font-bold text-white",children:["S/ ",r.total.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"Total acumulado"})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Resumen"}),e.jsxs("p",{className:"text-gray-300",children:["Total de usuarios registrados: ",e.jsx("span",{className:"font-medium text-white",children:t})]}),e.jsxs("p",{className:"text-gray-300 mt-1",children:["Ganancia por usuario: ",e.jsx("span",{className:"font-medium text-white",children:"S/ 5.00"})]}),e.jsx("p",{className:"text-gray-300 mt-1",children:"Las ganancias se calculan asumiendo S/ 5.00 por cada usuario registrado. Las estimaciones diarias y semanales son proporciones del total (5% y 25%, respectivamente)."})]})]}),y7=({userName:r,setUserName:t,email:s,handleSaveChanges:n,handleLogout:o,actionLoading:u})=>e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuración"}),e.jsxs("form",{onSubmit:n,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center",children:[e.jsx(nt,{className:"mr-2 text-cyan-400"})," Nombre de usuario"]}),e.jsx("input",{type:"text",value:r,onChange:c=>t(c.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",placeholder:"Ingresa tu nombre de usuario",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center",children:[e.jsx(Zx,{className:"mr-2 text-cyan-400"})," Correo electrónico"]}),e.jsx("input",{type:"email",value:s,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"El correo no puede ser modificado."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-300 mb-2 flex items-center",children:[e.jsx(Xg,{className:"mr-2 text-cyan-400"})," Nueva contraseña (opcional)"]}),e.jsx("input",{type:"password",name:"password",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",placeholder:"Ingresa una nueva contraseña"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Mínimo 6 caracteres. Déjalo en blanco para no cambiarla."})]}),e.jsx("button",{type:"submit",disabled:u.config,className:"w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium transition-all duration-300 disabled:bg-cyan-800",children:u.config?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar Cambios"})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:o,className:"w-full py-3 px-4 bg-red-600 hover:bg-red-700 text-white rounded-xl font-medium transition-all duration-300 flex items-center justify-center gap-2",children:[e.jsx(Zt,{size:18})," Cerrar Sesión"]})})]}),b7=({isOpen:r,message:t,title:s,onClose:n})=>r?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:s}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(Ot,{size:20})})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:t}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:n,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}):null,v7=({isOpen:r,user:t,onClose:s,onSave:n})=>{const[o,u]=N.useState(t?.balance||0),[c,m]=N.useState(""),p=v=>{if(v.preventDefault(),m(""),isNaN(o)||o<0){m("Por favor, ingrese un saldo válido (número no negativo).");return}n(t.id,parseFloat(o))};return r?e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-white",children:["Editar Saldo de ",t.username]}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(Ot,{size:20})})]}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nuevo Saldo (S/)"}),e.jsx("input",{type:"number",value:o,onChange:v=>u(v.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",min:"0",step:"0.01",required:!0}),c&&e.jsx("p",{className:"text-red-400 text-sm mt-2",children:c})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-600 text-white rounded-xl hover:bg-gray-700 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Guardar"})]})]})]})})}):null},j7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState("inicio"),[o,u]=N.useState(""),[c,m]=N.useState(""),[p,v]=N.useState([]),[T,P]=N.useState([]),[A,O]=N.useState([]),[k,H]=N.useState([]),[V,Z]=N.useState([]),[ne,oe]=N.useState(0),[pe,X]=N.useState(0),[ie,U]=N.useState(0),[h,Y]=N.useState(0),[Q,ae]=N.useState({day:0,week:0,month:0,total:0}),[le,ee]=N.useState(!0),[K,i]=N.useState(null),[Fe,je]=N.useState({}),[Ne,Ae]=N.useState({isOpen:!1,message:"",title:""}),[Ie,he]=N.useState({isOpen:!1,user:null}),be=Qt();N.useEffect(()=>{const q=tr(ot,de=>{de?(m(de.email||"No especificado"),ee(!1)):be("/login")});return()=>q()},[be]),N.useEffect(()=>{const q=W(_,"users",ot.currentUser?.uid),de=$e(q,ue=>{if(ue.exists()){const E=ue.data();u(E.username||"Admin")}else i("Usuario no encontrado")},ue=>{i("Error al cargar datos del usuario: "+ue.message)});return()=>de()},[]),N.useEffect(()=>{const q=se(_,"users"),de=se(_,"sales"),ue=ke(se(_,"pendingTopUps"),De("status","==","pendiente")),E=ke(se(_,"withdrawals"),De("status","==","pendiente")),M=$e(q,I=>{const J=I.docs.map(te=>({id:te.id,...te.data()}));v(J),oe(J.length)}),$=$e(de,I=>{const J=I.docs.map(me=>({id:me.id,...me.data()}));P(J);const te=J.reduce((me,ye)=>me+(parseFloat(ye.price)||0),0);X(te)}),f=$e(ue,I=>{const J=I.docs.map(te=>({id:te.id,...te.data()}));O(J),U(J.length)}),b=$e(E,I=>{const J=I.docs.map(te=>({id:te.id,...te.data()}));H(J),Y(J.length)});return()=>{M(),$(),f(),b()}},[]),N.useEffect(()=>{const q=$e(W(_,"notifications","adminMessage"),de=>{if(de.exists()){const ue=de.data();Z([{id:de.id,...ue}])}else Z([])},de=>{i("Error al cargar notificaciones: "+de.message)});return()=>q()},[]),N.useEffect(()=>{const q=ne*5;ae({day:q*.05,week:q*.25,month:q,total:q})},[ne]);const Ce=(q,de)=>{Ae({isOpen:!0,title:q,message:de})},We=()=>{Ae({isOpen:!1,message:"",title:""})},Re=q=>{he({isOpen:!0,user:q})},Ge=()=>{he({isOpen:!1,user:null})},Le=async(q,de)=>{try{je(E=>({...E,balance:!0}));const ue=W(_,"users",q);await Hr(ue,{balance:de,updatedAt:Me()}),Ce("Éxito","Saldo actualizado exitosamente"),Ge()}catch(ue){Ce("Error",ue.message||"Error al actualizar el saldo")}finally{je(ue=>({...ue,balance:!1}))}},a=async q=>{q.preventDefault();try{je(M=>({...M,config:!0}));const de=q.target.password.value,ue=W(_,"users",ot.currentUser.uid),E={username:o,updatedAt:Me()};if(de){if(de.length<6){Ce("Error","La contraseña debe tener al menos 6 caracteres");return}await xg(ot.currentUser,de)}await Hr(ue,E),Ce("Éxito","Cambios guardados correctamente"),q.target.reset()}catch(de){Ce("Error",de.message||"Error al guardar los cambios")}finally{je(de=>({...de,config:!1}))}},D=async()=>{try{await Bx(ot),be("/")}catch(q){Ce("Error",q.message||"Error al cerrar sesión")}},g=q=>{if(!q)return"No especificada";try{const de=q instanceof Date?q:new Date(q);return isNaN(de.getTime())?"Fecha inválida":de.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},z=q=>{const de=q.endDate?.toDate?.()||new Date,ue=new Date;return q.status==="pending"?"Pendiente":de>ue&&q.status==="completed"?"Activo":"Expirado"},F=()=>{if(le)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-red-400"})});if(K)return e.jsxs("div",{className:"bg-black/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(ut,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:K}),e.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Aceptar"})]});switch(s){case"inicio":return e.jsx(o7,{totalUsers:ne,totalSales:pe,pendingTopUps:ie,pendingWithdrawals:h});case"notificaciones":return e.jsx(l7,{notifications:V,formatDate:g});case"usuarios":return e.jsx(x7,{users:p,openEditBalanceModal:Re});case"recargas":return e.jsx(h7,{topUps:A,formatDate:g,actionLoading:Fe,setActionLoading:je,showNotificationModal:Ce});case"retiros":return e.jsx(p7,{withdrawals:k,formatDate:g,actionLoading:Fe,setActionLoading:je,showNotificationModal:Ce});case"pedidos":return e.jsx(f7,{sales:T,totalSales:pe,formatDate:g,getOrderStatus:z});case"ganancias":return e.jsx(g7,{earnings:Q,totalUsers:ne});case"configuracion":return e.jsx(y7,{userName:o,setUserName:u,email:c,handleSaveChanges:a,handleLogout:D,actionLoading:Fe});default:return e.jsxs("div",{className:"bg-black/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(ut,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),e.jsx("button",{onClick:()=>n("inicio"),className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all duration-300",children:"Volver al inicio"})]})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-black to-gray-900 text-gray-200",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>t(!r),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:e.jsx(ur,{className:"text-xl"})})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${r?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("button",{onClick:()=>{be("/"),t(!1)},className:"text-xl font-bold text-red-400 hover:text-red-300 transition-all duration-300",children:"SZ Streaming"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:e.jsx(Ot,{className:"text-lg"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-500 flex items-center justify-center text-white font-bold",children:o.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:o}),e.jsx("p",{className:"text-xs text-gray-400",children:"Administrador"})]})]}),e.jsx("nav",{className:"flex-1 space-y-2",children:[{id:"inicio",label:"Inicio",icon:Kx},{id:"notificaciones",label:"Notificaciones",icon:Rl},{id:"usuarios",label:"Usuarios",icon:Ml},{id:"recargas",label:"Recargas",icon:rs},{id:"retiros",label:"Retiros",icon:rs},{id:"pedidos",label:"Pedidos",icon:Ht},{id:"ganancias",label:"Ganancias",icon:xo},{id:"configuracion",label:"Configuración",icon:Ud}].map(q=>e.jsxs("button",{onClick:()=>{n(q.id),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${s===q.id?"bg-red-500/20 text-red-400 border border-red-500/50":"text-gray-300 hover:bg-gray-800/50 hover:text-red-400"}`,children:[e.jsx(q.icon,{className:"text-lg"}),e.jsx("span",{children:q.label})]},q.id))}),e.jsx("div",{className:"mt-auto pt-6",children:e.jsxs("button",{onClick:D,className:"w-full flex items-center space-x-3 px-4 py-3 text-red-400 hover:bg-red-900/20 rounded-xl transition-all duration-300 border border-red-900/50",children:[e.jsx(Zt,{className:"text-lg"}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})}),e.jsx("main",{className:"md:ml-64 p-4 sm:p-6 min-h-screen",children:F()}),e.jsx(b7,{isOpen:Ne.isOpen,title:Ne.title,message:Ne.message,onClose:We}),e.jsx(v7,{isOpen:Ie.isOpen,user:Ie.user,onClose:Ge,onSave:Le}),r&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>t(!1)})]})},M1=N.createContext({theme:"dark",toggleTheme:()=>{}}),w7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(M1.Provider,{value:{theme:t,toggleTheme:n},children:r})},N7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(M1),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Netflix")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,netflix:$.length}))},E=>{O("Error al cargar productos de Netflix"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"netflix_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"netflix"};g.update(b,{balance:qe});const Dt=(Number(te.data().balance)||0)+a.price,ct={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:Dt});const dt=ge+a.price;g.set(me,{balance:dt,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ke=W(se(_,"sales"));return g.set(Ke,{...at,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:ct.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"netflix"};g.update(z,{balance:b});const te=(Number(de.data().balance)||0)+a.price,me={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:te});const ye=M+a.price;g.set(ue,{balance:ye,provider:a.providerId,updatedAt:Me()},{merge:!0});const ge=W(se(_,"sales"));g.set(ge,{...I,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:me.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Netflix`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Netflix...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1522869635100-9f4c5e86aa37?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Netflix"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de tus series y películas favoritas con nuestras cuentas premium de Netflix"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:13}),Le(a.duration)]})]}),e.jsx("h3",{className:"font-extrabold text-lg text-white mb-2 truncate leading-tight drop-shadow",children:a.name}),e.jsxs("div",{className:"flex items-center gap-1 mb-1.5",children:[Ne(le[a.providerId]||1),e.jsx("span",{className:`ml-1 text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:(le[a.providerId]||1).toFixed(1)})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:`flex items-center text-xs ${i==="dark"?"text-gray-300":"text-gray-600"} gap-1`,children:[e.jsx(Yx,{className:"text-red-500",size:13}),a.provider]}),e.jsxs("span",{className:`flex items-center text-xs ${i==="dark"?"text-gray-400":"text-gray-600"} gap-1`,children:[e.jsx(Qx,{className:"text-red-500",size:13}),a.status]})]}),e.jsx("div",{className:"flex items-center mb-2",children:e.jsx("div",{className:"flex items-center mb-2",children:a.renewal?e.jsxs("span",{className:"text-green-500 text-xs font-medium",children:["Renovación S/ ",je(a.renewalPrice)]}):e.jsx("span",{className:"text-yellow-500 text-xs font-medium",children:"Sin renovación"})})}),e.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[e.jsx("div",{className:"flex items-end justify-between mb-2",children:e.jsxs("span",{className:"text-white font-bold text-xl tracking-tight drop-shadow",children:["S/ ",je(a.price)]})}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${i==="dark"?"bg-gray-800/60 hover:bg-red-500/20":"bg-gray-200/60 hover:bg-red-600/20"} text-gray-100 transition-all border border-red-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[e.jsx(cr,{className:"text-red-500",size:14}),e.jsx("span",{children:"Detalles"})]}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${i==="dark"?"bg-gray-800/60 hover:bg-red-500/20":"bg-gray-200/60 hover:bg-red-600/20"} text-gray-100 transition-all border border-red-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[e.jsx(tt,{className:"text-red-500",size:14}),e.jsx("span",{children:"Términos"})]})]}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`w-full py-2 px-3 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 shadow-lg transition-all duration-200 ${Number(a.stock)>0||a.status==="A pedido"?"bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800 text-white":"bg-gray-800/60 text-gray-400 cursor-not-allowed"}`,disabled:Number(a.stock)<=0&&a.status!=="A pedido",children:[e.jsx(Ht,{size:16}),a.status==="A pedido"?"Pedir Ahora":"Comprar"]})]})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("p",{className:`text-gray-300 mb-4 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Estás a punto de comprar"," ",e.jsx("span",{className:"font-semibold text-white",children:k.product.name})," ","por"," ",e.jsxs("span",{className:"font-semibold text-white",children:["S/ ",je(k.product.price)]}),"."]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"} mb-1`,children:"Nombre"}),e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,placeholder:"Tu nombre"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"} mb-1`,children:"Número de WhatsApp"}),e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,placeholder:"9 dígitos (sin código de país)"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 bg-transparent border-red-500/50 rounded focus:ring-red-500/50"}),e.jsxs("label",{htmlFor:"termsCheck",className:`ml-2 text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("button",{onClick:()=>be(k.product),className:"text-red-500 hover:text-red-400 underline underline-offset-2",children:"términos y condiciones"})]})]}),A&&e.jsxs("div",{className:"p-3 bg-gradient-to-r from-red-900/80 to-red-800/80 border-l-4 border-red-500 rounded-xl flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-white",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>O(null),className:"text-white hover:text-red-300",children:e.jsx(Ot,{size:16})})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-gray-300 ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60":"bg-gray-200/60 hover:bg-gray-300/60"} border border-gray-600/50 transition-all shadow-md`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-md`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:18}):"Confirmar Compra"})]})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre del Producto"}),e.jsx("p",{className:"text-white font-semibold",children:V.name})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Tipo de Cuenta"}),e.jsx("p",{className:"text-white",children:V.accountType})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Proveedor"}),e.jsx("p",{className:"text-white",children:V.provider})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Detalles de la Cuenta"}),e.jsx("p",{className:"text-white",children:V.accountDetails})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-gray-300 ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60":"bg-gray-200/60 hover:bg-gray-300/60"} border border-gray-600/50 transition-all shadow-md mt-4`,children:"Cerrar"})]})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Producto"}),e.jsx("p",{className:"text-white font-semibold",children:V.name})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Términos"}),e.jsx("p",{className:"text-white",children:V.terms})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Proveedor"}),e.jsx("p",{className:"text-white",children:V.provider})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-gray-300 ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60":"bg-gray-200/60 hover:bg-gray-300/60"} border border-gray-600/50 transition-all shadow-md mt-4`,children:"Cerrar"})]})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-white",children:[e.jsx("li",{children:"No compartir las credenciales de la cuenta con terceros."}),e.jsx("li",{children:"Las cuentas son para uso personal y no comercial."}),e.jsx("li",{children:"El proveedor puede contactarte para coordinar la entrega de los detalles de la cuenta."}),e.jsx("li",{children:"Los reembolsos están sujetos a la política del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por el mal uso de las cuentas."})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-gray-300 ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60":"bg-gray-200/60 hover:bg-gray-300/60"} border border-gray-600/50 transition-all shadow-md mt-4`,children:"Cerrar"})]})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-md mt-6`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})},k7=()=>e.jsx(w7,{children:e.jsx(N7,{})}),O1=N.createContext({theme:"dark",toggleTheme:()=>{}}),S7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(O1.Provider,{value:{theme:t,toggleTheme:n},children:r})},T7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(O1),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Disney")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,disney:$.length}))},E=>{O("Error al cargar productos de Disney"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"disney_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"disney"};g.update(b,{balance:qe});const Dt=(Number(te.data().balance)||0)+a.price,ct={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:Dt});const dt=ge+a.price;g.set(me,{balance:dt,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ke=W(se(_,"sales"));return g.set(Ke,{...at,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:ct.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"disney"};g.update(z,{balance:b});const te=(Number(de.data().balance)||0)+a.price,me={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:te});const ye=M+a.price;g.set(ue,{balance:ye,provider:a.providerId,updatedAt:Me()},{merge:!0});const ge=W(se(_,"sales"));g.set(ge,{...I,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:me.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Disney`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Disney+...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1574375927938-d5a98e8ffe85?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Disney+"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de tus películas y series favoritas con nuestras cuentas premium de Disney+"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:13}),Le(a.duration)]})]}),e.jsx("h3",{className:"font-extrabold text-lg text-white mb-2 truncate leading-tight drop-shadow",children:a.name}),e.jsxs("div",{className:"flex items-center gap-1 mb-1.5",children:[Ne(le[a.providerId]||1),e.jsx("span",{className:`ml-1 text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:(le[a.providerId]||1).toFixed(1)})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:`flex items-center text-xs ${i==="dark"?"text-gray-300":"text-gray-600"} gap-1`,children:[e.jsx(Yx,{className:"text-red-500",size:13}),a.provider]}),e.jsxs("span",{className:`flex items-center text-xs ${i==="dark"?"text-gray-400":"text-gray-600"} gap-1`,children:[e.jsx(Qx,{className:"text-red-500",size:13}),a.status]})]}),e.jsx("div",{className:"flex items-center mb-2",children:e.jsx("div",{className:"flex items-center mb-2",children:a.renewal?e.jsxs("span",{className:"text-green-500 text-xs font-medium",children:["Renovación S/ ",je(a.renewalPrice)]}):e.jsx("span",{className:"text-yellow-500 text-xs font-medium",children:"Sin renovación"})})}),e.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[e.jsx("div",{className:"flex items-end justify-between mb-2",children:e.jsxs("span",{className:"text-white font-bold text-xl tracking-tight drop-shadow",children:["S/ ",je(a.price)]})}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${i==="dark"?"bg-gray-800/60 hover:bg-red-500/20":"bg-gray-200/60 hover:bg-red-600/20"} text-gray-100 transition-all border border-red-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[e.jsx(cr,{className:"text-red-500",size:14}),e.jsx("span",{children:"Detalles"})]}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${i==="dark"?"bg-gray-800/60 hover:bg-red-500/20":"bg-gray-200/60 hover:bg-red-600/20"} text-gray-100 transition-all border border-red-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[e.jsx(tt,{className:"text-red-500",size:14}),e.jsx("span",{children:"Términos"})]})]}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`w-full py-2 px-3 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 shadow-lg transition-all duration-200 ${Number(a.stock)>0||a.status==="A pedido"?"bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800 text-white":"bg-gray-800/60 text-gray-400 cursor-not-allowed"}`,disabled:Number(a.stock)<=0&&a.status!=="A pedido",children:[e.jsx(Ht,{size:16}),a.status==="A pedido"?"Pedir Ahora":"Comprar"]})]})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("p",{className:`text-gray-300 mb-4 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Estás a punto de comprar"," ",e.jsx("span",{className:"font-semibold text-white",children:k.product.name})," ","por"," ",e.jsxs("span",{className:"font-semibold text-white",children:["S/ ",je(k.product.price)]}),"."]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"} mb-1`,children:"Nombre"}),e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,placeholder:"Tu nombre"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"} mb-1`,children:"Número de WhatsApp"}),e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,placeholder:"9 dígitos (sin código de país)"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 bg-transparent border-red-500/50 rounded focus:ring-red-500/50"}),e.jsxs("label",{htmlFor:"termsCheck",className:`ml-2 text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("button",{onClick:()=>be(k.product),className:"text-red-500 hover:text-red-400 underline underline-offset-2",children:"términos y condiciones"})]})]}),A&&e.jsxs("div",{className:"p-3 bg-gradient-to-r from-red-900/80 to-red-800/80 border-l-4 border-red-500 rounded-xl flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-white",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>O(null),className:"text-white hover:text-red-300",children:e.jsx(Ot,{size:16})})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-gray-300 ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60":"bg-gray-200/60 hover:bg-gray-300/60"} border border-gray-600/50 transition-all shadow-md`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-md`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:18}):"Confirmar Compra"})]})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre del Producto"}),e.jsx("p",{className:"text-white font-semibold",children:V.name})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Tipo de Cuenta"}),e.jsx("p",{className:"text-white",children:V.accountType})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Proveedor"}),e.jsx("p",{className:"text-white",children:V.provider})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Detalles de la Cuenta"}),e.jsx("p",{className:"text-white",children:V.accountDetails})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-gray-300 ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60":"bg-gray-200/60 hover:bg-gray-300/60"} border border-gray-600/50 transition-all shadow-md mt-4`,children:"Cerrar"})]})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Producto"}),e.jsx("p",{className:"text-white font-semibold",children:V.name})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Términos"}),e.jsx("p",{className:"text-white",children:V.terms})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Proveedor"}),e.jsx("p",{className:"text-white",children:V.provider})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-gray-300 ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60":"bg-gray-200/60 hover:bg-gray-300/60"} border border-gray-600/50 transition-all shadow-md mt-4`,children:"Cerrar"})]})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-white",children:[e.jsx("li",{children:"No compartir las credenciales de la cuenta con terceros."}),e.jsx("li",{children:"Las cuentas son para uso personal y no comercial."}),e.jsx("li",{children:"El proveedor puede contactarte para coordinar la entrega de los detalles de la cuenta."}),e.jsx("li",{children:"Los reembolsos están sujetos a la política del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por el mal uso de las cuentas."})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-gray-300 ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60":"bg-gray-200/60 hover:bg-gray-300/60"} border border-gray-600/50 transition-all shadow-md mt-4`,children:"Cerrar"})]})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-md mt-6`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})},I7=()=>e.jsx(S7,{children:e.jsx(T7,{})}),L1=N.createContext({theme:"dark",toggleTheme:()=>{}}),P7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(L1.Provider,{value:{theme:t,toggleTheme:n},children:r})},C7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(L1),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Max")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,max:$.length}))},E=>{O("Error al cargar productos de Max"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"max_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"max"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"max"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Max`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Max...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1616530940355-351fabd68b6f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Max"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de series, películas y contenido exclusivo con nuestras cuentas premium de Max"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function E7(){return e.jsx(P7,{children:e.jsx(C7,{})})}const V1=N.createContext({theme:"dark",toggleTheme:()=>{}}),D7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(V1.Provider,{value:{theme:t,toggleTheme:n},children:r})},$7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(V1),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Spotify")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,spotify:$.length}))},E=>{O("Error al cargar productos de Spotify"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"spotify_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"spotify"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"spotify"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Spotify`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Spotify...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1616531770192-6b04a0c365ea?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Spotify"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Escucha tu música favorita sin anuncios con nuestras cuentas premium de Spotify"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:13}),Le(a.duration)]})]}),e.jsx("h3",{className:"font-extrabold text-lg text-white mb-2 truncate leading-tight drop-shadow",children:a.name}),e.jsxs("div",{className:"flex items-center gap-1 mb-1.5",children:[Ne(le[a.providerId]||1),e.jsx("span",{className:`ml-1 text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:(le[a.providerId]||1).toFixed(1)})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:`flex items-center text-xs ${i==="dark"?"text-gray-300":"text-gray-600"} gap-1`,children:[e.jsx(Yx,{className:"text-red-500",size:13}),a.provider]}),e.jsxs("span",{className:`flex items-center text-xs ${i==="dark"?"text-gray-400":"text-gray-600"} gap-1`,children:[e.jsx(Qx,{className:"text-red-500",size:13}),a.status]})]}),e.jsx("div",{className:"flex items-center mb-2",children:a.renewal?e.jsxs("span",{className:"text-green-500 text-xs font-medium",children:["Renovación S/ ",je(a.renewalPrice)]}):e.jsx("span",{className:"text-yellow-500 text-xs font-medium",children:"Sin renovación"})}),e.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[e.jsx("div",{className:"flex items-end justify-between mb-2",children:e.jsxs("span",{className:"text-white font-bold text-xl tracking-tight drop-shadow",children:["S/ ",je(a.price)]})}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${i==="dark"?"bg-gray-800/60 hover:bg-red-500/20":"bg-gray-200/60 hover:bg-red-600/20"} text-gray-100 transition-all border border-red-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[e.jsx(cr,{className:"text-red-500",size:14}),e.jsx("span",{children:"Detalles"})]}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${i==="dark"?"bg-gray-800/60 hover:bg-red-500/20":"bg-gray-200/60 hover:bg-red-600/20"} text-gray-100 transition-all border border-red-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[e.jsx(tt,{className:"text-red-500",size:14}),e.jsx("span",{children:"Términos"})]})]}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`w-full py-2 px-3 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 shadow-lg transition-all duration-200 ${Number(a.stock)>0||a.status==="A pedido"?"bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800 text-white":"bg-gray-800/60 text-gray-400 cursor-not-allowed"}`,disabled:Number(a.stock)<=0&&a.status!=="A pedido",children:[e.jsx(Ht,{size:16}),a.status==="A pedido"?"Pedir Ahora":"Comprar"]})]})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("p",{className:`text-gray-300 mb-4 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Estás a punto de comprar"," ",e.jsx("span",{className:"font-semibold text-white",children:k.product.name})," ","por"," ",e.jsxs("span",{className:"font-semibold text-white",children:["S/ ",je(k.product.price)]}),"."]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"} mb-1`,children:"Nombre"}),e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,placeholder:"Tu nombre"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"} mb-1`,children:"Número de WhatsApp"}),e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,placeholder:"9 dígitos (sin código de país)"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 bg-transparent border-red-500/50 rounded focus:ring-red-500/50"}),e.jsxs("label",{htmlFor:"termsCheck",className:`ml-2 text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("button",{onClick:()=>be(k.product),className:"text-red-500 hover:text-red-400 underline underline-offset-2",children:"términos y condiciones"})]})]}),A&&e.jsxs("div",{className:"p-3 bg-gradient-to-r from-red-900/80 to-red-700/80 rounded-lg flex items-center gap-2",children:[e.jsx(ut,{className:"text-red-400",size:20}),e.jsx("p",{className:"text-sm text-white",children:A})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-gray-600/50 shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} text-white shadow-lg transition-all`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Producto"}),e.jsx("p",{className:"text-white font-semibold",children:V.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Tipo de Cuenta"}),e.jsx("p",{className:"text-white font-semibold",children:V.accountType})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Proveedor"}),e.jsx("p",{className:"text-white font-semibold",children:V.provider})]}),e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Detalles"}),e.jsx("p",{className:"text-white font-semibold",children:V.accountDetails})]}),ne&&e.jsxs("div",{children:[e.jsx("p",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Términos y Condiciones"}),e.jsx("p",{className:"text-white font-semibold",children:V.terms})]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Z(null),oe(!1)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-gray-600/50 shadow-inner`,children:"Cerrar"})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-gray-300",children:[e.jsx("p",{className:"text-sm",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos:"}),e.jsxs("ul",{className:"list-disc pl-5 text-sm space-y-2",children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse."}),e.jsx("li",{children:"El tiempo de entrega puede variar según el proveedor."}),e.jsx("li",{children:"No se aceptan reembolsos una vez entregada la cuenta."}),e.jsx("li",{children:"El proveedor se contactará contigo para coordinar los detalles de acceso."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por mal uso de las cuentas."})]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-gray-600/50 shadow-inner`,children:"Cerrar"})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:"text-gray-300 mb-4",children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-gray-600/50 shadow-inner`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function _7(){return e.jsx(D7,{children:e.jsx($7,{})})}const z1=N.createContext({theme:"dark",toggleTheme:()=>{}}),A7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(z1.Provider,{value:{theme:t,toggleTheme:n},children:r})},R7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(z1),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Prime Video")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,primevideo:$.length}))},E=>{O("Error al cargar productos de Prime Video"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"primevideo_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"primevideo"};g.update(b,{balance:qe});const Dt=(Number(te.data().balance)||0)+a.price,ct={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:Dt});const dt=ge+a.price;g.set(me,{balance:dt,provider:a.providerId,updatedAt:Me()},{merge:!0});const Ke=W(se(_,"sales"));return g.set(Ke,{...at,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:ct.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"primevideo"};g.update(z,{balance:b});const te=(Number(de.data().balance)||0)+a.price,me={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:te});const ye=M+a.price;g.set(ue,{balance:ye,provider:a.providerId,updatedAt:Me()},{merge:!0});const ge=W(se(_,"sales"));g.set(ge,{...I,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:me.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Prime Video`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Prime Video...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1611162617213-7d7a39e9b1d7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Prime Video"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de tus series y películas favoritas con nuestras cuentas premium de Prime Video"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:13}),Le(a.duration)]})]}),e.jsx("h3",{className:"font-extrabold text-lg text-white mb-2 truncate leading-tight drop-shadow",children:a.name}),e.jsxs("div",{className:"flex items-center gap-1 mb-1.5",children:[Ne(le[a.providerId]||1),e.jsx("span",{className:`ml-1 text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:(le[a.providerId]||1).toFixed(1)})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:`flex items-center text-xs ${i==="dark"?"text-gray-300":"text-gray-600"} gap-1`,children:[e.jsx(Yx,{className:"text-red-500",size:13}),a.provider]}),e.jsxs("span",{className:`flex items-center text-xs ${i==="dark"?"text-gray-400":"text-gray-600"} gap-1`,children:[e.jsx(Qx,{className:"text-red-500",size:13}),a.status]})]}),e.jsx("div",{className:"flex items-center mb-2",children:e.jsx("div",{className:"flex items-center mb-2",children:a.renewal?e.jsxs("span",{className:"text-green-500 text-xs font-medium",children:["Renovación S/ ",je(a.renewalPrice)]}):e.jsx("span",{className:"text-yellow-500 text-xs font-medium",children:"Sin renovación"})})}),e.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[e.jsx("div",{className:"flex items-end justify-between mb-2",children:e.jsxs("span",{className:"text-white font-bold text-xl tracking-tight drop-shadow",children:["S/ ",je(a.price)]})}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${i==="dark"?"bg-gray-800/60 hover:bg-red-500/20":"bg-gray-200/60 hover:bg-red-600/20"} text-gray-100 transition-all border border-red-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[e.jsx(cr,{className:"text-red-500",size:14}),e.jsx("span",{children:"Detalles"})]}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${i==="dark"?"bg-gray-800/60 hover:bg-red-500/20":"bg-gray-200/60 hover:bg-red-600/20"} text-gray-100 transition-all border border-red-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[e.jsx(tt,{className:"text-red-500",size:14}),e.jsx("span",{children:"Términos"})]})]}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`w-full py-2 px-3 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 shadow-lg transition-all duration-200 ${Number(a.stock)>0||a.status==="A pedido"?"bg-gradient-to-r from-red-500 to-red-700 hover:from-red-600 hover:to-red-800 text-white":"bg-gray-800/60 text-gray-400 cursor-not-allowed"}`,disabled:Number(a.stock)<=0&&a.status!=="A pedido",children:[e.jsx(Ht,{size:16}),a.status==="A pedido"?"Pedir Ahora":"Comprar"]})]})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("p",{className:`text-gray-300 mb-4 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Estás a punto de comprar"," ",e.jsx("span",{className:"font-semibold text-white",children:k.product.name})," ","por"," ",e.jsxs("span",{className:"font-semibold text-white",children:["S/ ",je(k.product.price)]}),"."]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"} mb-1`,children:"Nombre"}),e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,placeholder:"Tu nombre"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"} mb-1`,children:"Número de WhatsApp"}),e.jsxs("div",{className:"relative",children:[e.jsx(nt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),className:`w-full pl-10 pr-4 py-2.5 rounded-xl bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,placeholder:"9 dígitos (sin código de país)"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 bg-transparent border-red-500/50 rounded focus:ring-red-500/50"}),e.jsxs("label",{htmlFor:"termsCheck",className:`ml-2 text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("button",{onClick:()=>be(k.product),className:"text-red-500 hover:text-red-400 underline underline-offset-2",children:"términos y condiciones"})]})]}),A&&e.jsxs("div",{className:"p-3 bg-gradient-to-r from-red-900/80 to-red-800/80 border-l-4 border-red-500 rounded-xl flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-white",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>O(null),className:"text-white hover:text-red-300",children:e.jsx(Ot,{size:16})})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-gray-300 ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60":"bg-gray-200/60 hover:bg-gray-300/60"} border border-gray-600/50 transition-all shadow-md`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-md`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:18}):"Confirmar Compra"})]})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre del Producto"}),e.jsx("p",{className:"text-white font-semibold",children:V.name})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Tipo de Cuenta"}),e.jsx("p",{className:"text-white",children:V.accountType})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Proveedor"}),e.jsx("p",{className:"text-white",children:V.provider})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Detalles de la Cuenta"}),e.jsx("p",{className:"text-white",children:V.accountDetails})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-gray-300 ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60":"bg-gray-200/60 hover:bg-gray-300/60"} border border-gray-600/50 transition-all shadow-md mt-4`,children:"Cerrar"})]})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Producto"}),e.jsx("p",{className:"text-white font-semibold",children:V.name})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Términos"}),e.jsx("p",{className:"text-white",children:V.terms})]}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Proveedor"}),e.jsx("p",{className:"text-white",children:V.provider})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-gray-300 ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60":"bg-gray-200/60 hover:bg-gray-300/60"} border border-gray-600/50 transition-all shadow-md mt-4`,children:"Cerrar"})]})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-white",children:[e.jsx("li",{children:"No compartir las credenciales de la cuenta con terceros."}),e.jsx("li",{children:"Las cuentas son para uso personal y no comercial."}),e.jsx("li",{children:"El proveedor puede contactarte para coordinar la entrega de los detalles de la cuenta."}),e.jsx("li",{children:"Los reembolsos están sujetos a la política del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por el mal uso de las cuentas."})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-gray-300 ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60":"bg-gray-200/60 hover:bg-gray-300/60"} border border-gray-600/50 transition-all shadow-md mt-4`,children:"Cerrar"})]})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-md mt-6`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})},M7=()=>e.jsx(A7,{children:e.jsx(R7,{})}),B1=N.createContext({theme:"dark",toggleTheme:()=>{}}),O7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(B1.Provider,{value:{theme:t,toggleTheme:n},children:r})},L7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(B1),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Vix")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,vix:$.length}))},E=>{O("Error al cargar productos de Vix"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"vix_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"vix"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"vix"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Vix`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Vix...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1616530940355-351fabd68b6f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Vix"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de series, películas y contenido exclusivo con nuestras cuentas premium de Vix"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),ne&&e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos y Condiciones:"})," ",V.terms]})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Z(null),oe(!1)},className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cerrar"}),!ne&&e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>oe(!0),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Ver Términos"})]})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:`space-y-4 text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} overflow-y-auto max-h-[60vh]`,children:[e.jsx("p",{children:"Bienvenido a SZ Streaming. Al utilizar nuestros servicios, aceptas los siguientes términos y condiciones:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"Las cuentas proporcionadas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones en el servicio debido a cambios en las políticas de las plataformas de streaming."}),e.jsx("li",{children:"Los pagos son procesados de forma segura, y no se ofrecen reembolsos una vez que la cuenta ha sido entregada."}),e.jsx("li",{children:"El usuario es responsable de proporcionar información precisa para la entrega de las credenciales."}),e.jsx("li",{children:"SZ Streaming se reserva el derecho de suspender cuentas en caso de uso indebido o violación de estos términos."}),e.jsx("li",{children:'Los tiempos de entrega para productos "A pedido" pueden variar según la disponibilidad del proveedor.'})]}),e.jsx("p",{children:"Para más información, contáctanos a través de nuestro soporte en WhatsApp o correo electrónico."})]}),e.jsx("div",{className:"mt-6",children:e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cerrar"})})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:ie.message}),e.jsx("div",{className:"mt-6",children:e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})},V7=()=>e.jsx(O7,{children:e.jsx(L7,{})}),U1=N.createContext({theme:"dark",toggleTheme:()=>{}}),z7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(U1.Provider,{value:{theme:t,toggleTheme:n},children:r})},B7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(U1),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Canva")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,canva:$.length}))},E=>{O("Error al cargar productos de Canva"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"canva_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"canva"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"canva"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Canva`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Canva...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1616530940355-351fabd68b6f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Canva"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Crea diseños increíbles con nuestras cuentas premium de Canva Pro"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`mt-6 w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`mt-6 w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`text-sm list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la compra."}),e.jsx("li",{children:'No se garantiza la disponibilidad de stock en productos "A pedido".'}),e.jsx("li",{children:"Los reembolsos están sujetos a la política del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por el mal uso de las cuentas."})]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`mt-6 w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`mt-6 w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`mt-auto p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center text-center sm:text-left",children:[e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["© ",new Date().getFullYear()," SZ Streaming. Todos los derechos reservados."]}),e.jsxs("div",{className:"flex space-x-4 mt-3 sm:mt-0",children:[e.jsx(S,{to:"/terms",className:`text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all`,children:"Términos"}),e.jsx(S,{to:"/privacy",className:`text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all`,children:"Privacidad"}),e.jsx(S,{to:"/contact",className:`text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all`,children:"Contacto"})]})]})})]})};function U7(){return e.jsx(z7,{children:e.jsx(B7,{})})}const F1=N.createContext({theme:"dark",toggleTheme:()=>{}}),F7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(F1.Provider,{value:{theme:t,toggleTheme:n},children:r})},H7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(F1),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","ChatGPT")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,chatgpt:$.length}))},E=>{O("Error al cargar productos de ChatGPT"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"chatgpt_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"chatgpt"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"chatgpt"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=ChatGPT`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en ChatGPT...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1677442136019-2b8a3e742f5e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de ChatGPT"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Accede a funciones avanzadas de ChatGPT con nuestras cuentas premium"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})})]})}),ne&&V&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} whitespace-pre-wrap`,children:V.terms})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`text-sm list-disc pl-5 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse."}),e.jsx("li",{children:"El proveedor se contactará contigo para entregar los detalles de acceso tras la compra."}),e.jsx("li",{children:"Los tiempos de entrega pueden variar según el producto (en stock o a pedido)."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por mal uso de las cuentas por parte del usuario."}),e.jsx("li",{children:"El proveedor puede establecer términos adicionales específicos para cada producto."})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:ie.message}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})})]})}),e.jsx("footer",{className:`mt-auto border-t ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"} backdrop-blur-md py-6 px-4 sm:px-6`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qt,alt:"SZ Streaming",className:"h-8 w-auto"}),e.jsx("span",{className:`text-sm font-semibold ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"SZ Streaming © 2025"})]}),e.jsxs("div",{className:"flex space-x-4 sm:space-x-6",children:[e.jsx(S,{to:"/terms",className:`text-sm ${i==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-all`,children:"Términos"}),e.jsx(S,{to:"/privacy",className:`text-sm ${i==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-all`,children:"Privacidad"}),e.jsx(S,{to:"/contact",className:`text-sm ${i==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-all`,children:"Contacto"})]})]})})]})};function W7(){return e.jsx(F7,{children:e.jsx(H7,{})})}const H1=N.createContext({theme:"dark",toggleTheme:()=>{}}),q7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(H1.Provider,{value:{theme:t,toggleTheme:n},children:r})},G7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(H1),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Crunchyroll")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,crunchyroll:$.length}))},E=>{O("Error al cargar productos de Crunchyroll"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"crunchyroll_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"crunchyroll"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"crunchyroll"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Crunchyroll`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Crunchyroll...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1616530940355-351fabd68b6f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Crunchyroll"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de anime, manga y contenido exclusivo con nuestras cuentas premium de Crunchyroll"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]})]}),e.jsx("div",{className:"mt-6 flex gap-3",children:e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cerrar"})})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:V.terms})]}),e.jsx("div",{className:"mt-6 flex gap-3",children:e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cerrar"})})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Al utilizar SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} list-disc pl-5 space-y-2`,children:[e.jsx("li",{children:"Las cuentas son personales y no transferibles."}),e.jsx("li",{children:"El uso indebido de las cuentas puede resultar en la suspensión del servicio."}),e.jsx("li",{children:"Los precios y la disponibilidad de los productos están sujetos a cambios sin previo aviso."}),e.jsx("li",{children:"El proveedor se contactará contigo para coordinar los detalles de acceso tras la compra."}),e.jsx("li",{children:"SZ Streaming no se hace responsable por interrupciones del servicio causadas por terceros."})]})]}),e.jsx("div",{className:"mt-6 flex gap-3",children:e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cerrar"})})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:ie.message}),e.jsx("div",{className:"mt-6 flex gap-3",children:e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cerrar"})})]})})]})},Q7=()=>e.jsx(q7,{children:e.jsx(G7,{})}),W1=N.createContext({theme:"dark",toggleTheme:()=>{}}),K7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(W1.Provider,{value:{theme:t,toggleTheme:n},children:r})},Z7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(W1),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Redes Sociales")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,redessociales:$.length}))},E=>{O("Error al cargar productos de Redes Sociales"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"redes_sociales_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"redes_sociales"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"redes_sociales"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Redes Sociales`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Redes Sociales...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321310762-6d0c4f0db7d0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Redes Sociales"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Accede a funciones premium y mejora tu experiencia en redes sociales"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function Y7(){return e.jsx(K7,{children:e.jsx(Z7,{})})}const q1=N.createContext({theme:"dark",toggleTheme:()=>{}}),X7=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(q1.Provider,{value:{theme:t,toggleTheme:n},children:r})},J7=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(q1),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Apple Music")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,applemusic:$.length}))},E=>{O("Error al cargar productos de Apple Music"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"apple_music_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(availableAccountsQuery);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"apple_music"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"apple_music"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Apple Music`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/"),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Volver al Inicio"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Apple Music...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px ambulatory care unit px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1514320291840-2f2a7b7690a3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Apple Music"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de música ilimitada y funciones exclusivas con Apple Music Premium"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function eV(){return e.jsx(X7,{children:e.jsx(J7,{})})}const G1=N.createContext({theme:"dark",toggleTheme:()=>{}}),tV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(G1.Provider,{value:{theme:t,toggleTheme:n},children:r})},rV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(G1),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Apple Tv")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,appletv:$.length}))},E=>{O("Error al cargar productos de Apple Tv"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"appletv_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"appletv"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"appletv"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Apple Tv`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-grid duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Apple Tv...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1522202176988-66273c2b6e3c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Servicios Premium de Apple Tv"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de tus programas y películas favoritas con nuestras suscripciones premium de Apple Tv"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Confirmar"})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function sV(){return e.jsx(tV,{children:e.jsx(rV,{})})}const Q1=N.createContext({theme:"dark",toggleTheme:()=>{}}),aV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(Q1.Provider,{value:{theme:t,toggleTheme:n},children:r})},nV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(Q1),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Iptv")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,iptv:$.length}))},E=>{O("Error al cargar productos de IPTV"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"iptv_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profileprops.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"iptv"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"iptv"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Iptv`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en IPTV...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",class3080:!0,className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1512428559087-560fa5ceab76?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de IPTV"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de una amplia variedad de canales en vivo y contenido a demanda con nuestras cuentas premium de IPTV"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function iV(){return e.jsx(aV,{children:e.jsx(nV,{})})}const K1=N.createContext({theme:"dark",toggleTheme:()=>{}}),oV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(K1.Provider,{value:{theme:t,toggleTheme:n},children:r})},lV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(K1),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Flujo Tv")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,flujotv:$.length}))},E=>{O("Error al cargar productos de Flujo Tv"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"flujotv_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"flujotv"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"flujotv"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Flujo Tv`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Flujo Tv...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321310762-6d0c4f0db7d0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Flujo Tv"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Accede a funciones premium y mejora tu experiencia en Flujo Tv"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function cV(){return e.jsx(oV,{children:e.jsx(lV,{})})}const Z1=N.createContext({theme:"dark",toggleTheme:()=>{}}),dV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(Z1.Provider,{value:{theme:t,toggleTheme:n},children:r})},uV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(Z1),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Viki Rakuten")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,vikirakuten:$.length}))},E=>{O("Error al cargar productos de Viki Rakuten"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"viki_rakuten_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"viki_rakuten"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"viki_rakuten"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Viki Rakuten`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Reintentar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/"),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg mt-4",children:"Volver al Inicio"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Viki Rakuten...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e756b6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Viki Rakuten"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de dramas asiáticos y contenido exclusivo con Viki Rakuten Premium"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function xV(){return e.jsx(dV,{children:e.jsx(uV,{})})}const Y1=N.createContext({theme:"dark",toggleTheme:()=>{}}),mV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(Y1.Provider,{value:{theme:t,toggleTheme:n},children:r})},hV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(Y1),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Pornhub")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,pornhub:$.length}))},E=>{O("Error al cargar productos de Pornhub"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"pornhub_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profileprops.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"pornhub"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"pornhub"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Pornhub`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Pornhub...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1512428559087-560fa5ceab76?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Pornhub"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de contenido exclusivo con nuestras cuentas premium de Pornhub"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function pV(){return e.jsx(mV,{children:e.jsx(hV,{})})}const X1=N.createContext({theme:"dark",toggleTheme:()=>{}}),fV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(X1.Provider,{value:{theme:t,toggleTheme:n},children:r})},gV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(X1),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Paramount")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,paramount:$.length}))},E=>{O("Error al cargar productos de Paramount"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"paramount_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"paramount"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"paramount"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Paramount`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Reintentar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/"),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg mt-4",children:"Volver al Inicio"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Paramount...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1536440136628-849c177e76a1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Paramount"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de películas y series exclusivas con Paramount+"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Servicios de Paramount Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function yV(){return e.jsx(fV,{children:e.jsx(gV,{})})}const J1=N.createContext({theme:"dark",toggleTheme:()=>{}}),bV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(J1.Provider,{value:{theme:t,toggleTheme:n},children:r})},vV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(J1),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Licencias")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,licencias:$.length}))},E=>{O("Error al cargar productos de Licencias"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"licencias_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"licencias"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"licencias"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Licencias`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Reintentar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/"),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg mt-4",children:"Volver al Inicio"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Licencias...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e756b6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Licencias de Software"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Obtén licencias de software premium para tus necesidades"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Licencias Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function jV(){return e.jsx(bV,{children:e.jsx(vV,{})})}const e3=N.createContext({theme:"dark",toggleTheme:()=>{}}),wV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(e3.Provider,{value:{theme:t,toggleTheme:n},children:r})},NV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(e3),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Capcut")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,capcut:$.length}))},E=>{O("Error al cargar productos de Capcut"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"capcut_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"capcut"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"capcut"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Capcut`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Reintentar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/"),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg mt-4",children:"Volver al Inicio"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Capcut...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e756b6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Capcut"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Edita videos de manera profesional y creativa con Capcut"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Servicios de Capcut Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function kV(){return e.jsx(wV,{children:e.jsx(NV,{})})}const t3=N.createContext({theme:"dark",toggleTheme:()=>{}}),SV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(t3.Provider,{value:{theme:t,toggleTheme:n},children:r})},TV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(t3),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Duolingo")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,duolingo:$.length}))},E=>{O("Error al cargar productos de Duolingo"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"duolingo_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"duolingo"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"duolingo"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Duolingo`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Reintentar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/"),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg mt-4",children:"Volver al Inicio"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Duolingo...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,ofr:!0,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e756b6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Duolingo"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Aprende idiomas de manera divertida y efectiva con Duolingo"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Servicios de Duolingo Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function IV(){return e.jsx(SV,{children:e.jsx(TV,{})})}const r3=N.createContext({theme:"dark",toggleTheme:()=>{}}),PV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(r3.Provider,{value:{theme:t,toggleTheme:n},children:r})},CV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(r3),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Dgo")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,dgo:$.length}))},E=>{O("Error al cargar productos de Dgo"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"dgo_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"dgo"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"dgo"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Dgo`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Dgo...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1522869635100-9f4c5e86aa37?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Dgo"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de streaming en vivo y contenido exclusivo con nuestras cuentas premium de Dgo"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),ne&&e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Z(null),oe(!1)},className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cerrar"}),!ne&&e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>oe(!0),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Ver Términos"})]})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"1. Condiciones de Uso:"})," Al adquirir una cuenta en SZ Streaming, aceptas cumplir con las políticas de uso de cada plataforma. No se permite compartir cuentas fuera de los términos establecidos por el proveedor."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"2. Responsabilidad:"})," SZ Streaming actúa como intermediario entre el cliente y el proveedor. No nos hacemos responsables por el mal uso de las cuentas o interrupciones del servicio causadas por terceros."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"3. Pagos y Reembolsos:"})," Todos los pagos son finales. Los reembolsos solo se procesarán en caso de que el proveedor no pueda entregar la cuenta adquirida dentro del plazo establecido."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"4. Soporte:"})," El soporte será proporcionado por el proveedor de la cuenta. Contacta al proveedor directamente a través del número de WhatsApp proporcionado al momento de la compra."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"5. Cambios en los Términos:"})," SZ Streaming se reserva el derecho de modificar estos términos en cualquier momento. Los cambios serán notificados a través de nuestra plataforma."]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cerrar"})})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:ie.message}),e.jsx("div",{className:"mt-6",children:e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})})]})}),e.jsx("footer",{className:`mt-auto p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"}`,children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["© ",new Date().getFullYear()," SZ Streaming. Todos los derechos reservados."]}),e.jsxs("div",{className:"mt-4 flex justify-center space-x-4",children:[e.jsx(S,{to:"/terms",className:`text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all`,children:"Términos y Condiciones"}),e.jsx(S,{to:"/privacy",className:`text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all`,children:"Política de Privacidad"}),e.jsx(S,{to:"/contact",className:`text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all`,children:"Contacto"})]})]})})]})};function EV(){return e.jsx(PV,{children:e.jsx(CV,{})})}const s3=N.createContext({theme:"dark",toggleTheme:()=>{}}),DV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(s3.Provider,{value:{theme:t,toggleTheme:n},children:r})},$V=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(s3),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Liga Max")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,ligamax:$.length}))},E=>{O("Error al cargar productos de Liga Max"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"ligamax_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"ligamax"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"ligamax"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Liga Max`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Liga Max...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1553481187-2de44ae95cf0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Liga Max"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de deportes en vivo y contenido exclusivo con nuestras cuentas premium de Liga Max"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:V.terms})]}),e.jsx("div",{className:"mt-6",children:e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Uso de Cuentas:"})," Las cuentas adquiridas en SZ Streaming son para uso personal y no deben ser revendidas o compartidas con terceros no autorizados."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Responsabilidad:"})," SZ Streaming actúa como intermediario entre los proveedores y los clientes. No nos hacemos responsables por el mal uso de las cuentas o problemas derivados del proveedor."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Pagos:"})," Todos los pagos se procesan a través de métodos seguros. No se realizarán reembolsos una vez que la cuenta haya sido entregada al cliente."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Soporte:"})," Cualquier problema con las cuentas debe ser reportado al proveedor correspondiente a través de los datos de contacto proporcionados."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," La duración de las cuentas varía según el producto. Asegúrate de verificar los detalles antes de realizar la compra."]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:ie.message}),e.jsx("div",{className:"mt-6",children:e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})})]})}),e.jsx("footer",{className:`mt-auto py-8 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"}`,children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"SZ Streaming"}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Tu plataforma confiable para cuentas premium de streaming y más. Disfruta del mejor entretenimiento al mejor precio."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Enlaces Rápidos"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx(S,{to:"/",className:`text-sm ${i==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-all`,children:"Inicio"})}),e.jsx("li",{children:e.jsx(S,{to:"/dashboard",className:`text-sm ${i==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-all`,children:"Dashboard"})}),e.jsx("li",{children:e.jsx(S,{to:"/support",className:`text-sm ${i==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-all`,children:"Soporte"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Contacto"}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Email: soporte@szstreaming.com"}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"WhatsApp: +51 987 654 321"})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-500"}`,children:["© ",new Date().getFullYear()," SZ Streaming. Todos los derechos reservados."]})})]})})]})};function _V(){return e.jsx(DV,{children:e.jsx($V,{})})}const a3=N.createContext({theme:"dark",toggleTheme:()=>{}}),AV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(a3.Provider,{value:{theme:t,toggleTheme:n},children:r})},RV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(a3),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Movistar Play")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,movistarplay:$.length}))},E=>{O("Error al cargar productos de Movistar Play"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"movistarplay_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"movistarplay"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"movistarplay"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Movistar Play`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Movistar Play...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1616530940355-351fabd68b6f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Movistar Play"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},"Old:transition":{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de entretenimiento sin límites con nuestras cuentas premium de Movistar Play"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),ne&&e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Z(null),oe(!1)},className:`py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:`space-y-4 max-h-[60vh] overflow-y-auto text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("p",{children:"Bienvenido a SZ Streaming. Al realizar una compra, aceptas los siguientes términos y condiciones:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"Todas las cuentas proporcionadas son para uso personal y no deben ser compartidas o revendidas."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por los proveedores de streaming."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las compras no son reembolsables una vez que se han entregado los detalles de la cuenta."}),e.jsx("li",{children:"En caso de problemas con la cuenta, contacta al proveedor a través del número de WhatsApp proporcionado."}),e.jsx("li",{children:"SZ Streaming se reserva el derecho de suspender cuentas en caso de uso indebido."})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:ie.message}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})})]})}),e.jsx("footer",{className:`py-8 px-4 mt-12 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"}`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("div",{className:"mb-4 sm:mb-0",children:e.jsxs("p",{className:`text-sm font-medium ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["© ",new Date().getFullYear()," SZ Streaming. Todos los derechos reservados."]})}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx(S,{to:"/terms",className:`text-sm ${i==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-all`,children:"Términos y Condiciones"}),e.jsx(S,{to:"/privacy",className:`text-sm ${i==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-all`,children:"Política de Privacidad"}),e.jsx(S,{to:"/contact",className:`text-sm ${i==="dark"?"text-gray-300 hover:text-red-500":"text-gray-600 hover:text-red-600"} transition-all`,children:"Contacto"})]})]})})]})},MV=()=>e.jsx(AV,{children:e.jsx(RV,{})}),n3=N.createContext({theme:"dark",toggleTheme:()=>{}}),OV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(n3.Provider,{value:{theme:t,toggleTheme:n},children:r})},LV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(n3),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Youtube")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,youtube:$.length}))},E=>{O("Error al cargar productos de Youtube"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"youtube_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"youtube"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"youtube"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Youtube`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Youtube...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1611162617210-7d673bf0f Crawford?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Youtube"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de videos sin anuncios, contenido exclusivo y más con nuestras cuentas premium de Youtube"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function VV(){return e.jsx(OV,{children:e.jsx(LV,{})})}const i3=N.createContext({theme:"dark",toggleTheme:()=>{}}),zV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(i3.Provider,{value:{theme:t,toggleTheme:n},children:r})},BV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(i3),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Deezer")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,deezer:$.length}))},E=>{O("Error al cargar productos de Deezer"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"deezer_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"deezer"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"deezer"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Deezer`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Deezer...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Deezer"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de música sin límites con nuestras cuentas premium de Deezer"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]}),ne&&e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos y Condiciones:"})," ",V.terms]})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Z(null),oe(!1)},className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cerrar"}),!ne&&e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>oe(!0),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Ver Términos"})]})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto",children:[e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"1. Uso de Cuentas:"})," Las cuentas adquiridas en SZ Streaming son para uso personal y no deben compartirse ni revenderse. El incumplimiento puede resultar en la suspensión de la cuenta sin reembolso."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"2. Entrega:"})," Las cuentas en stock se entregan inmediatamente tras la compra. Las cuentas a pedido pueden tardar hasta 24-48 horas, dependiendo del proveedor."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"3. Reembolsos:"})," No se ofrecen reembolsos una vez que la cuenta ha sido entregada y activada. En caso de problemas, contacte al proveedor a través del número proporcionado."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"4. Soporte:"})," SZ Streaming ofrece soporte para problemas relacionados con la compra. Para problemas con la cuenta, contacte directamente al proveedor."]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"5. Renovaciones:"})," Algunas cuentas ofrecen renovación a un precio reducido. Verifique los detalles en cada producto."]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cerrar"})})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:ie.message}),e.jsx("div",{className:"mt-6",children:e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})})]})}),e.jsx("footer",{className:`mt-auto py-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"}`,children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["© ",new Date().getFullYear()," SZ Streaming. Todos los derechos reservados."]}),e.jsxs("div",{className:"mt-2 flex justify-center space-x-4",children:[e.jsx(S,{to:"/terms",className:`text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all`,children:"Términos y Condiciones"}),e.jsx(S,{to:"/privacy",className:`text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all`,children:"Política de Privacidad"}),e.jsx(S,{to:"/contact",className:`text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all`,children:"Contacto"})]})]})})]})},UV=()=>e.jsx(zV,{children:e.jsx(BV,{})}),o3=N.createContext({theme:"dark",toggleTheme:()=>{}}),FV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(o3.Provider,{value:{theme:t,toggleTheme:n},children:r})},HV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(o3),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Tidal")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,tidal:$.length}))},E=>{O("Error al cargar productos de Tidal"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"tidal_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"tidal"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"tidal"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Tidal`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Tidal...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1514320291840-2e0a9bf2a596?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Tidal"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de música en alta fidelidad y contenido exclusivo con nuestras cuentas premium de Tidal"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function WV(){return e.jsx(FV,{children:e.jsx(HV,{})})}const l3=N.createContext({theme:"dark",toggleTheme:()=>{}}),qV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(l3.Provider,{value:{theme:t,toggleTheme:n},children:r})},GV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(l3),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Vpn")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,vpn:$.length}))},E=>{O("Error al cargar productos de VPN"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"vpn_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"vpn"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"vpn"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Vpn`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-grid duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en VPN...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Servicios Premium de VPN"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Navega de forma segura y privada con nuestras suscripciones premium de VPN"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function QV(){return e.jsx(qV,{children:e.jsx(GV,{})})}const c3=N.createContext({theme:"dark",toggleTheme:()=>{}}),KV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(c3.Provider,{value:{theme:t,toggleTheme:n},children:r})},ZV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(c3),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","Win Tv")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,wintv:$.length}))},E=>{O("Error al cargar productos de Win Tv"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"wintv_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"wintv"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"wintv"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Win Tv`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-grid duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Win Tv...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1522202176988-66273c2b6e3c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Servicios Premium de Win Tv"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de tus programas y canales favoritos con nuestras suscripciones premium de Win Tv"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function YV(){return e.jsx(KV,{children:e.jsx(ZV,{})})}const d3=N.createContext({theme:"dark",toggleTheme:()=>{}}),XV=({children:r})=>{const[t,s]=N.useState(()=>localStorage.getItem("theme")||"dark"),n=()=>{const o=t==="dark"?"light":"dark";s(o),localStorage.setItem("theme",o)};return N.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark")},[t]),e.jsx(d3.Provider,{value:{theme:t,toggleTheme:n},children:r})},JV=()=>{const[r,t]=N.useState(!1),[s,n]=N.useState([]),[o,u]=N.useState([]),[c,m]=N.useState(null),[p,v]=N.useState(0),[T,P]=N.useState(!0),[A,O]=N.useState(null),[k,H]=N.useState(null),[V,Z]=N.useState(null),[ne,oe]=N.useState(!1),[pe,X]=N.useState(!1),[ie,U]=N.useState(null),[h,Y]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[Q,ae]=N.useState(""),[le,ee]=N.useState({}),K=Qt(),{theme:i,toggleTheme:Fe}=N.useContext(d3),je=a=>{const D=Number(a);return isNaN(D)?"0.00":D.toFixed(2)},Ne=a=>{const D=Math.floor(a),g=a%1>=.5,z=5-D-(g?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(D)].map((F,q)=>e.jsx(et,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${q}`)),g&&e.jsx(et,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:i==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(z)].map((F,q)=>e.jsx(et,{className:i==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${q}`))]})};N.useEffect(()=>{const a=tr(ot,async D=>{if(D)try{const g=await gt(W(_,"users",D.uid));if(g.exists()){const z=g.data();m({id:D.uid,name:z.username||"Usuario",email:D.email,orders:z.orders||[],role:z.role||"user",phone:z.phone||""}),v(Number(z.balance)||0)}else O("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(g){O("Error al cargar datos del usuario"),console.error(g)}else m(null),v(0);P(!1)});return()=>a()},[]),N.useEffect(()=>{const a=ke(se(_,"products"),De("category","==","BuscaPersonas")),D=$e(a,async E=>{const M=E.docs.map(f=>{const b=f.data();return{id:f.id,...b,price:Number(b.price)||0,stock:Number(b.stock||b.available||0),accountDetails:b.email||b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",accountType:b.accountType||"No especificado",status:b.status||"En stock",image:b.image||"https://via.placeholder.com/300",renewal:b.renewal||!1,renewalPrice:Number(b.renewalPrice)||Number(b.price)*.9}}),$=await Promise.all(M.map(async f=>{let b={provider:f.provider,providerPhone:f.providerPhone};if(!f.provider||f.provider==="Proveedor no especificado")try{if(f.providerId){const I=await gt(W(_,"users",f.providerId));I.exists()&&(b={provider:I.data().username||I.data().email||f.provider,providerPhone:I.data().phoneNumber||f.providerPhone})}}catch(I){console.error("Error al cargar datos del proveedor:",I)}return{...f,...b}}));n($),Y(f=>({...f,buscapersonas:$.length}))},E=>{O("Error al cargar productos de Busca Personas"),console.error(E)}),g=ke(se(_,"ratings")),z=$e(g,E=>{const M={};E.docs.forEach(f=>{const b=f.data(),I=b.providerId;M[I]||(M[I]=[]),M[I].push(Number(b.rating)||0)});const $={};Object.keys(M).forEach(f=>{const b=M[f],I=b.length?b.reduce((J,te)=>J+te,0)/b.length:1;$[f]=Math.min(Math.max(I,1),5)}),ee($)},E=>{console.error("Error al cargar calificaciones de proveedores:",E)}),F=ke(se(_,"buscapersonas_accounts"),De("status","==","available")),q=$e(F,E=>{const M=E.docs.map($=>({id:$.id,...$.data(),productId:$.data().productId||"",providerId:$.data().providerId||""}));u(M)},E=>{console.error("Error al cargar cuentas:",E)}),ue=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(E=>{const M=E.toLowerCase().replace(/\s+/g,""),$=ke(se(_,"products"),De("category","==",E));return $e($,f=>{Y(b=>({...b,[M]:f.docs.length}))},f=>{console.error(`Error al cargar productos de ${E}:`,f)})});return()=>{D(),z(),q(),ue.forEach(E=>E())}},[]);const Ae=a=>{if(!c){U({message:"Por favor, inicia sesión para realizar una compra en SZ Streaming.",onClose:()=>K("/login")});return}if(p<a.price){U({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){U({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de SZ Streaming."});return}H({product:a,customerName:c.name,phoneNumber:""})},Ie=async()=>{if(!document.getElementById("termsCheck").checked){O("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(k.phoneNumber)){O("El número de WhatsApp debe tener 9 dígitos");return}try{P(!0);const a=k.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let D=null;a.status==="En stock"?D=await St(_,async g=>{const z=W(_,"products",a.id),F=await g.get(z);if(!F.exists())throw new Error("Producto no encontrado");const q=F.data();if(q.availableAccounts<=0&&q.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const de=se(_,`products/${a.id}/accounts`),ue=ke(de,De("status","==","available"),hr(1)),E=await Ft(ue);if(E.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=E.docs[0],$=M.ref,f=M.data(),b=W(_,"users",c.id),I=await g.get(b);if(!I.exists())throw new Error("Usuario no encontrado");const J=W(_,"users",a.providerId),te=await g.get(J);if(!te.exists())throw new Error("Proveedor no encontrado");const me=W(_,"providerBalances",a.providerId),ye=await g.get(me);let ge=0;ye.exists()?ge=parseFloat(ye.data().balance)||0:g.set(me,{balance:0,provider:a.providerId,updatedAt:Me()});let ce=a.providerPhone||"";ce||(ce=te.data().phoneNumber||""),g.update($,{status:"unavailable",assignedTo:c.id,assignedAt:new Date().toISOString()}),g.update(z,{availableAccounts:kt(-1),stock:kt(-1)});const qe=(Number(I.data().balance)||0)-a.price;if(qe<0)throw new Error("Saldo insuficiente");const at=I.data().orders||[],He={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,status:"active",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},terms:a.terms,type:"buscapersonas"};g.update(b,{balance:qe,orders:[...at,He]});const ct=(Number(te.data().balance)||0)+a.price,dt=te.data().sales||[],Ke={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:ce,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(J,{balance:ct,sales:[...dt,Ke]});const pt=ge+a.price;g.set(me,{balance:pt,provider:a.providerId,updatedAt:Me()},{merge:!0});const bt=W(se(_,"sales"));return g.set(bt,{...He,provider:a.provider,providerId:a.providerId,providerPhone:ce,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:f.email||"No proporcionado",password:f.password||"No proporcionado",profile:f.profile||"No proporcionado",pin:f.pin||"No proporcionado"},saleId:Ke.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),f}):await St(_,async g=>{const z=W(_,"users",c.id),F=await g.get(z);if(!F.exists())throw new Error("Usuario no encontrado");const q=W(_,"users",a.providerId),de=await g.get(q);if(!de.exists())throw new Error("Proveedor no encontrado");const ue=W(_,"providerBalances",a.providerId),E=await g.get(ue);let M=0;E.exists()?M=parseFloat(E.data().balance)||0:g.set(ue,{balance:0,provider:a.providerId,updatedAt:Me()});let $=a.providerPhone||"";$||($=de.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-a.price;if(b<0)throw new Error("Saldo insuficiente");const I=F.data().orders||[],J={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,status:"pending",customerName:k.customerName,customerId:c.id,phoneNumber:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"buscapersonas"};g.update(z,{balance:b,orders:[...I,J]});const me=(Number(de.data().balance)||0)+a.price,ye=de.data().sales||[],ge={saleId:W(se(_,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:$,customerId:c.id,customerName:k.customerName,customerPhone:k.phoneNumber,buyerName:c.name,buyerId:c.id,buyerPhone:c.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};g.update(q,{balance:me,sales:[...ye,ge]});const ce=M+a.price;g.set(ue,{balance:ce,provider:a.providerId,updatedAt:Me()},{merge:!0});const _e=W(se(_,"sales"));g.set(_e,{...J,provider:a.provider,providerId:a.providerId,providerPhone:$,saleDate:new Date().toISOString(),status:"pending",saleId:ge.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),v(g=>g-a.price),m(g=>({...g,orders:[...g.orders,{...k,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:D?.email||"No proporcionado",password:D?.password||"No proporcionado",profile:D?.profile||"No proporcionado",pin:D?.pin||"No proporcionado"}:null}]})),H(null),U({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){O(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{P(!1)}},he=a=>{Z({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},be=a=>{Z({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),oe(!0)},Ce=()=>{if(!c){K("/login");return}c?.role==="user"?K("/dashboard/user"):c?.role==="affiliate"?K("/dashboard/affiliate"):c?.role==="provider"?K("/dashboard/provider"):c?.role==="admin"&&K("/dashboard/admin")},We=a=>{a.preventDefault(),Q.trim()&&K(`/search?q=${encodeURIComponent(Q)}&category=Busca%20Personas`)},Re=s.filter(a=>a.name.toLowerCase().includes(Q.toLowerCase())),Ge=a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),Le=a=>{if(!a||typeof a!="string")return"30 días";const D=a.match(/(\d+)\s*(mes|meses)/i);if(D)return`${parseInt(D[1],10)*30} días`;const g=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(g)return`${parseInt(g[1],10)} días`;const z=a.match(/(\d+)/);return z?`${parseInt(z[1],10)} días`:"30 días"};return T?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} text-gray-200`,children:[e.jsx(Et,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):A?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} p-4`,children:[e.jsx(ut,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:A}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg",children:"Reintentar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/"),className:"px-6 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-full hover:from-red-600 hover:to-red-800 transition-all shadow-lg mt-4",children:"Volver al Inicio"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${i==="dark"?"bg-gradient-to-b from-black via-gray-900 to-black":"bg-gradient-to-b from-gray-100 via-gray-200 to-gray-100"} flex flex-col`,children:[e.jsx("header",{className:`sticky top-0 z-50 backdrop-blur-md border-b ${i==="dark"?"border-gray-800/50 bg-black/80":"border-gray-300/50 bg-gray-100/80"}`,children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!r),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(ur,{size:24})}),e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:qt,alt:"SZ Streaming",className:"h-10 w-auto transition-transform"}),e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"} hidden sm:block`,children:"SZ Streaming"})]})]}),e.jsx("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:e.jsxs("form",{onSubmit:We,className:"w-full relative",children:[e.jsx(vt,{className:`absolute top-3 left-3 ${i==="dark"?"text-gray-400":"text-gray-600"}`,size:20}),e.jsx("input",{type:"text",placeholder:"Buscar en Busca Personas...",className:`w-full pl-10 pr-4 py-2.5 rounded-full bg-transparent ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} border focus:ring-2 focus:ring-red-500/50 focus:border-red-500 shadow-md backdrop-blur-sm transition-all ${i==="dark"?"placeholder-gray-400":"placeholder-gray-600"} focus:placeholder-opacity-100`,value:Q,onChange:a=>ae(a.target.value)})]})}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx(j.button,{whileHover:{rotate:180},whileTap:{scale:.95},onClick:Fe,className:`p-2 rounded-full ${i==="dark"?"text-red-500 hover:bg-gray-700/50":"text-red-600 hover:bg-gray-200/50"} transition-all`,"aria-label":"Cambiar tema",children:i==="dark"?e.jsx(lr,{size:22}):e.jsx(or,{size:22})}),c?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:`text-sm font-medium hidden sm:flex items-center ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(nt,{className:"mr-2 text-red-500"})," ",c.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium ${i==="dark"?"text-gray-200 bg-red-500/20":"text-gray-900 bg-red-500/20"} px-3 py-1 rounded-full`,children:["S/ ",p.toFixed(2)]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ce,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-all",title:"Dashboard",children:e.jsx(nt,{className:"text-red-500",size:20})}),e.jsxs(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ot.signOut(),K("/")},className:`flex items-center space-x-1 px-3 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:[e.jsx(Zt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/login"),className:`px-4 py-2 text-sm ${i==="dark"?"text-gray-200 hover:text-red-500":"text-gray-900 hover:text-red-600"} transition-all`,children:"Ingresar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K("/register"),className:`px-4 py-2 rounded-full text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all`,children:"Registrarse"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 backdrop-blur-md ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} text-white shadow-2xl transform ${r?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:`text-xl font-semibold ${i==="dark"?"text-red-500":"text-red-600"}`,children:"SZ Streaming"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!1),className:`text-red-500 hover:bg-gray-700/50 p-2 rounded-full transition-all ${i==="light"?"hover:bg-gray-200/50":""}`,children:e.jsx(Ot,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(S,{to:"/netflix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.netflix})]}),e.jsxs(S,{to:"/spotify",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.spotify})]}),e.jsxs(S,{to:"/disney",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.disney})]}),e.jsxs(S,{to:"/max",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.max})]}),e.jsxs(S,{to:"/primevideo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.primevideo})]}),e.jsxs(S,{to:"/vix",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vix})]}),e.jsxs(S,{to:"/crunchyroll",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.crunchyroll})]}),e.jsxs(S,{to:"/canva",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.canva})]}),e.jsxs(S,{to:"/chatgpt",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fr,{className:"text-red-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.chatgpt})]}),e.jsxs(S,{to:"/redessociales",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.redessociales})]}),e.jsxs(S,{to:"/dgo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.dgo})]}),e.jsxs(S,{to:"/ligamax",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ct,{className:"text-red-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.ligamax})]}),e.jsxs(S,{to:"/movistarplay",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.movistarplay})]}),e.jsxs(S,{to:"/youtube",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.youtube})]}),e.jsxs(S,{to:"/deezer",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.deezer})]}),e.jsxs(S,{to:"/tidal",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.tidal})]}),e.jsxs(S,{to:"/vpn",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(It,{className:"text-red-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vpn})]}),e.jsxs(S,{to:"/wintv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.wintv})]}),e.jsxs(S,{to:"/applemusic",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ze,{className:"text-red-500"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.applemusic})]}),e.jsxs(S,{to:"/appletv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.appletv})]}),e.jsxs(S,{to:"/iptv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.iptv})]}),e.jsxs(S,{to:"/flujotv",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fe,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.flujotv})]}),e.jsxs(S,{to:"/vikirakuten",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.vikirakuten})]}),e.jsxs(S,{to:"/pornhub",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(st,{className:"text-red-500"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.pornhub})]}),e.jsxs(S,{to:"/paramount",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"text-red-500"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.paramount})]}),e.jsxs(S,{to:"/licencias",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"text-red-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.licencias})]}),e.jsxs(S,{to:"/capcut",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pt,{className:"text-red-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.capcut})]}),e.jsxs(S,{to:"/duolingo",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"text-gray-300 hover:bg-red-500/20":"text-gray-600 hover:bg-red-600/20"} transition-all`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"text-red-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.duolingo})]}),e.jsxs(S,{to:"/buscapersonas",className:`flex items-center justify-between px-4 py-3 rounded-xl ${i==="dark"?"bg-red-500/30 border-red-500/30":"bg-red-600/30 border-red-600/30"} text-white`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(vt,{className:"text-red-500"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-red-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:h.buscapersonas})]})]}),c&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-xl ${i==="dark"?"bg-red-500/20":"bg-red-600/20"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${i==="dark"?"bg-red-500/30":"bg-red-600/30"} flex items-center justify-center text-white font-bold text-lg`,children:c.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:c.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/ ",p.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e756b6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(j.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Busca Personas"}),e.jsx(j.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${i==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Encuentra servicios para buscar personas de manera rápida y confiable"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Servicios de Búsqueda Disponibles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!0),className:`text-sm sm:text-base ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Re.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:Re.map(a=>e.jsxs(j.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(j.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),Ge(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${i==="dark"?"text-red-500 bg-red-500/20":"text-red-600 bg-red-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx(dr,{className:"text-red-500",size:14}),Le(a.duration)]})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-1",children:a.name}),e.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.accountDetails}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Proveedor:"}),e.jsx("span",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:a.provider})]}),le[a.providerId]&&e.jsx("div",{className:"flex items-center",children:Ne(le[a.providerId])})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("span",{className:"text-lg font-bold text-white",children:["S/ ",je(a.price)]}),a.renewal&&e.jsxs("span",{className:`text-xs ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:["Renovación: S/ ",je(a.renewalPrice)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(a),className:`flex-1 py-2 px-4 rounded-xl text-sm font-medium ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 shadow-inner`,children:"Detalles"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ae(a),className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:a.stock<=0&&!a.acceptsOrders,children:a.stock<=0&&!a.acceptsOrders?"Agotado":"Comprar"})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>be(a),className:`mt-3 text-sm ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"} transition-all underline underline-offset-4`,children:"Términos y Condiciones"})]})]},a.id))})]})]})]}),k&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(Ht,{className:"mr-2 text-red-500"})," Confirmar Compra"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-white font-semibold",children:k.product.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Precio:"})," S/ ",je(k.product.price)]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",k.product.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Duración:"})," ",Le(k.product.duration)]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Nombre"}),e.jsx("input",{type:"text",value:k.customerName,onChange:a=>H({...k,customerName:a.target.value}),className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-sm font-medium mb-1 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:"Número de WhatsApp"}),e.jsx("input",{type:"text",value:k.phoneNumber,onChange:a=>H({...k,phoneNumber:a.target.value}),placeholder:"Ej: 987654321",className:`w-full p-2 rounded-xl bg-transparent border ${i==="dark"?"text-white border-gray-600/50":"text-gray-900 border-gray-400/50"} focus:ring-2 focus:ring-red-500/50 focus:border-red-500 transition-all`})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"h-4 w-4 text-red-500 focus:ring-red-500/50 border-gray-600/50 rounded"}),e.jsxs("label",{htmlFor:"termsCheck",className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:["Acepto los"," ",e.jsx("span",{onClick:()=>be(k.product),className:`cursor-pointer underline ${i==="dark"?"text-red-500 hover:text-red-400":"text-red-600 hover:text-red-500"}`,children:"términos y condiciones"})]})]}),A&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:A})]}),e.jsxs("div",{className:"mt-6 flex gap-3",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(null),className:`flex-1 py-2 px-4 rounded-xl ${i==="dark"?"bg-gray-800/60 hover:bg-gray-700/60 text-gray-300":"bg-gray-200/60 hover:bg-gray-300/60 text-gray-600"} transition-all border border-red-500/40 text-sm font-medium shadow-inner`,children:"Cancelar"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ie,className:`flex-1 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,disabled:T,children:T?e.jsx(Et,{className:"animate-spin mx-auto",size:20}):"Confirmar"})]})]})}),V&&!ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(cr,{className:"mr-2 text-red-500"})," Detalles del Producto"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Tipo de Cuenta:"})," ",V.accountType]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Detalles:"})," ",V.accountDetails]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Z(null),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),V&&ne&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos y Condiciones"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-white font-semibold",children:V.name}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",V.provider]}),e.jsxs("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("span",{className:"font-medium",children:"Términos:"})," ",V.terms]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{oe(!1),Z(null)},className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),pe&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-lg border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(tt,{className:"mr-2 text-red-500"})," Términos Generales"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("p",{className:i==="dark"?"text-gray-300":"text-gray-600",children:"Al realizar una compra en SZ Streaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`list-disc pl-5 space-y-2 ${i==="dark"?"text-gray-300":"text-gray-600"}`,children:[e.jsx("li",{children:"Las cuentas son para uso personal y no deben compartirse con terceros."}),e.jsx("li",{children:"Los detalles de la cuenta serán proporcionados por el proveedor tras la confirmación de la compra."}),e.jsx("li",{children:"Las renovaciones automáticas, si están disponibles, se procesarán al precio indicado."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregados los detalles de la cuenta, salvo en casos de incumplimiento por parte del proveedor."}),e.jsx("li",{children:"SZ Streaming no se responsabiliza por interrupciones del servicio causadas por el proveedor de streaming."}),e.jsx("li",{children:"El uso de las cuentas debe cumplir con las políticas del servicio de streaming correspondiente."})]})]}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>X(!1),className:`w-full mt-6 py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Cerrar"})]})}),ie&&e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",children:e.jsxs(j.div,{initial:{scale:.95},animate:{scale:1},className:`rounded-2xl shadow-2xl p-6 sm:p-8 w-full max-w-md border-2 ${i==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-red-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-red-500/20"}`,children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx(ut,{className:"mr-2 text-red-500"})," Notificación"]}),e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-300":"text-gray-600"} mb-6`,children:ie.message}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ie.onClose&&ie.onClose(),U(null)},className:`w-full py-2 px-4 rounded-xl font-semibold text-sm text-white bg-gradient-to-r ${i==="dark"?"from-red-500 to-red-700 hover:from-red-600 hover:to-red-800":"from-red-600 to-red-800 hover:from-red-700 hover:to-red-900"} transition-all shadow-lg`,children:"Aceptar"})]})}),e.jsx("footer",{className:`p-4 sm:p-6 border-t ${i==="dark"?"bg-black/80 border-gray-800/50":"bg-gray-100/80 border-gray-300/50"} backdrop-blur-md mt-8`,children:e.jsxs("div",{className:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:[e.jsx("p",{className:`text-sm ${i==="dark"?"text-gray-400":"text-gray-600"}`,children:"© 2025 SZ Streaming. Todos los derechos reservados."}),e.jsx("div",{className:"flex space-x-4 mt-4 sm:mt-0"})]})})]})};function ez(){return e.jsx(XV,{children:e.jsx(JV,{})})}N.memo(()=>{const[r,t]=N.useState(null),[s,n]=N.useState(0),[o,u]=N.useState(!0),[c,m]=N.useState(null),[p,v]=N.useState(!1),[T,P]=N.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0}),[A,O]=N.useState(""),k=Qt();N.useEffect(()=>{const Z=tr(ot,async ne=>{if(ne)try{const oe=await gt(W(_,"users",ne.uid));if(oe.exists()){const pe=oe.data();t({id:ne.uid,name:pe.username||"Usuario",email:ne.email,orders:pe.orders||[],role:pe.role||"user"}),n(Number(pe.balance)||0)}else m("Usuario no encontrado"),console.error("Usuario no encontrado en la base de datos")}catch(oe){m("Error al cargar datos"),console.error(oe)}else t(null),n(0);u(!1)});return()=>Z()},[]),N.useEffect(()=>{const ne=[{name:"Netflix",key:"netflix"},{name:"Spotify",key:"spotify"},{name:"Disney",key:"disney"},{name:"Max",key:"max"},{name:"Prime Video",key:"primevideo"},{name:"Vix",key:"vix"},{name:"Crunchyroll",key:"crunchyroll"},{name:"Canva",key:"canva"},{name:"ChatGPT",key:"chatgpt"},{name:"Redes Sociales",key:"redessociales"}].map(({name:oe,key:pe})=>{const X=ke(se(_,"products"),De("category","==",oe));return $e(X,ie=>{P(U=>({...U,[pe]:ie.docs.length}))},ie=>console.error(`Error loading ${oe}:`,ie))});return()=>ne.forEach(oe=>oe())},[]);const H=()=>{if(!r)return k("/login");k({user:"/dashboard/user",affiliate:"/dashboard/affiliate",provider:"/dashboard/provider",admin:"/dashboard/admin"}[r.role]||"/dashboard/user")},V=Z=>{Z.preventDefault(),A.trim()&&k(`/search?q=${encodeURIComponent(A)}`)};return o?e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:[e.jsx(sp,{className:"animate-spin text-4xl text-cyan-500"}),e.jsx("span",{className:"ml-2 text-white",children:"Cargando..."})]}):c?e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-900 p-4",children:[e.jsx(sp,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-400 mb-6",children:c}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600",children:"Reintentar"})]}):e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-800/80 backdrop-blur-sm",children:e.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(S,{to:"/",className:"flex items-center gap-2",children:[e.jsx("img",{src:qt,alt:"BlackStreaming",className:"h-8"}),e.jsx("span",{className:"text-lg font-bold text-cyan-500 hidden sm:block",children:"BlackStreaming"})]})}),e.jsx("form",{onSubmit:V,className:"flex-1 max-w-md mx-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar productos...",className:"w-full py-2 px-4 rounded-lg bg-gray-700 text-white border border-gray-600 focus:ring-2 focus:ring-cyan-500 focus:border-transparent",value:A,onChange:Z=>O(Z.target.value)}),e.jsx("button",{type:"submit",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-cyan-500",children:e.jsx(vt,{size:20})})]})}),e.jsx("div",{className:"flex items-center gap-2",children:r?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"hidden sm:block text-sm text-gray-300",children:r.name}),e.jsxs("span",{className:"px-3 py-1 bg-gray-700 rounded-lg text-sm",children:["S/ ",s.toFixed(2)]}),e.jsx("button",{onClick:H,className:"p-2 hover:bg-gray-700 rounded-lg",title:"Dashboard",children:e.jsx(nt,{className:"text-cyan-500",size:20})}),e.jsxs("button",{onClick:()=>{ot.signOut(),k("/")},className:"flex items-center gap-1 px-3 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:[e.jsx(Zt,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>k("/login"),className:"px-3 py-2 text-sm hover:text-cyan-500",children:"Ingresar"}),e.jsx("button",{onClick:()=>k("/register"),className:"px-3 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 text-sm",children:"Registrarse"})]})})]})}),e.jsx("main",{className:"flex-1 p-6 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-lg text-center",children:[e.jsx("div",{className:"p-4 bg-gray-800 rounded-full inline-flex mb-6",children:e.jsx(sp,{className:"text-4xl text-cyan-500"})}),e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"En Mantenimiento"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Estamos mejorando nuestra plataforma para ti."}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-300 mb-6",children:[e.jsx(dr,{className:"text-yellow-500"}),e.jsx("span",{children:"Volveremos pronto."})]}),e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"¿Qué estamos haciendo?"}),e.jsxs("ul",{className:"text-left space-y-2 text-gray-300",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Corrección de errores en el sistema de pedidos"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Solución de fallos en el retiro de dinero"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Arreglo de errores al pasar del sistema al pedido"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Actualización del dashboard del proveedor"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Actualización del dashboard del usuario"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Refuerzo de la seguridad general del sitio"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Mejora en la visualización y diseño"]})]}),e.jsx("button",{onClick:()=>v(!0),className:"mt-4 text-cyan-500 hover:text-cyan-400 underline",children:"Términos Generales"})]})]})}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-800 rounded-lg max-w-lg w-full max-h-[80vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Términos y Condiciones"}),e.jsx("button",{onClick:()=>v(!1),className:"hover:text-gray-300",children:e.jsx(FiX,{size:24})})]}),e.jsx("div",{className:"space-y-4 text-gray-300",children:[{title:"Proceso de Compra",text:"El proveedor te contactará en 24 horas hábiles para los accesos."},{title:"Garantía",text:"7 días de garantía. El proveedor resolverá problemas o reembolsará."},{title:"Uso Responsable",text:"No nos responsabilizamos por suspensiones por mal uso."},{title:"Soporte",text:"Contacta al proveedor vía WhatsApp."},{title:"Renovaciones",text:"Solicita renovaciones manuales antes del fin del período."}].map(({title:Z,text:ne},oe)=>e.jsxs("div",{className:"p-4 bg-gray-700 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:Z}),e.jsx("p",{children:ne})]},oe))}),e.jsx("button",{onClick:()=>v(!1),className:"w-full mt-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-800 py-6",children:e.jsxs("div",{className:"container mx-auto px-4 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:qt,alt:"BlackStreaming",className:"h-6"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-500",children:"BlackStreaming"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Desarrollado por Saiph"})]})})]})});const tz=N.createContext(),rz=({children:r})=>{const t=pg(Od),[s,n]=N.useState(null),[o,u]=N.useState(!0);return N.useEffect(()=>{const c=tr(t,m=>{n(m),u(!1)});return()=>c()},[]),e.jsx(tz.Provider,{value:{user:s,loading:o},children:!o&&r})},sz=()=>e.jsx(mS,{children:e.jsxs(e.Fragment,{children:[e.jsx(Yt,{path:"/",element:e.jsx(kL,{})}),e.jsx(Yt,{path:"/login",element:e.jsx(PL,{})}),e.jsx(Yt,{path:"/register",element:e.jsx(_L,{})}),e.jsx(Yt,{path:"/dashboard/user",element:e.jsx(qL,{})}),e.jsx(Yt,{path:"/dashboard/affiliate",element:e.jsx(KL,{})}),e.jsx(Yt,{path:"/dashboard/provider",element:e.jsx(i7,{})}),e.jsx(Yt,{path:"/dashboard/admin",element:e.jsx(j7,{})}),e.jsx(Yt,{path:"/netflix",element:e.jsx(k7,{})}),e.jsx(Yt,{path:"/disney",element:e.jsx(I7,{})}),e.jsx(Yt,{path:"/max",element:e.jsx(E7,{})}),e.jsx(Yt,{path:"/spotify",element:e.jsx(_7,{})}),e.jsx(Yt,{path:"/primevideo",element:e.jsx(M7,{})}),e.jsx(Yt,{path:"/vix",element:e.jsx(V7,{})}),e.jsx(Yt,{path:"/canva",element:e.jsx(U7,{})}),e.jsx(Yt,{path:"/chatgpt",element:e.jsx(W7,{})}),e.jsx(Yt,{path:"/crunchyroll",element:e.jsx(Q7,{})}),e.jsx(Yt,{path:"/redessociales",element:e.jsx(Y7,{})}),e.jsx(Yt,{path:"/applemusic",element:e.jsx(eV,{})}),e.jsx(Yt,{path:"/appletv",element:e.jsx(sV,{})}),e.jsx(Yt,{path:"/iptv",element:e.jsx(iV,{})}),e.jsx(Yt,{path:"/flujotv",element:e.jsx(cV,{})}),e.jsx(Yt,{path:"/vikirakuten",element:e.jsx(xV,{})}),e.jsx(Yt,{path:"/pornhub",element:e.jsx(pV,{})}),e.jsx(Yt,{path:"/paramount",element:e.jsx(yV,{})}),e.jsx(Yt,{path:"/licencias",element:e.jsx(jV,{})}),e.jsx(Yt,{path:"/capcut",element:e.jsx(kV,{})}),e.jsx(Yt,{path:"/duolingo",element:e.jsx(IV,{})}),e.jsx(Yt,{path:"/dgo",element:e.jsx(EV,{})}),e.jsx(Yt,{path:"/ligamax",element:e.jsx(_V,{})}),e.jsx(Yt,{path:"/movistarplay",element:e.jsx(MV,{})}),e.jsx(Yt,{path:"/youtube",element:e.jsx(VV,{})}),e.jsx(Yt,{path:"/deezer",element:e.jsx(UV,{})}),e.jsx(Yt,{path:"/tidal",element:e.jsx(WV,{})}),e.jsx(Yt,{path:"/vpn",element:e.jsx(QV,{})}),e.jsx(Yt,{path:"/wintv",element:e.jsx(YV,{})}),e.jsx(Yt,{path:"/buscapersonas",element:e.jsx(ez,{})})]})});N4.createRoot(document.getElementById("root")).render(e.jsx(gi.StrictMode,{children:e.jsx(MS,{children:e.jsx(rz,{children:e.jsx(sz,{})})})}));
